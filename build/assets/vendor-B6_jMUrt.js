var _E=Object.defineProperty;var kA=_e=>{throw TypeError(_e)};var wE=(_e,$,ht)=>$ in _e?_E(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):_e[$]=ht;var Tr=(_e,$,ht)=>wE(_e,typeof $!="symbol"?$+"":$,ht),k_=(_e,$,ht)=>$.has(_e)||kA("Cannot "+ht);var Ct=(_e,$,ht)=>(k_(_e,$,"read from private field"),ht?ht.call(_e):$.get(_e)),Xt=(_e,$,ht)=>$.has(_e)?kA("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(_e):$.set(_e,ht),Gt=(_e,$,ht,vt)=>(k_(_e,$,"write to private field"),vt?vt.call(_e,ht):$.set(_e,ht),ht),zt=(_e,$,ht)=>(k_(_e,$,"access private method"),ht);var ro=(_e,$,ht,vt)=>({set _(bt){Gt(_e,$,bt,ht)},get _(){return Ct(_e,$,vt)}});function _mergeNamespaces(_e,$){for(var ht=0;ht<$.length;ht++){const vt=$[ht];if(typeof vt!="string"&&!Array.isArray(vt)){for(const bt in vt)if(bt!=="default"&&!(bt in _e)){const _t=Object.getOwnPropertyDescriptor(vt,bt);_t&&Object.defineProperty(_e,bt,_t.get?_t:{enumerable:!0,get:()=>vt[bt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var $=_e.default;if(typeof $=="function"){var ht=function vt(){return this instanceof vt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};ht.prototype=$.prototype}else ht={};return Object.defineProperty(ht,"__esModule",{value:!0}),Object.keys(_e).forEach(function(vt){var bt=Object.getOwnPropertyDescriptor(_e,vt);Object.defineProperty(ht,vt,bt.get?bt:{enumerable:!0,get:function(){return _e[vt]}})}),ht}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$9=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$6=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(_e,$,ht){this.props=_e,this.context=$,this.refs=D$5,this.updater=ht||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,$){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,$,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(_e,$,ht){this.props=_e,this.context=$,this.refs=D$5,this.updater=ht||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_e,$,ht){var vt,bt={},_t=null,wt=null;if($!=null)for(vt in $.ref!==void 0&&(wt=$.ref),$.key!==void 0&&(_t=""+$.key),$)J$2.call($,vt)&&!L$2.hasOwnProperty(vt)&&(bt[vt]=$[vt]);var At=arguments.length-2;if(At===1)bt.children=ht;else if(1<At){for(var St=Array(At),Et=0;Et<At;Et++)St[Et]=arguments[Et+2];bt.children=St}if(_e&&_e.defaultProps)for(vt in At=_e.defaultProps,At)bt[vt]===void 0&&(bt[vt]=At[vt]);return{$$typeof:l$4,type:_e,key:_t,ref:wt,props:bt,_owner:K$1.current}}function N$4(_e,$){return{$$typeof:l$4,type:_e.type,key:$,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$4}function escape$1(_e){var $={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(ht){return $[ht]})}var P$5=/\/+/g;function Q$1(_e,$){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):$.toString(36)}function R$2(_e,$,ht,vt,bt){var _t=typeof _e;(_t==="undefined"||_t==="boolean")&&(_e=null);var wt=!1;if(_e===null)wt=!0;else switch(_t){case"string":case"number":wt=!0;break;case"object":switch(_e.$$typeof){case l$4:case n$6:wt=!0}}if(wt)return wt=_e,bt=bt(wt),_e=vt===""?"."+Q$1(wt,0):vt,I$5(bt)?(ht="",_e!=null&&(ht=_e.replace(P$5,"$&/")+"/"),R$2(bt,$,ht,"",function(Et){return Et})):bt!=null&&(O$3(bt)&&(bt=N$4(bt,ht+(!bt.key||wt&&wt.key===bt.key?"":(""+bt.key).replace(P$5,"$&/")+"/")+_e)),$.push(bt)),1;if(wt=0,vt=vt===""?".":vt+":",I$5(_e))for(var At=0;At<_e.length;At++){_t=_e[At];var St=vt+Q$1(_t,At);wt+=R$2(_t,$,ht,St,bt)}else if(St=A$4(_e),typeof St=="function")for(_e=St.call(_e),At=0;!(_t=_e.next()).done;)_t=_t.value,St=vt+Q$1(_t,At++),wt+=R$2(_t,$,ht,St,bt);else if(_t==="object")throw $=String(_e),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return wt}function S$5(_e,$,ht){if(_e==null)return _e;var vt=[],bt=0;return R$2(_e,vt,"","",function(_t){return $.call(ht,_t,bt++)}),vt}function T$4(_e){if(_e._status===-1){var $=_e._result;$=$(),$.then(function(ht){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=ht)},function(ht){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=ht)}),_e._status===-1&&(_e._status=0,_e._result=$)}if(_e._status===1)return _e._result.default;throw _e._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(_e,$,ht){S$5(_e,function(){$.apply(this,arguments)},ht)},count:function(_e){var $=0;return S$5(_e,function(){$++}),$},toArray:function(_e){return S$5(_e,function($){return $})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$7;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$2;react_production_min.cloneElement=function(_e,$,ht){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var vt=C$2({},_e.props),bt=_e.key,_t=_e.ref,wt=_e._owner;if($!=null){if($.ref!==void 0&&(_t=$.ref,wt=K$1.current),$.key!==void 0&&(bt=""+$.key),_e.type&&_e.type.defaultProps)var At=_e.type.defaultProps;for(St in $)J$2.call($,St)&&!L$2.hasOwnProperty(St)&&(vt[St]=$[St]===void 0&&At!==void 0?At[St]:$[St])}var St=arguments.length-2;if(St===1)vt.children=ht;else if(1<St){At=Array(St);for(var Et=0;Et<St;Et++)At[Et]=arguments[Et+2];vt.children=At}return{$$typeof:l$4,type:_e.type,key:bt,ref:_t,props:vt,_owner:wt}};react_production_min.createContext=function(_e){return _e={$$typeof:u$9,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$6,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$4;react_production_min.createFactory=function(_e){var $=M$4.bind(null,_e);return $.type=_e,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$3,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$6,_payload:{_status:-1,_result:_e},_init:T$4}};react_production_min.memo=function(_e,$){return{$$typeof:x$2,type:_e,compare:$===void 0?null:$}};react_production_min.startTransition=function(_e){var $=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=$}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(_e,$){return U$3.current.useCallback(_e,$)};react_production_min.useContext=function(_e){return U$3.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$3.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,$){return U$3.current.useEffect(_e,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(_e,$,ht){return U$3.current.useImperativeHandle(_e,$,ht)};react_production_min.useInsertionEffect=function(_e,$){return U$3.current.useInsertionEffect(_e,$)};react_production_min.useLayoutEffect=function(_e,$){return U$3.current.useLayoutEffect(_e,$)};react_production_min.useMemo=function(_e,$){return U$3.current.useMemo(_e,$)};react_production_min.useReducer=function(_e,$,ht){return U$3.current.useReducer(_e,$,ht)};react_production_min.useRef=function(_e){return U$3.current.useRef(_e)};react_production_min.useState=function(_e){return U$3.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,$,ht){return U$3.current.useSyncExternalStore(_e,$,ht)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$5=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$7=reactExports,k$2=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$5=f$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$2(_e,$,ht){var vt,bt={},_t=null,wt=null;ht!==void 0&&(_t=""+ht),$.key!==void 0&&(_t=""+$.key),$.ref!==void 0&&(wt=$.ref);for(vt in $)m$6.call($,vt)&&!p$6.hasOwnProperty(vt)&&(bt[vt]=$[vt]);if(_e&&_e.defaultProps)for(vt in $=_e.defaultProps,$)bt[vt]===void 0&&(bt[vt]=$[vt]);return{$$typeof:k$2,type:_e,key:_t,ref:wt,props:bt,_owner:n$5.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function $(un,en){var fn=un.length;un.push(en);e:for(;0<fn;){var En=fn-1>>>1,rn=un[En];if(0<bt(rn,en))un[En]=en,un[fn]=rn,fn=En;else break e}}function ht(un){return un.length===0?null:un[0]}function vt(un){if(un.length===0)return null;var en=un[0],fn=un.pop();if(fn!==en){un[0]=fn;e:for(var En=0,rn=un.length,qt=rn>>>1;En<qt;){var Yt=2*(En+1)-1,an=un[Yt],yn=Yt+1,mn=un[yn];if(0>bt(an,fn))yn<rn&&0>bt(mn,an)?(un[En]=mn,un[yn]=fn,En=yn):(un[En]=an,un[Yt]=fn,En=Yt);else if(yn<rn&&0>bt(mn,fn))un[En]=mn,un[yn]=fn,En=yn;else break e}}return en}function bt(un,en){var fn=un.sortIndex-en.sortIndex;return fn!==0?fn:un.id-en.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _t=performance;_e.unstable_now=function(){return _t.now()}}else{var wt=Date,At=wt.now();_e.unstable_now=function(){return wt.now()-At}}var St=[],Et=[],xt=1,Pt=null,$t=3,kt=!1,Rt=!1,Mt=!1,Dt=typeof setTimeout=="function"?setTimeout:null,Ot=typeof clearTimeout=="function"?clearTimeout:null,Lt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Nt(un){for(var en=ht(Et);en!==null;){if(en.callback===null)vt(Et);else if(en.startTime<=un)vt(Et),en.sortIndex=en.expirationTime,$(St,en);else break;en=ht(Et)}}function Ht(un){if(Mt=!1,Nt(un),!Rt)if(ht(St)!==null)Rt=!0,hn(Ft);else{var en=ht(Et);en!==null&&sn(Ht,en.startTime-un)}}function Ft(un,en){Rt=!1,Mt&&(Mt=!1,Ot(Vt),Vt=-1),kt=!0;var fn=$t;try{for(Nt(en),Pt=ht(St);Pt!==null&&(!(Pt.expirationTime>en)||un&&!Wt());){var En=Pt.callback;if(typeof En=="function"){Pt.callback=null,$t=Pt.priorityLevel;var rn=En(Pt.expirationTime<=en);en=_e.unstable_now(),typeof rn=="function"?Pt.callback=rn:Pt===ht(St)&&vt(St),Nt(en)}else vt(St);Pt=ht(St)}if(Pt!==null)var qt=!0;else{var Yt=ht(Et);Yt!==null&&sn(Ht,Yt.startTime-en),qt=!1}return qt}finally{Pt=null,$t=fn,kt=!1}}var jt=!1,Bt=null,Vt=-1,Ut=5,Jt=-1;function Wt(){return!(_e.unstable_now()-Jt<Ut)}function Qt(){if(Bt!==null){var un=_e.unstable_now();Jt=un;var en=!0;try{en=Bt(!0,un)}finally{en?tn():(jt=!1,Bt=null)}}else jt=!1}var tn;if(typeof Lt=="function")tn=function(){Lt(Qt)};else if(typeof MessageChannel<"u"){var pn=new MessageChannel,nn=pn.port2;pn.port1.onmessage=Qt,tn=function(){nn.postMessage(null)}}else tn=function(){Dt(Qt,0)};function hn(un){Bt=un,jt||(jt=!0,tn())}function sn(un,en){Vt=Dt(function(){un(_e.unstable_now())},en)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(un){un.callback=null},_e.unstable_continueExecution=function(){Rt||kt||(Rt=!0,hn(Ft))},_e.unstable_forceFrameRate=function(un){0>un||125<un?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ut=0<un?Math.floor(1e3/un):5},_e.unstable_getCurrentPriorityLevel=function(){return $t},_e.unstable_getFirstCallbackNode=function(){return ht(St)},_e.unstable_next=function(un){switch($t){case 1:case 2:case 3:var en=3;break;default:en=$t}var fn=$t;$t=en;try{return un()}finally{$t=fn}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(un,en){switch(un){case 1:case 2:case 3:case 4:case 5:break;default:un=3}var fn=$t;$t=un;try{return en()}finally{$t=fn}},_e.unstable_scheduleCallback=function(un,en,fn){var En=_e.unstable_now();switch(typeof fn=="object"&&fn!==null?(fn=fn.delay,fn=typeof fn=="number"&&0<fn?En+fn:En):fn=En,un){case 1:var rn=-1;break;case 2:rn=250;break;case 5:rn=1073741823;break;case 4:rn=1e4;break;default:rn=5e3}return rn=fn+rn,un={id:xt++,callback:en,priorityLevel:un,startTime:fn,expirationTime:rn,sortIndex:-1},fn>En?(un.sortIndex=fn,$(Et,un),ht(St)===null&&un===ht(Et)&&(Mt?(Ot(Vt),Vt=-1):Mt=!0,sn(Ht,fn-En))):(un.sortIndex=rn,$(St,un),Rt||kt||(Rt=!0,hn(Ft))),un},_e.unstable_shouldYield=Wt,_e.unstable_wrapCallback=function(un){var en=$t;return function(){var fn=$t;$t=en;try{return un.apply(this,arguments)}finally{$t=fn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$5(_e){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+_e,ht=1;ht<arguments.length;ht++)$+="&args[]="+encodeURIComponent(arguments[ht]);return"Minified React error #"+_e+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,$){ha(_e,$),ha(_e+"Capture",$)}function ha(_e,$){for(ea[_e]=$,_e=0;_e<$.length;_e++)da.add($[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka$1.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,$,ht,vt){if(ht!==null&&ht.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return vt?!1:ht!==null?!ht.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,$,ht,vt){if($===null||typeof $>"u"||pa(_e,$,ht,vt))return!0;if(vt)return!1;if(ht!==null)switch(ht.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$2(_e,$,ht,vt,bt,_t,wt){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=vt,this.attributeNamespace=bt,this.mustUseProperty=ht,this.propertyName=_e,this.type=$,this.sanitizeURL=_t,this.removeEmptyString=wt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$2(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var $=_e[0];z$1[$]=new v$2($,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$2(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$2(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$2(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$2(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$2(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$2(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$2(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$2($,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$2($,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$2($,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$2(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$2(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,$,ht,vt){var bt=z$1.hasOwnProperty($)?z$1[$]:null;(bt!==null?bt.type!==0:vt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,ht,bt,vt)&&(ht=null),vt||bt===null?oa($)&&(ht===null?_e.removeAttribute($):_e.setAttribute($,""+ht)):bt.mustUseProperty?_e[bt.propertyName]=ht===null?bt.type===3?!1:"":ht:($=bt.attributeName,vt=bt.attributeNamespace,ht===null?_e.removeAttribute($):(bt=bt.type,ht=bt===3||bt===4&&ht===!0?"":""+ht,vt?_e.setAttributeNS(vt,$,ht):_e.setAttribute($,ht))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(ht){var $=ht.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,$){if(!_e||Na)return"";Na=!0;var ht=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Et){var vt=Et}Reflect.construct(_e,[],$)}else{try{$.call()}catch(Et){vt=Et}_e.call($.prototype)}else{try{throw Error()}catch(Et){vt=Et}_e()}}catch(Et){if(Et&&vt&&typeof Et.stack=="string"){for(var bt=Et.stack.split(`
`),_t=vt.stack.split(`
`),wt=bt.length-1,At=_t.length-1;1<=wt&&0<=At&&bt[wt]!==_t[At];)At--;for(;1<=wt&&0<=At;wt--,At--)if(bt[wt]!==_t[At]){if(wt!==1||At!==1)do if(wt--,At--,0>At||bt[wt]!==_t[At]){var St=`
`+bt[wt].replace(" at new "," at ");return _e.displayName&&St.includes("<anonymous>")&&(St=St.replace("<anonymous>",_e.displayName)),St}while(1<=wt&&0<=At);break}}}finally{Na=!1,Error.prepareStackTrace=ht}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var $=_e.render;return _e=_e.displayName,_e||(_e=$.displayName||$.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return $=_e.displayName||null,$!==null?$:Qa(_e.type)||"Memo";case Ha:$=_e._payload,_e=_e._init;try{return Qa(_e($))}catch{}}return null}function Ra(_e){var $=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=$.render,_e=_e.displayName||_e.name||"",$.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var $=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(_e){var $=Ta(_e)?"checked":"value",ht=Object.getOwnPropertyDescriptor(_e.constructor.prototype,$),vt=""+_e[$];if(!_e.hasOwnProperty($)&&typeof ht<"u"&&typeof ht.get=="function"&&typeof ht.set=="function"){var bt=ht.get,_t=ht.set;return Object.defineProperty(_e,$,{configurable:!0,get:function(){return bt.call(this)},set:function(wt){vt=""+wt,_t.call(this,wt)}}),Object.defineProperty(_e,$,{enumerable:ht.enumerable}),{getValue:function(){return vt},setValue:function(wt){vt=""+wt},stopTracking:function(){_e._valueTracker=null,delete _e[$]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var $=_e._valueTracker;if(!$)return!0;var ht=$.getValue(),vt="";return _e&&(vt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=vt,_e!==ht?($.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,$){var ht=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ht??_e._wrapperState.initialChecked})}function Za(_e,$){var ht=$.defaultValue==null?"":$.defaultValue,vt=$.checked!=null?$.checked:$.defaultChecked;ht=Sa($.value!=null?$.value:ht),_e._wrapperState={initialChecked:vt,initialValue:ht,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(_e,$){$=$.checked,$!=null&&ta(_e,"checked",$,!1)}function bb(_e,$){ab(_e,$);var ht=Sa($.value),vt=$.type;if(ht!=null)vt==="number"?(ht===0&&_e.value===""||_e.value!=ht)&&(_e.value=""+ht):_e.value!==""+ht&&(_e.value=""+ht);else if(vt==="submit"||vt==="reset"){_e.removeAttribute("value");return}$.hasOwnProperty("value")?cb(_e,$.type,ht):$.hasOwnProperty("defaultValue")&&cb(_e,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(_e.defaultChecked=!!$.defaultChecked)}function db(_e,$,ht){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var vt=$.type;if(!(vt!=="submit"&&vt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+_e._wrapperState.initialValue,ht||$===_e.value||(_e.value=$),_e.defaultValue=$}ht=_e.name,ht!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,ht!==""&&(_e.name=ht)}function cb(_e,$,ht){($!=="number"||Xa(_e.ownerDocument)!==_e)&&(ht==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+ht&&(_e.defaultValue=""+ht))}var eb=Array.isArray;function fb(_e,$,ht,vt){if(_e=_e.options,$){$={};for(var bt=0;bt<ht.length;bt++)$["$"+ht[bt]]=!0;for(ht=0;ht<_e.length;ht++)bt=$.hasOwnProperty("$"+_e[ht].value),_e[ht].selected!==bt&&(_e[ht].selected=bt),bt&&vt&&(_e[ht].defaultSelected=!0)}else{for(ht=""+Sa(ht),$=null,bt=0;bt<_e.length;bt++){if(_e[bt].value===ht){_e[bt].selected=!0,vt&&(_e[bt].defaultSelected=!0);return}$!==null||_e[bt].disabled||($=_e[bt])}$!==null&&($.selected=!0)}}function gb(_e,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,$){var ht=$.value;if(ht==null){if(ht=$.children,$=$.defaultValue,ht!=null){if($!=null)throw Error(p$5(92));if(eb(ht)){if(1<ht.length)throw Error(p$5(93));ht=ht[0]}$=ht}$==null&&($=""),ht=$}_e._wrapperState={initialValue:Sa(ht)}}function ib(_e,$){var ht=Sa($.value),vt=Sa($.defaultValue);ht!=null&&(ht=""+ht,ht!==_e.value&&(_e.value=ht),$.defaultValue==null&&_e.defaultValue!==ht&&(_e.defaultValue=ht)),vt!=null&&(_e.defaultValue=""+vt)}function jb(_e){var $=_e.textContent;$===_e._wrapperState.initialValue&&$!==""&&$!==null&&(_e.value=$)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,$){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb($):_e==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,ht,vt,bt){MSApp.execUnsafeLocalFunction(function(){return _e($,ht,vt,bt)})}:_e}(function(_e,$){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;$.firstChild;)_e.appendChild($.firstChild)}});function ob(_e,$){if($){var ht=_e.firstChild;if(ht&&ht===_e.lastChild&&ht.nodeType===3){ht.nodeValue=$;return}}_e.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function($){$=$+_e.charAt(0).toUpperCase()+_e.substring(1),pb[$]=pb[_e]})});function rb(_e,$,ht){return $==null||typeof $=="boolean"||$===""?"":ht||typeof $!="number"||$===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+$).trim():$+"px"}function sb(_e,$){_e=_e.style;for(var ht in $)if($.hasOwnProperty(ht)){var vt=ht.indexOf("--")===0,bt=rb(ht,$[ht],vt);ht==="float"&&(ht="cssFloat"),vt?_e.setProperty(ht,bt):_e[ht]=bt}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,$){if($){if(tb[_e]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$5(137,_e));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$5(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$5(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$5(62))}}function vb(_e,$){if(_e.indexOf("-")===-1)return typeof $.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$5(280));var $=_e.stateNode;$&&($=Db($),yb(_e.stateNode,_e.type,$))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,$=Ab;if(Ab=zb=null,Bb(_e),$)for(_e=0;_e<$.length;_e++)Bb($[_e])}}function Gb(_e,$){return _e($)}function Hb(){}var Ib=!1;function Jb(_e,$,ht){if(Ib)return _e($,ht);Ib=!0;try{return Gb(_e,$,ht)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,$){var ht=_e.stateNode;if(ht===null)return null;var vt=Db(ht);if(vt===null)return null;ht=vt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(_e=_e.type,vt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!vt;break e;default:_e=!1}if(_e)return null;if(ht&&typeof ht!="function")throw Error(p$5(231,$,typeof ht));return ht}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,$,ht,vt,bt,_t,wt,At,St){var Et=Array.prototype.slice.call(arguments,3);try{$.apply(ht,Et)}catch(xt){this.onError(xt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,$,ht,vt,bt,_t,wt,At,St){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,$,ht,vt,bt,_t,wt,At,St){if(Tb.apply(this,arguments),Ob){if(Ob){var Et=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=Et)}}function Vb(_e){var $=_e,ht=_e;if(_e.alternate)for(;$.return;)$=$.return;else{_e=$;do $=_e,$.flags&4098&&(ht=$.return),_e=$.return;while(_e)}return $.tag===3?ht:null}function Wb(_e){if(_e.tag===13){var $=_e.memoizedState;if($===null&&(_e=_e.alternate,_e!==null&&($=_e.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$5(188))}function Yb(_e){var $=_e.alternate;if(!$){if($=Vb(_e),$===null)throw Error(p$5(188));return $!==_e?null:_e}for(var ht=_e,vt=$;;){var bt=ht.return;if(bt===null)break;var _t=bt.alternate;if(_t===null){if(vt=bt.return,vt!==null){ht=vt;continue}break}if(bt.child===_t.child){for(_t=bt.child;_t;){if(_t===ht)return Xb(bt),_e;if(_t===vt)return Xb(bt),$;_t=_t.sibling}throw Error(p$5(188))}if(ht.return!==vt.return)ht=bt,vt=_t;else{for(var wt=!1,At=bt.child;At;){if(At===ht){wt=!0,ht=bt,vt=_t;break}if(At===vt){wt=!0,vt=bt,ht=_t;break}At=At.sibling}if(!wt){for(At=_t.child;At;){if(At===ht){wt=!0,ht=_t,vt=bt;break}if(At===vt){wt=!0,vt=_t,ht=bt;break}At=At.sibling}if(!wt)throw Error(p$5(189))}}if(ht.alternate!==vt)throw Error(p$5(190))}if(ht.tag!==3)throw Error(p$5(188));return ht.stateNode.current===ht?_e:$}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var $=$b(_e);if($!==null)return $;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,$){var ht=_e.pendingLanes;if(ht===0)return 0;var vt=0,bt=_e.suspendedLanes,_t=_e.pingedLanes,wt=ht&268435455;if(wt!==0){var At=wt&~bt;At!==0?vt=tc(At):(_t&=wt,_t!==0&&(vt=tc(_t)))}else wt=ht&~bt,wt!==0?vt=tc(wt):_t!==0&&(vt=tc(_t));if(vt===0)return 0;if($!==0&&$!==vt&&!($&bt)&&(bt=vt&-vt,_t=$&-$,bt>=_t||bt===16&&(_t&4194240)!==0))return $;if(vt&4&&(vt|=ht&16),$=_e.entangledLanes,$!==0)for(_e=_e.entanglements,$&=vt;0<$;)ht=31-oc($),bt=1<<ht,vt|=_e[ht],$&=~bt;return vt}function vc(_e,$){switch(_e){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,$){for(var ht=_e.suspendedLanes,vt=_e.pingedLanes,bt=_e.expirationTimes,_t=_e.pendingLanes;0<_t;){var wt=31-oc(_t),At=1<<wt,St=bt[wt];St===-1?(!(At&ht)||At&vt)&&(bt[wt]=vc(At,$)):St<=$&&(_e.expiredLanes|=At),_t&=~At}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var $=[],ht=0;31>ht;ht++)$.push(_e);return $}function Ac(_e,$,ht){_e.pendingLanes|=$,$!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,$=31-oc($),_e[$]=ht}function Bc(_e,$){var ht=_e.pendingLanes&~$;_e.pendingLanes=$,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=$,_e.mutableReadLanes&=$,_e.entangledLanes&=$,$=_e.entanglements;var vt=_e.eventTimes;for(_e=_e.expirationTimes;0<ht;){var bt=31-oc(ht),_t=1<<bt;$[bt]=0,vt[bt]=-1,_e[bt]=-1,ht&=~_t}}function Cc(_e,$){var ht=_e.entangledLanes|=$;for(_e=_e.entanglements;ht;){var vt=31-oc(ht),bt=1<<vt;bt&$|_e[vt]&$&&(_e[vt]|=$),ht&=~bt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,$){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(_e,$,ht,vt,bt,_t){return _e===null||_e.nativeEvent!==_t?(_e={blockedOn:$,domEventName:ht,eventSystemFlags:vt,nativeEvent:_t,targetContainers:[bt]},$!==null&&($=Cb($),$!==null&&Fc($)),_e):(_e.eventSystemFlags|=vt,$=_e.targetContainers,bt!==null&&$.indexOf(bt)===-1&&$.push(bt),_e)}function Uc(_e,$,ht,vt,bt){switch($){case"focusin":return Lc=Tc(Lc,_e,$,ht,vt,bt),!0;case"dragenter":return Mc=Tc(Mc,_e,$,ht,vt,bt),!0;case"mouseover":return Nc=Tc(Nc,_e,$,ht,vt,bt),!0;case"pointerover":var _t=bt.pointerId;return Oc.set(_t,Tc(Oc.get(_t)||null,_e,$,ht,vt,bt)),!0;case"gotpointercapture":return _t=bt.pointerId,Pc.set(_t,Tc(Pc.get(_t)||null,_e,$,ht,vt,bt)),!0}return!1}function Vc(_e){var $=Wc(_e.target);if($!==null){var ht=Vb($);if(ht!==null){if($=ht.tag,$===13){if($=Wb(ht),$!==null){_e.blockedOn=$,Ic(_e.priority,function(){Gc(ht)});return}}else if($===3&&ht.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=ht.tag===3?ht.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var $=_e.targetContainers;0<$.length;){var ht=Yc(_e.domEventName,_e.eventSystemFlags,$[0],_e.nativeEvent);if(ht===null){ht=_e.nativeEvent;var vt=new ht.constructor(ht.type,ht);wb=vt,ht.target.dispatchEvent(vt),wb=null}else return $=Cb(ht),$!==null&&Fc($),_e.blockedOn=ht,!1;$.shift()}return!0}function Zc(_e,$,ht){Xc(_e)&&ht.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,$){_e.blockedOn===$&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function $(bt){return ad(bt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var ht=1;ht<Kc.length;ht++){var vt=Kc[ht];vt.blockedOn===_e&&(vt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach($),Pc.forEach($),ht=0;ht<Qc.length;ht++)vt=Qc[ht],vt.blockedOn===_e&&(vt.blockedOn=null);for(;0<Qc.length&&(ht=Qc[0],ht.blockedOn===null);)Vc(ht),ht.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,$,ht,vt){var bt=C$1,_t=cd.transition;cd.transition=null;try{C$1=1,fd(_e,$,ht,vt)}finally{C$1=bt,cd.transition=_t}}function gd(_e,$,ht,vt){var bt=C$1,_t=cd.transition;cd.transition=null;try{C$1=4,fd(_e,$,ht,vt)}finally{C$1=bt,cd.transition=_t}}function fd(_e,$,ht,vt){if(dd){var bt=Yc(_e,$,ht,vt);if(bt===null)hd(_e,$,vt,id$2,ht),Sc(_e,vt);else if(Uc(bt,_e,$,ht,vt))vt.stopPropagation();else if(Sc(_e,vt),$&4&&-1<Rc.indexOf(_e)){for(;bt!==null;){var _t=Cb(bt);if(_t!==null&&Ec(_t),_t=Yc(_e,$,ht,vt),_t===null&&hd(_e,$,vt,id$2,ht),_t===bt)break;bt=_t}bt!==null&&vt.stopPropagation()}else hd(_e,$,vt,null,ht)}}var id$2=null;function Yc(_e,$,ht,vt){if(id$2=null,_e=xb(vt),_e=Wc(_e),_e!==null)if($=Vb(_e),$===null)_e=null;else if(ht=$.tag,ht===13){if(_e=Wb($),_e!==null)return _e;_e=null}else if(ht===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;_e=null}else $!==_e&&(_e=null);return id$2=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,$=ld,ht=$.length,vt,bt="value"in kd?kd.value:kd.textContent,_t=bt.length;for(_e=0;_e<ht&&$[_e]===bt[_e];_e++);var wt=ht-_e;for(vt=1;vt<=wt&&$[ht-vt]===bt[_t-vt];vt++);return md=bt.slice(_e,1<vt?1-vt:void 0)}function od(_e){var $=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&$===13&&(_e=13)):_e=$,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function $(ht,vt,bt,_t,wt){this._reactName=ht,this._targetInst=bt,this.type=vt,this.nativeEvent=_t,this.target=wt,this.currentTarget=null;for(var At in _e)_e.hasOwnProperty(At)&&(ht=_e[At],this[At]=ht?ht(_t):_t[At]);return this.isDefaultPrevented=(_t.defaultPrevented!=null?_t.defaultPrevented:_t.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ht=this.nativeEvent;ht&&(ht.preventDefault?ht.preventDefault():typeof ht.returnValue!="unknown"&&(ht.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ht=this.nativeEvent;ht&&(ht.stopPropagation?ht.stopPropagation():typeof ht.cancelBubble!="unknown"&&(ht.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(_e):(_e=Od[_e])?!!$[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var $=Md[_e.key]||_e.key;if($!=="Unidentified")return $}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(_e,$){switch(_e){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,$){switch(_e){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return _e=$.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,$){if(ie)return _e==="compositionend"||!ae&&ge(_e,$)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $==="input"?!!le[_e.type]:$==="textarea"}function ne(_e,$,ht,vt){Eb(vt),$=oe($,"onChange"),0<$.length&&(ht=new td("onChange","change",null,ht,vt),_e.push({event:ht,listeners:$}))}var pe$1=null,qe$1=null;function re$2(_e){se(_e,0)}function te$1(_e){var $=ue(_e);if(Wa($))return _e}function ve$1(_e,$){if(_e==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,_e,xb(_e)),Jb(re$2,$)}}function Ce(_e,$,ht){_e==="focusin"?(Ae(),pe$1=$,qe$1=ht,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe$1)}function Ee(_e,$){if(_e==="click")return te$1($)}function Fe$1(_e,$){if(_e==="input"||_e==="change")return te$1($)}function Ge(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,$){if(He(_e,$))return!0;if(typeof _e!="object"||_e===null||typeof $!="object"||$===null)return!1;var ht=Object.keys(_e),vt=Object.keys($);if(ht.length!==vt.length)return!1;for(vt=0;vt<ht.length;vt++){var bt=ht[vt];if(!ja.call($,bt)||!He(_e[bt],$[bt]))return!1}return!0}function Je$1(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,$){var ht=Je$1(_e);_e=0;for(var vt;ht;){if(ht.nodeType===3){if(vt=_e+ht.textContent.length,_e<=$&&vt>=$)return{node:ht,offset:$-_e};_e=vt}e:{for(;ht;){if(ht.nextSibling){ht=ht.nextSibling;break e}ht=ht.parentNode}ht=void 0}ht=Je$1(ht)}}function Le(_e,$){return _e&&$?_e===$?!0:_e&&_e.nodeType===3?!1:$&&$.nodeType===3?Le(_e,$.parentNode):"contains"in _e?_e.contains($):_e.compareDocumentPosition?!!(_e.compareDocumentPosition($)&16):!1:!1}function Me(){for(var _e=window,$=Xa();$ instanceof _e.HTMLIFrameElement;){try{var ht=typeof $.contentWindow.location.href=="string"}catch{ht=!1}if(ht)_e=$.contentWindow;else break;$=Xa(_e.document)}return $}function Ne(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $&&($==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||$==="textarea"||_e.contentEditable==="true")}function Oe(_e){var $=Me(),ht=_e.focusedElem,vt=_e.selectionRange;if($!==ht&&ht&&ht.ownerDocument&&Le(ht.ownerDocument.documentElement,ht)){if(vt!==null&&Ne(ht)){if($=vt.start,_e=vt.end,_e===void 0&&(_e=$),"selectionStart"in ht)ht.selectionStart=$,ht.selectionEnd=Math.min(_e,ht.value.length);else if(_e=($=ht.ownerDocument||document)&&$.defaultView||window,_e.getSelection){_e=_e.getSelection();var bt=ht.textContent.length,_t=Math.min(vt.start,bt);vt=vt.end===void 0?_t:Math.min(vt.end,bt),!_e.extend&&_t>vt&&(bt=vt,vt=_t,_t=bt),bt=Ke(ht,_t);var wt=Ke(ht,vt);bt&&wt&&(_e.rangeCount!==1||_e.anchorNode!==bt.node||_e.anchorOffset!==bt.offset||_e.focusNode!==wt.node||_e.focusOffset!==wt.offset)&&($=$.createRange(),$.setStart(bt.node,bt.offset),_e.removeAllRanges(),_t>vt?(_e.addRange($),_e.extend(wt.node,wt.offset)):($.setEnd(wt.node,wt.offset),_e.addRange($)))}}for($=[],_e=ht;_e=_e.parentNode;)_e.nodeType===1&&$.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof ht.focus=="function"&&ht.focus(),ht=0;ht<$.length;ht++)_e=$[ht],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(_e,$,ht){var vt=ht.window===ht?ht.document:ht.nodeType===9?ht:ht.ownerDocument;Te||Qe==null||Qe!==Xa(vt)||(vt=Qe,"selectionStart"in vt&&Ne(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se&&Ie(Se,vt)||(Se=vt,vt=oe(Re$1,"onSelect"),0<vt.length&&($=new td("onSelect","select",null,$,ht),_e.push({event:$,listeners:vt}),$.target=Qe)))}function Ve$1(_e,$){var ht={};return ht[_e.toLowerCase()]=$.toLowerCase(),ht["Webkit"+_e]="webkit"+$,ht["Moz"+_e]="moz"+$,ht}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(_e){if(Xe$1[_e])return Xe$1[_e];if(!We[_e])return _e;var $=We[_e],ht;for(ht in $)if($.hasOwnProperty(ht)&&ht in Ye$1)return Xe$1[_e]=$[ht];return _e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,$){df.set(_e,$),fa($,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,$,ht){var vt=_e.type||"unknown-event";_e.currentTarget=ht,Ub(vt,$,void 0,_e),_e.currentTarget=null}function se(_e,$){$=($&4)!==0;for(var ht=0;ht<_e.length;ht++){var vt=_e[ht],bt=vt.event;vt=vt.listeners;e:{var _t=void 0;if($)for(var wt=vt.length-1;0<=wt;wt--){var At=vt[wt],St=At.instance,Et=At.currentTarget;if(At=At.listener,St!==_t&&bt.isPropagationStopped())break e;nf(bt,At,Et),_t=St}else for(wt=0;wt<vt.length;wt++){if(At=vt[wt],St=At.instance,Et=At.currentTarget,At=At.listener,St!==_t&&bt.isPropagationStopped())break e;nf(bt,At,Et),_t=St}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$4(_e,$){var ht=$[of];ht===void 0&&(ht=$[of]=new Set);var vt=_e+"__bubble";ht.has(vt)||(pf($,_e,2,!1),ht.add(vt))}function qf(_e,$,ht){var vt=0;$&&(vt|=4),pf(ht,_e,vt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(ht){ht!=="selectionchange"&&(mf.has(ht)||qf(ht,!1,_e),qf(ht,!0,_e))});var $=_e.nodeType===9?_e:_e.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(_e,$,ht,vt){switch(jd($)){case 1:var bt=ed;break;case 4:bt=gd;break;default:bt=fd}ht=bt.bind(null,$,ht,_e),bt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(bt=!0),vt?bt!==void 0?_e.addEventListener($,ht,{capture:!0,passive:bt}):_e.addEventListener($,ht,!0):bt!==void 0?_e.addEventListener($,ht,{passive:bt}):_e.addEventListener($,ht,!1)}function hd(_e,$,ht,vt,bt){var _t=vt;if(!($&1)&&!($&2)&&vt!==null)e:for(;;){if(vt===null)return;var wt=vt.tag;if(wt===3||wt===4){var At=vt.stateNode.containerInfo;if(At===bt||At.nodeType===8&&At.parentNode===bt)break;if(wt===4)for(wt=vt.return;wt!==null;){var St=wt.tag;if((St===3||St===4)&&(St=wt.stateNode.containerInfo,St===bt||St.nodeType===8&&St.parentNode===bt))return;wt=wt.return}for(;At!==null;){if(wt=Wc(At),wt===null)return;if(St=wt.tag,St===5||St===6){vt=_t=wt;continue e}At=At.parentNode}}vt=vt.return}Jb(function(){var Et=_t,xt=xb(ht),Pt=[];e:{var $t=df.get(_e);if($t!==void 0){var kt=td,Rt=_e;switch(_e){case"keypress":if(od(ht)===0)break e;case"keydown":case"keyup":kt=Rd;break;case"focusin":Rt="focus",kt=Fd;break;case"focusout":Rt="blur",kt=Fd;break;case"beforeblur":case"afterblur":kt=Fd;break;case"click":if(ht.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Vd;break;case $e$1:case af:case bf:kt=Hd;break;case cf:kt=Xd;break;case"scroll":kt=vd;break;case"wheel":kt=Zd;break;case"copy":case"cut":case"paste":kt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Td}var Mt=($&4)!==0,Dt=!Mt&&_e==="scroll",Ot=Mt?$t!==null?$t+"Capture":null:$t;Mt=[];for(var Lt=Et,Nt;Lt!==null;){Nt=Lt;var Ht=Nt.stateNode;if(Nt.tag===5&&Ht!==null&&(Nt=Ht,Ot!==null&&(Ht=Kb(Lt,Ot),Ht!=null&&Mt.push(tf(Lt,Ht,Nt)))),Dt)break;Lt=Lt.return}0<Mt.length&&($t=new kt($t,Rt,null,ht,xt),Pt.push({event:$t,listeners:Mt}))}}if(!($&7)){e:{if($t=_e==="mouseover"||_e==="pointerover",kt=_e==="mouseout"||_e==="pointerout",$t&&ht!==wb&&(Rt=ht.relatedTarget||ht.fromElement)&&(Wc(Rt)||Rt[uf]))break e;if((kt||$t)&&($t=xt.window===xt?xt:($t=xt.ownerDocument)?$t.defaultView||$t.parentWindow:window,kt?(Rt=ht.relatedTarget||ht.toElement,kt=Et,Rt=Rt?Wc(Rt):null,Rt!==null&&(Dt=Vb(Rt),Rt!==Dt||Rt.tag!==5&&Rt.tag!==6)&&(Rt=null)):(kt=null,Rt=Et),kt!==Rt)){if(Mt=Bd,Ht="onMouseLeave",Ot="onMouseEnter",Lt="mouse",(_e==="pointerout"||_e==="pointerover")&&(Mt=Td,Ht="onPointerLeave",Ot="onPointerEnter",Lt="pointer"),Dt=kt==null?$t:ue(kt),Nt=Rt==null?$t:ue(Rt),$t=new Mt(Ht,Lt+"leave",kt,ht,xt),$t.target=Dt,$t.relatedTarget=Nt,Ht=null,Wc(xt)===Et&&(Mt=new Mt(Ot,Lt+"enter",Rt,ht,xt),Mt.target=Nt,Mt.relatedTarget=Dt,Ht=Mt),Dt=Ht,kt&&Rt)t:{for(Mt=kt,Ot=Rt,Lt=0,Nt=Mt;Nt;Nt=vf(Nt))Lt++;for(Nt=0,Ht=Ot;Ht;Ht=vf(Ht))Nt++;for(;0<Lt-Nt;)Mt=vf(Mt),Lt--;for(;0<Nt-Lt;)Ot=vf(Ot),Nt--;for(;Lt--;){if(Mt===Ot||Ot!==null&&Mt===Ot.alternate)break t;Mt=vf(Mt),Ot=vf(Ot)}Mt=null}else Mt=null;kt!==null&&wf(Pt,$t,kt,Mt,!1),Rt!==null&&Dt!==null&&wf(Pt,Dt,Rt,Mt,!0)}}e:{if($t=Et?ue(Et):window,kt=$t.nodeName&&$t.nodeName.toLowerCase(),kt==="select"||kt==="input"&&$t.type==="file")var Ft=ve$1;else if(me($t))if(we)Ft=Fe$1;else{Ft=De;var jt=Ce}else(kt=$t.nodeName)&&kt.toLowerCase()==="input"&&($t.type==="checkbox"||$t.type==="radio")&&(Ft=Ee);if(Ft&&(Ft=Ft(_e,Et))){ne(Pt,Ft,ht,xt);break e}jt&&jt(_e,$t,Et),_e==="focusout"&&(jt=$t._wrapperState)&&jt.controlled&&$t.type==="number"&&cb($t,"number",$t.value)}switch(jt=Et?ue(Et):window,_e){case"focusin":(me(jt)||jt.contentEditable==="true")&&(Qe=jt,Re$1=Et,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Pt,ht,xt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Pt,ht,xt)}var Bt;if(ae)e:{switch(_e){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else ie?ge(_e,ht)&&(Vt="onCompositionEnd"):_e==="keydown"&&ht.keyCode===229&&(Vt="onCompositionStart");Vt&&(de&&ht.locale!=="ko"&&(ie||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ie&&(Bt=nd()):(kd=xt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),jt=oe(Et,Vt),0<jt.length&&(Vt=new Ld(Vt,_e,null,ht,xt),Pt.push({event:Vt,listeners:jt}),Bt?Vt.data=Bt:(Bt=he(ht),Bt!==null&&(Vt.data=Bt)))),(Bt=ce$1?je(_e,ht):ke(_e,ht))&&(Et=oe(Et,"onBeforeInput"),0<Et.length&&(xt=new Ld("onBeforeInput","beforeinput",null,ht,xt),Pt.push({event:xt,listeners:Et}),xt.data=Bt))}se(Pt,$)})}function tf(_e,$,ht){return{instance:_e,listener:$,currentTarget:ht}}function oe(_e,$){for(var ht=$+"Capture",vt=[];_e!==null;){var bt=_e,_t=bt.stateNode;bt.tag===5&&_t!==null&&(bt=_t,_t=Kb(_e,ht),_t!=null&&vt.unshift(tf(_e,_t,bt)),_t=Kb(_e,$),_t!=null&&vt.push(tf(_e,_t,bt))),_e=_e.return}return vt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,$,ht,vt,bt){for(var _t=$._reactName,wt=[];ht!==null&&ht!==vt;){var At=ht,St=At.alternate,Et=At.stateNode;if(St!==null&&St===vt)break;At.tag===5&&Et!==null&&(At=Et,bt?(St=Kb(ht,_t),St!=null&&wt.unshift(tf(ht,St,At))):bt||(St=Kb(ht,_t),St!=null&&wt.push(tf(ht,St,At)))),ht=ht.return}wt.length!==0&&_e.push({event:$,listeners:wt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,$,ht){if($=zf($),zf(_e)!==$&&ht)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,$){return _e==="textarea"||_e==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,$){var ht=$,vt=0;do{var bt=ht.nextSibling;if(_e.removeChild(ht),bt&&bt.nodeType===8)if(ht=bt.data,ht==="/$"){if(vt===0){_e.removeChild(bt),bd($);return}vt--}else ht!=="$"&&ht!=="$?"&&ht!=="$!"||vt++;ht=bt}while(ht);bd($)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var $=_e.nodeType;if($===1||$===3)break;if($===8){if($=_e.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var $=0;_e;){if(_e.nodeType===8){var ht=_e.data;if(ht==="$"||ht==="$!"||ht==="$?"){if($===0)return _e;$--}else ht==="/$"&&$++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var $=_e[Of];if($)return $;for(var ht=_e.parentNode;ht;){if($=ht[uf]||ht[Of]){if(ht=$.alternate,$.child!==null||ht!==null&&ht.child!==null)for(_e=Mf(_e);_e!==null;){if(ht=_e[Of])return ht;_e=Mf(_e)}return $}_e=ht,ht=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$5(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(_e,$){Tf++,Sf[Tf]=_e.current,_e.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,$){var ht=_e.type.contextTypes;if(!ht)return Vf;var vt=_e.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===$)return vt.__reactInternalMemoizedMaskedChildContext;var bt={},_t;for(_t in ht)bt[_t]=$[_t];return vt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=$,_e.__reactInternalMemoizedMaskedChildContext=bt),bt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(_e,$,ht){if(H$2.current!==Vf)throw Error(p$5(168));G$2(H$2,$),G$2(Wf,ht)}function bg(_e,$,ht){var vt=_e.stateNode;if($=$.childContextTypes,typeof vt.getChildContext!="function")return ht;vt=vt.getChildContext();for(var bt in vt)if(!(bt in $))throw Error(p$5(108,Ra(_e)||"Unknown",bt));return A$3({},ht,vt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,_e),G$2(Wf,Wf.current),!0}function dg(_e,$,ht){var vt=_e.stateNode;if(!vt)throw Error(p$5(169));ht?(_e=bg(_e,$,Xf),vt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$2),G$2(H$2,_e)):E$1(Wf),G$2(Wf,ht)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,$=C$1;try{var ht=eg;for(C$1=1;_e<ht.length;_e++){var vt=ht[_e];do vt=vt(!0);while(vt!==null)}eg=null,fg=!1}catch(bt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),bt}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,$){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=$}function ug(_e,$,ht){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var vt=rg;_e=sg;var bt=32-oc(vt)-1;vt&=~(1<<bt),ht+=1;var _t=32-oc($)+bt;if(30<_t){var wt=bt-bt%5;_t=(vt&(1<<wt)-1).toString(32),vt>>=wt,bt-=wt,rg=1<<32-oc($)+bt|ht<<bt|vt,sg=_t+_e}else rg=1<<_t|ht<<bt|vt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(_e,$){var ht=Bg(5,null,null,0);ht.elementType="DELETED",ht.stateNode=$,ht.return=_e,$=_e.deletions,$===null?(_e.deletions=[ht],_e.flags|=16):$.push(ht)}function Cg(_e,$){switch(_e.tag){case 5:var ht=_e.type;return $=$.nodeType!==1||ht.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=Lf($.firstChild),!0):!1;case 6:return $=_e.pendingProps===""||$.nodeType!==3?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(ht=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:$,treeContext:ht,retryLane:1073741824},ht=Bg(18,null,null,0),ht.stateNode=$,ht.return=_e,_e.child=ht,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$4){var $=yg;if($){var ht=$;if(!Cg(_e,$)){if(Dg(_e))throw Error(p$5(418));$=Lf(ht.nextSibling);var vt=xg;$&&Cg(_e,$)?Ag(vt,ht):(_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$5(418));_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$4)return Fg(_e),I$4=!0,!1;var $;if(($=_e.tag!==3)&&!($=_e.tag!==5)&&($=_e.type,$=$!=="head"&&$!=="body"&&!Ef(_e.type,_e.memoizedProps)),$&&($=yg)){if(Dg(_e))throw Hg(),Error(p$5(418));for(;$;)Ag(_e,$),$=Lf($.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$5(317));e:{for(_e=_e.nextSibling,$=0;_e;){if(_e.nodeType===8){var ht=_e.data;if(ht==="/$"){if($===0){yg=Lf(_e.nextSibling);break e}$--}else ht!=="$"&&ht!=="$!"&&ht!=="$?"||$++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,$,ht){if(_e=ht.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(ht._owner){if(ht=ht._owner,ht){if(ht.tag!==1)throw Error(p$5(309));var vt=ht.stateNode}if(!vt)throw Error(p$5(147,_e));var bt=vt,_t=""+_e;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===_t?$.ref:($=function(wt){var At=bt.refs;wt===null?delete At[_t]:At[_t]=wt},$._stringRef=_t,$)}if(typeof _e!="string")throw Error(p$5(284));if(!ht._owner)throw Error(p$5(290,_e))}return _e}function Mg(_e,$){throw _e=Object.prototype.toString.call($),Error(p$5(31,_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e))}function Ng(_e){var $=_e._init;return $(_e._payload)}function Og(_e){function $(Ot,Lt){if(_e){var Nt=Ot.deletions;Nt===null?(Ot.deletions=[Lt],Ot.flags|=16):Nt.push(Lt)}}function ht(Ot,Lt){if(!_e)return null;for(;Lt!==null;)$(Ot,Lt),Lt=Lt.sibling;return null}function vt(Ot,Lt){for(Ot=new Map;Lt!==null;)Lt.key!==null?Ot.set(Lt.key,Lt):Ot.set(Lt.index,Lt),Lt=Lt.sibling;return Ot}function bt(Ot,Lt){return Ot=Pg(Ot,Lt),Ot.index=0,Ot.sibling=null,Ot}function _t(Ot,Lt,Nt){return Ot.index=Nt,_e?(Nt=Ot.alternate,Nt!==null?(Nt=Nt.index,Nt<Lt?(Ot.flags|=2,Lt):Nt):(Ot.flags|=2,Lt)):(Ot.flags|=1048576,Lt)}function wt(Ot){return _e&&Ot.alternate===null&&(Ot.flags|=2),Ot}function At(Ot,Lt,Nt,Ht){return Lt===null||Lt.tag!==6?(Lt=Qg(Nt,Ot.mode,Ht),Lt.return=Ot,Lt):(Lt=bt(Lt,Nt),Lt.return=Ot,Lt)}function St(Ot,Lt,Nt,Ht){var Ft=Nt.type;return Ft===ya?xt(Ot,Lt,Nt.props.children,Ht,Nt.key):Lt!==null&&(Lt.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===Ha&&Ng(Ft)===Lt.type)?(Ht=bt(Lt,Nt.props),Ht.ref=Lg(Ot,Lt,Nt),Ht.return=Ot,Ht):(Ht=Rg(Nt.type,Nt.key,Nt.props,null,Ot.mode,Ht),Ht.ref=Lg(Ot,Lt,Nt),Ht.return=Ot,Ht)}function Et(Ot,Lt,Nt,Ht){return Lt===null||Lt.tag!==4||Lt.stateNode.containerInfo!==Nt.containerInfo||Lt.stateNode.implementation!==Nt.implementation?(Lt=Sg(Nt,Ot.mode,Ht),Lt.return=Ot,Lt):(Lt=bt(Lt,Nt.children||[]),Lt.return=Ot,Lt)}function xt(Ot,Lt,Nt,Ht,Ft){return Lt===null||Lt.tag!==7?(Lt=Tg(Nt,Ot.mode,Ht,Ft),Lt.return=Ot,Lt):(Lt=bt(Lt,Nt),Lt.return=Ot,Lt)}function Pt(Ot,Lt,Nt){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number")return Lt=Qg(""+Lt,Ot.mode,Nt),Lt.return=Ot,Lt;if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case va:return Nt=Rg(Lt.type,Lt.key,Lt.props,null,Ot.mode,Nt),Nt.ref=Lg(Ot,null,Lt),Nt.return=Ot,Nt;case wa:return Lt=Sg(Lt,Ot.mode,Nt),Lt.return=Ot,Lt;case Ha:var Ht=Lt._init;return Pt(Ot,Ht(Lt._payload),Nt)}if(eb(Lt)||Ka(Lt))return Lt=Tg(Lt,Ot.mode,Nt,null),Lt.return=Ot,Lt;Mg(Ot,Lt)}return null}function $t(Ot,Lt,Nt,Ht){var Ft=Lt!==null?Lt.key:null;if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return Ft!==null?null:At(Ot,Lt,""+Nt,Ht);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case va:return Nt.key===Ft?St(Ot,Lt,Nt,Ht):null;case wa:return Nt.key===Ft?Et(Ot,Lt,Nt,Ht):null;case Ha:return Ft=Nt._init,$t(Ot,Lt,Ft(Nt._payload),Ht)}if(eb(Nt)||Ka(Nt))return Ft!==null?null:xt(Ot,Lt,Nt,Ht,null);Mg(Ot,Nt)}return null}function kt(Ot,Lt,Nt,Ht,Ft){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return Ot=Ot.get(Nt)||null,At(Lt,Ot,""+Ht,Ft);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case va:return Ot=Ot.get(Ht.key===null?Nt:Ht.key)||null,St(Lt,Ot,Ht,Ft);case wa:return Ot=Ot.get(Ht.key===null?Nt:Ht.key)||null,Et(Lt,Ot,Ht,Ft);case Ha:var jt=Ht._init;return kt(Ot,Lt,Nt,jt(Ht._payload),Ft)}if(eb(Ht)||Ka(Ht))return Ot=Ot.get(Nt)||null,xt(Lt,Ot,Ht,Ft,null);Mg(Lt,Ht)}return null}function Rt(Ot,Lt,Nt,Ht){for(var Ft=null,jt=null,Bt=Lt,Vt=Lt=0,Ut=null;Bt!==null&&Vt<Nt.length;Vt++){Bt.index>Vt?(Ut=Bt,Bt=null):Ut=Bt.sibling;var Jt=$t(Ot,Bt,Nt[Vt],Ht);if(Jt===null){Bt===null&&(Bt=Ut);break}_e&&Bt&&Jt.alternate===null&&$(Ot,Bt),Lt=_t(Jt,Lt,Vt),jt===null?Ft=Jt:jt.sibling=Jt,jt=Jt,Bt=Ut}if(Vt===Nt.length)return ht(Ot,Bt),I$4&&tg(Ot,Vt),Ft;if(Bt===null){for(;Vt<Nt.length;Vt++)Bt=Pt(Ot,Nt[Vt],Ht),Bt!==null&&(Lt=_t(Bt,Lt,Vt),jt===null?Ft=Bt:jt.sibling=Bt,jt=Bt);return I$4&&tg(Ot,Vt),Ft}for(Bt=vt(Ot,Bt);Vt<Nt.length;Vt++)Ut=kt(Bt,Ot,Vt,Nt[Vt],Ht),Ut!==null&&(_e&&Ut.alternate!==null&&Bt.delete(Ut.key===null?Vt:Ut.key),Lt=_t(Ut,Lt,Vt),jt===null?Ft=Ut:jt.sibling=Ut,jt=Ut);return _e&&Bt.forEach(function(Wt){return $(Ot,Wt)}),I$4&&tg(Ot,Vt),Ft}function Mt(Ot,Lt,Nt,Ht){var Ft=Ka(Nt);if(typeof Ft!="function")throw Error(p$5(150));if(Nt=Ft.call(Nt),Nt==null)throw Error(p$5(151));for(var jt=Ft=null,Bt=Lt,Vt=Lt=0,Ut=null,Jt=Nt.next();Bt!==null&&!Jt.done;Vt++,Jt=Nt.next()){Bt.index>Vt?(Ut=Bt,Bt=null):Ut=Bt.sibling;var Wt=$t(Ot,Bt,Jt.value,Ht);if(Wt===null){Bt===null&&(Bt=Ut);break}_e&&Bt&&Wt.alternate===null&&$(Ot,Bt),Lt=_t(Wt,Lt,Vt),jt===null?Ft=Wt:jt.sibling=Wt,jt=Wt,Bt=Ut}if(Jt.done)return ht(Ot,Bt),I$4&&tg(Ot,Vt),Ft;if(Bt===null){for(;!Jt.done;Vt++,Jt=Nt.next())Jt=Pt(Ot,Jt.value,Ht),Jt!==null&&(Lt=_t(Jt,Lt,Vt),jt===null?Ft=Jt:jt.sibling=Jt,jt=Jt);return I$4&&tg(Ot,Vt),Ft}for(Bt=vt(Ot,Bt);!Jt.done;Vt++,Jt=Nt.next())Jt=kt(Bt,Ot,Vt,Jt.value,Ht),Jt!==null&&(_e&&Jt.alternate!==null&&Bt.delete(Jt.key===null?Vt:Jt.key),Lt=_t(Jt,Lt,Vt),jt===null?Ft=Jt:jt.sibling=Jt,jt=Jt);return _e&&Bt.forEach(function(Qt){return $(Ot,Qt)}),I$4&&tg(Ot,Vt),Ft}function Dt(Ot,Lt,Nt,Ht){if(typeof Nt=="object"&&Nt!==null&&Nt.type===ya&&Nt.key===null&&(Nt=Nt.props.children),typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case va:e:{for(var Ft=Nt.key,jt=Lt;jt!==null;){if(jt.key===Ft){if(Ft=Nt.type,Ft===ya){if(jt.tag===7){ht(Ot,jt.sibling),Lt=bt(jt,Nt.props.children),Lt.return=Ot,Ot=Lt;break e}}else if(jt.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===Ha&&Ng(Ft)===jt.type){ht(Ot,jt.sibling),Lt=bt(jt,Nt.props),Lt.ref=Lg(Ot,jt,Nt),Lt.return=Ot,Ot=Lt;break e}ht(Ot,jt);break}else $(Ot,jt);jt=jt.sibling}Nt.type===ya?(Lt=Tg(Nt.props.children,Ot.mode,Ht,Nt.key),Lt.return=Ot,Ot=Lt):(Ht=Rg(Nt.type,Nt.key,Nt.props,null,Ot.mode,Ht),Ht.ref=Lg(Ot,Lt,Nt),Ht.return=Ot,Ot=Ht)}return wt(Ot);case wa:e:{for(jt=Nt.key;Lt!==null;){if(Lt.key===jt)if(Lt.tag===4&&Lt.stateNode.containerInfo===Nt.containerInfo&&Lt.stateNode.implementation===Nt.implementation){ht(Ot,Lt.sibling),Lt=bt(Lt,Nt.children||[]),Lt.return=Ot,Ot=Lt;break e}else{ht(Ot,Lt);break}else $(Ot,Lt);Lt=Lt.sibling}Lt=Sg(Nt,Ot.mode,Ht),Lt.return=Ot,Ot=Lt}return wt(Ot);case Ha:return jt=Nt._init,Dt(Ot,Lt,jt(Nt._payload),Ht)}if(eb(Nt))return Rt(Ot,Lt,Nt,Ht);if(Ka(Nt))return Mt(Ot,Lt,Nt,Ht);Mg(Ot,Nt)}return typeof Nt=="string"&&Nt!==""||typeof Nt=="number"?(Nt=""+Nt,Lt!==null&&Lt.tag===6?(ht(Ot,Lt.sibling),Lt=bt(Lt,Nt),Lt.return=Ot,Ot=Lt):(ht(Ot,Lt),Lt=Qg(Nt,Ot.mode,Ht),Lt.return=Ot,Ot=Lt),wt(Ot)):ht(Ot,Lt)}return Dt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var $=Wg.current;E$1(Wg),_e._currentValue=$}function bh(_e,$,ht){for(;_e!==null;){var vt=_e.alternate;if((_e.childLanes&$)!==$?(_e.childLanes|=$,vt!==null&&(vt.childLanes|=$)):vt!==null&&(vt.childLanes&$)!==$&&(vt.childLanes|=$),_e===ht)break;_e=_e.return}}function ch(_e,$){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&$&&(dh=!0),_e.firstContext=null)}function eh(_e){var $=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$5(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return $}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,$,ht,vt){var bt=$.interleaved;return bt===null?(ht.next=ht,gh($)):(ht.next=bt.next,bt.next=ht),$.interleaved=ht,ih(_e,vt)}function ih(_e,$){_e.lanes|=$;var ht=_e.alternate;for(ht!==null&&(ht.lanes|=$),ht=_e,_e=_e.return;_e!==null;)_e.childLanes|=$,ht=_e.alternate,ht!==null&&(ht.childLanes|=$),ht=_e,_e=_e.return;return ht.tag===3?ht.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,$){_e=_e.updateQueue,$.updateQueue===_e&&($.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,$){return{eventTime:_e,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(_e,$,ht){var vt=_e.updateQueue;if(vt===null)return null;if(vt=vt.shared,K&2){var bt=vt.pending;return bt===null?$.next=$:($.next=bt.next,bt.next=$),vt.pending=$,ih(_e,ht)}return bt=vt.interleaved,bt===null?($.next=$,gh(vt)):($.next=bt.next,bt.next=$),vt.interleaved=$,ih(_e,ht)}function oh(_e,$,ht){if($=$.updateQueue,$!==null&&($=$.shared,(ht&4194240)!==0)){var vt=$.lanes;vt&=_e.pendingLanes,ht|=vt,$.lanes=ht,Cc(_e,ht)}}function ph(_e,$){var ht=_e.updateQueue,vt=_e.alternate;if(vt!==null&&(vt=vt.updateQueue,ht===vt)){var bt=null,_t=null;if(ht=ht.firstBaseUpdate,ht!==null){do{var wt={eventTime:ht.eventTime,lane:ht.lane,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null};_t===null?bt=_t=wt:_t=_t.next=wt,ht=ht.next}while(ht!==null);_t===null?bt=_t=$:_t=_t.next=$}else bt=_t=$;ht={baseState:vt.baseState,firstBaseUpdate:bt,lastBaseUpdate:_t,shared:vt.shared,effects:vt.effects},_e.updateQueue=ht;return}_e=ht.lastBaseUpdate,_e===null?ht.firstBaseUpdate=$:_e.next=$,ht.lastBaseUpdate=$}function qh(_e,$,ht,vt){var bt=_e.updateQueue;jh=!1;var _t=bt.firstBaseUpdate,wt=bt.lastBaseUpdate,At=bt.shared.pending;if(At!==null){bt.shared.pending=null;var St=At,Et=St.next;St.next=null,wt===null?_t=Et:wt.next=Et,wt=St;var xt=_e.alternate;xt!==null&&(xt=xt.updateQueue,At=xt.lastBaseUpdate,At!==wt&&(At===null?xt.firstBaseUpdate=Et:At.next=Et,xt.lastBaseUpdate=St))}if(_t!==null){var Pt=bt.baseState;wt=0,xt=Et=St=null,At=_t;do{var $t=At.lane,kt=At.eventTime;if((vt&$t)===$t){xt!==null&&(xt=xt.next={eventTime:kt,lane:0,tag:At.tag,payload:At.payload,callback:At.callback,next:null});e:{var Rt=_e,Mt=At;switch($t=$,kt=ht,Mt.tag){case 1:if(Rt=Mt.payload,typeof Rt=="function"){Pt=Rt.call(kt,Pt,$t);break e}Pt=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Mt.payload,$t=typeof Rt=="function"?Rt.call(kt,Pt,$t):Rt,$t==null)break e;Pt=A$3({},Pt,$t);break e;case 2:jh=!0}}At.callback!==null&&At.lane!==0&&(_e.flags|=64,$t=bt.effects,$t===null?bt.effects=[At]:$t.push(At))}else kt={eventTime:kt,lane:$t,tag:At.tag,payload:At.payload,callback:At.callback,next:null},xt===null?(Et=xt=kt,St=Pt):xt=xt.next=kt,wt|=$t;if(At=At.next,At===null){if(At=bt.shared.pending,At===null)break;$t=At,At=$t.next,$t.next=null,bt.lastBaseUpdate=$t,bt.shared.pending=null}}while(!0);if(xt===null&&(St=Pt),bt.baseState=St,bt.firstBaseUpdate=Et,bt.lastBaseUpdate=xt,$=bt.shared.interleaved,$!==null){bt=$;do wt|=bt.lane,bt=bt.next;while(bt!==$)}else _t===null&&(bt.shared.lanes=0);rh|=wt,_e.lanes=wt,_e.memoizedState=Pt}}function sh(_e,$,ht){if(_e=$.effects,$.effects=null,_e!==null)for($=0;$<_e.length;$++){var vt=_e[$],bt=vt.callback;if(bt!==null){if(vt.callback=null,vt=ht,typeof bt!="function")throw Error(p$5(191,bt));bt.call(vt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$5(174));return _e}function yh(_e,$){switch(G$2(wh,$),G$2(vh$1,_e),G$2(uh,th),_e=$.nodeType,_e){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:_e=_e===8?$.parentNode:$,$=_e.namespaceURI||null,_e=_e.tagName,$=lb($,_e)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh$1),E$1(wh)}function Ah(_e){xh(wh.current);var $=xh(uh.current),ht=lb($,_e.type);$!==ht&&(G$2(vh$1,_e),G$2(uh,ht))}function Bh(_e){vh$1.current===_e&&(E$1(uh),E$1(vh$1))}var L$1=Uf(0);function Ch(_e){for(var $=_e;$!==null;){if($.tag===13){var ht=$.memoizedState;if(ht!==null&&(ht=ht.dehydrated,ht===null||ht.data==="$?"||ht.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$4(){throw Error(p$5(321))}function Mh(_e,$){if($===null)return!1;for(var ht=0;ht<$.length&&ht<_e.length;ht++)if(!He(_e[ht],$[ht]))return!1;return!0}function Nh(_e,$,ht,vt,bt,_t){if(Hh=_t,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=ht(vt,bt),Jh){_t=0;do{if(Jh=!1,Kh=0,25<=_t)throw Error(p$5(301));_t+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,_e=ht(vt,bt)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$5(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e,O$2}function Uh(){if(N$3===null){var _e=M$3.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=_e;else{if(_e===null)throw Error(p$5(310));N$3=_e,_e={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e}return O$2}function Vh(_e,$){return typeof $=="function"?$(_e):$}function Wh(_e){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$5(311));ht.lastRenderedReducer=_e;var vt=N$3,bt=vt.baseQueue,_t=ht.pending;if(_t!==null){if(bt!==null){var wt=bt.next;bt.next=_t.next,_t.next=wt}vt.baseQueue=bt=_t,ht.pending=null}if(bt!==null){_t=bt.next,vt=vt.baseState;var At=wt=null,St=null,Et=_t;do{var xt=Et.lane;if((Hh&xt)===xt)St!==null&&(St=St.next={lane:0,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),vt=Et.hasEagerState?Et.eagerState:_e(vt,Et.action);else{var Pt={lane:xt,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null};St===null?(At=St=Pt,wt=vt):St=St.next=Pt,M$3.lanes|=xt,rh|=xt}Et=Et.next}while(Et!==null&&Et!==_t);St===null?wt=vt:St.next=At,He(vt,$.memoizedState)||(dh=!0),$.memoizedState=vt,$.baseState=wt,$.baseQueue=St,ht.lastRenderedState=vt}if(_e=ht.interleaved,_e!==null){bt=_e;do _t=bt.lane,M$3.lanes|=_t,rh|=_t,bt=bt.next;while(bt!==_e)}else bt===null&&(ht.lanes=0);return[$.memoizedState,ht.dispatch]}function Xh(_e){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$5(311));ht.lastRenderedReducer=_e;var vt=ht.dispatch,bt=ht.pending,_t=$.memoizedState;if(bt!==null){ht.pending=null;var wt=bt=bt.next;do _t=_e(_t,wt.action),wt=wt.next;while(wt!==bt);He(_t,$.memoizedState)||(dh=!0),$.memoizedState=_t,$.baseQueue===null&&($.baseState=_t),ht.lastRenderedState=_t}return[_t,vt]}function Yh(){}function Zh(_e,$){var ht=M$3,vt=Uh(),bt=$(),_t=!He(vt.memoizedState,bt);if(_t&&(vt.memoizedState=bt,dh=!0),vt=vt.queue,$h(ai.bind(null,ht,vt,_e),[_e]),vt.getSnapshot!==$||_t||O$2!==null&&O$2.memoizedState.tag&1){if(ht.flags|=2048,bi(9,ci.bind(null,ht,vt,bt,$),void 0,null),Q===null)throw Error(p$5(349));Hh&30||di(ht,$,bt)}return bt}function di(_e,$,ht){_e.flags|=16384,_e={getSnapshot:$,value:ht},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[_e]):(ht=$.stores,ht===null?$.stores=[_e]:ht.push(_e))}function ci(_e,$,ht,vt){$.value=ht,$.getSnapshot=vt,ei($)&&fi(_e)}function ai(_e,$,ht){return ht(function(){ei($)&&fi(_e)})}function ei(_e){var $=_e.getSnapshot;_e=_e.value;try{var ht=$();return!He(_e,ht)}catch{return!0}}function fi(_e){var $=ih(_e,1);$!==null&&gi($,_e,1,-1)}function hi(_e){var $=Th();return typeof _e=="function"&&(_e=_e()),$.memoizedState=$.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},$.queue=_e,_e=_e.dispatch=ii.bind(null,M$3,_e),[$.memoizedState,_e]}function bi(_e,$,ht,vt){return _e={tag:_e,create:$,destroy:ht,deps:vt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=_e.next=_e):(ht=$.lastEffect,ht===null?$.lastEffect=_e.next=_e:(vt=ht.next,ht.next=_e,_e.next=vt,$.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,$,ht,vt){var bt=Th();M$3.flags|=_e,bt.memoizedState=bi(1|$,ht,void 0,vt===void 0?null:vt)}function li(_e,$,ht,vt){var bt=Uh();vt=vt===void 0?null:vt;var _t=void 0;if(N$3!==null){var wt=N$3.memoizedState;if(_t=wt.destroy,vt!==null&&Mh(vt,wt.deps)){bt.memoizedState=bi($,ht,_t,vt);return}}M$3.flags|=_e,bt.memoizedState=bi(1|$,ht,_t,vt)}function mi(_e,$){return ki(8390656,8,_e,$)}function $h(_e,$){return li(2048,8,_e,$)}function ni(_e,$){return li(4,2,_e,$)}function oi(_e,$){return li(4,4,_e,$)}function pi$2(_e,$){if(typeof $=="function")return _e=_e(),$(_e),function(){$(null)};if($!=null)return _e=_e(),$.current=_e,function(){$.current=null}}function qi(_e,$,ht){return ht=ht!=null?ht.concat([_e]):null,li(4,4,pi$2.bind(null,$,_e),ht)}function ri(){}function si(_e,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(ht.memoizedState=[_e,$],_e)}function ti(_e,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(_e=_e(),ht.memoizedState=[_e,$],_e)}function ui(_e,$,ht){return Hh&21?(He(ht,$)||(ht=yc(),M$3.lanes|=ht,rh|=ht,_e.baseState=!0),$):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=ht)}function vi(_e,$){var ht=C$1;C$1=ht!==0&&4>ht?ht:4,_e(!0);var vt=Gh.transition;Gh.transition={};try{_e(!1),$()}finally{C$1=ht,Gh.transition=vt}}function wi(){return Uh().memoizedState}function xi(_e,$,ht){var vt=yi(_e);if(ht={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai($,ht);else if(ht=hh(_e,$,ht,vt),ht!==null){var bt=R$1();gi(ht,_e,vt,bt),Bi(ht,$,vt)}}function ii(_e,$,ht){var vt=yi(_e),bt={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai($,bt);else{var _t=_e.alternate;if(_e.lanes===0&&(_t===null||_t.lanes===0)&&(_t=$.lastRenderedReducer,_t!==null))try{var wt=$.lastRenderedState,At=_t(wt,ht);if(bt.hasEagerState=!0,bt.eagerState=At,He(At,wt)){var St=$.interleaved;St===null?(bt.next=bt,gh($)):(bt.next=St.next,St.next=bt),$.interleaved=bt;return}}catch{}finally{}ht=hh(_e,$,bt,vt),ht!==null&&(bt=R$1(),gi(ht,_e,vt,bt),Bi(ht,$,vt))}}function zi(_e){var $=_e.alternate;return _e===M$3||$!==null&&$===M$3}function Ai(_e,$){Jh=Ih=!0;var ht=_e.pending;ht===null?$.next=$:($.next=ht.next,ht.next=$),_e.pending=$}function Bi(_e,$,ht){if(ht&4194240){var vt=$.lanes;vt&=_e.pendingLanes,ht|=vt,$.lanes=ht,Cc(_e,ht)}}var Rh={readContext:eh,useCallback:P$4,useContext:P$4,useEffect:P$4,useImperativeHandle:P$4,useInsertionEffect:P$4,useLayoutEffect:P$4,useMemo:P$4,useReducer:P$4,useRef:P$4,useState:P$4,useDebugValue:P$4,useDeferredValue:P$4,useTransition:P$4,useMutableSource:P$4,useSyncExternalStore:P$4,useId:P$4,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,$){return Th().memoizedState=[_e,$===void 0?null:$],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,$,ht){return ht=ht!=null?ht.concat([_e]):null,ki(4194308,4,pi$2.bind(null,$,_e),ht)},useLayoutEffect:function(_e,$){return ki(4194308,4,_e,$)},useInsertionEffect:function(_e,$){return ki(4,2,_e,$)},useMemo:function(_e,$){var ht=Th();return $=$===void 0?null:$,_e=_e(),ht.memoizedState=[_e,$],_e},useReducer:function(_e,$,ht){var vt=Th();return $=ht!==void 0?ht($):$,vt.memoizedState=vt.baseState=$,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:$},vt.queue=_e,_e=_e.dispatch=xi.bind(null,M$3,_e),[vt.memoizedState,_e]},useRef:function(_e){var $=Th();return _e={current:_e},$.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),$=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[$,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,$,ht){var vt=M$3,bt=Th();if(I$4){if(ht===void 0)throw Error(p$5(407));ht=ht()}else{if(ht=$(),Q===null)throw Error(p$5(349));Hh&30||di(vt,$,ht)}bt.memoizedState=ht;var _t={value:ht,getSnapshot:$};return bt.queue=_t,mi(ai.bind(null,vt,_t,_e),[_e]),vt.flags|=2048,bi(9,ci.bind(null,vt,_t,ht,$),void 0,null),ht},useId:function(){var _e=Th(),$=Q.identifierPrefix;if(I$4){var ht=sg,vt=rg;ht=(vt&~(1<<32-oc(vt)-1)).toString(32)+ht,$=":"+$+"R"+ht,ht=Kh++,0<ht&&($+="H"+ht.toString(32)),$+=":"}else ht=Lh++,$=":"+$+"r"+ht.toString(32)+":";return _e.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return N$3===null?$.memoizedState=_e:ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,$){if(_e&&_e.defaultProps){$=A$3({},$),_e=_e.defaultProps;for(var ht in _e)$[ht]===void 0&&($[ht]=_e[ht]);return $}return $}function Di(_e,$,ht,vt){$=_e.memoizedState,ht=ht(vt,$),ht=ht==null?$:A$3({},$,ht),_e.memoizedState=ht,_e.lanes===0&&(_e.updateQueue.baseState=ht)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,$,ht){_e=_e._reactInternals;var vt=R$1(),bt=yi(_e),_t=mh(vt,bt);_t.payload=$,ht!=null&&(_t.callback=ht),$=nh(_e,_t,bt),$!==null&&(gi($,_e,bt,vt),oh($,_e,bt))},enqueueReplaceState:function(_e,$,ht){_e=_e._reactInternals;var vt=R$1(),bt=yi(_e),_t=mh(vt,bt);_t.tag=1,_t.payload=$,ht!=null&&(_t.callback=ht),$=nh(_e,_t,bt),$!==null&&(gi($,_e,bt,vt),oh($,_e,bt))},enqueueForceUpdate:function(_e,$){_e=_e._reactInternals;var ht=R$1(),vt=yi(_e),bt=mh(ht,vt);bt.tag=2,$!=null&&(bt.callback=$),$=nh(_e,bt,vt),$!==null&&(gi($,_e,vt,ht),oh($,_e,vt))}};function Fi(_e,$,ht,vt,bt,_t,wt){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(vt,_t,wt):$.prototype&&$.prototype.isPureReactComponent?!Ie(ht,vt)||!Ie(bt,_t):!0}function Gi(_e,$,ht){var vt=!1,bt=Vf,_t=$.contextType;return typeof _t=="object"&&_t!==null?_t=eh(_t):(bt=Zf($)?Xf:H$2.current,vt=$.contextTypes,_t=(vt=vt!=null)?Yf(_e,bt):Vf),$=new $(ht,_t),_e.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,_e.stateNode=$,$._reactInternals=_e,vt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=bt,_e.__reactInternalMemoizedMaskedChildContext=_t),$}function Hi(_e,$,ht,vt){_e=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(ht,vt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(ht,vt),$.state!==_e&&Ei.enqueueReplaceState($,$.state,null)}function Ii(_e,$,ht,vt){var bt=_e.stateNode;bt.props=ht,bt.state=_e.memoizedState,bt.refs={},kh(_e);var _t=$.contextType;typeof _t=="object"&&_t!==null?bt.context=eh(_t):(_t=Zf($)?Xf:H$2.current,bt.context=Yf(_e,_t)),bt.state=_e.memoizedState,_t=$.getDerivedStateFromProps,typeof _t=="function"&&(Di(_e,$,_t,ht),bt.state=_e.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof bt.getSnapshotBeforeUpdate=="function"||typeof bt.UNSAFE_componentWillMount!="function"&&typeof bt.componentWillMount!="function"||($=bt.state,typeof bt.componentWillMount=="function"&&bt.componentWillMount(),typeof bt.UNSAFE_componentWillMount=="function"&&bt.UNSAFE_componentWillMount(),$!==bt.state&&Ei.enqueueReplaceState(bt,bt.state,null),qh(_e,ht,bt,vt),bt.state=_e.memoizedState),typeof bt.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,$){try{var ht="",vt=$;do ht+=Pa(vt),vt=vt.return;while(vt);var bt=ht}catch(_t){bt=`
Error generating stack: `+_t.message+`
`+_t.stack}return{value:_e,source:$,stack:bt,digest:null}}function Ki(_e,$,ht){return{value:_e,source:null,stack:ht??null,digest:$??null}}function Li(_e,$){try{console.error($.value)}catch(ht){setTimeout(function(){throw ht})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,$,ht){ht=mh(-1,ht),ht.tag=3,ht.payload={element:null};var vt=$.value;return ht.callback=function(){Oi||(Oi=!0,Pi=vt),Li(_e,$)},ht}function Qi(_e,$,ht){ht=mh(-1,ht),ht.tag=3;var vt=_e.type.getDerivedStateFromError;if(typeof vt=="function"){var bt=$.value;ht.payload=function(){return vt(bt)},ht.callback=function(){Li(_e,$)}}var _t=_e.stateNode;return _t!==null&&typeof _t.componentDidCatch=="function"&&(ht.callback=function(){Li(_e,$),typeof vt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var wt=$.stack;this.componentDidCatch($.value,{componentStack:wt!==null?wt:""})}),ht}function Si(_e,$,ht){var vt=_e.pingCache;if(vt===null){vt=_e.pingCache=new Mi;var bt=new Set;vt.set($,bt)}else bt=vt.get($),bt===void 0&&(bt=new Set,vt.set($,bt));bt.has(ht)||(bt.add(ht),_e=Ti.bind(null,_e,$,ht),$.then(_e,_e))}function Ui(_e){do{var $;if(($=_e.tag===13)&&($=_e.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,$,ht,vt,bt){return _e.mode&1?(_e.flags|=65536,_e.lanes=bt,_e):(_e===$?_e.flags|=65536:(_e.flags|=128,ht.flags|=131072,ht.flags&=-52805,ht.tag===1&&(ht.alternate===null?ht.tag=17:($=mh(-1,1),$.tag=2,nh(ht,$,1))),ht.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,$,ht,vt){$.child=_e===null?Vg($,null,ht,vt):Ug($,_e.child,ht,vt)}function Yi(_e,$,ht,vt,bt){ht=ht.render;var _t=$.ref;return ch($,bt),vt=Nh(_e,$,ht,vt,_t,bt),ht=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~bt,Zi(_e,$,bt)):(I$4&&ht&&vg($),$.flags|=1,Xi(_e,$,vt,bt),$.child)}function $i(_e,$,ht,vt,bt){if(_e===null){var _t=ht.type;return typeof _t=="function"&&!aj(_t)&&_t.defaultProps===void 0&&ht.compare===null&&ht.defaultProps===void 0?($.tag=15,$.type=_t,bj(_e,$,_t,vt,bt)):(_e=Rg(ht.type,null,vt,$,$.mode,bt),_e.ref=$.ref,_e.return=$,$.child=_e)}if(_t=_e.child,!(_e.lanes&bt)){var wt=_t.memoizedProps;if(ht=ht.compare,ht=ht!==null?ht:Ie,ht(wt,vt)&&_e.ref===$.ref)return Zi(_e,$,bt)}return $.flags|=1,_e=Pg(_t,vt),_e.ref=$.ref,_e.return=$,$.child=_e}function bj(_e,$,ht,vt,bt){if(_e!==null){var _t=_e.memoizedProps;if(Ie(_t,vt)&&_e.ref===$.ref)if(dh=!1,$.pendingProps=vt=_t,(_e.lanes&bt)!==0)_e.flags&131072&&(dh=!0);else return $.lanes=_e.lanes,Zi(_e,$,bt)}return cj(_e,$,ht,vt,bt)}function dj(_e,$,ht){var vt=$.pendingProps,bt=vt.children,_t=_e!==null?_e.memoizedState:null;if(vt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=ht;else{if(!(ht&1073741824))return _e=_t!==null?_t.baseLanes|ht:ht,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:_e,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=_e,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=_t!==null?_t.baseLanes:ht,G$2(ej,fj),fj|=vt}else _t!==null?(vt=_t.baseLanes|ht,$.memoizedState=null):vt=ht,G$2(ej,fj),fj|=vt;return Xi(_e,$,bt,ht),$.child}function gj(_e,$){var ht=$.ref;(_e===null&&ht!==null||_e!==null&&_e.ref!==ht)&&($.flags|=512,$.flags|=2097152)}function cj(_e,$,ht,vt,bt){var _t=Zf(ht)?Xf:H$2.current;return _t=Yf($,_t),ch($,bt),ht=Nh(_e,$,ht,vt,_t,bt),vt=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~bt,Zi(_e,$,bt)):(I$4&&vt&&vg($),$.flags|=1,Xi(_e,$,ht,bt),$.child)}function hj(_e,$,ht,vt,bt){if(Zf(ht)){var _t=!0;cg($)}else _t=!1;if(ch($,bt),$.stateNode===null)ij(_e,$),Gi($,ht,vt),Ii($,ht,vt,bt),vt=!0;else if(_e===null){var wt=$.stateNode,At=$.memoizedProps;wt.props=At;var St=wt.context,Et=ht.contextType;typeof Et=="object"&&Et!==null?Et=eh(Et):(Et=Zf(ht)?Xf:H$2.current,Et=Yf($,Et));var xt=ht.getDerivedStateFromProps,Pt=typeof xt=="function"||typeof wt.getSnapshotBeforeUpdate=="function";Pt||typeof wt.UNSAFE_componentWillReceiveProps!="function"&&typeof wt.componentWillReceiveProps!="function"||(At!==vt||St!==Et)&&Hi($,wt,vt,Et),jh=!1;var $t=$.memoizedState;wt.state=$t,qh($,vt,wt,bt),St=$.memoizedState,At!==vt||$t!==St||Wf.current||jh?(typeof xt=="function"&&(Di($,ht,xt,vt),St=$.memoizedState),(At=jh||Fi($,ht,At,vt,$t,St,Et))?(Pt||typeof wt.UNSAFE_componentWillMount!="function"&&typeof wt.componentWillMount!="function"||(typeof wt.componentWillMount=="function"&&wt.componentWillMount(),typeof wt.UNSAFE_componentWillMount=="function"&&wt.UNSAFE_componentWillMount()),typeof wt.componentDidMount=="function"&&($.flags|=4194308)):(typeof wt.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=vt,$.memoizedState=St),wt.props=vt,wt.state=St,wt.context=Et,vt=At):(typeof wt.componentDidMount=="function"&&($.flags|=4194308),vt=!1)}else{wt=$.stateNode,lh(_e,$),At=$.memoizedProps,Et=$.type===$.elementType?At:Ci($.type,At),wt.props=Et,Pt=$.pendingProps,$t=wt.context,St=ht.contextType,typeof St=="object"&&St!==null?St=eh(St):(St=Zf(ht)?Xf:H$2.current,St=Yf($,St));var kt=ht.getDerivedStateFromProps;(xt=typeof kt=="function"||typeof wt.getSnapshotBeforeUpdate=="function")||typeof wt.UNSAFE_componentWillReceiveProps!="function"&&typeof wt.componentWillReceiveProps!="function"||(At!==Pt||$t!==St)&&Hi($,wt,vt,St),jh=!1,$t=$.memoizedState,wt.state=$t,qh($,vt,wt,bt);var Rt=$.memoizedState;At!==Pt||$t!==Rt||Wf.current||jh?(typeof kt=="function"&&(Di($,ht,kt,vt),Rt=$.memoizedState),(Et=jh||Fi($,ht,Et,vt,$t,Rt,St)||!1)?(xt||typeof wt.UNSAFE_componentWillUpdate!="function"&&typeof wt.componentWillUpdate!="function"||(typeof wt.componentWillUpdate=="function"&&wt.componentWillUpdate(vt,Rt,St),typeof wt.UNSAFE_componentWillUpdate=="function"&&wt.UNSAFE_componentWillUpdate(vt,Rt,St)),typeof wt.componentDidUpdate=="function"&&($.flags|=4),typeof wt.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof wt.componentDidUpdate!="function"||At===_e.memoizedProps&&$t===_e.memoizedState||($.flags|=4),typeof wt.getSnapshotBeforeUpdate!="function"||At===_e.memoizedProps&&$t===_e.memoizedState||($.flags|=1024),$.memoizedProps=vt,$.memoizedState=Rt),wt.props=vt,wt.state=Rt,wt.context=St,vt=Et):(typeof wt.componentDidUpdate!="function"||At===_e.memoizedProps&&$t===_e.memoizedState||($.flags|=4),typeof wt.getSnapshotBeforeUpdate!="function"||At===_e.memoizedProps&&$t===_e.memoizedState||($.flags|=1024),vt=!1)}return jj(_e,$,ht,vt,_t,bt)}function jj(_e,$,ht,vt,bt,_t){gj(_e,$);var wt=($.flags&128)!==0;if(!vt&&!wt)return bt&&dg($,ht,!1),Zi(_e,$,_t);vt=$.stateNode,Wi.current=$;var At=wt&&typeof ht.getDerivedStateFromError!="function"?null:vt.render();return $.flags|=1,_e!==null&&wt?($.child=Ug($,_e.child,null,_t),$.child=Ug($,null,At,_t)):Xi(_e,$,At,_t),$.memoizedState=vt.state,bt&&dg($,ht,!0),$.child}function kj(_e){var $=_e.stateNode;$.pendingContext?ag(_e,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(_e,$.context,!1),yh(_e,$.containerInfo)}function lj(_e,$,ht,vt,bt){return Ig(),Jg(bt),$.flags|=256,Xi(_e,$,ht,vt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,$,ht){var vt=$.pendingProps,bt=L$1.current,_t=!1,wt=($.flags&128)!==0,At;if((At=wt)||(At=_e!==null&&_e.memoizedState===null?!1:(bt&2)!==0),At?(_t=!0,$.flags&=-129):(_e===null||_e.memoizedState!==null)&&(bt|=1),G$2(L$1,bt&1),_e===null)return Eg($),_e=$.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?($.mode&1?_e.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(wt=vt.children,_e=vt.fallback,_t?(vt=$.mode,_t=$.child,wt={mode:"hidden",children:wt},!(vt&1)&&_t!==null?(_t.childLanes=0,_t.pendingProps=wt):_t=pj(wt,vt,0,null),_e=Tg(_e,vt,ht,null),_t.return=$,_e.return=$,_t.sibling=_e,$.child=_t,$.child.memoizedState=nj(ht),$.memoizedState=mj,_e):qj($,wt));if(bt=_e.memoizedState,bt!==null&&(At=bt.dehydrated,At!==null))return rj(_e,$,wt,vt,At,bt,ht);if(_t){_t=vt.fallback,wt=$.mode,bt=_e.child,At=bt.sibling;var St={mode:"hidden",children:vt.children};return!(wt&1)&&$.child!==bt?(vt=$.child,vt.childLanes=0,vt.pendingProps=St,$.deletions=null):(vt=Pg(bt,St),vt.subtreeFlags=bt.subtreeFlags&14680064),At!==null?_t=Pg(At,_t):(_t=Tg(_t,wt,ht,null),_t.flags|=2),_t.return=$,vt.return=$,vt.sibling=_t,$.child=vt,vt=_t,_t=$.child,wt=_e.child.memoizedState,wt=wt===null?nj(ht):{baseLanes:wt.baseLanes|ht,cachePool:null,transitions:wt.transitions},_t.memoizedState=wt,_t.childLanes=_e.childLanes&~ht,$.memoizedState=mj,vt}return _t=_e.child,_e=_t.sibling,vt=Pg(_t,{mode:"visible",children:vt.children}),!($.mode&1)&&(vt.lanes=ht),vt.return=$,vt.sibling=null,_e!==null&&(ht=$.deletions,ht===null?($.deletions=[_e],$.flags|=16):ht.push(_e)),$.child=vt,$.memoizedState=null,vt}function qj(_e,$){return $=pj({mode:"visible",children:$},_e.mode,0,null),$.return=_e,_e.child=$}function sj(_e,$,ht,vt){return vt!==null&&Jg(vt),Ug($,_e.child,null,ht),_e=qj($,$.pendingProps.children),_e.flags|=2,$.memoizedState=null,_e}function rj(_e,$,ht,vt,bt,_t,wt){if(ht)return $.flags&256?($.flags&=-257,vt=Ki(Error(p$5(422))),sj(_e,$,wt,vt)):$.memoizedState!==null?($.child=_e.child,$.flags|=128,null):(_t=vt.fallback,bt=$.mode,vt=pj({mode:"visible",children:vt.children},bt,0,null),_t=Tg(_t,bt,wt,null),_t.flags|=2,vt.return=$,_t.return=$,vt.sibling=_t,$.child=vt,$.mode&1&&Ug($,_e.child,null,wt),$.child.memoizedState=nj(wt),$.memoizedState=mj,_t);if(!($.mode&1))return sj(_e,$,wt,null);if(bt.data==="$!"){if(vt=bt.nextSibling&&bt.nextSibling.dataset,vt)var At=vt.dgst;return vt=At,_t=Error(p$5(419)),vt=Ki(_t,vt,void 0),sj(_e,$,wt,vt)}if(At=(wt&_e.childLanes)!==0,dh||At){if(vt=Q,vt!==null){switch(wt&-wt){case 4:bt=2;break;case 16:bt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:bt=32;break;case 536870912:bt=268435456;break;default:bt=0}bt=bt&(vt.suspendedLanes|wt)?0:bt,bt!==0&&bt!==_t.retryLane&&(_t.retryLane=bt,ih(_e,bt),gi(vt,_e,bt,-1))}return tj(),vt=Ki(Error(p$5(421))),sj(_e,$,wt,vt)}return bt.data==="$?"?($.flags|=128,$.child=_e.child,$=uj.bind(null,_e),bt._reactRetry=$,null):(_e=_t.treeContext,yg=Lf(bt.nextSibling),xg=$,I$4=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=$),$=qj($,vt.children),$.flags|=4096,$)}function vj(_e,$,ht){_e.lanes|=$;var vt=_e.alternate;vt!==null&&(vt.lanes|=$),bh(_e.return,$,ht)}function wj(_e,$,ht,vt,bt){var _t=_e.memoizedState;_t===null?_e.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:vt,tail:ht,tailMode:bt}:(_t.isBackwards=$,_t.rendering=null,_t.renderingStartTime=0,_t.last=vt,_t.tail=ht,_t.tailMode=bt)}function xj(_e,$,ht){var vt=$.pendingProps,bt=vt.revealOrder,_t=vt.tail;if(Xi(_e,$,vt.children,ht),vt=L$1.current,vt&2)vt=vt&1|2,$.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=$.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,ht,$);else if(_e.tag===19)vj(_e,ht,$);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}vt&=1}if(G$2(L$1,vt),!($.mode&1))$.memoizedState=null;else switch(bt){case"forwards":for(ht=$.child,bt=null;ht!==null;)_e=ht.alternate,_e!==null&&Ch(_e)===null&&(bt=ht),ht=ht.sibling;ht=bt,ht===null?(bt=$.child,$.child=null):(bt=ht.sibling,ht.sibling=null),wj($,!1,bt,ht,_t);break;case"backwards":for(ht=null,bt=$.child,$.child=null;bt!==null;){if(_e=bt.alternate,_e!==null&&Ch(_e)===null){$.child=bt;break}_e=bt.sibling,bt.sibling=ht,ht=bt,bt=_e}wj($,!0,ht,null,_t);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(_e,$){!($.mode&1)&&_e!==null&&(_e.alternate=null,$.alternate=null,$.flags|=2)}function Zi(_e,$,ht){if(_e!==null&&($.dependencies=_e.dependencies),rh|=$.lanes,!(ht&$.childLanes))return null;if(_e!==null&&$.child!==_e.child)throw Error(p$5(153));if($.child!==null){for(_e=$.child,ht=Pg(_e,_e.pendingProps),$.child=ht,ht.return=$;_e.sibling!==null;)_e=_e.sibling,ht=ht.sibling=Pg(_e,_e.pendingProps),ht.return=$;ht.sibling=null}return $.child}function yj(_e,$,ht){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var vt=$.type._context,bt=$.memoizedProps.value;G$2(Wg,vt._currentValue),vt._currentValue=bt;break;case 13:if(vt=$.memoizedState,vt!==null)return vt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):ht&$.child.childLanes?oj(_e,$,ht):(G$2(L$1,L$1.current&1),_e=Zi(_e,$,ht),_e!==null?_e.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(vt=(ht&$.childLanes)!==0,_e.flags&128){if(vt)return xj(_e,$,ht);$.flags|=128}if(bt=$.memoizedState,bt!==null&&(bt.rendering=null,bt.tail=null,bt.lastEffect=null),G$2(L$1,L$1.current),vt)break;return null;case 22:case 23:return $.lanes=0,dj(_e,$,ht)}return Zi(_e,$,ht)}var zj,Aj,Bj,Cj;zj=function(_e,$){for(var ht=$.child;ht!==null;){if(ht.tag===5||ht.tag===6)_e.appendChild(ht.stateNode);else if(ht.tag!==4&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===$)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===$)return;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}};Aj=function(){};Bj=function(_e,$,ht,vt){var bt=_e.memoizedProps;if(bt!==vt){_e=$.stateNode,xh(uh.current);var _t=null;switch(ht){case"input":bt=Ya(_e,bt),vt=Ya(_e,vt),_t=[];break;case"select":bt=A$3({},bt,{value:void 0}),vt=A$3({},vt,{value:void 0}),_t=[];break;case"textarea":bt=gb(_e,bt),vt=gb(_e,vt),_t=[];break;default:typeof bt.onClick!="function"&&typeof vt.onClick=="function"&&(_e.onclick=Bf)}ub(ht,vt);var wt;ht=null;for(Et in bt)if(!vt.hasOwnProperty(Et)&&bt.hasOwnProperty(Et)&&bt[Et]!=null)if(Et==="style"){var At=bt[Et];for(wt in At)At.hasOwnProperty(wt)&&(ht||(ht={}),ht[wt]="")}else Et!=="dangerouslySetInnerHTML"&&Et!=="children"&&Et!=="suppressContentEditableWarning"&&Et!=="suppressHydrationWarning"&&Et!=="autoFocus"&&(ea.hasOwnProperty(Et)?_t||(_t=[]):(_t=_t||[]).push(Et,null));for(Et in vt){var St=vt[Et];if(At=bt!=null?bt[Et]:void 0,vt.hasOwnProperty(Et)&&St!==At&&(St!=null||At!=null))if(Et==="style")if(At){for(wt in At)!At.hasOwnProperty(wt)||St&&St.hasOwnProperty(wt)||(ht||(ht={}),ht[wt]="");for(wt in St)St.hasOwnProperty(wt)&&At[wt]!==St[wt]&&(ht||(ht={}),ht[wt]=St[wt])}else ht||(_t||(_t=[]),_t.push(Et,ht)),ht=St;else Et==="dangerouslySetInnerHTML"?(St=St?St.__html:void 0,At=At?At.__html:void 0,St!=null&&At!==St&&(_t=_t||[]).push(Et,St)):Et==="children"?typeof St!="string"&&typeof St!="number"||(_t=_t||[]).push(Et,""+St):Et!=="suppressContentEditableWarning"&&Et!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Et)?(St!=null&&Et==="onScroll"&&D$4("scroll",_e),_t||At===St||(_t=[])):(_t=_t||[]).push(Et,St))}ht&&(_t=_t||[]).push("style",ht);var Et=_t;($.updateQueue=Et)&&($.flags|=4)}};Cj=function(_e,$,ht,vt){ht!==vt&&($.flags|=4)};function Dj(_e,$){if(!I$4)switch(_e.tailMode){case"hidden":$=_e.tail;for(var ht=null;$!==null;)$.alternate!==null&&(ht=$),$=$.sibling;ht===null?_e.tail=null:ht.sibling=null;break;case"collapsed":ht=_e.tail;for(var vt=null;ht!==null;)ht.alternate!==null&&(vt=ht),ht=ht.sibling;vt===null?$||_e.tail===null?_e.tail=null:_e.tail.sibling=null:vt.sibling=null}}function S$4(_e){var $=_e.alternate!==null&&_e.alternate.child===_e.child,ht=0,vt=0;if($)for(var bt=_e.child;bt!==null;)ht|=bt.lanes|bt.childLanes,vt|=bt.subtreeFlags&14680064,vt|=bt.flags&14680064,bt.return=_e,bt=bt.sibling;else for(bt=_e.child;bt!==null;)ht|=bt.lanes|bt.childLanes,vt|=bt.subtreeFlags,vt|=bt.flags,bt.return=_e,bt=bt.sibling;return _e.subtreeFlags|=vt,_e.childLanes=ht,$}function Ej(_e,$,ht){var vt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return vt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(_e===null||_e.child===null)&&(Gg($)?$.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,$),S$4($),null;case 5:Bh($);var bt=xh(wh.current);if(ht=$.type,_e!==null&&$.stateNode!=null)Bj(_e,$,ht,vt,bt),_e.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!vt){if($.stateNode===null)throw Error(p$5(166));return S$4($),null}if(_e=xh(uh.current),Gg($)){vt=$.stateNode,ht=$.type;var _t=$.memoizedProps;switch(vt[Of]=$,vt[Pf]=_t,_e=($.mode&1)!==0,ht){case"dialog":D$4("cancel",vt),D$4("close",vt);break;case"iframe":case"object":case"embed":D$4("load",vt);break;case"video":case"audio":for(bt=0;bt<lf.length;bt++)D$4(lf[bt],vt);break;case"source":D$4("error",vt);break;case"img":case"image":case"link":D$4("error",vt),D$4("load",vt);break;case"details":D$4("toggle",vt);break;case"input":Za(vt,_t),D$4("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!_t.multiple},D$4("invalid",vt);break;case"textarea":hb(vt,_t),D$4("invalid",vt)}ub(ht,_t),bt=null;for(var wt in _t)if(_t.hasOwnProperty(wt)){var At=_t[wt];wt==="children"?typeof At=="string"?vt.textContent!==At&&(_t.suppressHydrationWarning!==!0&&Af(vt.textContent,At,_e),bt=["children",At]):typeof At=="number"&&vt.textContent!==""+At&&(_t.suppressHydrationWarning!==!0&&Af(vt.textContent,At,_e),bt=["children",""+At]):ea.hasOwnProperty(wt)&&At!=null&&wt==="onScroll"&&D$4("scroll",vt)}switch(ht){case"input":Va(vt),db(vt,_t,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof _t.onClick=="function"&&(vt.onclick=Bf)}vt=bt,$.updateQueue=vt,vt!==null&&($.flags|=4)}else{wt=bt.nodeType===9?bt:bt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(ht)),_e==="http://www.w3.org/1999/xhtml"?ht==="script"?(_e=wt.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof vt.is=="string"?_e=wt.createElement(ht,{is:vt.is}):(_e=wt.createElement(ht),ht==="select"&&(wt=_e,vt.multiple?wt.multiple=!0:vt.size&&(wt.size=vt.size))):_e=wt.createElementNS(_e,ht),_e[Of]=$,_e[Pf]=vt,zj(_e,$,!1,!1),$.stateNode=_e;e:{switch(wt=vb(ht,vt),ht){case"dialog":D$4("cancel",_e),D$4("close",_e),bt=vt;break;case"iframe":case"object":case"embed":D$4("load",_e),bt=vt;break;case"video":case"audio":for(bt=0;bt<lf.length;bt++)D$4(lf[bt],_e);bt=vt;break;case"source":D$4("error",_e),bt=vt;break;case"img":case"image":case"link":D$4("error",_e),D$4("load",_e),bt=vt;break;case"details":D$4("toggle",_e),bt=vt;break;case"input":Za(_e,vt),bt=Ya(_e,vt),D$4("invalid",_e);break;case"option":bt=vt;break;case"select":_e._wrapperState={wasMultiple:!!vt.multiple},bt=A$3({},vt,{value:void 0}),D$4("invalid",_e);break;case"textarea":hb(_e,vt),bt=gb(_e,vt),D$4("invalid",_e);break;default:bt=vt}ub(ht,bt),At=bt;for(_t in At)if(At.hasOwnProperty(_t)){var St=At[_t];_t==="style"?sb(_e,St):_t==="dangerouslySetInnerHTML"?(St=St?St.__html:void 0,St!=null&&nb(_e,St)):_t==="children"?typeof St=="string"?(ht!=="textarea"||St!=="")&&ob(_e,St):typeof St=="number"&&ob(_e,""+St):_t!=="suppressContentEditableWarning"&&_t!=="suppressHydrationWarning"&&_t!=="autoFocus"&&(ea.hasOwnProperty(_t)?St!=null&&_t==="onScroll"&&D$4("scroll",_e):St!=null&&ta(_e,_t,St,wt))}switch(ht){case"input":Va(_e),db(_e,vt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":vt.value!=null&&_e.setAttribute("value",""+Sa(vt.value));break;case"select":_e.multiple=!!vt.multiple,_t=vt.value,_t!=null?fb(_e,!!vt.multiple,_t,!1):vt.defaultValue!=null&&fb(_e,!!vt.multiple,vt.defaultValue,!0);break;default:typeof bt.onClick=="function"&&(_e.onclick=Bf)}switch(ht){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break e;case"img":vt=!0;break e;default:vt=!1}}vt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(_e&&$.stateNode!=null)Cj(_e,$,_e.memoizedProps,vt);else{if(typeof vt!="string"&&$.stateNode===null)throw Error(p$5(166));if(ht=xh(wh.current),xh(uh.current),Gg($)){if(vt=$.stateNode,ht=$.memoizedProps,vt[Of]=$,(_t=vt.nodeValue!==ht)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(vt.nodeValue,ht,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(vt.nodeValue,ht,(_e.mode&1)!==0)}_t&&($.flags|=4)}else vt=(ht.nodeType===9?ht:ht.ownerDocument).createTextNode(vt),vt[Of]=$,$.stateNode=vt}return S$4($),null;case 13:if(E$1(L$1),vt=$.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,_t=!1;else if(_t=Gg($),vt!==null&&vt.dehydrated!==null){if(_e===null){if(!_t)throw Error(p$5(318));if(_t=$.memoizedState,_t=_t!==null?_t.dehydrated:null,!_t)throw Error(p$5(317));_t[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),_t=!1}else zg!==null&&(Fj(zg),zg=null),_t=!0;if(!_t)return $.flags&65536?$:null}return $.flags&128?($.lanes=ht,$):(vt=vt!==null,vt!==(_e!==null&&_e.memoizedState!==null)&&vt&&($.child.flags|=8192,$.mode&1&&(_e===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(_e,$),_e===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),_t=$.memoizedState,_t===null)return S$4($),null;if(vt=($.flags&128)!==0,wt=_t.rendering,wt===null)if(vt)Dj(_t,!1);else{if(T$3!==0||_e!==null&&_e.flags&128)for(_e=$.child;_e!==null;){if(wt=Ch(_e),wt!==null){for($.flags|=128,Dj(_t,!1),vt=wt.updateQueue,vt!==null&&($.updateQueue=vt,$.flags|=4),$.subtreeFlags=0,vt=ht,ht=$.child;ht!==null;)_t=ht,_e=vt,_t.flags&=14680066,wt=_t.alternate,wt===null?(_t.childLanes=0,_t.lanes=_e,_t.child=null,_t.subtreeFlags=0,_t.memoizedProps=null,_t.memoizedState=null,_t.updateQueue=null,_t.dependencies=null,_t.stateNode=null):(_t.childLanes=wt.childLanes,_t.lanes=wt.lanes,_t.child=wt.child,_t.subtreeFlags=0,_t.deletions=null,_t.memoizedProps=wt.memoizedProps,_t.memoizedState=wt.memoizedState,_t.updateQueue=wt.updateQueue,_t.type=wt.type,_e=wt.dependencies,_t.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),ht=ht.sibling;return G$2(L$1,L$1.current&1|2),$.child}_e=_e.sibling}_t.tail!==null&&B$1()>Gj&&($.flags|=128,vt=!0,Dj(_t,!1),$.lanes=4194304)}else{if(!vt)if(_e=Ch(wt),_e!==null){if($.flags|=128,vt=!0,ht=_e.updateQueue,ht!==null&&($.updateQueue=ht,$.flags|=4),Dj(_t,!0),_t.tail===null&&_t.tailMode==="hidden"&&!wt.alternate&&!I$4)return S$4($),null}else 2*B$1()-_t.renderingStartTime>Gj&&ht!==1073741824&&($.flags|=128,vt=!0,Dj(_t,!1),$.lanes=4194304);_t.isBackwards?(wt.sibling=$.child,$.child=wt):(ht=_t.last,ht!==null?ht.sibling=wt:$.child=wt,_t.last=wt)}return _t.tail!==null?($=_t.tail,_t.rendering=$,_t.tail=$.sibling,_t.renderingStartTime=B$1(),$.sibling=null,ht=L$1.current,G$2(L$1,vt?ht&1|2:ht&1),$):(S$4($),null);case 22:case 23:return Hj(),vt=$.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==vt&&($.flags|=8192),vt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$5(156,$.tag))}function Ij(_e,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),_e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),_e=$.flags,_e&65536&&!(_e&128)?($.flags=_e&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),_e=$.memoizedState,_e!==null&&_e.dehydrated!==null){if($.alternate===null)throw Error(p$5(340));Ig()}return _e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,$){var ht=_e.ref;if(ht!==null)if(typeof ht=="function")try{ht(null)}catch(vt){W$2(_e,$,vt)}else ht.current=null}function Mj(_e,$,ht){try{ht()}catch(vt){W$2(_e,$,vt)}}var Nj=!1;function Oj(_e,$){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var ht={start:_e.selectionStart,end:_e.selectionEnd};else e:{ht=(ht=_e.ownerDocument)&&ht.defaultView||window;var vt=ht.getSelection&&ht.getSelection();if(vt&&vt.rangeCount!==0){ht=vt.anchorNode;var bt=vt.anchorOffset,_t=vt.focusNode;vt=vt.focusOffset;try{ht.nodeType,_t.nodeType}catch{ht=null;break e}var wt=0,At=-1,St=-1,Et=0,xt=0,Pt=_e,$t=null;t:for(;;){for(var kt;Pt!==ht||bt!==0&&Pt.nodeType!==3||(At=wt+bt),Pt!==_t||vt!==0&&Pt.nodeType!==3||(St=wt+vt),Pt.nodeType===3&&(wt+=Pt.nodeValue.length),(kt=Pt.firstChild)!==null;)$t=Pt,Pt=kt;for(;;){if(Pt===_e)break t;if($t===ht&&++Et===bt&&(At=wt),$t===_t&&++xt===vt&&(St=wt),(kt=Pt.nextSibling)!==null)break;Pt=$t,$t=Pt.parentNode}Pt=kt}ht=At===-1||St===-1?null:{start:At,end:St}}else ht=null}ht=ht||{start:0,end:0}}else ht=null;for(Df={focusedElem:_e,selectionRange:ht},dd=!1,V$1=$;V$1!==null;)if($=V$1,_e=$.child,($.subtreeFlags&1028)!==0&&_e!==null)_e.return=$,V$1=_e;else for(;V$1!==null;){$=V$1;try{var Rt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(Rt!==null){var Mt=Rt.memoizedProps,Dt=Rt.memoizedState,Ot=$.stateNode,Lt=Ot.getSnapshotBeforeUpdate($.elementType===$.type?Mt:Ci($.type,Mt),Dt);Ot.__reactInternalSnapshotBeforeUpdate=Lt}break;case 3:var Nt=$.stateNode.containerInfo;Nt.nodeType===1?Nt.textContent="":Nt.nodeType===9&&Nt.documentElement&&Nt.removeChild(Nt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(Ht){W$2($,$.return,Ht)}if(_e=$.sibling,_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}return Rt=Nj,Nj=!1,Rt}function Pj(_e,$,ht){var vt=$.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var bt=vt=vt.next;do{if((bt.tag&_e)===_e){var _t=bt.destroy;bt.destroy=void 0,_t!==void 0&&Mj($,ht,_t)}bt=bt.next}while(bt!==vt)}}function Qj(_e,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var ht=$=$.next;do{if((ht.tag&_e)===_e){var vt=ht.create;ht.destroy=vt()}ht=ht.next}while(ht!==$)}}function Rj(_e){var $=_e.ref;if($!==null){var ht=_e.stateNode;switch(_e.tag){case 5:_e=ht;break;default:_e=ht}typeof $=="function"?$(_e):$.current=_e}}function Sj(_e){var $=_e.alternate;$!==null&&(_e.alternate=null,Sj($)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&($=_e.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,$,ht){var vt=_e.tag;if(vt===5||vt===6)_e=_e.stateNode,$?ht.nodeType===8?ht.parentNode.insertBefore(_e,$):ht.insertBefore(_e,$):(ht.nodeType===8?($=ht.parentNode,$.insertBefore(_e,ht)):($=ht,$.appendChild(_e)),ht=ht._reactRootContainer,ht!=null||$.onclick!==null||($.onclick=Bf));else if(vt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,$,ht),_e=_e.sibling;_e!==null;)Vj(_e,$,ht),_e=_e.sibling}function Wj(_e,$,ht){var vt=_e.tag;if(vt===5||vt===6)_e=_e.stateNode,$?ht.insertBefore(_e,$):ht.appendChild(_e);else if(vt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,$,ht),_e=_e.sibling;_e!==null;)Wj(_e,$,ht),_e=_e.sibling}var X$1=null,Xj=!1;function Yj(_e,$,ht){for(ht=ht.child;ht!==null;)Zj(_e,$,ht),ht=ht.sibling}function Zj(_e,$,ht){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,ht)}catch{}switch(ht.tag){case 5:U$2||Lj(ht,$);case 6:var vt=X$1,bt=Xj;X$1=null,Yj(_e,$,ht),X$1=vt,Xj=bt,X$1!==null&&(Xj?(_e=X$1,ht=ht.stateNode,_e.nodeType===8?_e.parentNode.removeChild(ht):_e.removeChild(ht)):X$1.removeChild(ht.stateNode));break;case 18:X$1!==null&&(Xj?(_e=X$1,ht=ht.stateNode,_e.nodeType===8?Kf(_e.parentNode,ht):_e.nodeType===1&&Kf(_e,ht),bd(_e)):Kf(X$1,ht.stateNode));break;case 4:vt=X$1,bt=Xj,X$1=ht.stateNode.containerInfo,Xj=!0,Yj(_e,$,ht),X$1=vt,Xj=bt;break;case 0:case 11:case 14:case 15:if(!U$2&&(vt=ht.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){bt=vt=vt.next;do{var _t=bt,wt=_t.destroy;_t=_t.tag,wt!==void 0&&(_t&2||_t&4)&&Mj(ht,$,wt),bt=bt.next}while(bt!==vt)}Yj(_e,$,ht);break;case 1:if(!U$2&&(Lj(ht,$),vt=ht.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=ht.memoizedProps,vt.state=ht.memoizedState,vt.componentWillUnmount()}catch(At){W$2(ht,$,At)}Yj(_e,$,ht);break;case 21:Yj(_e,$,ht);break;case 22:ht.mode&1?(U$2=(vt=U$2)||ht.memoizedState!==null,Yj(_e,$,ht),U$2=vt):Yj(_e,$,ht);break;default:Yj(_e,$,ht)}}function ak(_e){var $=_e.updateQueue;if($!==null){_e.updateQueue=null;var ht=_e.stateNode;ht===null&&(ht=_e.stateNode=new Kj),$.forEach(function(vt){var bt=bk.bind(null,_e,vt);ht.has(vt)||(ht.add(vt),vt.then(bt,bt))})}}function ck(_e,$){var ht=$.deletions;if(ht!==null)for(var vt=0;vt<ht.length;vt++){var bt=ht[vt];try{var _t=_e,wt=$,At=wt;e:for(;At!==null;){switch(At.tag){case 5:X$1=At.stateNode,Xj=!1;break e;case 3:X$1=At.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=At.stateNode.containerInfo,Xj=!0;break e}At=At.return}if(X$1===null)throw Error(p$5(160));Zj(_t,wt,bt),X$1=null,Xj=!1;var St=bt.alternate;St!==null&&(St.return=null),bt.return=null}catch(Et){W$2(bt,$,Et)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,_e),$=$.sibling}function dk(_e,$){var ht=_e.alternate,vt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck($,_e),ek(_e),vt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(Mt){W$2(_e,_e.return,Mt)}try{Pj(5,_e,_e.return)}catch(Mt){W$2(_e,_e.return,Mt)}}break;case 1:ck($,_e),ek(_e),vt&512&&ht!==null&&Lj(ht,ht.return);break;case 5:if(ck($,_e),ek(_e),vt&512&&ht!==null&&Lj(ht,ht.return),_e.flags&32){var bt=_e.stateNode;try{ob(bt,"")}catch(Mt){W$2(_e,_e.return,Mt)}}if(vt&4&&(bt=_e.stateNode,bt!=null)){var _t=_e.memoizedProps,wt=ht!==null?ht.memoizedProps:_t,At=_e.type,St=_e.updateQueue;if(_e.updateQueue=null,St!==null)try{At==="input"&&_t.type==="radio"&&_t.name!=null&&ab(bt,_t),vb(At,wt);var Et=vb(At,_t);for(wt=0;wt<St.length;wt+=2){var xt=St[wt],Pt=St[wt+1];xt==="style"?sb(bt,Pt):xt==="dangerouslySetInnerHTML"?nb(bt,Pt):xt==="children"?ob(bt,Pt):ta(bt,xt,Pt,Et)}switch(At){case"input":bb(bt,_t);break;case"textarea":ib(bt,_t);break;case"select":var $t=bt._wrapperState.wasMultiple;bt._wrapperState.wasMultiple=!!_t.multiple;var kt=_t.value;kt!=null?fb(bt,!!_t.multiple,kt,!1):$t!==!!_t.multiple&&(_t.defaultValue!=null?fb(bt,!!_t.multiple,_t.defaultValue,!0):fb(bt,!!_t.multiple,_t.multiple?[]:"",!1))}bt[Pf]=_t}catch(Mt){W$2(_e,_e.return,Mt)}}break;case 6:if(ck($,_e),ek(_e),vt&4){if(_e.stateNode===null)throw Error(p$5(162));bt=_e.stateNode,_t=_e.memoizedProps;try{bt.nodeValue=_t}catch(Mt){W$2(_e,_e.return,Mt)}}break;case 3:if(ck($,_e),ek(_e),vt&4&&ht!==null&&ht.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Mt){W$2(_e,_e.return,Mt)}break;case 4:ck($,_e),ek(_e);break;case 13:ck($,_e),ek(_e),bt=_e.child,bt.flags&8192&&(_t=bt.memoizedState!==null,bt.stateNode.isHidden=_t,!_t||bt.alternate!==null&&bt.alternate.memoizedState!==null||(fk=B$1())),vt&4&&ak(_e);break;case 22:if(xt=ht!==null&&ht.memoizedState!==null,_e.mode&1?(U$2=(Et=U$2)||xt,ck($,_e),U$2=Et):ck($,_e),ek(_e),vt&8192){if(Et=_e.memoizedState!==null,(_e.stateNode.isHidden=Et)&&!xt&&_e.mode&1)for(V$1=_e,xt=_e.child;xt!==null;){for(Pt=V$1=xt;V$1!==null;){switch($t=V$1,kt=$t.child,$t.tag){case 0:case 11:case 14:case 15:Pj(4,$t,$t.return);break;case 1:Lj($t,$t.return);var Rt=$t.stateNode;if(typeof Rt.componentWillUnmount=="function"){vt=$t,ht=$t.return;try{$=vt,Rt.props=$.memoizedProps,Rt.state=$.memoizedState,Rt.componentWillUnmount()}catch(Mt){W$2(vt,ht,Mt)}}break;case 5:Lj($t,$t.return);break;case 22:if($t.memoizedState!==null){gk(Pt);continue}}kt!==null?(kt.return=$t,V$1=kt):gk(Pt)}xt=xt.sibling}e:for(xt=null,Pt=_e;;){if(Pt.tag===5){if(xt===null){xt=Pt;try{bt=Pt.stateNode,Et?(_t=bt.style,typeof _t.setProperty=="function"?_t.setProperty("display","none","important"):_t.display="none"):(At=Pt.stateNode,St=Pt.memoizedProps.style,wt=St!=null&&St.hasOwnProperty("display")?St.display:null,At.style.display=rb("display",wt))}catch(Mt){W$2(_e,_e.return,Mt)}}}else if(Pt.tag===6){if(xt===null)try{Pt.stateNode.nodeValue=Et?"":Pt.memoizedProps}catch(Mt){W$2(_e,_e.return,Mt)}}else if((Pt.tag!==22&&Pt.tag!==23||Pt.memoizedState===null||Pt===_e)&&Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===_e)break e;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===_e)break e;xt===Pt&&(xt=null),Pt=Pt.return}xt===Pt&&(xt=null),Pt.sibling.return=Pt.return,Pt=Pt.sibling}}break;case 19:ck($,_e),ek(_e),vt&4&&ak(_e);break;case 21:break;default:ck($,_e),ek(_e)}}function ek(_e){var $=_e.flags;if($&2){try{e:{for(var ht=_e.return;ht!==null;){if(Tj(ht)){var vt=ht;break e}ht=ht.return}throw Error(p$5(160))}switch(vt.tag){case 5:var bt=vt.stateNode;vt.flags&32&&(ob(bt,""),vt.flags&=-33);var _t=Uj(_e);Wj(_e,_t,bt);break;case 3:case 4:var wt=vt.stateNode.containerInfo,At=Uj(_e);Vj(_e,At,wt);break;default:throw Error(p$5(161))}}catch(St){W$2(_e,_e.return,St)}_e.flags&=-3}$&4096&&(_e.flags&=-4097)}function hk(_e,$,ht){V$1=_e,ik(_e)}function ik(_e,$,ht){for(var vt=(_e.mode&1)!==0;V$1!==null;){var bt=V$1,_t=bt.child;if(bt.tag===22&&vt){var wt=bt.memoizedState!==null||Jj;if(!wt){var At=bt.alternate,St=At!==null&&At.memoizedState!==null||U$2;At=Jj;var Et=U$2;if(Jj=wt,(U$2=St)&&!Et)for(V$1=bt;V$1!==null;)wt=V$1,St=wt.child,wt.tag===22&&wt.memoizedState!==null?jk(bt):St!==null?(St.return=wt,V$1=St):jk(bt);for(;_t!==null;)V$1=_t,ik(_t),_t=_t.sibling;V$1=bt,Jj=At,U$2=Et}kk(_e)}else bt.subtreeFlags&8772&&_t!==null?(_t.return=bt,V$1=_t):kk(_e)}}function kk(_e){for(;V$1!==null;){var $=V$1;if($.flags&8772){var ht=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var vt=$.stateNode;if($.flags&4&&!U$2)if(ht===null)vt.componentDidMount();else{var bt=$.elementType===$.type?ht.memoizedProps:Ci($.type,ht.memoizedProps);vt.componentDidUpdate(bt,ht.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var _t=$.updateQueue;_t!==null&&sh($,_t,vt);break;case 3:var wt=$.updateQueue;if(wt!==null){if(ht=null,$.child!==null)switch($.child.tag){case 5:ht=$.child.stateNode;break;case 1:ht=$.child.stateNode}sh($,wt,ht)}break;case 5:var At=$.stateNode;if(ht===null&&$.flags&4){ht=At;var St=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":St.autoFocus&&ht.focus();break;case"img":St.src&&(ht.src=St.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var Et=$.alternate;if(Et!==null){var xt=Et.memoizedState;if(xt!==null){var Pt=xt.dehydrated;Pt!==null&&bd(Pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$2||$.flags&512&&Rj($)}catch($t){W$2($,$.return,$t)}}if($===_e){V$1=null;break}if(ht=$.sibling,ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function gk(_e){for(;V$1!==null;){var $=V$1;if($===_e){V$1=null;break}var ht=$.sibling;if(ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function jk(_e){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var ht=$.return;try{Qj(4,$)}catch(St){W$2($,ht,St)}break;case 1:var vt=$.stateNode;if(typeof vt.componentDidMount=="function"){var bt=$.return;try{vt.componentDidMount()}catch(St){W$2($,bt,St)}}var _t=$.return;try{Rj($)}catch(St){W$2($,_t,St)}break;case 5:var wt=$.return;try{Rj($)}catch(St){W$2($,wt,St)}}}catch(St){W$2($,$.return,St)}if($===_e){V$1=null;break}var At=$.sibling;if(At!==null){At.return=$.return,V$1=At;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(_e){return _e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,$,ht,vt){if(50<yk)throw yk=0,zk=null,Error(p$5(185));Ac(_e,ht,vt),(!(K&2)||_e!==Q)&&(_e===Q&&(!(K&2)&&(qk|=ht),T$3===4&&Ck(_e,Z)),Dk(_e,vt),ht===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(_e,$){var ht=_e.callbackNode;wc(_e,$);var vt=uc(_e,_e===Q?Z:0);if(vt===0)ht!==null&&bc(ht),_e.callbackNode=null,_e.callbackPriority=0;else if($=vt&-vt,_e.callbackPriority!==$){if(ht!=null&&bc(ht),$===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),ht=null;else{switch(Dc(vt)){case 1:ht=fc;break;case 4:ht=gc;break;case 16:ht=hc;break;case 536870912:ht=jc;break;default:ht=hc}ht=Fk(ht,Gk.bind(null,_e))}_e.callbackPriority=$,_e.callbackNode=ht}}function Gk(_e,$){if(Ak=-1,Bk=0,K&6)throw Error(p$5(327));var ht=_e.callbackNode;if(Hk()&&_e.callbackNode!==ht)return null;var vt=uc(_e,_e===Q?Z:0);if(vt===0)return null;if(vt&30||vt&_e.expiredLanes||$)$=Ik(_e,vt);else{$=vt;var bt=K;K|=2;var _t=Jk();(Q!==_e||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(_e,$));do try{Lk();break}catch(At){Mk(_e,At)}while(!0);$g(),mk.current=_t,K=bt,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(bt=xc(_e),bt!==0&&(vt=bt,$=Nk(_e,bt))),$===1)throw ht=pk,Kk(_e,0),Ck(_e,vt),Dk(_e,B$1()),ht;if($===6)Ck(_e,vt);else{if(bt=_e.current.alternate,!(vt&30)&&!Ok(bt)&&($=Ik(_e,vt),$===2&&(_t=xc(_e),_t!==0&&(vt=_t,$=Nk(_e,_t))),$===1))throw ht=pk,Kk(_e,0),Ck(_e,vt),Dk(_e,B$1()),ht;switch(_e.finishedWork=bt,_e.finishedLanes=vt,$){case 0:case 1:throw Error(p$5(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,vt),(vt&130023424)===vt&&($=fk+500-B$1(),10<$)){if(uc(_e,0)!==0)break;if(bt=_e.suspendedLanes,(bt&vt)!==vt){R$1(),_e.pingedLanes|=_e.suspendedLanes&bt;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),$);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,vt),(vt&4194240)===vt)break;for($=_e.eventTimes,bt=-1;0<vt;){var wt=31-oc(vt);_t=1<<wt,wt=$[wt],wt>bt&&(bt=wt),vt&=~_t}if(vt=bt,vt=B$1()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*lk(vt/1960))-vt,10<vt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),vt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$5(329))}}}return Dk(_e,B$1()),_e.callbackNode===ht?Gk.bind(null,_e):null}function Nk(_e,$){var ht=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,$).flags|=256),_e=Ik(_e,$),_e!==2&&($=tk,tk=ht,$!==null&&Fj($)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var $=_e;;){if($.flags&16384){var ht=$.updateQueue;if(ht!==null&&(ht=ht.stores,ht!==null))for(var vt=0;vt<ht.length;vt++){var bt=ht[vt],_t=bt.getSnapshot;bt=bt.value;try{if(!He(_t(),bt))return!1}catch{return!1}}}if(ht=$.child,$.subtreeFlags&16384&&ht!==null)ht.return=$,$=ht;else{if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(_e,$){for($&=~rk,$&=~qk,_e.suspendedLanes|=$,_e.pingedLanes&=~$,_e=_e.expirationTimes;0<$;){var ht=31-oc($),vt=1<<ht;_e[ht]=-1,$&=~vt}}function Ek(_e){if(K&6)throw Error(p$5(327));Hk();var $=uc(_e,0);if(!($&1))return Dk(_e,B$1()),null;var ht=Ik(_e,$);if(_e.tag!==0&&ht===2){var vt=xc(_e);vt!==0&&($=vt,ht=Nk(_e,vt))}if(ht===1)throw ht=pk,Kk(_e,0),Ck(_e,$),Dk(_e,B$1()),ht;if(ht===6)throw Error(p$5(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=$,Pk(_e,tk,uk),Dk(_e,B$1()),null}function Qk(_e,$){var ht=K;K|=1;try{return _e($)}finally{K=ht,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var ht=ok.transition,vt=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=vt,ok.transition=ht,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(_e,$){_e.finishedWork=null,_e.finishedLanes=0;var ht=_e.timeoutHandle;if(ht!==-1&&(_e.timeoutHandle=-1,Gf(ht)),Y!==null)for(ht=Y.return;ht!==null;){var vt=ht;switch(wg(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(vt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(vt.type._context);break;case 22:case 23:Hj()}ht=ht.return}if(Q=_e,Y=_e=Pg(_e.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(ht=fh[$],vt=ht.interleaved,vt!==null){ht.interleaved=null;var bt=vt.next,_t=ht.pending;if(_t!==null){var wt=_t.next;_t.next=bt,vt.next=wt}ht.pending=vt}fh=null}return _e}function Mk(_e,$){do{var ht=Y;try{if($g(),Fh.current=Rh,Ih){for(var vt=M$3.memoizedState;vt!==null;){var bt=vt.queue;bt!==null&&(bt.pending=null),vt=vt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,ht===null||ht.return===null){T$3=1,pk=$,Y=null;break}e:{var _t=_e,wt=ht.return,At=ht,St=$;if($=Z,At.flags|=32768,St!==null&&typeof St=="object"&&typeof St.then=="function"){var Et=St,xt=At,Pt=xt.tag;if(!(xt.mode&1)&&(Pt===0||Pt===11||Pt===15)){var $t=xt.alternate;$t?(xt.updateQueue=$t.updateQueue,xt.memoizedState=$t.memoizedState,xt.lanes=$t.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var kt=Ui(wt);if(kt!==null){kt.flags&=-257,Vi(kt,wt,At,_t,$),kt.mode&1&&Si(_t,Et,$),$=kt,St=Et;var Rt=$.updateQueue;if(Rt===null){var Mt=new Set;Mt.add(St),$.updateQueue=Mt}else Rt.add(St);break e}else{if(!($&1)){Si(_t,Et,$),tj();break e}St=Error(p$5(426))}}else if(I$4&&At.mode&1){var Dt=Ui(wt);if(Dt!==null){!(Dt.flags&65536)&&(Dt.flags|=256),Vi(Dt,wt,At,_t,$),Jg(Ji(St,At));break e}}_t=St=Ji(St,At),T$3!==4&&(T$3=2),sk===null?sk=[_t]:sk.push(_t),_t=wt;do{switch(_t.tag){case 3:_t.flags|=65536,$&=-$,_t.lanes|=$;var Ot=Ni(_t,St,$);ph(_t,Ot);break e;case 1:At=St;var Lt=_t.type,Nt=_t.stateNode;if(!(_t.flags&128)&&(typeof Lt.getDerivedStateFromError=="function"||Nt!==null&&typeof Nt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Nt)))){_t.flags|=65536,$&=-$,_t.lanes|=$;var Ht=Qi(_t,At,$);ph(_t,Ht);break e}}_t=_t.return}while(_t!==null)}Sk(ht)}catch(Ft){$=Ft,Y===ht&&ht!==null&&(Y=ht=ht.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(_e,$){var ht=K;K|=2;var vt=Jk();(Q!==_e||Z!==$)&&(uk=null,Kk(_e,$));do try{Tk();break}catch(bt){Mk(_e,bt)}while(!0);if($g(),K=ht,mk.current=vt,Y!==null)throw Error(p$5(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(_e){var $=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,$===null?Sk(_e):Y=$,nk.current=null}function Sk(_e){var $=_e;do{var ht=$.alternate;if(_e=$.return,$.flags&32768){if(ht=Ij(ht,$),ht!==null){ht.flags&=32767,Y=ht;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$3=6,Y=null;return}}else if(ht=Ej(ht,$,fj),ht!==null){Y=ht;return}if($=$.sibling,$!==null){Y=$;return}Y=$=_e}while($!==null);T$3===0&&(T$3=5)}function Pk(_e,$,ht){var vt=C$1,bt=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,$,ht,vt)}finally{ok.transition=bt,C$1=vt}return null}function Wk(_e,$,ht,vt){do Hk();while(wk!==null);if(K&6)throw Error(p$5(327));ht=_e.finishedWork;var bt=_e.finishedLanes;if(ht===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,ht===_e.current)throw Error(p$5(177));_e.callbackNode=null,_e.callbackPriority=0;var _t=ht.lanes|ht.childLanes;if(Bc(_e,_t),_e===Q&&(Y=Q=null,Z=0),!(ht.subtreeFlags&2064)&&!(ht.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),_t=(ht.flags&15990)!==0,ht.subtreeFlags&15990||_t){_t=ok.transition,ok.transition=null;var wt=C$1;C$1=1;var At=K;K|=4,nk.current=null,Oj(_e,ht),dk(ht,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=ht,hk(ht),dc(),K=At,C$1=wt,ok.transition=_t}else _e.current=ht;if(vk&&(vk=!1,wk=_e,xk=bt),_t=_e.pendingLanes,_t===0&&(Ri=null),mc(ht.stateNode),Dk(_e,B$1()),$!==null)for(vt=_e.onRecoverableError,ht=0;ht<$.length;ht++)bt=$[ht],vt(bt.value,{componentStack:bt.stack,digest:bt.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),_t=_e.pendingLanes,_t&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),$=ok.transition,ht=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var vt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$5(331));var bt=K;for(K|=4,V$1=_e.current;V$1!==null;){var _t=V$1,wt=_t.child;if(V$1.flags&16){var At=_t.deletions;if(At!==null){for(var St=0;St<At.length;St++){var Et=At[St];for(V$1=Et;V$1!==null;){var xt=V$1;switch(xt.tag){case 0:case 11:case 15:Pj(8,xt,_t)}var Pt=xt.child;if(Pt!==null)Pt.return=xt,V$1=Pt;else for(;V$1!==null;){xt=V$1;var $t=xt.sibling,kt=xt.return;if(Sj(xt),xt===Et){V$1=null;break}if($t!==null){$t.return=kt,V$1=$t;break}V$1=kt}}}var Rt=_t.alternate;if(Rt!==null){var Mt=Rt.child;if(Mt!==null){Rt.child=null;do{var Dt=Mt.sibling;Mt.sibling=null,Mt=Dt}while(Mt!==null)}}V$1=_t}}if(_t.subtreeFlags&2064&&wt!==null)wt.return=_t,V$1=wt;else e:for(;V$1!==null;){if(_t=V$1,_t.flags&2048)switch(_t.tag){case 0:case 11:case 15:Pj(9,_t,_t.return)}var Ot=_t.sibling;if(Ot!==null){Ot.return=_t.return,V$1=Ot;break e}V$1=_t.return}}var Lt=_e.current;for(V$1=Lt;V$1!==null;){wt=V$1;var Nt=wt.child;if(wt.subtreeFlags&2064&&Nt!==null)Nt.return=wt,V$1=Nt;else e:for(wt=Lt;V$1!==null;){if(At=V$1,At.flags&2048)try{switch(At.tag){case 0:case 11:case 15:Qj(9,At)}}catch(Ft){W$2(At,At.return,Ft)}if(At===wt){V$1=null;break e}var Ht=At.sibling;if(Ht!==null){Ht.return=At.return,V$1=Ht;break e}V$1=At.return}}if(K=bt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}vt=!0}return vt}finally{C$1=ht,ok.transition=$}}return!1}function Xk(_e,$,ht){$=Ji(ht,$),$=Ni(_e,$,1),_e=nh(_e,$,1),$=R$1(),_e!==null&&(Ac(_e,1,$),Dk(_e,$))}function W$2(_e,$,ht){if(_e.tag===3)Xk(_e,_e,ht);else for(;$!==null;){if($.tag===3){Xk($,_e,ht);break}else if($.tag===1){var vt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt))){_e=Ji(ht,_e),_e=Qi($,_e,1),$=nh($,_e,1),_e=R$1(),$!==null&&(Ac($,1,_e),Dk($,_e));break}}$=$.return}}function Ti(_e,$,ht){var vt=_e.pingCache;vt!==null&&vt.delete($),$=R$1(),_e.pingedLanes|=_e.suspendedLanes&ht,Q===_e&&(Z&ht)===ht&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(_e,0):rk|=ht),Dk(_e,$)}function Yk(_e,$){$===0&&(_e.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var ht=R$1();_e=ih(_e,$),_e!==null&&(Ac(_e,$,ht),Dk(_e,ht))}function uj(_e){var $=_e.memoizedState,ht=0;$!==null&&(ht=$.retryLane),Yk(_e,ht)}function bk(_e,$){var ht=0;switch(_e.tag){case 13:var vt=_e.stateNode,bt=_e.memoizedState;bt!==null&&(ht=bt.retryLane);break;case 19:vt=_e.stateNode;break;default:throw Error(p$5(314))}vt!==null&&vt.delete($),Yk(_e,ht)}var Vk;Vk=function(_e,$,ht){if(_e!==null)if(_e.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&ht)&&!($.flags&128))return dh=!1,yj(_e,$,ht);dh=!!(_e.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var vt=$.type;ij(_e,$),_e=$.pendingProps;var bt=Yf($,H$2.current);ch($,ht),bt=Nh(null,$,vt,_e,bt,ht);var _t=Sh();return $.flags|=1,typeof bt=="object"&&bt!==null&&typeof bt.render=="function"&&bt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(vt)?(_t=!0,cg($)):_t=!1,$.memoizedState=bt.state!==null&&bt.state!==void 0?bt.state:null,kh($),bt.updater=Ei,$.stateNode=bt,bt._reactInternals=$,Ii($,vt,_e,ht),$=jj(null,$,vt,!0,_t,ht)):($.tag=0,I$4&&_t&&vg($),Xi(null,$,bt,ht),$=$.child),$;case 16:vt=$.elementType;e:{switch(ij(_e,$),_e=$.pendingProps,bt=vt._init,vt=bt(vt._payload),$.type=vt,bt=$.tag=Zk(vt),_e=Ci(vt,_e),bt){case 0:$=cj(null,$,vt,_e,ht);break e;case 1:$=hj(null,$,vt,_e,ht);break e;case 11:$=Yi(null,$,vt,_e,ht);break e;case 14:$=$i(null,$,vt,Ci(vt.type,_e),ht);break e}throw Error(p$5(306,vt,""))}return $;case 0:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),cj(_e,$,vt,bt,ht);case 1:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),hj(_e,$,vt,bt,ht);case 3:e:{if(kj($),_e===null)throw Error(p$5(387));vt=$.pendingProps,_t=$.memoizedState,bt=_t.element,lh(_e,$),qh($,vt,null,ht);var wt=$.memoizedState;if(vt=wt.element,_t.isDehydrated)if(_t={element:vt,isDehydrated:!1,cache:wt.cache,pendingSuspenseBoundaries:wt.pendingSuspenseBoundaries,transitions:wt.transitions},$.updateQueue.baseState=_t,$.memoizedState=_t,$.flags&256){bt=Ji(Error(p$5(423)),$),$=lj(_e,$,vt,ht,bt);break e}else if(vt!==bt){bt=Ji(Error(p$5(424)),$),$=lj(_e,$,vt,ht,bt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,ht=Vg($,null,vt,ht),$.child=ht;ht;)ht.flags=ht.flags&-3|4096,ht=ht.sibling;else{if(Ig(),vt===bt){$=Zi(_e,$,ht);break e}Xi(_e,$,vt,ht)}$=$.child}return $;case 5:return Ah($),_e===null&&Eg($),vt=$.type,bt=$.pendingProps,_t=_e!==null?_e.memoizedProps:null,wt=bt.children,Ef(vt,bt)?wt=null:_t!==null&&Ef(vt,_t)&&($.flags|=32),gj(_e,$),Xi(_e,$,wt,ht),$.child;case 6:return _e===null&&Eg($),null;case 13:return oj(_e,$,ht);case 4:return yh($,$.stateNode.containerInfo),vt=$.pendingProps,_e===null?$.child=Ug($,null,vt,ht):Xi(_e,$,vt,ht),$.child;case 11:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),Yi(_e,$,vt,bt,ht);case 7:return Xi(_e,$,$.pendingProps,ht),$.child;case 8:return Xi(_e,$,$.pendingProps.children,ht),$.child;case 12:return Xi(_e,$,$.pendingProps.children,ht),$.child;case 10:e:{if(vt=$.type._context,bt=$.pendingProps,_t=$.memoizedProps,wt=bt.value,G$2(Wg,vt._currentValue),vt._currentValue=wt,_t!==null)if(He(_t.value,wt)){if(_t.children===bt.children&&!Wf.current){$=Zi(_e,$,ht);break e}}else for(_t=$.child,_t!==null&&(_t.return=$);_t!==null;){var At=_t.dependencies;if(At!==null){wt=_t.child;for(var St=At.firstContext;St!==null;){if(St.context===vt){if(_t.tag===1){St=mh(-1,ht&-ht),St.tag=2;var Et=_t.updateQueue;if(Et!==null){Et=Et.shared;var xt=Et.pending;xt===null?St.next=St:(St.next=xt.next,xt.next=St),Et.pending=St}}_t.lanes|=ht,St=_t.alternate,St!==null&&(St.lanes|=ht),bh(_t.return,ht,$),At.lanes|=ht;break}St=St.next}}else if(_t.tag===10)wt=_t.type===$.type?null:_t.child;else if(_t.tag===18){if(wt=_t.return,wt===null)throw Error(p$5(341));wt.lanes|=ht,At=wt.alternate,At!==null&&(At.lanes|=ht),bh(wt,ht,$),wt=_t.sibling}else wt=_t.child;if(wt!==null)wt.return=_t;else for(wt=_t;wt!==null;){if(wt===$){wt=null;break}if(_t=wt.sibling,_t!==null){_t.return=wt.return,wt=_t;break}wt=wt.return}_t=wt}Xi(_e,$,bt.children,ht),$=$.child}return $;case 9:return bt=$.type,vt=$.pendingProps.children,ch($,ht),bt=eh(bt),vt=vt(bt),$.flags|=1,Xi(_e,$,vt,ht),$.child;case 14:return vt=$.type,bt=Ci(vt,$.pendingProps),bt=Ci(vt.type,bt),$i(_e,$,vt,bt,ht);case 15:return bj(_e,$,$.type,$.pendingProps,ht);case 17:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),ij(_e,$),$.tag=1,Zf(vt)?(_e=!0,cg($)):_e=!1,ch($,ht),Gi($,vt,bt),Ii($,vt,bt,ht),jj(null,$,vt,!0,_e,ht);case 19:return xj(_e,$,ht);case 22:return dj(_e,$,ht)}throw Error(p$5(156,$.tag))};function Fk(_e,$){return ac(_e,$)}function $k(_e,$,ht,vt){this.tag=_e,this.key=ht,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,$,ht,vt){return new $k(_e,$,ht,vt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,$){var ht=_e.alternate;return ht===null?(ht=Bg(_e.tag,$,_e.key,_e.mode),ht.elementType=_e.elementType,ht.type=_e.type,ht.stateNode=_e.stateNode,ht.alternate=_e,_e.alternate=ht):(ht.pendingProps=$,ht.type=_e.type,ht.flags=0,ht.subtreeFlags=0,ht.deletions=null),ht.flags=_e.flags&14680064,ht.childLanes=_e.childLanes,ht.lanes=_e.lanes,ht.child=_e.child,ht.memoizedProps=_e.memoizedProps,ht.memoizedState=_e.memoizedState,ht.updateQueue=_e.updateQueue,$=_e.dependencies,ht.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},ht.sibling=_e.sibling,ht.index=_e.index,ht.ref=_e.ref,ht}function Rg(_e,$,ht,vt,bt,_t){var wt=2;if(vt=_e,typeof _e=="function")aj(_e)&&(wt=1);else if(typeof _e=="string")wt=5;else e:switch(_e){case ya:return Tg(ht.children,bt,_t,$);case za:wt=8,bt|=8;break;case Aa:return _e=Bg(12,ht,$,bt|2),_e.elementType=Aa,_e.lanes=_t,_e;case Ea:return _e=Bg(13,ht,$,bt),_e.elementType=Ea,_e.lanes=_t,_e;case Fa:return _e=Bg(19,ht,$,bt),_e.elementType=Fa,_e.lanes=_t,_e;case Ia:return pj(ht,bt,_t,$);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:wt=10;break e;case Ca:wt=9;break e;case Da:wt=11;break e;case Ga:wt=14;break e;case Ha:wt=16,vt=null;break e}throw Error(p$5(130,_e==null?_e:typeof _e,""))}return $=Bg(wt,ht,$,bt),$.elementType=_e,$.type=vt,$.lanes=_t,$}function Tg(_e,$,ht,vt){return _e=Bg(7,_e,vt,$),_e.lanes=ht,_e}function pj(_e,$,ht,vt){return _e=Bg(22,_e,vt,$),_e.elementType=Ia,_e.lanes=ht,_e.stateNode={isHidden:!1},_e}function Qg(_e,$,ht){return _e=Bg(6,_e,null,$),_e.lanes=ht,_e}function Sg(_e,$,ht){return $=Bg(4,_e.children!==null?_e.children:[],_e.key,$),$.lanes=ht,$.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},$}function al(_e,$,ht,vt,bt){this.tag=$,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=vt,this.onRecoverableError=bt,this.mutableSourceEagerHydrationData=null}function bl(_e,$,ht,vt,bt,_t,wt,At,St){return _e=new al(_e,$,ht,At,St),$===1?($=1,_t===!0&&($|=8)):$=0,_t=Bg(3,null,null,$),_e.current=_t,_t.stateNode=_e,_t.memoizedState={element:vt,isDehydrated:ht,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(_t),_e}function cl(_e,$,ht){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:vt==null?null:""+vt,children:_e,containerInfo:$,implementation:ht}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$5(170));var $=_e;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$5(171))}if(_e.tag===1){var ht=_e.type;if(Zf(ht))return bg(_e,ht,$)}return $}function el(_e,$,ht,vt,bt,_t,wt,At,St){return _e=bl(ht,vt,!0,_e,bt,_t,wt,At,St),_e.context=dl(null),ht=_e.current,vt=R$1(),bt=yi(ht),_t=mh(vt,bt),_t.callback=$??null,nh(ht,_t,bt),_e.current.lanes=bt,Ac(_e,bt,vt),Dk(_e,vt),_e}function fl(_e,$,ht,vt){var bt=$.current,_t=R$1(),wt=yi(bt);return ht=dl(ht),$.context===null?$.context=ht:$.pendingContext=ht,$=mh(_t,wt),$.payload={element:_e},vt=vt===void 0?null:vt,vt!==null&&($.callback=vt),_e=nh(bt,$,wt),_e!==null&&(gi(_e,bt,wt,_t),oh(_e,bt,wt)),wt}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,$){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var ht=_e.retryLane;_e.retryLane=ht!==0&&ht<$?ht:$}}function il(_e,$){hl(_e,$),(_e=_e.alternate)&&hl(_e,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var $=this._internalRoot;if($===null)throw Error(p$5(409));fl(_e,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var $=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),$[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var $=Hc();_e={blockedOn:null,target:_e,priority:$};for(var ht=0;ht<Qc.length&&$!==0&&$<Qc[ht].priority;ht++);Qc.splice(ht,0,_e),ht===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,$,ht,vt,bt){if(bt){if(typeof vt=="function"){var _t=vt;vt=function(){var Et=gl(wt);_t.call(Et)}}var wt=el($,vt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=wt,_e[uf]=wt.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),wt}for(;bt=_e.lastChild;)_e.removeChild(bt);if(typeof vt=="function"){var At=vt;vt=function(){var Et=gl(St);At.call(Et)}}var St=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=St,_e[uf]=St.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl($,St,ht,vt)}),St}function rl(_e,$,ht,vt,bt){var _t=ht._reactRootContainer;if(_t){var wt=_t;if(typeof bt=="function"){var At=bt;bt=function(){var St=gl(wt);At.call(St)}}fl($,wt,_e,bt)}else wt=ql(ht,$,_e,bt,vt);return gl(wt)}Ec=function(_e){switch(_e.tag){case 3:var $=_e.stateNode;if($.current.memoizedState.isDehydrated){var ht=tc($.pendingLanes);ht!==0&&(Cc($,ht|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var vt=ih(_e,1);if(vt!==null){var bt=R$1();gi(vt,_e,1,bt)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var $=ih(_e,134217728);if($!==null){var ht=R$1();gi($,_e,134217728,ht)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var $=yi(_e),ht=ih(_e,$);if(ht!==null){var vt=R$1();gi(ht,_e,$,vt)}il(_e,$)}};Hc=function(){return C$1};Ic=function(_e,$){var ht=C$1;try{return C$1=_e,$()}finally{C$1=ht}};yb=function(_e,$,ht){switch($){case"input":if(bb(_e,ht),$=ht.name,ht.type==="radio"&&$!=null){for(ht=_e;ht.parentNode;)ht=ht.parentNode;for(ht=ht.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<ht.length;$++){var vt=ht[$];if(vt!==_e&&vt.form===_e.form){var bt=Db(vt);if(!bt)throw Error(p$5(90));Wa(vt),bb(vt,bt)}}}break;case"textarea":ib(_e,ht);break;case"select":$=ht.value,$!=null&&fb(_e,!!ht.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,$){var ht=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$5(200));return cl(_e,$,null,ht)};reactDom_production_min.createRoot=function(_e,$){if(!nl(_e))throw Error(p$5(299));var ht=!1,vt="",bt=kl;return $!=null&&($.unstable_strictMode===!0&&(ht=!0),$.identifierPrefix!==void 0&&(vt=$.identifierPrefix),$.onRecoverableError!==void 0&&(bt=$.onRecoverableError)),$=bl(_e,1,!1,null,null,ht,!1,vt,bt),_e[uf]=$.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll($)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var $=_e._reactInternals;if($===void 0)throw typeof _e.render=="function"?Error(p$5(188)):(_e=Object.keys(_e).join(","),Error(p$5(268,_e)));return _e=Zb($),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,$,ht){if(!ol($))throw Error(p$5(200));return rl(null,_e,$,!0,ht)};reactDom_production_min.hydrateRoot=function(_e,$,ht){if(!nl(_e))throw Error(p$5(405));var vt=ht!=null&&ht.hydratedSources||null,bt=!1,_t="",wt=kl;if(ht!=null&&(ht.unstable_strictMode===!0&&(bt=!0),ht.identifierPrefix!==void 0&&(_t=ht.identifierPrefix),ht.onRecoverableError!==void 0&&(wt=ht.onRecoverableError)),$=el($,null,_e,1,ht??null,bt,!1,_t,wt),_e[uf]=$.current,sf(_e),vt)for(_e=0;_e<vt.length;_e++)ht=vt[_e],bt=ht._getVersion,bt=bt(ht._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[ht,bt]:$.mutableSourceEagerHydrationData.push(ht,bt);return new ml($)};reactDom_production_min.render=function(_e,$,ht){if(!ol($))throw Error(p$5(200));return rl(null,_e,$,!1,ht)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$5(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,$,ht,vt){if(!ol(ht))throw Error(p$5(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$5(38));return rl(_e,$,ht,!1,vt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$5=reactDomExports;client.createRoot=m$5.createRoot,client.hydrateRoot=m$5.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$q.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function $(vt,bt){let{pathname:_t,search:wt,hash:At}=vt.location;return createLocation("",{pathname:_t,search:wt,hash:At},bt.state&&bt.state.usr||null,bt.state&&bt.state.key||"default")}function ht(vt,bt){return typeof bt=="string"?bt:createPath(bt)}return getUrlBasedHistory($,ht,null,_e)}function invariant$2(_e,$){if(_e===!1||_e===null||typeof _e>"u")throw new Error($)}function warning(_e,$){if(!_e){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,$){return{usr:_e.state,key:_e.key,idx:$}}function createLocation(_e,$,ht,vt){return ht===void 0&&(ht=null),_extends$q({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:ht,key:$&&$.key||vt||createKey()})}function createPath(_e){let{pathname:$="/",search:ht="",hash:vt=""}=_e;return ht&&ht!=="?"&&($+=ht.charAt(0)==="?"?ht:"?"+ht),vt&&vt!=="#"&&($+=vt.charAt(0)==="#"?vt:"#"+vt),$}function parsePath(_e){let $={};if(_e){let ht=_e.indexOf("#");ht>=0&&($.hash=_e.substr(ht),_e=_e.substr(0,ht));let vt=_e.indexOf("?");vt>=0&&($.search=_e.substr(vt),_e=_e.substr(0,vt)),_e&&($.pathname=_e)}return $}function getUrlBasedHistory(_e,$,ht,vt){vt===void 0&&(vt={});let{window:bt=document.defaultView,v5Compat:_t=!1}=vt,wt=bt.history,At=Action.Pop,St=null,Et=xt();Et==null&&(Et=0,wt.replaceState(_extends$q({},wt.state,{idx:Et}),""));function xt(){return(wt.state||{idx:null}).idx}function Pt(){At=Action.Pop;let Dt=xt(),Ot=Dt==null?null:Dt-Et;Et=Dt,St&&St({action:At,location:Mt.location,delta:Ot})}function $t(Dt,Ot){At=Action.Push;let Lt=createLocation(Mt.location,Dt,Ot);Et=xt()+1;let Nt=getHistoryState(Lt,Et),Ht=Mt.createHref(Lt);try{wt.pushState(Nt,"",Ht)}catch(Ft){if(Ft instanceof DOMException&&Ft.name==="DataCloneError")throw Ft;bt.location.assign(Ht)}_t&&St&&St({action:At,location:Mt.location,delta:1})}function kt(Dt,Ot){At=Action.Replace;let Lt=createLocation(Mt.location,Dt,Ot);Et=xt();let Nt=getHistoryState(Lt,Et),Ht=Mt.createHref(Lt);wt.replaceState(Nt,"",Ht),_t&&St&&St({action:At,location:Mt.location,delta:0})}function Rt(Dt){let Ot=bt.location.origin!=="null"?bt.location.origin:bt.location.href,Lt=typeof Dt=="string"?Dt:createPath(Dt);return Lt=Lt.replace(/ $/,"%20"),invariant$2(Ot,"No window.location.(origin|href) available to create URL for href: "+Lt),new URL(Lt,Ot)}let Mt={get action(){return At},get location(){return _e(bt,wt)},listen(Dt){if(St)throw new Error("A history only accepts one active listener");return bt.addEventListener(PopStateEventType,Pt),St=Dt,()=>{bt.removeEventListener(PopStateEventType,Pt),St=null}},createHref(Dt){return $(bt,Dt)},createURL:Rt,encodeLocation(Dt){let Ot=Rt(Dt);return{pathname:Ot.pathname,search:Ot.search,hash:Ot.hash}},push:$t,replace:kt,go(Dt){return wt.go(Dt)}};return Mt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,$,ht){ht===void 0&&(ht="/");let vt=typeof $=="string"?parsePath($):$,bt=stripBasename(vt.pathname||"/",ht);if(bt==null)return null;let _t=flattenRoutes(_e);rankRouteBranches(_t);let wt=null;for(let At=0;wt==null&&At<_t.length;++At){let St=decodePath(bt);wt=matchRouteBranch(_t[At],St)}return wt}function flattenRoutes(_e,$,ht,vt){$===void 0&&($=[]),ht===void 0&&(ht=[]),vt===void 0&&(vt="");let bt=(_t,wt,At)=>{let St={relativePath:At===void 0?_t.path||"":At,caseSensitive:_t.caseSensitive===!0,childrenIndex:wt,route:_t};St.relativePath.startsWith("/")&&(invariant$2(St.relativePath.startsWith(vt),'Absolute route path "'+St.relativePath+'" nested under path '+('"'+vt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),St.relativePath=St.relativePath.slice(vt.length));let Et=joinPaths([vt,St.relativePath]),xt=ht.concat(St);_t.children&&_t.children.length>0&&(invariant$2(_t.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Et+'".')),flattenRoutes(_t.children,$,xt,Et)),!(_t.path==null&&!_t.index)&&$.push({path:Et,score:computeScore(Et,_t.index),routesMeta:xt})};return _e.forEach((_t,wt)=>{var At;if(_t.path===""||!((At=_t.path)!=null&&At.includes("?")))bt(_t,wt);else for(let St of explodeOptionalSegments(_t.path))bt(_t,wt,St)}),$}function explodeOptionalSegments(_e){let $=_e.split("/");if($.length===0)return[];let[ht,...vt]=$,bt=ht.endsWith("?"),_t=ht.replace(/\?$/,"");if(vt.length===0)return bt?[_t,""]:[_t];let wt=explodeOptionalSegments(vt.join("/")),At=[];return At.push(...wt.map(St=>St===""?_t:[_t,St].join("/"))),bt&&At.push(...wt),At.map(St=>_e.startsWith("/")&&St===""?"/":St)}function rankRouteBranches(_e){_e.sort(($,ht)=>$.score!==ht.score?ht.score-$.score:compareIndexes($.routesMeta.map(vt=>vt.childrenIndex),ht.routesMeta.map(vt=>vt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,$){let ht=_e.split("/"),vt=ht.length;return ht.some(isSplat)&&(vt+=splatPenalty),$&&(vt+=indexRouteValue),ht.filter(bt=>!isSplat(bt)).reduce((bt,_t)=>bt+(paramRe.test(_t)?dynamicSegmentValue:_t===""?emptySegmentValue:staticSegmentValue),vt)}function compareIndexes(_e,$){return _e.length===$.length&&_e.slice(0,-1).every((vt,bt)=>vt===$[bt])?_e[_e.length-1]-$[$.length-1]:0}function matchRouteBranch(_e,$){let{routesMeta:ht}=_e,vt={},bt="/",_t=[];for(let wt=0;wt<ht.length;++wt){let At=ht[wt],St=wt===ht.length-1,Et=bt==="/"?$:$.slice(bt.length)||"/",xt=matchPath({path:At.relativePath,caseSensitive:At.caseSensitive,end:St},Et);if(!xt)return null;Object.assign(vt,xt.params);let Pt=At.route;_t.push({params:vt,pathname:joinPaths([bt,xt.pathname]),pathnameBase:normalizePathname(joinPaths([bt,xt.pathnameBase])),route:Pt}),xt.pathnameBase!=="/"&&(bt=joinPaths([bt,xt.pathnameBase]))}return _t}function matchPath(_e,$){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[ht,vt]=compilePath(_e.path,_e.caseSensitive,_e.end),bt=$.match(ht);if(!bt)return null;let _t=bt[0],wt=_t.replace(/(.)\/+$/,"$1"),At=bt.slice(1);return{params:vt.reduce((Et,xt,Pt)=>{let{paramName:$t,isOptional:kt}=xt;if($t==="*"){let Mt=At[Pt]||"";wt=_t.slice(0,_t.length-Mt.length).replace(/(.)\/+$/,"$1")}const Rt=At[Pt];return kt&&!Rt?Et[$t]=void 0:Et[$t]=(Rt||"").replace(/%2F/g,"/"),Et},{}),pathname:_t,pathnameBase:wt,pattern:_e}}function compilePath(_e,$,ht){$===void 0&&($=!1),ht===void 0&&(ht=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let vt=[],bt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(wt,At,St)=>(vt.push({paramName:At,isOptional:St!=null}),St?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(vt.push({paramName:"*"}),bt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ht?bt+="\\/*$":_e!==""&&_e!=="/"&&(bt+="(?:(?=\\/|$))"),[new RegExp(bt,$?void 0:"i"),vt]}function decodePath(_e){try{return _e.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),_e}}function stripBasename(_e,$){if($==="/")return _e;if(!_e.toLowerCase().startsWith($.toLowerCase()))return null;let ht=$.endsWith("/")?$.length-1:$.length,vt=_e.charAt(ht);return vt&&vt!=="/"?null:_e.slice(ht)||"/"}function resolvePath(_e,$){$===void 0&&($="/");let{pathname:ht,search:vt="",hash:bt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:ht?ht.startsWith("/")?ht:resolvePathname(ht,$):$,search:normalizeSearch(vt),hash:normalizeHash(bt)}}function resolvePathname(_e,$){let ht=$.replace(/\/+$/,"").split("/");return _e.split("/").forEach(bt=>{bt===".."?ht.length>1&&ht.pop():bt!=="."&&ht.push(bt)}),ht.length>1?ht.join("/"):"/"}function getInvalidPathError(_e,$,ht,vt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(vt)+"].  Please separate it out to the ")+("`to."+ht+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter(($,ht)=>ht===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(_e,$){let ht=getPathContributingMatches(_e);return $?ht.map((vt,bt)=>bt===_e.length-1?vt.pathname:vt.pathnameBase):ht.map(vt=>vt.pathnameBase)}function resolveTo(_e,$,ht,vt){vt===void 0&&(vt=!1);let bt;typeof _e=="string"?bt=parsePath(_e):(bt=_extends$q({},_e),invariant$2(!bt.pathname||!bt.pathname.includes("?"),getInvalidPathError("?","pathname","search",bt)),invariant$2(!bt.pathname||!bt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",bt)),invariant$2(!bt.search||!bt.search.includes("#"),getInvalidPathError("#","search","hash",bt)));let _t=_e===""||bt.pathname==="",wt=_t?"/":bt.pathname,At;if(wt==null)At=ht;else{let Pt=$.length-1;if(!vt&&wt.startsWith("..")){let $t=wt.split("/");for(;$t[0]==="..";)$t.shift(),Pt-=1;bt.pathname=$t.join("/")}At=Pt>=0?$[Pt]:"/"}let St=resolvePath(bt,At),Et=wt&&wt!=="/"&&wt.endsWith("/"),xt=(_t||wt===".")&&ht.endsWith("/");return!St.pathname.endsWith("/")&&(Et||xt)&&(St.pathname+="/"),St}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$p.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let _e=reactExports.useContext(DataRouterContext),{basename:$,future:ht,navigator:vt}=reactExports.useContext(NavigationContext),{matches:bt}=reactExports.useContext(RouteContext),{pathname:_t}=useLocation(),wt=JSON.stringify(getResolveToMatches(bt,ht.v7_relativeSplatPath)),At=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{At.current=!0}),reactExports.useCallback(function(Et,xt){if(xt===void 0&&(xt={}),!At.current)return;if(typeof Et=="number"){vt.go(Et);return}let Pt=resolveTo(Et,JSON.parse(wt),_t,xt.relative==="path");_e==null&&$!=="/"&&(Pt.pathname=Pt.pathname==="/"?$:joinPaths([$,Pt.pathname])),(xt.replace?vt.replace:vt.push)(Pt,xt.state,xt)},[$,vt,wt,_t,_e])}function useRoutes(_e,$){return useRoutesImpl(_e,$)}function useRoutesImpl(_e,$,ht,vt){useInRouterContext()||invariant$2(!1);let{navigator:bt}=reactExports.useContext(NavigationContext),{matches:_t}=reactExports.useContext(RouteContext),wt=_t[_t.length-1],At=wt?wt.params:{};wt&&wt.pathname;let St=wt?wt.pathnameBase:"/";wt&&wt.route;let Et=useLocation(),xt;if($){var Pt;let Dt=typeof $=="string"?parsePath($):$;St==="/"||(Pt=Dt.pathname)!=null&&Pt.startsWith(St)||invariant$2(!1),xt=Dt}else xt=Et;let $t=xt.pathname||"/",kt=$t;if(St!=="/"){let Dt=St.replace(/^\//,"").split("/");kt="/"+$t.replace(/^\//,"").split("/").slice(Dt.length).join("/")}let Rt=matchRoutes(_e,{pathname:kt}),Mt=_renderMatches(Rt&&Rt.map(Dt=>Object.assign({},Dt,{params:Object.assign({},At,Dt.params),pathname:joinPaths([St,bt.encodeLocation?bt.encodeLocation(Dt.pathname).pathname:Dt.pathname]),pathnameBase:Dt.pathnameBase==="/"?St:joinPaths([St,bt.encodeLocation?bt.encodeLocation(Dt.pathnameBase).pathname:Dt.pathnameBase])})),_t,ht,vt);return $&&Mt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$p({pathname:"/",search:"",hash:"",state:null,key:"default"},xt),navigationType:Action.Pop}},Mt):Mt}function DefaultErrorComponent(){let _e=useRouteError(),$=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),ht=_e instanceof Error?_e.stack:null,bt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),ht?reactExports.createElement("pre",{style:bt},ht):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,ht){return ht.location!==$.location||ht.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:ht.error,location:ht.location,revalidation:$.revalidation||ht.revalidation}}componentDidCatch($,ht){console.error("React Router caught the following error during render",$,ht)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:$,match:ht,children:vt}=_e,bt=reactExports.useContext(DataRouterContext);return bt&&bt.static&&bt.staticContext&&(ht.route.errorElement||ht.route.ErrorBoundary)&&(bt.staticContext._deepestRenderedBoundaryId=ht.route.id),reactExports.createElement(RouteContext.Provider,{value:$},vt)}function _renderMatches(_e,$,ht,vt){var bt;if($===void 0&&($=[]),ht===void 0&&(ht=null),vt===void 0&&(vt=null),_e==null){var _t;if((_t=ht)!=null&&_t.errors)_e=ht.matches;else return null}let wt=_e,At=(bt=ht)==null?void 0:bt.errors;if(At!=null){let xt=wt.findIndex(Pt=>Pt.route.id&&(At==null?void 0:At[Pt.route.id])!==void 0);xt>=0||invariant$2(!1),wt=wt.slice(0,Math.min(wt.length,xt+1))}let St=!1,Et=-1;if(ht&&vt&&vt.v7_partialHydration)for(let xt=0;xt<wt.length;xt++){let Pt=wt[xt];if((Pt.route.HydrateFallback||Pt.route.hydrateFallbackElement)&&(Et=xt),Pt.route.id){let{loaderData:$t,errors:kt}=ht,Rt=Pt.route.loader&&$t[Pt.route.id]===void 0&&(!kt||kt[Pt.route.id]===void 0);if(Pt.route.lazy||Rt){St=!0,Et>=0?wt=wt.slice(0,Et+1):wt=[wt[0]];break}}}return wt.reduceRight((xt,Pt,$t)=>{let kt,Rt=!1,Mt=null,Dt=null;ht&&(kt=At&&Pt.route.id?At[Pt.route.id]:void 0,Mt=Pt.route.errorElement||defaultErrorElement,St&&(Et<0&&$t===0?(Rt=!0,Dt=null):Et===$t&&(Rt=!0,Dt=Pt.route.hydrateFallbackElement||null)));let Ot=$.concat(wt.slice(0,$t+1)),Lt=()=>{let Nt;return kt?Nt=Mt:Rt?Nt=Dt:Pt.route.Component?Nt=reactExports.createElement(Pt.route.Component,null):Pt.route.element?Nt=Pt.route.element:Nt=xt,reactExports.createElement(RenderedRoute,{match:Pt,routeContext:{outlet:xt,matches:Ot,isDataRoute:ht!=null},children:Nt})};return ht&&(Pt.route.ErrorBoundary||Pt.route.errorElement||$t===0)?reactExports.createElement(RenderErrorBoundary,{location:ht.location,revalidation:ht.revalidation,component:Mt,error:kt,children:Lt(),routeContext:{outlet:null,matches:Ot,isDataRoute:!0}}):Lt()},null)}var DataRouterHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterContext(_e){let $=reactExports.useContext(DataRouterContext);return $||invariant$2(!1),$}function useDataRouterState(_e){let $=reactExports.useContext(DataRouterStateContext);return $||invariant$2(!1),$}function useRouteContext(_e){let $=reactExports.useContext(RouteContext);return $||invariant$2(!1),$}function useCurrentRouteId(_e){let $=useRouteContext(),ht=$.matches[$.matches.length-1];return ht.route.id||invariant$2(!1),ht.route.id}function useRouteError(){var _e;let $=reactExports.useContext(RouteErrorContext),ht=useDataRouterState(DataRouterStateHook$1.UseRouteError),vt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(_e=ht.errors)==null?void 0:_e[vt]}function useNavigateStable(){let{router:_e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),ht=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{ht.current=!0}),reactExports.useCallback(function(bt,_t){_t===void 0&&(_t={}),ht.current&&(typeof bt=="number"?_e.navigate(bt):_e.navigate(bt,_extends$p({fromRouteId:$},_t)))},[_e,$])}function Route(_e){invariant$2(!1)}function Router(_e){let{basename:$="/",children:ht=null,location:vt,navigationType:bt=Action.Pop,navigator:_t,static:wt=!1,future:At}=_e;useInRouterContext()&&invariant$2(!1);let St=$.replace(/^\/*/,"/"),Et=reactExports.useMemo(()=>({basename:St,navigator:_t,static:wt,future:_extends$p({v7_relativeSplatPath:!1},At)}),[St,At,_t,wt]);typeof vt=="string"&&(vt=parsePath(vt));let{pathname:xt="/",search:Pt="",hash:$t="",state:kt=null,key:Rt="default"}=vt,Mt=reactExports.useMemo(()=>{let Dt=stripBasename(xt,St);return Dt==null?null:{location:{pathname:Dt,search:Pt,hash:$t,state:kt,key:Rt},navigationType:bt}},[St,xt,Pt,$t,kt,Rt,bt]);return Mt==null?null:reactExports.createElement(NavigationContext.Provider,{value:Et},reactExports.createElement(LocationContext.Provider,{children:ht,value:Mt}))}function Routes(_e){let{children:$,location:ht}=_e;return useRoutes(createRoutesFromChildren($),ht)}new Promise(()=>{});function createRoutesFromChildren(_e,$){$===void 0&&($=[]);let ht=[];return reactExports.Children.forEach(_e,(vt,bt)=>{if(!reactExports.isValidElement(vt))return;let _t=[...$,bt];if(vt.type===reactExports.Fragment){ht.push.apply(ht,createRoutesFromChildren(vt.props.children,_t));return}vt.type!==Route&&invariant$2(!1),!vt.props.index||!vt.props.children||invariant$2(!1);let wt={id:vt.props.id||_t.join("-"),caseSensitive:vt.props.caseSensitive,element:vt.props.element,Component:vt.props.Component,index:vt.props.index,path:vt.props.path,loader:vt.props.loader,action:vt.props.action,errorElement:vt.props.errorElement,ErrorBoundary:vt.props.ErrorBoundary,hasErrorBoundary:vt.props.ErrorBoundary!=null||vt.props.errorElement!=null,shouldRevalidate:vt.props.shouldRevalidate,handle:vt.props.handle,lazy:vt.props.lazy};vt.props.children&&(wt.children=createRoutesFromChildren(vt.props.children,_t)),ht.push(wt)}),ht}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$5[START_TRANSITION];function BrowserRouter(_e){let{basename:$,children:ht,future:vt,window:bt}=_e,_t=reactExports.useRef();_t.current==null&&(_t.current=createBrowserHistory({window:bt,v5Compat:!0}));let wt=_t.current,[At,St]=reactExports.useState({action:wt.action,location:wt.location}),{v7_startTransition:Et}=vt||{},xt=reactExports.useCallback(Pt=>{Et&&startTransitionImpl?startTransitionImpl(()=>St(Pt)):St(Pt)},[St,Et]);return reactExports.useLayoutEffect(()=>wt.listen(xt),[wt,xt]),reactExports.createElement(Router,{basename:$,children:ht,location:At.location,navigationType:At.action,navigator:wt,future:vt})}var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(_e){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=_e},[_e]),reactExports.useCallback((...ht)=>{const vt=$.current;return vt==null?void 0:vt(...ht)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=_e=>{var $;return($=_e==null?void 0:_e.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=_e=>_e&&"window"in _e&&_e.window===_e?_e:$431fbd86ca7dc216$export$b204af158042fbac(_e).defaultView||window;function r$3(_e){var $,ht,vt="";if(typeof _e=="string"||typeof _e=="number")vt+=_e;else if(typeof _e=="object")if(Array.isArray(_e)){var bt=_e.length;for($=0;$<bt;$++)_e[$]&&(ht=r$3(_e[$]))&&(vt&&(vt+=" "),vt+=ht)}else for(ht in _e)_e[ht]&&(vt&&(vt+=" "),vt+=ht);return vt}function clsx(){for(var _e,$,ht=0,vt="",bt=arguments.length;ht<bt;ht++)(_e=arguments[ht])&&($=r$3(_e))&&(vt&&(vt+=" "),vt+=$);return vt}function $c87311424ea30a05$var$testUserAgent(_e){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(ht=>_e.test(ht.brand)))||_e.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(_e){var $;return typeof window<"u"&&window.navigator!=null?_e.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(_e){return _e.mozInputSource===0&&_e.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&_e.pointerType?_e.type==="click"&&_e.buttons===1:_e.detail===0&&!_e.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,ht){this.nativeEvent=ht,this.target=ht.target,this.currentTarget=ht.currentTarget,this.relatedTarget=ht.relatedTarget,this.bubbles=ht.bubbles,this.cancelable=ht.cancelable,this.defaultPrevented=ht.defaultPrevented,this.eventPhase=ht.eventPhase,this.isTrusted=ht.isTrusted,this.timeStamp=ht.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(_e){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const vt=$.current;return()=>{vt.observer&&(vt.observer.disconnect(),vt.observer=null)}},[]);let ht=$8ae05eaa5c114e9c$export$7f54fc3180508a52(vt=>{_e==null||_e(vt)});return reactExports.useCallback(vt=>{if(vt.target instanceof HTMLButtonElement||vt.target instanceof HTMLInputElement||vt.target instanceof HTMLTextAreaElement||vt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let bt=vt.target,_t=wt=>{$.current.isFocused=!1,bt.disabled&&ht(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",wt)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};bt.addEventListener("focusout",_t,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&bt.disabled){var wt;(wt=$.current.observer)===null||wt===void 0||wt.disconnect();let At=bt===document.activeElement?null:document.activeElement;bt.dispatchEvent(new FocusEvent("blur",{relatedTarget:At})),bt.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:At}))}}),$.current.observer.observe(bt,{attributes:!0,attributeFilter:["disabled"]})}},[ht])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(_e){let{isDisabled:$,onFocus:ht,onBlur:vt,onFocusChange:bt}=_e;const _t=reactExports.useCallback(St=>{if(St.target===St.currentTarget)return vt&&vt(St),bt&&bt(!1),!0},[vt,bt]),wt=$8a9cb279dc87e130$export$715c682d09d639cc(_t),At=reactExports.useCallback(St=>{const Et=$431fbd86ca7dc216$export$b204af158042fbac(St.target);St.target===St.currentTarget&&Et.activeElement===St.target&&(ht&&ht(St),bt&&bt(!0),wt(St))},[bt,ht,wt]);return{focusProps:{onFocus:!$&&(ht||bt||vt)?At:void 0,onBlur:!$&&(vt||bt)?_t:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(_e,$){for(let ht of $507fabe10e71c6fb$var$changeHandlers)ht(_e,$)}function $507fabe10e71c6fb$var$isValidKey(_e){return!(_e.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&_e.altKey||_e.ctrlKey||_e.key==="Control"||_e.key==="Shift"||_e.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(_e){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(_e)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",_e))}function $507fabe10e71c6fb$var$handlePointerEvent(_e){$507fabe10e71c6fb$var$currentModality="pointer",(_e.type==="mousedown"||_e.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",_e))}function $507fabe10e71c6fb$var$handleClickEvent(_e){$6a7db85432448f7f$export$60278871457622de(_e)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(_e){_e.target===window||_e.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",_e)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(_e){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(_e)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),ht=$431fbd86ca7dc216$export$b204af158042fbac(_e);let vt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,vt.apply(this,arguments)},ht.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(ht.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(ht.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:vt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(_e,$)=>{const ht=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),vt=$431fbd86ca7dc216$export$b204af158042fbac(_e);$&&vt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(ht)&&(ht.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(ht).focus,vt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),ht.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),ht.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(vt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(vt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(ht))};function $507fabe10e71c6fb$export$2f1888112f558a7d(_e){const $=$431fbd86ca7dc216$export$b204af158042fbac(_e);let ht;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e):(ht=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e)},$.addEventListener("DOMContentLoaded",ht)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e,ht)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(_e,$,ht){var vt;const bt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLInputElement:HTMLInputElement,_t=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLTextAreaElement:HTMLTextAreaElement,wt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLElement:HTMLElement,At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).KeyboardEvent:KeyboardEvent;return _e=_e||(ht==null?void 0:ht.target)instanceof bt&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(ht==null||(vt=ht.target)===null||vt===void 0?void 0:vt.type)||(ht==null?void 0:ht.target)instanceof _t||(ht==null?void 0:ht.target)instanceof wt&&(ht==null?void 0:ht.target.isContentEditable),!(_e&&$==="keyboard"&&ht instanceof At&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[ht.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(_e,$,ht){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let vt=(bt,_t)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(ht!=null&&ht.isTextInput),bt,_t)&&_e($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(vt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(vt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(_e){let{isDisabled:$,onBlurWithin:ht,onFocusWithin:vt,onFocusWithinChange:bt}=_e,_t=reactExports.useRef({isFocusWithin:!1}),wt=reactExports.useCallback(Et=>{_t.current.isFocusWithin&&!Et.currentTarget.contains(Et.relatedTarget)&&(_t.current.isFocusWithin=!1,ht&&ht(Et),bt&&bt(!1))},[ht,bt,_t]),At=$8a9cb279dc87e130$export$715c682d09d639cc(wt),St=reactExports.useCallback(Et=>{!_t.current.isFocusWithin&&document.activeElement===Et.target&&(vt&&vt(Et),bt&&bt(!0),_t.current.isFocusWithin=!0,At(Et))},[vt,bt,At]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:St,onBlur:wt}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(_e){_e.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(_e){let{onHoverStart:$,onHoverChange:ht,onHoverEnd:vt,isDisabled:bt}=_e,[_t,wt]=reactExports.useState(!1),At=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:St,triggerHoverEnd:Et}=reactExports.useMemo(()=>{let xt=(kt,Rt)=>{if(At.pointerType=Rt,bt||Rt==="touch"||At.isHovered||!kt.currentTarget.contains(kt.target))return;At.isHovered=!0;let Mt=kt.currentTarget;At.target=Mt,$&&$({type:"hoverstart",target:Mt,pointerType:Rt}),ht&&ht(!0),wt(!0)},Pt=(kt,Rt)=>{if(At.pointerType="",At.target=null,Rt==="touch"||!At.isHovered)return;At.isHovered=!1;let Mt=kt.currentTarget;vt&&vt({type:"hoverend",target:Mt,pointerType:Rt}),ht&&ht(!1),wt(!1)},$t={};return typeof PointerEvent<"u"?($t.onPointerEnter=kt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&kt.pointerType==="mouse"||xt(kt,kt.pointerType)},$t.onPointerLeave=kt=>{!bt&&kt.currentTarget.contains(kt.target)&&Pt(kt,kt.pointerType)}):($t.onTouchStart=()=>{At.ignoreEmulatedMouseEvents=!0},$t.onMouseEnter=kt=>{!At.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&xt(kt,"mouse"),At.ignoreEmulatedMouseEvents=!1},$t.onMouseLeave=kt=>{!bt&&kt.currentTarget.contains(kt.target)&&Pt(kt,"mouse")}),{hoverProps:$t,triggerHoverEnd:Pt}},[$,ht,vt,bt,At]);return reactExports.useEffect(()=>{bt&&Et({currentTarget:At.target},At.pointerType)},[bt]),{hoverProps:St,isHovered:_t}}function $f7dceffc5ad7768b$export$4e328f61c538687f(_e={}){let{autoFocus:$=!1,isTextInput:ht,within:vt}=_e,bt=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[_t,wt]=reactExports.useState(!1),[At,St]=reactExports.useState(()=>bt.current.isFocused&&bt.current.isFocusVisible),Et=reactExports.useCallback(()=>St(bt.current.isFocused&&bt.current.isFocusVisible),[]),xt=reactExports.useCallback(kt=>{bt.current.isFocused=kt,wt(kt),Et()},[Et]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(kt=>{bt.current.isFocusVisible=kt,Et()},[],{isTextInput:ht});let{focusProps:Pt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:vt,onFocusChange:xt}),{focusWithinProps:$t}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!vt,onFocusWithinChange:xt});return{isFocused:_t,isFocusVisible:At,focusProps:vt?$t:Pt}}var i$5=Object.defineProperty,d$4=(_e,$,ht)=>$ in _e?i$5(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):_e[$]=ht,r$2=(_e,$,ht)=>(d$4(_e,typeof $!="symbol"?$+"":$,ht),ht);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$6=new o$5;function u$8(_e){return s$6.isServer?null:_e instanceof Node?_e.ownerDocument:_e!=null&&_e.hasOwnProperty("current")&&_e.current instanceof Node?_e.current.ownerDocument:document}function t$4(_e){typeof queueMicrotask=="function"?queueMicrotask(_e):Promise.resolve().then(_e).catch($=>setTimeout(()=>{throw $}))}function o$4(){let _e=[],$={addEventListener(ht,vt,bt,_t){return ht.addEventListener(vt,bt,_t),$.add(()=>ht.removeEventListener(vt,bt,_t))},requestAnimationFrame(...ht){let vt=requestAnimationFrame(...ht);return $.add(()=>cancelAnimationFrame(vt))},nextFrame(...ht){return $.requestAnimationFrame(()=>$.requestAnimationFrame(...ht))},setTimeout(...ht){let vt=setTimeout(...ht);return $.add(()=>clearTimeout(vt))},microTask(...ht){let vt={current:!0};return t$4(()=>{vt.current&&ht[0]()}),$.add(()=>{vt.current=!1})},style(ht,vt,bt){let _t=ht.style.getPropertyValue(vt);return Object.assign(ht.style,{[vt]:bt}),this.add(()=>{Object.assign(ht.style,{[vt]:_t})})},group(ht){let vt=o$4();return ht(vt),this.add(()=>vt.dispose())},add(ht){return _e.includes(ht)||_e.push(ht),()=>{let vt=_e.indexOf(ht);if(vt>=0)for(let bt of _e.splice(vt,1))bt()}},dispose(){for(let ht of _e.splice(0))ht()}};return $}function p$4(){let[_e]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>_e.dispose(),[_e]),_e}let n$4=(_e,$)=>{s$6.isServer?reactExports.useEffect(_e,$):reactExports.useLayoutEffect(_e,$)};function s$5(_e){let $=reactExports.useRef(_e);return n$4(()=>{$.current=_e},[_e]),$}let o$3=function(_e){let $=s$5(_e);return React.useCallback((...ht)=>$.current(...ht),[$])};function E(_e){let $=_e.width/2,ht=_e.height/2;return{top:_e.clientY-ht,right:_e.clientX+$,bottom:_e.clientY+ht,left:_e.clientX-$}}function P$3(_e,$){return!(!_e||!$||_e.right<$.left||_e.left>$.right||_e.bottom<$.top||_e.top>$.bottom)}function w$1({disabled:_e=!1}={}){let $=reactExports.useRef(null),[ht,vt]=reactExports.useState(!1),bt=p$4(),_t=o$3(()=>{$.current=null,vt(!1),bt.dispose()}),wt=o$3(At=>{if(bt.dispose(),$.current===null){$.current=At.currentTarget,vt(!0);{let St=u$8(At.currentTarget);bt.addEventListener(St,"pointerup",_t,!1),bt.addEventListener(St,"pointermove",Et=>{if($.current){let xt=E(Et);vt(P$3(xt,$.current.getBoundingClientRect()))}},!1),bt.addEventListener(St,"pointercancel",_t,!1)}}});return{pressed:ht,pressProps:_e?{}:{onPointerDown:wt,onPointerUp:_t,onClick:_t}}}let e$3=reactExports.createContext(void 0);function a$8(){return reactExports.useContext(e$3)}function t$3(..._e){return Array.from(new Set(_e.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$7(_e,$,...ht){if(_e in $){let bt=$[_e];return typeof bt=="function"?bt(...ht):bt}let vt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(bt=>`"${bt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(vt,u$7),vt}var O$1=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(O$1||{}),M$2=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(M$2||{});function H$1({ourProps:_e,theirProps:$,slot:ht,defaultTag:vt,features:bt,visible:_t=!0,name:wt,mergeRefs:At}){At=At??A$2;let St=N$2($,_e);if(_t)return b$2(St,ht,vt,wt,At);let Et=bt??0;if(Et&2){let{static:xt=!1,...Pt}=St;if(xt)return b$2(Pt,ht,vt,wt,At)}if(Et&1){let{unmount:xt=!0,...Pt}=St;return u$7(xt?0:1,{0(){return null},1(){return b$2({...Pt,hidden:!0,style:{display:"none"}},ht,vt,wt,At)}})}return b$2(St,ht,vt,wt,At)}function b$2(_e,$={},ht,vt,bt){let{as:_t=ht,children:wt,refName:At="ref",...St}=h$3(_e,["unmount","static"]),Et=_e.ref!==void 0?{[At]:_e.ref}:{},xt=typeof wt=="function"?wt($):wt;"className"in St&&St.className&&typeof St.className=="function"&&(St.className=St.className($)),St["aria-labelledby"]&&St["aria-labelledby"]===St.id&&(St["aria-labelledby"]=void 0);let Pt={};if($){let $t=!1,kt=[];for(let[Rt,Mt]of Object.entries($))typeof Mt=="boolean"&&($t=!0),Mt===!0&&kt.push(Rt.replace(/([A-Z])/g,Dt=>`-${Dt.toLowerCase()}`));if($t){Pt["data-headlessui-state"]=kt.join(" ");for(let Rt of kt)Pt[`data-${Rt}`]=""}}if(_t===reactExports.Fragment&&(Object.keys(m$4(St)).length>0||Object.keys(m$4(Pt)).length>0))if(!reactExports.isValidElement(xt)||Array.isArray(xt)&&xt.length>1){if(Object.keys(m$4(St)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${vt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$4(St)).concat(Object.keys(m$4(Pt))).map($t=>`  - ${$t}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map($t=>`  - ${$t}`).join(`
`)].join(`
`))}else{let $t=xt.props,kt=$t==null?void 0:$t.className,Rt=typeof kt=="function"?(...Ot)=>t$3(kt(...Ot),St.className):t$3(kt,St.className),Mt=Rt?{className:Rt}:{},Dt=N$2(xt.props,m$4(h$3(St,["ref"])));for(let Ot in Pt)Ot in Dt&&delete Pt[Ot];return reactExports.cloneElement(xt,Object.assign({},Dt,Pt,Et,{ref:bt(xt.ref,Et.ref)},Mt))}return reactExports.createElement(_t,Object.assign({},h$3(St,["ref"]),_t!==reactExports.Fragment&&Et,_t!==reactExports.Fragment&&Pt),xt)}function A$2(..._e){return _e.every($=>$==null)?void 0:$=>{for(let ht of _e)ht!=null&&(typeof ht=="function"?ht($):ht.current=$)}}function N$2(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},ht={};for(let vt of _e)for(let bt in vt)bt.startsWith("on")&&typeof vt[bt]=="function"?(ht[bt]!=null||(ht[bt]=[]),ht[bt].push(vt[bt])):$[bt]=vt[bt];if($.disabled||$["aria-disabled"])for(let vt in ht)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(vt)&&(ht[vt]=[bt=>{var _t;return(_t=bt==null?void 0:bt.preventDefault)==null?void 0:_t.call(bt)}]);for(let vt in ht)Object.assign($,{[vt](bt,..._t){let wt=ht[vt];for(let At of wt){if((bt instanceof Event||(bt==null?void 0:bt.nativeEvent)instanceof Event)&&bt.defaultPrevented)return;At(bt,..._t)}}});return $}function D$3(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},ht={};for(let vt of _e)for(let bt in vt)bt.startsWith("on")&&typeof vt[bt]=="function"?(ht[bt]!=null||(ht[bt]=[]),ht[bt].push(vt[bt])):$[bt]=vt[bt];for(let vt in ht)Object.assign($,{[vt](...bt){let _t=ht[vt];for(let wt of _t)wt==null||wt(...bt)}});return $}function I$3(_e){var $;return Object.assign(reactExports.forwardRef(_e),{displayName:($=_e.displayName)!=null?$:_e.name})}function m$4(_e){let $=Object.assign({},_e);for(let ht in $)$[ht]===void 0&&delete $[ht];return $}function h$3(_e,$=[]){let ht=Object.assign({},_e);for(let vt of $)vt in ht&&delete ht[vt];return ht}let e$2=reactExports.createContext(void 0);function u$6(){return reactExports.useContext(e$2)}function r$1(_e){let $=_e.parentElement,ht=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(ht=$),$=$.parentElement;let vt=($==null?void 0:$.getAttribute("disabled"))==="";return vt&&i$4(ht)?!1:vt}function i$4(_e){if(!_e)return!1;let $=_e.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$5=Symbol();function T$2(_e,$=!0){return Object.assign(_e,{[u$5]:$})}function y$5(..._e){let $=reactExports.useRef(_e);reactExports.useEffect(()=>{$.current=_e},[_e]);let ht=o$3(vt=>{for(let bt of $.current)bt!=null&&(typeof bt=="function"?bt(vt):bt.current=vt)});return _e.every(vt=>vt==null||(vt==null?void 0:vt[u$5]))?void 0:ht}let a$7=reactExports.createContext(null);a$7.displayName="DescriptionContext";function f$6(){let _e=reactExports.useContext(a$7);if(_e===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$6),$}return _e}function U$1(){let[_e,$]=reactExports.useState([]);return[_e.length>0?_e.join(" "):void 0,reactExports.useMemo(()=>function(ht){let vt=o$3(_t=>($(wt=>[...wt,_t]),()=>$(wt=>{let At=wt.slice(),St=At.indexOf(_t);return St!==-1&&At.splice(St,1),At}))),bt=reactExports.useMemo(()=>({register:vt,slot:ht.slot,name:ht.name,props:ht.props,value:ht.value}),[vt,ht.slot,ht.name,ht.props,ht.value]);return React.createElement(a$7.Provider,{value:bt},ht.children)},[$])]}let S$3="p";function C(_e,$){let ht=reactExports.useId(),vt=a$8(),{id:bt=`headlessui-description-${ht}`,..._t}=_e,wt=f$6(),At=y$5($);n$4(()=>wt.register(bt),[bt,wt.register]);let St=vt||!1,Et=reactExports.useMemo(()=>({...wt.slot,disabled:St}),[wt.slot,St]),xt={ref:At,...wt.props,id:bt};return H$1({ourProps:xt,theirProps:_t,slot:Et,defaultTag:S$3,name:wt.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o$2||{});let c$6=reactExports.createContext(null);c$6.displayName="LabelContext";function P$2(){let _e=reactExports.useContext(c$6);if(_e===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$2),$}return _e}function I$2(_e){var $,ht,vt;let bt=(ht=($=reactExports.useContext(c$6))==null?void 0:$.value)!=null?ht:void 0;return((vt=void 0)!=null?vt:0)>0?[bt,..._e].filter(Boolean).join(" "):bt}function z({inherit:_e=!1}={}){let $=I$2(),[ht,vt]=reactExports.useState([]),bt=_e?[$,...ht].filter(Boolean):ht;return[bt.length>0?bt.join(" "):void 0,reactExports.useMemo(()=>function(_t){let wt=o$3(St=>(vt(Et=>[...Et,St]),()=>vt(Et=>{let xt=Et.slice(),Pt=xt.indexOf(St);return Pt!==-1&&xt.splice(Pt,1),xt}))),At=reactExports.useMemo(()=>({register:wt,slot:_t.slot,name:_t.name,props:_t.props,value:_t.value}),[wt,_t.slot,_t.name,_t.props,_t.value]);return React.createElement(c$6.Provider,{value:At},_t.children)},[vt])]}let N$1="label";function G$1(_e,$){var ht;let vt=reactExports.useId(),bt=P$2(),_t=u$6(),wt=a$8(),{id:At=`headlessui-label-${vt}`,htmlFor:St=_t??((ht=bt.props)==null?void 0:ht.htmlFor),passive:Et=!1,...xt}=_e,Pt=y$5($);n$4(()=>bt.register(At),[At,bt.register]);let $t=o$3(Dt=>{let Ot=Dt.currentTarget;if(Ot instanceof HTMLLabelElement&&Dt.preventDefault(),bt.props&&"onClick"in bt.props&&typeof bt.props.onClick=="function"&&bt.props.onClick(Dt),Ot instanceof HTMLLabelElement){let Lt=document.getElementById(Ot.htmlFor);if(Lt){let Nt=Lt.getAttribute("disabled");if(Nt==="true"||Nt==="")return;let Ht=Lt.getAttribute("aria-disabled");if(Ht==="true"||Ht==="")return;(Lt instanceof HTMLInputElement&&(Lt.type==="radio"||Lt.type==="checkbox")||Lt.role==="radio"||Lt.role==="checkbox"||Lt.role==="switch")&&Lt.click(),Lt.focus({preventScroll:!0})}}}),kt=wt||!1,Rt=reactExports.useMemo(()=>({...bt.slot,disabled:kt}),[bt.slot,kt]),Mt={ref:Pt,...bt.props,id:At,htmlFor:St,onClick:$t};return Et&&("onClick"in Mt&&(delete Mt.htmlFor,delete Mt.onClick),"onClick"in xt&&delete xt.onClick),H$1({ourProps:Mt,theirProps:xt,slot:Rt,defaultTag:St?N$1:"div",name:bt.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$4(_e){if(_e===null)return{width:0,height:0};let{width:$,height:ht}=_e.getBoundingClientRect();return{width:$,height:ht}}function f$5(_e,$=!1){let ht=_e===null?null:"current"in _e?_e.current:_e,[vt,bt]=reactExports.useReducer(()=>({}),{}),_t=reactExports.useMemo(()=>s$4(ht),[ht,vt]);return n$4(()=>{if(!ht)return;let wt=new ResizeObserver(bt);return wt.observe(ht),()=>{wt.disconnect()}},[ht]),$?{width:`${_t.width}px`,height:`${_t.height}px`}:_t}let a$6=class extends Map{constructor($){super(),this.factory=$}get($){let ht=super.get($);return ht===void 0&&(ht=this.factory($),this.set($,ht)),ht}};function a$5(_e,$){let ht=_e(),vt=new Set;return{getSnapshot(){return ht},subscribe(bt){return vt.add(bt),()=>vt.delete(bt)},dispatch(bt,..._t){let wt=$[bt].call(ht,..._t);wt&&(ht=wt,vt.forEach(At=>At()))}}}function o$1(_e){return reactExports.useSyncExternalStore(_e.subscribe,_e.getSnapshot,_e.getSnapshot)}let p$3=new a$6(()=>a$5(()=>[],{ADD(_e){return this.includes(_e)?this:[...this,_e]},REMOVE(_e){let $=this.indexOf(_e);if($===-1)return this;let ht=this.slice();return ht.splice($,1),ht}}));function x$1(_e,$){let ht=p$3.get($),vt=reactExports.useId(),bt=o$1(ht);if(n$4(()=>{if(_e)return ht.dispatch("ADD",vt),()=>ht.dispatch("REMOVE",vt)},[ht,_e]),!_e)return!1;let _t=bt.indexOf(vt),wt=bt.length;return _t===-1&&(_t=wt,wt+=1),_t===wt-1}let f$4=new Map,u$4=new Map;function h$2(_e){var $;let ht=($=u$4.get(_e))!=null?$:0;return u$4.set(_e,ht+1),ht!==0?()=>m$3(_e):(f$4.set(_e,{"aria-hidden":_e.getAttribute("aria-hidden"),inert:_e.inert}),_e.setAttribute("aria-hidden","true"),_e.inert=!0,()=>m$3(_e))}function m$3(_e){var $;let ht=($=u$4.get(_e))!=null?$:1;if(ht===1?u$4.delete(_e):u$4.set(_e,ht-1),ht!==1)return;let vt=f$4.get(_e);vt&&(vt["aria-hidden"]===null?_e.removeAttribute("aria-hidden"):_e.setAttribute("aria-hidden",vt["aria-hidden"]),_e.inert=vt.inert,f$4.delete(_e))}function y$4(_e,{allowed:$,disallowed:ht}={}){let vt=x$1(_e,"inert-others");n$4(()=>{var bt,_t;if(!vt)return;let wt=o$4();for(let St of(bt=ht==null?void 0:ht())!=null?bt:[])St&&wt.add(h$2(St));let At=(_t=$==null?void 0:$())!=null?_t:[];for(let St of At){if(!St)continue;let Et=u$8(St);if(!Et)continue;let xt=St.parentElement;for(;xt&&xt!==Et.body;){for(let Pt of xt.children)At.some($t=>Pt.contains($t))||wt.add(h$2(Pt));xt=xt.parentElement}}return wt.dispose},[vt,$,ht])}function m$2(_e,$,ht){let vt=s$5(bt=>{let _t=bt.getBoundingClientRect();_t.x===0&&_t.y===0&&_t.width===0&&_t.height===0&&ht()});reactExports.useEffect(()=>{if(!_e)return;let bt=$===null?null:$ instanceof HTMLElement?$:$.current;if(!bt)return;let _t=o$4();if(typeof ResizeObserver<"u"){let wt=new ResizeObserver(()=>vt.current(bt));wt.observe(bt),_t.add(()=>wt.disconnect())}if(typeof IntersectionObserver<"u"){let wt=new IntersectionObserver(()=>vt.current(bt));wt.observe(bt),_t.add(()=>wt.disconnect())}return()=>_t.dispose()},[$,vt,_e])}let f$3=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(_e=>`${_e}:not([tabindex='-1'])`).join(","),p$2=["[data-autofocus]"].map(_e=>`${_e}:not([tabindex='-1'])`).join(",");var F$3=(_e=>(_e[_e.First=1]="First",_e[_e.Previous=2]="Previous",_e[_e.Next=4]="Next",_e[_e.Last=8]="Last",_e[_e.WrapAround=16]="WrapAround",_e[_e.NoScroll=32]="NoScroll",_e[_e.AutoFocus=64]="AutoFocus",_e))(F$3||{}),T$1=(_e=>(_e[_e.Error=0]="Error",_e[_e.Overflow=1]="Overflow",_e[_e.Success=2]="Success",_e[_e.Underflow=3]="Underflow",_e))(T$1||{}),y$3=(_e=>(_e[_e.Previous=-1]="Previous",_e[_e.Next=1]="Next",_e))(y$3||{});function b$1(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(f$3)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(p$2)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}var h$1=(_e=>(_e[_e.Strict=0]="Strict",_e[_e.Loose=1]="Loose",_e))(h$1||{});function A$1(_e,$=0){var ht;return _e===((ht=u$8(_e))==null?void 0:ht.body)?!1:u$7($,{0(){return _e.matches(f$3)},1(){let vt=_e;for(;vt!==null;){if(vt.matches(f$3))return!0;vt=vt.parentElement}return!1}})}function G(_e){let $=u$8(_e);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(_e)})}var H=(_e=>(_e[_e.Keyboard=0]="Keyboard",_e[_e.Mouse=1]="Mouse",_e))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",_e=>{_e.metaKey||_e.altKey||_e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",_e=>{_e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:_e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(_e){_e==null||_e.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(_e){var $,ht;return(ht=($=_e==null?void 0:_e.matches)==null?void 0:$.call(_e,w))!=null?ht:!1}function _(_e,$=ht=>ht){return _e.slice().sort((ht,vt)=>{let bt=$(ht),_t=$(vt);if(bt===null||_t===null)return 0;let wt=bt.compareDocumentPosition(_t);return wt&Node.DOCUMENT_POSITION_FOLLOWING?-1:wt&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(_e,$){return P$1(b$1(),$,{relativeTo:_e})}function P$1(_e,$,{sorted:ht=!0,relativeTo:vt=null,skipElements:bt=[]}={}){let _t=Array.isArray(_e)?_e.length>0?_e[0].ownerDocument:document:_e.ownerDocument,wt=Array.isArray(_e)?ht?_(_e):_e:$&64?S$2(_e):b$1(_e);bt.length>0&&wt.length>1&&(wt=wt.filter(kt=>!bt.some(Rt=>Rt!=null&&"current"in Rt?(Rt==null?void 0:Rt.current)===kt:Rt===kt))),vt=vt??_t.activeElement;let At=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),St=(()=>{if($&1)return 0;if($&2)return Math.max(0,wt.indexOf(vt))-1;if($&4)return Math.max(0,wt.indexOf(vt))+1;if($&8)return wt.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Et=$&32?{preventScroll:!0}:{},xt=0,Pt=wt.length,$t;do{if(xt>=Pt||xt+Pt<=0)return 0;let kt=St+xt;if($&16)kt=(kt+Pt)%Pt;else{if(kt<0)return 3;if(kt>=Pt)return 1}$t=wt[kt],$t==null||$t.focus(Et),xt+=At}while($t!==_t.activeElement);return $&6&&O($t)&&$t.select(),2}function t$2(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$3(){return t$2()||i$3()}function i$2(_e,$,ht,vt){let bt=s$5(ht);reactExports.useEffect(()=>{if(!_e)return;function _t(wt){bt.current(wt)}return document.addEventListener($,_t,vt),()=>document.removeEventListener($,_t,vt)},[_e,$,vt])}function s$3(_e,$,ht,vt){let bt=s$5(ht);reactExports.useEffect(()=>{if(!_e)return;function _t(wt){bt.current(wt)}return window.addEventListener($,_t,vt),()=>window.removeEventListener($,_t,vt)},[_e,$,vt])}const d$3=30;function F$2(_e,$,ht){let vt=x$1(_e,"outside-click"),bt=s$5(ht),_t=reactExports.useCallback(function(St,Et){if(St.defaultPrevented)return;let xt=Et(St);if(xt===null||!xt.getRootNode().contains(xt)||!xt.isConnected)return;let Pt=function $t(kt){return typeof kt=="function"?$t(kt()):Array.isArray(kt)||kt instanceof Set?kt:[kt]}($);for(let $t of Pt){if($t===null)continue;let kt=$t instanceof HTMLElement?$t:$t.current;if(kt!=null&&kt.contains(xt)||St.composed&&St.composedPath().includes(kt))return}return!A$1(xt,h$1.Loose)&&xt.tabIndex!==-1&&St.preventDefault(),bt.current(St,xt)},[bt]),wt=reactExports.useRef(null);i$2(vt,"pointerdown",St=>{var Et,xt;wt.current=((xt=(Et=St.composedPath)==null?void 0:Et.call(St))==null?void 0:xt[0])||St.target},!0),i$2(vt,"mousedown",St=>{var Et,xt;wt.current=((xt=(Et=St.composedPath)==null?void 0:Et.call(St))==null?void 0:xt[0])||St.target},!0),i$2(vt,"click",St=>{n$3()||wt.current&&(_t(St,()=>wt.current),wt.current=null)},!0);let At=reactExports.useRef({x:0,y:0});i$2(vt,"touchstart",St=>{At.current.x=St.touches[0].clientX,At.current.y=St.touches[0].clientY},!0),i$2(vt,"touchend",St=>{let Et={x:St.changedTouches[0].clientX,y:St.changedTouches[0].clientY};if(!(Math.abs(Et.x-At.current.x)>=d$3||Math.abs(Et.y-At.current.y)>=d$3))return _t(St,()=>St.target instanceof HTMLElement?St.target:null)},!0),s$3(vt,"blur",St=>_t(St,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$2(..._e){return reactExports.useMemo(()=>u$8(..._e),[..._e])}function i$1(_e){var $;if(_e.type)return _e.type;let ht=($=_e.as)!=null?$:"button";if(typeof ht=="string"&&ht.toLowerCase()==="button")return"button"}function T(_e,$){let[ht,vt]=reactExports.useState(()=>i$1(_e));return n$4(()=>{vt(i$1(_e))},[_e.type,_e.as]),n$4(()=>{ht||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&vt("button")},[ht,$]),ht}function d$2(){let _e;return{before({doc:$}){var ht;let vt=$.documentElement,bt=(ht=$.defaultView)!=null?ht:window;_e=Math.max(0,bt.innerWidth-vt.clientWidth)},after({doc:$,d:ht}){let vt=$.documentElement,bt=Math.max(0,vt.clientWidth-vt.offsetWidth),_t=Math.max(0,_e-bt);ht.style(vt,"paddingRight",`${_t}px`)}}}function d$1(){return t$2()?{before({doc:_e,d:$,meta:ht}){function vt(bt){return ht.containers.flatMap(_t=>_t()).some(_t=>_t.contains(bt))}$.microTask(()=>{var bt;if(window.getComputedStyle(_e.documentElement).scrollBehavior!=="auto"){let At=o$4();At.style(_e.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>At.dispose()))}let _t=(bt=window.scrollY)!=null?bt:window.pageYOffset,wt=null;$.addEventListener(_e,"click",At=>{if(At.target instanceof HTMLElement)try{let St=At.target.closest("a");if(!St)return;let{hash:Et}=new URL(St.href),xt=_e.querySelector(Et);xt&&!vt(xt)&&(wt=xt)}catch{}},!0),$.addEventListener(_e,"touchstart",At=>{if(At.target instanceof HTMLElement)if(vt(At.target)){let St=At.target;for(;St.parentElement&&vt(St.parentElement);)St=St.parentElement;$.style(St,"overscrollBehavior","contain")}else $.style(At.target,"touchAction","none")}),$.addEventListener(_e,"touchmove",At=>{if(At.target instanceof HTMLElement){if(At.target.tagName==="INPUT")return;if(vt(At.target)){let St=At.target;for(;St.parentElement&&St.dataset.headlessuiPortal!==""&&!(St.scrollHeight>St.clientHeight||St.scrollWidth>St.clientWidth);)St=St.parentElement;St.dataset.headlessuiPortal===""&&At.preventDefault()}else At.preventDefault()}},{passive:!1}),$.add(()=>{var At;let St=(At=window.scrollY)!=null?At:window.pageYOffset;_t!==St&&window.scrollTo(0,_t),wt&&wt.isConnected&&(wt.scrollIntoView({block:"nearest"}),wt=null)})})}}:{}}function r(){return{before({doc:_e,d:$}){$.style(_e.documentElement,"overflow","hidden")}}}function m$1(_e){let $={};for(let ht of _e)Object.assign($,ht($));return $}let a$4=a$5(()=>new Map,{PUSH(_e,$){var ht;let vt=(ht=this.get(_e))!=null?ht:{doc:_e,count:0,d:o$4(),meta:new Set};return vt.count++,vt.meta.add($),this.set(_e,vt),this},POP(_e,$){let ht=this.get(_e);return ht&&(ht.count--,ht.meta.delete($)),this},SCROLL_PREVENT({doc:_e,d:$,meta:ht}){let vt={doc:_e,d:$,meta:m$1(ht)},bt=[d$1(),d$2(),r()];bt.forEach(({before:_t})=>_t==null?void 0:_t(vt)),bt.forEach(({after:_t})=>_t==null?void 0:_t(vt))},SCROLL_ALLOW({d:_e}){_e.dispose()},TEARDOWN({doc:_e}){this.delete(_e)}});a$4.subscribe(()=>{let _e=a$4.getSnapshot(),$=new Map;for(let[ht]of _e)$.set(ht,ht.documentElement.style.overflow);for(let ht of _e.values()){let vt=$.get(ht.doc)==="hidden",bt=ht.count!==0;(bt&&!vt||!bt&&vt)&&a$4.dispatch(ht.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",ht),ht.count===0&&a$4.dispatch("TEARDOWN",ht)}});function a$3(_e,$,ht=()=>({containers:[]})){let vt=o$1(a$4),bt=$?vt.get($):void 0,_t=bt?bt.count>0:!1;return n$4(()=>{if(!(!$||!_e))return a$4.dispatch("PUSH",$,ht),()=>a$4.dispatch("POP",$,ht)},[_e,$]),_t}function f$2(_e,$,ht=()=>[document.body]){let vt=x$1(_e,"scroll-lock");a$3(vt,$,bt=>{var _t;return{containers:[...(_t=bt.containers)!=null?_t:[],ht]}})}function t$1(_e){return[_e.screenX,_e.screenY]}function u$3(){let _e=reactExports.useRef([-1,-1]);return{wasMoved($){let ht=t$1($);return _e.current[0]===ht[0]&&_e.current[1]===ht[1]?!1:(_e.current=ht,!0)},update($){_e.current=t$1($)}}}function l$2(_e){let $={called:!1};return(...ht)=>{if(!$.called)return $.called=!0,_e(...ht)}}function c$5(_e=0){let[$,ht]=reactExports.useState(_e),vt=reactExports.useCallback(St=>ht(St),[$]),bt=reactExports.useCallback(St=>ht(Et=>Et|St),[$]),_t=reactExports.useCallback(St=>($&St)===St,[$]),wt=reactExports.useCallback(St=>ht(Et=>Et&~St),[ht]),At=reactExports.useCallback(St=>ht(Et=>Et^St),[ht]);return{flags:$,setFlag:vt,addFlag:bt,hasFlag:_t,removeFlag:wt,toggleFlag:At}}var D$2=(_e=>(_e[_e.None=0]="None",_e[_e.Closed=1]="Closed",_e[_e.Enter=2]="Enter",_e[_e.Leave=4]="Leave",_e))(D$2||{});function A(_e){let $={};for(let ht in _e)_e[ht]===!0&&($[`data-${ht}`]="");return $}function V(_e,$,ht,vt){let[bt,_t]=reactExports.useState(ht),{hasFlag:wt,addFlag:At,removeFlag:St}=c$5(_e&&bt?3:0),Et=reactExports.useRef(!1),xt=reactExports.useRef(!1),Pt=p$4();return n$4(function $t(){var kt;if(!_e)return;ht&&_t(!0);let Rt=$.current;return Rt?((kt=void 0)==null||kt.call(vt,ht),M$1(Rt,{inFlight:Et,prepare(){xt.current?xt.current=!1:xt.current=Et.current,Et.current=!0,!xt.current&&(ht?(At(3),St(4)):(At(4),St(2)))},run(){xt.current?ht?(St(3),At(4)):(St(4),At(3)):ht?St(1):At(1)},done(){var Mt;xt.current&&typeof Rt.getAnimations=="function"&&Rt.getAnimations().length>0||(Et.current=!1,St(7),ht||_t(!1),(Mt=void 0)==null||Mt.call(vt,ht))}})):ht?(At(3),Pt.nextFrame(()=>$t())):void 0},[_e,ht,$,Pt]),_e?[bt,{closed:wt(1),enter:wt(2),leave:wt(4),transition:wt(2)||wt(4)}]:[ht,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(_e,{prepare:$,run:ht,done:vt,inFlight:bt}){let _t=o$4();return R(_e,{prepare:$,inFlight:bt}),_t.nextFrame(()=>{_t.add(F$1(_e,vt)),ht()}),_t.dispose}function F$1(_e,$){let ht=l$2($),vt=o$4();if(!_e)return vt.dispose;let{transitionDuration:bt,transitionDelay:_t}=getComputedStyle(_e),[wt,At]=[bt,_t].map(Et=>{let[xt=0]=Et.split(",").filter(Boolean).map(Pt=>Pt.includes("ms")?parseFloat(Pt):parseFloat(Pt)*1e3).sort((Pt,$t)=>$t-Pt);return xt}),St=wt+At;if(St!==0){let Et=vt.group(xt=>{let Pt=xt.setTimeout(()=>{ht(),xt.dispose()},St);xt.addEventListener(_e,"transitionrun",$t=>{$t.target===$t.currentTarget&&(Pt(),xt.addEventListener(_e,"transitioncancel",kt=>{kt.target===kt.currentTarget&&(ht(),Et())}))})});vt.addEventListener(_e,"transitionend",xt=>{xt.target===xt.currentTarget&&(ht(),vt.dispose())})}else ht();return vt.dispose}function R(_e,{inFlight:$,prepare:ht}){if($!=null&&$.current){ht();return}let vt=_e.style.transition;_e.style.transition="none",ht(),_e.offsetHeight,_e.style.transition=vt}function F(_e,{container:$,accept:ht,walk:vt}){let bt=reactExports.useRef(ht),_t=reactExports.useRef(vt);reactExports.useEffect(()=>{bt.current=ht,_t.current=vt},[ht,vt]),n$4(()=>{if(!$||!_e)return;let wt=u$8($);if(!wt)return;let At=bt.current,St=_t.current,Et=Object.assign(Pt=>At(Pt),{acceptNode:At}),xt=wt.createTreeWalker($,NodeFilter.SHOW_ELEMENT,Et,!1);for(;xt.nextNode();)St(xt.currentNode)},[$,_e,bt,_t])}function getNodeName(_e){return isNode(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var $;return(_e==null||($=_e.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(_e){var $;return($=(isNode(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:$.documentElement}function isNode(_e){return _e instanceof Node||_e instanceof getWindow(_e).Node}function isElement$1(_e){return _e instanceof Element||_e instanceof getWindow(_e).Element}function isHTMLElement(_e){return _e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement}function isShadowRoot(_e){return typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:$,overflowX:ht,overflowY:vt,display:bt}=getComputedStyle$2(_e);return/auto|scroll|overlay|hidden|clip/.test($+vt+ht)&&!["inline","contents"].includes(bt)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isTopLayer(_e){return[":popover-open",":modal"].some($=>{try{return _e.matches($)}catch{return!1}})}function isContainingBlock(_e){const $=isWebKit(),ht=getComputedStyle$2(_e);return ht.transform!=="none"||ht.perspective!=="none"||(ht.containerType?ht.containerType!=="normal":!1)||!$&&(ht.backdropFilter?ht.backdropFilter!=="none":!1)||!$&&(ht.filter?ht.filter!=="none":!1)||["transform","perspective","filter"].some(vt=>(ht.willChange||"").includes(vt))||["paint","layout","strict","content"].some(vt=>(ht.contain||"").includes(vt))}function getContainingBlock(_e){let $=getParentNode(_e);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$2(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement$1(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function getParentNode(_e){if(getNodeName(_e)==="html")return _e;const $=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(_e){const $=getParentNode(_e);return isLastTraversableNode($)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(_e,$,ht){var vt;$===void 0&&($=[]),ht===void 0&&(ht=!0);const bt=getNearestOverflowAncestor(_e),_t=bt===((vt=_e.ownerDocument)==null?void 0:vt.body),wt=getWindow(bt);return _t?$.concat(wt,wt.visualViewport||[],isOverflowElement(bt)?bt:[],wt.frameElement&&ht?getOverflowAncestors(wt.frameElement):[]):$.concat(bt,getOverflowAncestors(bt,[],ht))}function getUserAgent(){const _e=navigator.userAgentData;return _e&&Array.isArray(_e.brands)?_e.brands.map($=>{let{brand:ht,version:vt}=$;return ht+"/"+vt}).join(" "):navigator.userAgent}const min$3=Math.min,max$3=Math.max,round$1=Math.round,floor=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(_e,$,ht){return max$3(_e,min$3($,ht))}function evaluate(_e,$){return typeof _e=="function"?_e($):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,$,ht){ht===void 0&&(ht=!1);const vt=getAlignment(_e),bt=getAlignmentAxis(_e),_t=getAxisLength(bt);let wt=bt==="x"?vt===(ht?"end":"start")?"right":"left":vt==="start"?"bottom":"top";return $.reference[_t]>$.floating[_t]&&(wt=getOppositePlacement(wt)),[wt,getOppositePlacement(wt)]}function getExpandedPlacements(_e){const $=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(_e,$,ht){const vt=["left","right"],bt=["right","left"],_t=["top","bottom"],wt=["bottom","top"];switch(_e){case"top":case"bottom":return ht?$?bt:vt:$?vt:bt;case"left":case"right":return $?_t:wt;default:return[]}}function getOppositeAxisPlacements(_e,$,ht,vt){const bt=getAlignment(_e);let _t=getSideList(getSide(_e),ht==="start",vt);return bt&&(_t=_t.map(wt=>wt+"-"+bt),$&&(_t=_t.concat(_t.map(getOppositeAlignmentPlacement)))),_t}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:$,y:ht,width:vt,height:bt}=_e;return{width:vt,height:bt,top:ht,left:$,right:$+vt,bottom:ht+bt,x:$,y:ht}}function computeCoordsFromPlacement(_e,$,ht){let{reference:vt,floating:bt}=_e;const _t=getSideAxis($),wt=getAlignmentAxis($),At=getAxisLength(wt),St=getSide($),Et=_t==="y",xt=vt.x+vt.width/2-bt.width/2,Pt=vt.y+vt.height/2-bt.height/2,$t=vt[At]/2-bt[At]/2;let kt;switch(St){case"top":kt={x:xt,y:vt.y-bt.height};break;case"bottom":kt={x:xt,y:vt.y+vt.height};break;case"right":kt={x:vt.x+vt.width,y:Pt};break;case"left":kt={x:vt.x-bt.width,y:Pt};break;default:kt={x:vt.x,y:vt.y}}switch(getAlignment($)){case"start":kt[wt]-=$t*(ht&&Et?-1:1);break;case"end":kt[wt]+=$t*(ht&&Et?-1:1);break}return kt}const computePosition$1=async(_e,$,ht)=>{const{placement:vt="bottom",strategy:bt="absolute",middleware:_t=[],platform:wt}=ht,At=_t.filter(Boolean),St=await(wt.isRTL==null?void 0:wt.isRTL($));let Et=await wt.getElementRects({reference:_e,floating:$,strategy:bt}),{x:xt,y:Pt}=computeCoordsFromPlacement(Et,vt,St),$t=vt,kt={},Rt=0;for(let Mt=0;Mt<At.length;Mt++){const{name:Dt,fn:Ot}=At[Mt],{x:Lt,y:Nt,data:Ht,reset:Ft}=await Ot({x:xt,y:Pt,initialPlacement:vt,placement:$t,strategy:bt,middlewareData:kt,rects:Et,platform:wt,elements:{reference:_e,floating:$}});xt=Lt??xt,Pt=Nt??Pt,kt={...kt,[Dt]:{...kt[Dt],...Ht}},Ft&&Rt<=50&&(Rt++,typeof Ft=="object"&&(Ft.placement&&($t=Ft.placement),Ft.rects&&(Et=Ft.rects===!0?await wt.getElementRects({reference:_e,floating:$,strategy:bt}):Ft.rects),{x:xt,y:Pt}=computeCoordsFromPlacement(Et,$t,St)),Mt=-1)}return{x:xt,y:Pt,placement:$t,strategy:bt,middlewareData:kt}};async function detectOverflow$1(_e,$){var ht;$===void 0&&($={});const{x:vt,y:bt,platform:_t,rects:wt,elements:At,strategy:St}=_e,{boundary:Et="clippingAncestors",rootBoundary:xt="viewport",elementContext:Pt="floating",altBoundary:$t=!1,padding:kt=0}=evaluate($,_e),Rt=getPaddingObject(kt),Dt=At[$t?Pt==="floating"?"reference":"floating":Pt],Ot=rectToClientRect(await _t.getClippingRect({element:(ht=await(_t.isElement==null?void 0:_t.isElement(Dt)))==null||ht?Dt:Dt.contextElement||await(_t.getDocumentElement==null?void 0:_t.getDocumentElement(At.floating)),boundary:Et,rootBoundary:xt,strategy:St})),Lt=Pt==="floating"?{x:vt,y:bt,width:wt.floating.width,height:wt.floating.height}:wt.reference,Nt=await(_t.getOffsetParent==null?void 0:_t.getOffsetParent(At.floating)),Ht=await(_t.isElement==null?void 0:_t.isElement(Nt))?await(_t.getScale==null?void 0:_t.getScale(Nt))||{x:1,y:1}:{x:1,y:1},Ft=rectToClientRect(_t.convertOffsetParentRelativeRectToViewportRelativeRect?await _t.convertOffsetParentRelativeRectToViewportRelativeRect({elements:At,rect:Lt,offsetParent:Nt,strategy:St}):Lt);return{top:(Ot.top-Ft.top+Rt.top)/Ht.y,bottom:(Ft.bottom-Ot.bottom+Rt.bottom)/Ht.y,left:(Ot.left-Ft.left+Rt.left)/Ht.x,right:(Ft.right-Ot.right+Rt.right)/Ht.x}}const flip$2=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn($){var ht,vt;const{placement:bt,middlewareData:_t,rects:wt,initialPlacement:At,platform:St,elements:Et}=$,{mainAxis:xt=!0,crossAxis:Pt=!0,fallbackPlacements:$t,fallbackStrategy:kt="bestFit",fallbackAxisSideDirection:Rt="none",flipAlignment:Mt=!0,...Dt}=evaluate(_e,$);if((ht=_t.arrow)!=null&&ht.alignmentOffset)return{};const Ot=getSide(bt),Lt=getSideAxis(At),Nt=getSide(At)===At,Ht=await(St.isRTL==null?void 0:St.isRTL(Et.floating)),Ft=$t||(Nt||!Mt?[getOppositePlacement(At)]:getExpandedPlacements(At)),jt=Rt!=="none";!$t&&jt&&Ft.push(...getOppositeAxisPlacements(At,Mt,Rt,Ht));const Bt=[At,...Ft],Vt=await detectOverflow$1($,Dt),Ut=[];let Jt=((vt=_t.flip)==null?void 0:vt.overflows)||[];if(xt&&Ut.push(Vt[Ot]),Pt){const pn=getAlignmentSides(bt,wt,Ht);Ut.push(Vt[pn[0]],Vt[pn[1]])}if(Jt=[...Jt,{placement:bt,overflows:Ut}],!Ut.every(pn=>pn<=0)){var Wt,Qt;const pn=(((Wt=_t.flip)==null?void 0:Wt.index)||0)+1,nn=Bt[pn];if(nn)return{data:{index:pn,overflows:Jt},reset:{placement:nn}};let hn=(Qt=Jt.filter(sn=>sn.overflows[0]<=0).sort((sn,un)=>sn.overflows[1]-un.overflows[1])[0])==null?void 0:Qt.placement;if(!hn)switch(kt){case"bestFit":{var tn;const sn=(tn=Jt.filter(un=>{if(jt){const en=getSideAxis(un.placement);return en===Lt||en==="y"}return!0}).map(un=>[un.placement,un.overflows.filter(en=>en>0).reduce((en,fn)=>en+fn,0)]).sort((un,en)=>un[1]-en[1])[0])==null?void 0:tn[0];sn&&(hn=sn);break}case"initialPlacement":hn=At;break}if(bt!==hn)return{reset:{placement:hn}}}return{}}}};async function convertValueToCoords(_e,$){const{placement:ht,platform:vt,elements:bt}=_e,_t=await(vt.isRTL==null?void 0:vt.isRTL(bt.floating)),wt=getSide(ht),At=getAlignment(ht),St=getSideAxis(ht)==="y",Et=["left","top"].includes(wt)?-1:1,xt=_t&&St?-1:1,Pt=evaluate($,_e);let{mainAxis:$t,crossAxis:kt,alignmentAxis:Rt}=typeof Pt=="number"?{mainAxis:Pt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Pt};return At&&typeof Rt=="number"&&(kt=At==="end"?Rt*-1:Rt),St?{x:kt*xt,y:$t*Et}:{x:$t*Et,y:kt*xt}}const offset$2=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn($){var ht,vt;const{x:bt,y:_t,placement:wt,middlewareData:At}=$,St=await convertValueToCoords($,_e);return wt===((ht=At.offset)==null?void 0:ht.placement)&&(vt=At.arrow)!=null&&vt.alignmentOffset?{}:{x:bt+St.x,y:_t+St.y,data:{...St,placement:wt}}}}},shift$2=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn($){const{x:ht,y:vt,placement:bt}=$,{mainAxis:_t=!0,crossAxis:wt=!1,limiter:At={fn:Dt=>{let{x:Ot,y:Lt}=Dt;return{x:Ot,y:Lt}}},...St}=evaluate(_e,$),Et={x:ht,y:vt},xt=await detectOverflow$1($,St),Pt=getSideAxis(getSide(bt)),$t=getOppositeAxis(Pt);let kt=Et[$t],Rt=Et[Pt];if(_t){const Dt=$t==="y"?"top":"left",Ot=$t==="y"?"bottom":"right",Lt=kt+xt[Dt],Nt=kt-xt[Ot];kt=clamp$1(Lt,kt,Nt)}if(wt){const Dt=Pt==="y"?"top":"left",Ot=Pt==="y"?"bottom":"right",Lt=Rt+xt[Dt],Nt=Rt-xt[Ot];Rt=clamp$1(Lt,Rt,Nt)}const Mt=At.fn({...$,[$t]:kt,[Pt]:Rt});return{...Mt,data:{x:Mt.x-ht,y:Mt.y-vt}}}}},size$2=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn($){const{placement:ht,rects:vt,platform:bt,elements:_t}=$,{apply:wt=()=>{},...At}=evaluate(_e,$),St=await detectOverflow$1($,At),Et=getSide(ht),xt=getAlignment(ht),Pt=getSideAxis(ht)==="y",{width:$t,height:kt}=vt.floating;let Rt,Mt;Et==="top"||Et==="bottom"?(Rt=Et,Mt=xt===(await(bt.isRTL==null?void 0:bt.isRTL(_t.floating))?"start":"end")?"left":"right"):(Mt=Et,Rt=xt==="end"?"top":"bottom");const Dt=kt-St.top-St.bottom,Ot=$t-St.left-St.right,Lt=min$3(kt-St[Rt],Dt),Nt=min$3($t-St[Mt],Ot),Ht=!$.middlewareData.shift;let Ft=Lt,jt=Nt;if(Pt?jt=xt||Ht?min$3(Nt,Ot):Ot:Ft=xt||Ht?min$3(Lt,Dt):Dt,Ht&&!xt){const Vt=max$3(St.left,0),Ut=max$3(St.right,0),Jt=max$3(St.top,0),Wt=max$3(St.bottom,0);Pt?jt=$t-2*(Vt!==0||Ut!==0?Vt+Ut:max$3(St.left,St.right)):Ft=kt-2*(Jt!==0||Wt!==0?Jt+Wt:max$3(St.top,St.bottom))}await wt({...$,availableWidth:jt,availableHeight:Ft});const Bt=await bt.getDimensions(_t.floating);return $t!==Bt.width||kt!==Bt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(_e){const $=getComputedStyle$2(_e);let ht=parseFloat($.width)||0,vt=parseFloat($.height)||0;const bt=isHTMLElement(_e),_t=bt?_e.offsetWidth:ht,wt=bt?_e.offsetHeight:vt,At=round$1(ht)!==_t||round$1(vt)!==wt;return At&&(ht=_t,vt=wt),{width:ht,height:vt,$:At}}function unwrapElement(_e){return isElement$1(_e)?_e:_e.contextElement}function getScale(_e){const $=unwrapElement(_e);if(!isHTMLElement($))return createCoords(1);const ht=$.getBoundingClientRect(),{width:vt,height:bt,$:_t}=getCssDimensions($);let wt=(_t?round$1(ht.width):ht.width)/vt,At=(_t?round$1(ht.height):ht.height)/bt;return(!wt||!Number.isFinite(wt))&&(wt=1),(!At||!Number.isFinite(At))&&(At=1),{x:wt,y:At}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const $=getWindow(_e);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,$,ht){return $===void 0&&($=!1),!ht||$&&ht!==getWindow(_e)?!1:$}function getBoundingClientRect(_e,$,ht,vt){$===void 0&&($=!1),ht===void 0&&(ht=!1);const bt=_e.getBoundingClientRect(),_t=unwrapElement(_e);let wt=createCoords(1);$&&(vt?isElement$1(vt)&&(wt=getScale(vt)):wt=getScale(_e));const At=shouldAddVisualOffsets(_t,ht,vt)?getVisualOffsets(_t):createCoords(0);let St=(bt.left+At.x)/wt.x,Et=(bt.top+At.y)/wt.y,xt=bt.width/wt.x,Pt=bt.height/wt.y;if(_t){const $t=getWindow(_t),kt=vt&&isElement$1(vt)?getWindow(vt):vt;let Rt=$t,Mt=Rt.frameElement;for(;Mt&&vt&&kt!==Rt;){const Dt=getScale(Mt),Ot=Mt.getBoundingClientRect(),Lt=getComputedStyle$2(Mt),Nt=Ot.left+(Mt.clientLeft+parseFloat(Lt.paddingLeft))*Dt.x,Ht=Ot.top+(Mt.clientTop+parseFloat(Lt.paddingTop))*Dt.y;St*=Dt.x,Et*=Dt.y,xt*=Dt.x,Pt*=Dt.y,St+=Nt,Et+=Ht,Rt=getWindow(Mt),Mt=Rt.frameElement}}return rectToClientRect({width:xt,height:Pt,x:St,y:Et})}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:$,rect:ht,offsetParent:vt,strategy:bt}=_e;const _t=bt==="fixed",wt=getDocumentElement(vt),At=$?isTopLayer($.floating):!1;if(vt===wt||At&&_t)return ht;let St={scrollLeft:0,scrollTop:0},Et=createCoords(1);const xt=createCoords(0),Pt=isHTMLElement(vt);if((Pt||!Pt&&!_t)&&((getNodeName(vt)!=="body"||isOverflowElement(wt))&&(St=getNodeScroll(vt)),isHTMLElement(vt))){const $t=getBoundingClientRect(vt);Et=getScale(vt),xt.x=$t.x+vt.clientLeft,xt.y=$t.y+vt.clientTop}return{width:ht.width*Et.x,height:ht.height*Et.y,x:ht.x*Et.x-St.scrollLeft*Et.x+xt.x,y:ht.y*Et.y-St.scrollTop*Et.y+xt.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getNodeScroll(_e).scrollLeft}function getDocumentRect(_e){const $=getDocumentElement(_e),ht=getNodeScroll(_e),vt=_e.ownerDocument.body,bt=max$3($.scrollWidth,$.clientWidth,vt.scrollWidth,vt.clientWidth),_t=max$3($.scrollHeight,$.clientHeight,vt.scrollHeight,vt.clientHeight);let wt=-ht.scrollLeft+getWindowScrollBarX(_e);const At=-ht.scrollTop;return getComputedStyle$2(vt).direction==="rtl"&&(wt+=max$3($.clientWidth,vt.clientWidth)-bt),{width:bt,height:_t,x:wt,y:At}}function getViewportRect(_e,$){const ht=getWindow(_e),vt=getDocumentElement(_e),bt=ht.visualViewport;let _t=vt.clientWidth,wt=vt.clientHeight,At=0,St=0;if(bt){_t=bt.width,wt=bt.height;const Et=isWebKit();(!Et||Et&&$==="fixed")&&(At=bt.offsetLeft,St=bt.offsetTop)}return{width:_t,height:wt,x:At,y:St}}function getInnerBoundingClientRect(_e,$){const ht=getBoundingClientRect(_e,!0,$==="fixed"),vt=ht.top+_e.clientTop,bt=ht.left+_e.clientLeft,_t=isHTMLElement(_e)?getScale(_e):createCoords(1),wt=_e.clientWidth*_t.x,At=_e.clientHeight*_t.y,St=bt*_t.x,Et=vt*_t.y;return{width:wt,height:At,x:St,y:Et}}function getClientRectFromClippingAncestor(_e,$,ht){let vt;if($==="viewport")vt=getViewportRect(_e,ht);else if($==="document")vt=getDocumentRect(getDocumentElement(_e));else if(isElement$1($))vt=getInnerBoundingClientRect($,ht);else{const bt=getVisualOffsets(_e);vt={...$,x:$.x-bt.x,y:$.y-bt.y}}return rectToClientRect(vt)}function hasFixedPositionAncestor(_e,$){const ht=getParentNode(_e);return ht===$||!isElement$1(ht)||isLastTraversableNode(ht)?!1:getComputedStyle$2(ht).position==="fixed"||hasFixedPositionAncestor(ht,$)}function getClippingElementAncestors(_e,$){const ht=$.get(_e);if(ht)return ht;let vt=getOverflowAncestors(_e,[],!1).filter(At=>isElement$1(At)&&getNodeName(At)!=="body"),bt=null;const _t=getComputedStyle$2(_e).position==="fixed";let wt=_t?getParentNode(_e):_e;for(;isElement$1(wt)&&!isLastTraversableNode(wt);){const At=getComputedStyle$2(wt),St=isContainingBlock(wt);!St&&At.position==="fixed"&&(bt=null),(_t?!St&&!bt:!St&&At.position==="static"&&!!bt&&["absolute","fixed"].includes(bt.position)||isOverflowElement(wt)&&!St&&hasFixedPositionAncestor(_e,wt))?vt=vt.filter(xt=>xt!==wt):bt=At,wt=getParentNode(wt)}return $.set(_e,vt),vt}function getClippingRect(_e){let{element:$,boundary:ht,rootBoundary:vt,strategy:bt}=_e;const wt=[...ht==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(ht),vt],At=wt[0],St=wt.reduce((Et,xt)=>{const Pt=getClientRectFromClippingAncestor($,xt,bt);return Et.top=max$3(Pt.top,Et.top),Et.right=min$3(Pt.right,Et.right),Et.bottom=min$3(Pt.bottom,Et.bottom),Et.left=max$3(Pt.left,Et.left),Et},getClientRectFromClippingAncestor($,At,bt));return{width:St.right-St.left,height:St.bottom-St.top,x:St.left,y:St.top}}function getDimensions(_e){const{width:$,height:ht}=getCssDimensions(_e);return{width:$,height:ht}}function getRectRelativeToOffsetParent(_e,$,ht){const vt=isHTMLElement($),bt=getDocumentElement($),_t=ht==="fixed",wt=getBoundingClientRect(_e,!0,_t,$);let At={scrollLeft:0,scrollTop:0};const St=createCoords(0);if(vt||!vt&&!_t)if((getNodeName($)!=="body"||isOverflowElement(bt))&&(At=getNodeScroll($)),vt){const Pt=getBoundingClientRect($,!0,_t,$);St.x=Pt.x+$.clientLeft,St.y=Pt.y+$.clientTop}else bt&&(St.x=getWindowScrollBarX(bt));const Et=wt.left+At.scrollLeft-St.x,xt=wt.top+At.scrollTop-St.y;return{x:Et,y:xt,width:wt.width,height:wt.height}}function isStaticPositioned(_e){return getComputedStyle$2(_e).position==="static"}function getTrueOffsetParent(_e,$){return!isHTMLElement(_e)||getComputedStyle$2(_e).position==="fixed"?null:$?$(_e):_e.offsetParent}function getOffsetParent(_e,$){const ht=getWindow(_e);if(isTopLayer(_e))return ht;if(!isHTMLElement(_e)){let bt=getParentNode(_e);for(;bt&&!isLastTraversableNode(bt);){if(isElement$1(bt)&&!isStaticPositioned(bt))return bt;bt=getParentNode(bt)}return ht}let vt=getTrueOffsetParent(_e,$);for(;vt&&isTableElement(vt)&&isStaticPositioned(vt);)vt=getTrueOffsetParent(vt,$);return vt&&isLastTraversableNode(vt)&&isStaticPositioned(vt)&&!isContainingBlock(vt)?ht:vt||getContainingBlock(_e)||ht}const getElementRects=async function(_e){const $=this.getOffsetParent||getOffsetParent,ht=this.getDimensions,vt=await ht(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await $(_e.floating),_e.strategy),floating:{x:0,y:0,width:vt.width,height:vt.height}}};function isRTL(_e){return getComputedStyle$2(_e).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function observeMove(_e,$){let ht=null,vt;const bt=getDocumentElement(_e);function _t(){var At;clearTimeout(vt),(At=ht)==null||At.disconnect(),ht=null}function wt(At,St){At===void 0&&(At=!1),St===void 0&&(St=1),_t();const{left:Et,top:xt,width:Pt,height:$t}=_e.getBoundingClientRect();if(At||$(),!Pt||!$t)return;const kt=floor(xt),Rt=floor(bt.clientWidth-(Et+Pt)),Mt=floor(bt.clientHeight-(xt+$t)),Dt=floor(Et),Lt={rootMargin:-kt+"px "+-Rt+"px "+-Mt+"px "+-Dt+"px",threshold:max$3(0,min$3(1,St))||1};let Nt=!0;function Ht(Ft){const jt=Ft[0].intersectionRatio;if(jt!==St){if(!Nt)return wt();jt?wt(!1,jt):vt=setTimeout(()=>{wt(!1,1e-7)},1e3)}Nt=!1}try{ht=new IntersectionObserver(Ht,{...Lt,root:bt.ownerDocument})}catch{ht=new IntersectionObserver(Ht,Lt)}ht.observe(_e)}return wt(!0),_t}function autoUpdate(_e,$,ht,vt){vt===void 0&&(vt={});const{ancestorScroll:bt=!0,ancestorResize:_t=!0,elementResize:wt=typeof ResizeObserver=="function",layoutShift:At=typeof IntersectionObserver=="function",animationFrame:St=!1}=vt,Et=unwrapElement(_e),xt=bt||_t?[...Et?getOverflowAncestors(Et):[],...getOverflowAncestors($)]:[];xt.forEach(Ot=>{bt&&Ot.addEventListener("scroll",ht,{passive:!0}),_t&&Ot.addEventListener("resize",ht)});const Pt=Et&&At?observeMove(Et,ht):null;let $t=-1,kt=null;wt&&(kt=new ResizeObserver(Ot=>{let[Lt]=Ot;Lt&&Lt.target===Et&&kt&&(kt.unobserve($),cancelAnimationFrame($t),$t=requestAnimationFrame(()=>{var Nt;(Nt=kt)==null||Nt.observe($)})),ht()}),Et&&!St&&kt.observe(Et),kt.observe($));let Rt,Mt=St?getBoundingClientRect(_e):null;St&&Dt();function Dt(){const Ot=getBoundingClientRect(_e);Mt&&(Ot.x!==Mt.x||Ot.y!==Mt.y||Ot.width!==Mt.width||Ot.height!==Mt.height)&&ht(),Mt=Ot,Rt=requestAnimationFrame(Dt)}return ht(),()=>{var Ot;xt.forEach(Lt=>{bt&&Lt.removeEventListener("scroll",ht),_t&&Lt.removeEventListener("resize",ht)}),Pt==null||Pt(),(Ot=kt)==null||Ot.disconnect(),kt=null,St&&cancelAnimationFrame(Rt)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(_e,$,ht)=>{const vt=new Map,bt={platform:platform$2,...ht},_t={...bt.platform,_c:vt};return computePosition$1(_e,$,{...bt,platform:_t})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual$1(_e,$){if(_e===$)return!0;if(typeof _e!=typeof $)return!1;if(typeof _e=="function"&&_e.toString()===$.toString())return!0;let ht,vt,bt;if(_e&&$&&typeof _e=="object"){if(Array.isArray(_e)){if(ht=_e.length,ht!==$.length)return!1;for(vt=ht;vt--!==0;)if(!deepEqual$1(_e[vt],$[vt]))return!1;return!0}if(bt=Object.keys(_e),ht=bt.length,ht!==Object.keys($).length)return!1;for(vt=ht;vt--!==0;)if(!{}.hasOwnProperty.call($,bt[vt]))return!1;for(vt=ht;vt--!==0;){const _t=bt[vt];if(!(_t==="_owner"&&_e.$$typeof)&&!deepEqual$1(_e[_t],$[_t]))return!1}return!0}return _e!==_e&&$!==$}function getDPR(_e){return typeof window>"u"?1:(_e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_e,$){const ht=getDPR(_e);return Math.round($*ht)/ht}function useLatestRef(_e){const $=reactExports.useRef(_e);return index$1(()=>{$.current=_e}),$}function useFloating$1(_e){_e===void 0&&(_e={});const{placement:$="bottom",strategy:ht="absolute",middleware:vt=[],platform:bt,elements:{reference:_t,floating:wt}={},transform:At=!0,whileElementsMounted:St,open:Et}=_e,[xt,Pt]=reactExports.useState({x:0,y:0,strategy:ht,placement:$,middlewareData:{},isPositioned:!1}),[$t,kt]=reactExports.useState(vt);deepEqual$1($t,vt)||kt(vt);const[Rt,Mt]=reactExports.useState(null),[Dt,Ot]=reactExports.useState(null),Lt=reactExports.useCallback(sn=>{sn!==jt.current&&(jt.current=sn,Mt(sn))},[]),Nt=reactExports.useCallback(sn=>{sn!==Bt.current&&(Bt.current=sn,Ot(sn))},[]),Ht=_t||Rt,Ft=wt||Dt,jt=reactExports.useRef(null),Bt=reactExports.useRef(null),Vt=reactExports.useRef(xt),Ut=St!=null,Jt=useLatestRef(St),Wt=useLatestRef(bt),Qt=reactExports.useCallback(()=>{if(!jt.current||!Bt.current)return;const sn={placement:$,strategy:ht,middleware:$t};Wt.current&&(sn.platform=Wt.current),computePosition(jt.current,Bt.current,sn).then(un=>{const en={...un,isPositioned:!0};tn.current&&!deepEqual$1(Vt.current,en)&&(Vt.current=en,reactDomExports.flushSync(()=>{Pt(en)}))})},[$t,$,ht,Wt]);index$1(()=>{Et===!1&&Vt.current.isPositioned&&(Vt.current.isPositioned=!1,Pt(sn=>({...sn,isPositioned:!1})))},[Et]);const tn=reactExports.useRef(!1);index$1(()=>(tn.current=!0,()=>{tn.current=!1}),[]),index$1(()=>{if(Ht&&(jt.current=Ht),Ft&&(Bt.current=Ft),Ht&&Ft){if(Jt.current)return Jt.current(Ht,Ft,Qt);Qt()}},[Ht,Ft,Qt,Jt,Ut]);const pn=reactExports.useMemo(()=>({reference:jt,floating:Bt,setReference:Lt,setFloating:Nt}),[Lt,Nt]),nn=reactExports.useMemo(()=>({reference:Ht,floating:Ft}),[Ht,Ft]),hn=reactExports.useMemo(()=>{const sn={position:ht,left:0,top:0};if(!nn.floating)return sn;const un=roundByDPR(nn.floating,xt.x),en=roundByDPR(nn.floating,xt.y);return At?{...sn,transform:"translate("+un+"px, "+en+"px)",...getDPR(nn.floating)>=1.5&&{willChange:"transform"}}:{position:ht,left:un,top:en}},[ht,At,nn.floating,xt.x,xt.y]);return reactExports.useMemo(()=>({...xt,update:Qt,refs:pn,elements:nn,floatingStyles:hn}),[xt,Qt,pn,nn,hn])}const offset=(_e,$)=>({...offset$1(_e),options:[_e,$]}),shift=(_e,$)=>({...shift$1(_e),options:[_e,$]}),flip=(_e,$)=>({...flip$1(_e),options:[_e,$]}),size=(_e,$)=>({...size$1(_e),options:[_e,$]}),SafeReact={...t$5},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(_e=>_e());function useEffectEvent(_e){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=_e}),reactExports.useCallback(function(){for(var ht=arguments.length,vt=new Array(ht),bt=0;bt<ht;bt++)vt[bt]=arguments[bt];return $.current==null?void 0:$.current(...vt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[_e,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{_e==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),_e}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const _e=new Map;return{emit($,ht){var vt;(vt=_e.get($))==null||vt.forEach(bt=>bt(ht))},on($,ht){_e.set($,[..._e.get($)||[],ht])},off($,ht){var vt;_e.set($,((vt=_e.get($))==null?void 0:vt.filter(bt=>bt!==ht))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var _e;return((_e=reactExports.useContext(FloatingNodeContext))==null?void 0:_e.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(_e){const{open:$=!1,onOpenChange:ht,elements:vt}=_e,bt=useId(),_t=reactExports.useRef({}),[wt]=reactExports.useState(()=>createPubSub()),At=useFloatingParentNodeId()!=null,[St,Et]=reactExports.useState(vt.reference),xt=useEffectEvent((kt,Rt,Mt)=>{_t.current.openEvent=kt?Rt:void 0,wt.emit("openchange",{open:kt,event:Rt,reason:Mt,nested:At}),ht==null||ht(kt,Rt,Mt)}),Pt=reactExports.useMemo(()=>({setPositionReference:Et}),[]),$t=reactExports.useMemo(()=>({reference:St||vt.reference||null,floating:vt.floating||null,domReference:vt.reference}),[St,vt.reference,vt.floating]);return reactExports.useMemo(()=>({dataRef:_t,open:$,onOpenChange:xt,elements:$t,events:wt,floatingId:bt,refs:Pt}),[$,xt,$t,wt,bt,Pt])}function useFloating(_e){_e===void 0&&(_e={});const{nodeId:$}=_e,ht=useFloatingRootContext({..._e,elements:{reference:null,floating:null,..._e.elements}}),vt=_e.rootContext||ht,bt=vt.elements,[_t,wt]=reactExports.useState(null),[At,St]=reactExports.useState(null),xt=(bt==null?void 0:bt.reference)||_t,Pt=reactExports.useRef(null),$t=useFloatingTree();index(()=>{xt&&(Pt.current=xt)},[xt]);const kt=useFloating$1({..._e,elements:{...bt,...At&&{reference:At}}}),Rt=reactExports.useCallback(Nt=>{const Ht=isElement$1(Nt)?{getBoundingClientRect:()=>Nt.getBoundingClientRect(),contextElement:Nt}:Nt;St(Ht),kt.refs.setReference(Ht)},[kt.refs]),Mt=reactExports.useCallback(Nt=>{(isElement$1(Nt)||Nt===null)&&(Pt.current=Nt,wt(Nt)),(isElement$1(kt.refs.reference.current)||kt.refs.reference.current===null||Nt!==null&&!isElement$1(Nt))&&kt.refs.setReference(Nt)},[kt.refs]),Dt=reactExports.useMemo(()=>({...kt.refs,setReference:Mt,setPositionReference:Rt,domReference:Pt}),[kt.refs,Mt,Rt]),Ot=reactExports.useMemo(()=>({...kt.elements,domReference:xt}),[kt.elements,xt]),Lt=reactExports.useMemo(()=>({...kt,...vt,refs:Dt,elements:Ot,nodeId:$}),[kt,Dt,Ot,$,vt]);return index(()=>{vt.dataRef.current.floatingContext=Lt;const Nt=$t==null?void 0:$t.nodesRef.current.find(Ht=>Ht.id===$);Nt&&(Nt.context=Lt)}),reactExports.useMemo(()=>({...kt,context:Lt,refs:Dt,elements:Ot}),[kt,Dt,Ot,Lt])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(_e,$,ht){const vt=new Map,bt=ht==="item";let _t=_e;if(bt&&_e){const{[ACTIVE_KEY]:wt,[SELECTED_KEY]:At,...St}=_e;_t=St}return{...ht==="floating"&&{tabIndex:-1},..._t,...$.map(wt=>{const At=wt?wt[ht]:null;return typeof At=="function"?_e?At(_e):null:At}).concat(_e).reduce((wt,At)=>(At&&Object.entries(At).forEach(St=>{let[Et,xt]=St;if(!(bt&&[ACTIVE_KEY,SELECTED_KEY].includes(Et)))if(Et.indexOf("on")===0){if(vt.has(Et)||vt.set(Et,[]),typeof xt=="function"){var Pt;(Pt=vt.get(Et))==null||Pt.push(xt),wt[Et]=function(){for(var $t,kt=arguments.length,Rt=new Array(kt),Mt=0;Mt<kt;Mt++)Rt[Mt]=arguments[Mt];return($t=vt.get(Et))==null?void 0:$t.map(Dt=>Dt(...Rt)).find(Dt=>Dt!==void 0)}}}else wt[Et]=xt}),wt),{})}}function useInteractions(_e){_e===void 0&&(_e=[]);const $=_e.map(At=>At==null?void 0:At.reference),ht=_e.map(At=>At==null?void 0:At.floating),vt=_e.map(At=>At==null?void 0:At.item),bt=reactExports.useCallback(At=>mergeProps(At,_e,"reference"),$),_t=reactExports.useCallback(At=>mergeProps(At,_e,"floating"),ht),wt=reactExports.useCallback(At=>mergeProps(At,_e,"item"),vt);return reactExports.useMemo(()=>({getReferenceProps:bt,getFloatingProps:_t,getItemProps:wt}),[bt,_t,wt])}function getArgsWithCustomFloatingHeight(_e,$){return{..._e,rects:{..._e.rects,floating:{..._e.rects.floating,height:$}}}}const inner=_e=>({name:"inner",options:_e,async fn($){const{listRef:ht,overflowRef:vt,onFallbackChange:bt,offset:_t=0,index:wt=0,minItemsVisible:At=4,referenceOverflowThreshold:St=0,scrollRef:Et,...xt}=evaluate(_e,$),{rects:Pt,elements:{floating:$t}}=$,kt=ht.current[wt];if(!kt)return{};const Rt={...$,...await offset(-kt.offsetTop-$t.clientTop-Pt.reference.height/2-kt.offsetHeight/2-_t).fn($)},Mt=(Et==null?void 0:Et.current)||$t,Dt=await detectOverflow(getArgsWithCustomFloatingHeight(Rt,Mt.scrollHeight),xt),Ot=await detectOverflow(Rt,{...xt,elementContext:"reference"}),Lt=Math.max(0,Dt.top),Nt=Rt.y+Lt,Ht=Math.max(0,Mt.scrollHeight-Lt-Math.max(0,Dt.bottom));return Mt.style.maxHeight=Ht+"px",Mt.scrollTop=Lt,bt&&(Mt.offsetHeight<kt.offsetHeight*Math.min(At,ht.current.length-1)-1||Ot.top>=-St||Ot.bottom>=-St?reactDomExports.flushSync(()=>bt(!0)):reactDomExports.flushSync(()=>bt(!1))),vt&&(vt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Rt,y:Nt},Mt.offsetHeight),xt)),{y:Nt}}});function useInnerOffset(_e,$){const{open:ht,elements:vt}=_e,{enabled:bt=!0,overflowRef:_t,scrollRef:wt,onChange:At}=$,St=useEffectEvent(At),Et=reactExports.useRef(!1),xt=reactExports.useRef(null),Pt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!bt)return;function kt(Mt){if(Mt.ctrlKey||!Rt||_t.current==null)return;const Dt=Mt.deltaY,Ot=_t.current.top>=-.5,Lt=_t.current.bottom>=-.5,Nt=Rt.scrollHeight-Rt.clientHeight,Ht=Dt<0?-1:1,Ft=Dt<0?"max":"min";Rt.scrollHeight<=Rt.clientHeight||(!Ot&&Dt>0||!Lt&&Dt<0?(Mt.preventDefault(),reactDomExports.flushSync(()=>{St(jt=>jt+Math[Ft](Dt,Nt*Ht))})):/firefox/i.test(getUserAgent())&&(Rt.scrollTop+=Dt))}const Rt=(wt==null?void 0:wt.current)||vt.floating;if(ht&&Rt)return Rt.addEventListener("wheel",kt),requestAnimationFrame(()=>{xt.current=Rt.scrollTop,_t.current!=null&&(Pt.current={..._t.current})}),()=>{xt.current=null,Pt.current=null,Rt.removeEventListener("wheel",kt)}},[bt,ht,vt.floating,_t,wt,St]);const $t=reactExports.useMemo(()=>({onKeyDown(){Et.current=!0},onWheel(){Et.current=!1},onPointerMove(){Et.current=!1},onScroll(){const kt=(wt==null?void 0:wt.current)||vt.floating;if(!(!_t.current||!kt||!Et.current)){if(xt.current!==null){const Rt=kt.scrollTop-xt.current;(_t.current.bottom<-.5&&Rt<-1||_t.current.top<-.5&&Rt>1)&&reactDomExports.flushSync(()=>St(Mt=>Mt+Rt))}requestAnimationFrame(()=>{xt.current=kt.scrollTop})}}}),[vt.floating,St,_t,wt]);return reactExports.useMemo(()=>bt?{floating:$t}:{},[bt,$t])}let y$2=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$2.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(_e){return reactExports.useMemo(()=>_e?typeof _e=="string"?{to:_e}:_e:null,[_e])}function ye(){return reactExports.useContext(y$2).setReference}function Fe(){return reactExports.useContext(y$2).getReferenceProps}function be(){let{getFloatingProps:_e,slot:$}=reactExports.useContext(y$2);return reactExports.useCallback((...ht)=>Object.assign({},_e(...ht),{"data-anchor":$.anchor}),[_e,$])}function Re(_e=null){_e===!1&&(_e=null),typeof _e=="string"&&(_e={to:_e});let $=reactExports.useContext(S$1),ht=reactExports.useMemo(()=>_e,[JSON.stringify(_e,typeof HTMLElement<"u"?(bt,_t)=>_t instanceof HTMLElement?_t.outerHTML:_t:void 0)]);n$4(()=>{$==null||$(ht??null)},[$,ht]);let vt=reactExports.useContext(y$2);return reactExports.useMemo(()=>[vt.setFloating,_e?vt.styles:{}],[vt.setFloating,_e,vt.styles])}let q$1=4;function ve({children:_e,enabled:$=!0}){let[ht,vt]=reactExports.useState(null),[bt,_t]=reactExports.useState(0),wt=reactExports.useRef(null),[At,St]=reactExports.useState(null);pe(At);let Et=$&&ht!==null&&At!==null,{to:xt="bottom",gap:Pt=0,offset:$t=0,padding:kt=0,inner:Rt}=ce(ht,At),[Mt,Dt="center"]=xt.split(" ");n$4(()=>{Et&&_t(0)},[Et]);let{refs:Ot,floatingStyles:Lt,context:Nt}=useFloating({open:Et,placement:Mt==="selection"?Dt==="center"?"bottom":`bottom-${Dt}`:Dt==="center"?`${Mt}`:`${Mt}-${Dt}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Mt==="selection"?0:Pt,crossAxis:$t}),shift({padding:kt}),Mt!=="selection"&&flip({padding:kt}),Mt==="selection"&&Rt?inner({...Rt,padding:kt,overflowRef:wt,offset:bt,minItemsVisible:q$1,referenceOverflowThreshold:kt,onFallbackChange(Wt){var Qt,tn;if(!Wt)return;let pn=Nt.elements.floating;if(!pn)return;let nn=parseFloat(getComputedStyle(pn).scrollPaddingBottom)||0,hn=Math.min(q$1,pn.childElementCount),sn=0,un=0;for(let en of(tn=(Qt=Nt.elements.floating)==null?void 0:Qt.childNodes)!=null?tn:[])if(en instanceof HTMLElement){let fn=en.offsetTop,En=fn+en.clientHeight+nn,rn=pn.scrollTop,qt=rn+pn.clientHeight;if(fn>=rn&&En<=qt)hn--;else{un=Math.max(0,Math.min(En,qt)-Math.max(fn,rn)),sn=en.clientHeight;break}}hn>=1&&_t(en=>{let fn=sn*hn-un+nn;return en>=fn?en:fn})}}):null,size({padding:kt,apply({availableWidth:Wt,availableHeight:Qt,elements:tn}){Object.assign(tn.floating.style,{overflow:"auto",maxWidth:`${Wt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Qt}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Ht=Mt,Ft=Dt]=Nt.placement.split("-");Mt==="selection"&&(Ht="selection");let jt=reactExports.useMemo(()=>({anchor:[Ht,Ft].filter(Boolean).join(" ")}),[Ht,Ft]),Bt=useInnerOffset(Nt,{overflowRef:wt,onChange:_t}),{getReferenceProps:Vt,getFloatingProps:Ut}=useInteractions([Bt]),Jt=o$3(Wt=>{St(Wt),Ot.setFloating(Wt)});return reactExports.createElement(S$1.Provider,{value:vt},reactExports.createElement(y$2.Provider,{value:{setFloating:Jt,setReference:Ot.setReference,styles:Lt,getReferenceProps:Vt,getFloatingProps:Ut,slot:jt}},_e))}function pe(_e){n$4(()=>{if(!_e)return;let $=new MutationObserver(()=>{let ht=_e.style.maxHeight;parseFloat(ht)!==parseInt(ht)&&(_e.style.maxHeight=`${Math.ceil(parseFloat(ht))}px`)});return $.observe(_e,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[_e])}function ce(_e,$){var ht,vt,bt;let _t=L((ht=_e==null?void 0:_e.gap)!=null?ht:"var(--anchor-gap, 0)",$),wt=L((vt=_e==null?void 0:_e.offset)!=null?vt:"var(--anchor-offset, 0)",$),At=L((bt=_e==null?void 0:_e.padding)!=null?bt:"var(--anchor-padding, 0)",$);return{..._e,gap:_t,offset:wt,padding:At}}function L(_e,$,ht=void 0){let vt=p$4(),bt=o$3((St,Et)=>{if(St==null)return[ht,null];if(typeof St=="number")return[St,null];if(typeof St=="string"){if(!Et)return[ht,null];let xt=J$1(St,Et);return[xt,Pt=>{let $t=D$1(St);{let kt=$t.map(Rt=>window.getComputedStyle(Et).getPropertyValue(Rt));vt.requestAnimationFrame(function Rt(){vt.nextFrame(Rt);let Mt=!1;for(let[Ot,Lt]of $t.entries()){let Nt=window.getComputedStyle(Et).getPropertyValue(Lt);if(kt[Ot]!==Nt){kt[Ot]=Nt,Mt=!0;break}}if(!Mt)return;let Dt=J$1(St,Et);xt!==Dt&&(Pt(Dt),xt=Dt)})}return vt.dispose}]}return[ht,null]}),_t=reactExports.useMemo(()=>bt(_e,$)[0],[_e,$]),[wt=_t,At]=reactExports.useState();return n$4(()=>{let[St,Et]=bt(_e,$);if(At(St),!!Et)return Et(At)},[_e,$]),wt}function D$1(_e){let $=/var\((.*)\)/.exec(_e);if($){let ht=$[1].indexOf(",");if(ht===-1)return[$[1]];let vt=$[1].slice(0,ht).trim(),bt=$[1].slice(ht+1).trim();return bt?[vt,...D$1(bt)]:[vt]}return[]}function J$1(_e,$){let ht=document.createElement("div");$.appendChild(ht),ht.style.setProperty("margin-top","0px","important"),ht.style.setProperty("margin-top",_e,"important");let vt=parseFloat(window.getComputedStyle(ht).marginTop)||0;return $.removeChild(ht),vt}let n$1=reactExports.createContext(null);n$1.displayName="OpenClosedContext";var i=(_e=>(_e[_e.Open=1]="Open",_e[_e.Closed=2]="Closed",_e[_e.Closing=4]="Closing",_e[_e.Opening=8]="Opening",_e))(i||{});function u$2(){return reactExports.useContext(n$1)}function c$4({value:_e,children:$}){return React.createElement(n$1.Provider,{value:_e},$)}function u$1(_e){throw new Error("Unexpected object: "+_e)}var c$3=(_e=>(_e[_e.First=0]="First",_e[_e.Previous=1]="Previous",_e[_e.Next=2]="Next",_e[_e.Last=3]="Last",_e[_e.Specific=4]="Specific",_e[_e.Nothing=5]="Nothing",_e))(c$3||{});function f$1(_e,$){let ht=$.resolveItems();if(ht.length<=0)return null;let vt=$.resolveActiveIndex(),bt=vt??-1;switch(_e.focus){case 0:{for(let _t=0;_t<ht.length;++_t)if(!$.resolveDisabled(ht[_t],_t,ht))return _t;return vt}case 1:{bt===-1&&(bt=ht.length);for(let _t=bt-1;_t>=0;--_t)if(!$.resolveDisabled(ht[_t],_t,ht))return _t;return vt}case 2:{for(let _t=bt+1;_t<ht.length;++_t)if(!$.resolveDisabled(ht[_t],_t,ht))return _t;return vt}case 3:{for(let _t=ht.length-1;_t>=0;--_t)if(!$.resolveDisabled(ht[_t],_t,ht))return _t;return vt}case 4:{for(let _t=0;_t<ht.length;++_t)if($.resolveId(ht[_t],_t,ht)===_e.id)return _t;return vt}case 5:return null;default:u$1(_e)}}function c$2(_e){let $=o$3(_e),ht=reactExports.useRef(!1);reactExports.useEffect(()=>(ht.current=!1,()=>{ht.current=!0,t$4(()=>{ht.current&&$()})}),[$])}function s$2(){let _e=typeof document>"u";return"useSyncExternalStore"in t$5?($=>$.useSyncExternalStore)(t$5)(()=>()=>{},()=>!1,()=>!_e):!1}function l$1(){let _e=s$2(),[$,ht]=reactExports.useState(s$6.isHandoffComplete);return $&&s$6.isHandoffComplete===!1&&ht(!1),reactExports.useEffect(()=>{$!==!0&&ht(!0)},[$]),reactExports.useEffect(()=>s$6.handoff(),[]),_e?!1:$}let e$1=reactExports.createContext(!1);function a$2(){return reactExports.useContext(e$1)}function D(_e){let $=a$2(),ht=reactExports.useContext(v$1),vt=n$2(_e),[bt,_t]=reactExports.useState(()=>{var wt;if(!$&&ht!==null)return(wt=ht.current)!=null?wt:null;if(s$6.isServer)return null;let At=vt==null?void 0:vt.getElementById("headlessui-portal-root");if(At)return At;if(vt===null)return null;let St=vt.createElement("div");return St.setAttribute("id","headlessui-portal-root"),vt.body.appendChild(St)});return reactExports.useEffect(()=>{bt!==null&&(vt!=null&&vt.body.contains(bt)||vt==null||vt.body.appendChild(bt))},[bt,vt]),reactExports.useEffect(()=>{$||ht!==null&&_t(ht.current)},[ht,_t,$]),bt}let M=reactExports.Fragment,N=I$3(function(_e,$){let ht=_e,vt=reactExports.useRef(null),bt=y$5(T$2(xt=>{vt.current=xt}),$),_t=n$2(vt),wt=D(vt),[At]=reactExports.useState(()=>{var xt;return s$6.isServer?null:(xt=_t==null?void 0:_t.createElement("div"))!=null?xt:null}),St=reactExports.useContext(y$1),Et=l$1();return n$4(()=>{!wt||!At||wt.contains(At)||(At.setAttribute("data-headlessui-portal",""),wt.appendChild(At))},[wt,At]),n$4(()=>{if(At&&St)return St.register(At)},[St,At]),c$2(()=>{var xt;!wt||!At||(At instanceof Node&&wt.contains(At)&&wt.removeChild(At),wt.childNodes.length<=0&&((xt=wt.parentElement)==null||xt.removeChild(wt)))}),Et?!wt||!At?null:reactDomExports.createPortal(H$1({ourProps:{ref:bt},theirProps:ht,slot:{},defaultTag:M,name:"Portal"}),At):null});function S(_e,$){let ht=y$5($),{enabled:vt=!0,...bt}=_e;return vt?React.createElement(N,{...bt,ref:ht}):H$1({ourProps:{ref:ht},theirProps:bt,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v$1=reactExports.createContext(null);function W$1(_e,$){let{target:ht,...vt}=_e,bt={ref:y$5($)};return React.createElement(v$1.Provider,{value:ht},H$1({ourProps:bt,theirProps:vt,defaultTag:j$1,name:"Popover.Group"}))}let y$1=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p$1(_e,$){let ht=reactExports.useRef({left:0,top:0});if(n$4(()=>{let bt=$.current;if(!bt)return;let _t=bt.getBoundingClientRect();_t&&(ht.current=_t)},[_e]),$.current==null||!_e||$.current===document.activeElement)return!1;let vt=$.current.getBoundingClientRect();return vt.top!==ht.current.top||vt.left!==ht.current.left}let a$1=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(_e){var $,ht;let vt=($=_e.innerText)!=null?$:"",bt=_e.cloneNode(!0);if(!(bt instanceof HTMLElement))return vt;let _t=!1;for(let At of bt.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))At.remove(),_t=!0;let wt=_t?(ht=bt.innerText)!=null?ht:"":vt;return a$1.test(wt)&&(wt=wt.replace(a$1,"")),wt}function g$1(_e){let $=_e.getAttribute("aria-label");if(typeof $=="string")return $.trim();let ht=_e.getAttribute("aria-labelledby");if(ht){let vt=ht.split(" ").map(bt=>{let _t=document.getElementById(bt);if(_t){let wt=_t.getAttribute("aria-label");return typeof wt=="string"?wt.trim():o(_t).trim()}return null}).filter(Boolean);if(vt.length>0)return vt.join(", ")}return o(_e).trim()}function s$1(_e){let $=reactExports.useRef(""),ht=reactExports.useRef("");return o$3(()=>{let vt=_e.current;if(!vt)return"";let bt=vt.innerText;if($.current===bt)return ht.current;let _t=g$1(vt).trim().toLowerCase();return $.current=bt,ht.current=_t,_t})}var Je=(_e=>(_e[_e.Open=0]="Open",_e[_e.Closed=1]="Closed",_e))(Je||{}),Ve=(_e=>(_e[_e.Pointer=0]="Pointer",_e[_e.Other=1]="Other",_e))(Ve||{}),Xe=(_e=>(_e[_e.OpenMenu=0]="OpenMenu",_e[_e.CloseMenu=1]="CloseMenu",_e[_e.GoToItem=2]="GoToItem",_e[_e.Search=3]="Search",_e[_e.ClearSearch=4]="ClearSearch",_e[_e.RegisterItem=5]="RegisterItem",_e[_e.UnregisterItem=6]="UnregisterItem",_e))(Xe||{});function W(_e,$=ht=>ht){let ht=_e.activeItemIndex!==null?_e.items[_e.activeItemIndex]:null,vt=_($(_e.items.slice()),_t=>_t.dataRef.current.domRef.current),bt=ht?vt.indexOf(ht):null;return bt===-1&&(bt=null),{items:vt,activeItemIndex:bt}}let $e={1(_e){return _e.menuState===1?_e:{..._e,activeItemIndex:null,menuState:1}},0(_e){return _e.menuState===0?_e:{..._e,__demoMode:!1,menuState:0}},2:(_e,$)=>{var ht,vt,bt,_t,wt;if(_e.menuState===1)return _e;let At={..._e,searchQuery:"",activationTrigger:(ht=$.trigger)!=null?ht:1,__demoMode:!1};if($.focus===c$3.Nothing)return{...At,activeItemIndex:null};if($.focus===c$3.Specific)return{...At,activeItemIndex:_e.items.findIndex(xt=>xt.id===$.id)};if($.focus===c$3.Previous){let xt=_e.activeItemIndex;if(xt!==null){let Pt=_e.items[xt].dataRef.current.domRef,$t=f$1($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});if($t!==null){let kt=_e.items[$t].dataRef.current.domRef;if(((vt=Pt.current)==null?void 0:vt.previousElementSibling)===kt.current||((bt=kt.current)==null?void 0:bt.previousElementSibling)===null)return{...At,activeItemIndex:$t}}}}else if($.focus===c$3.Next){let xt=_e.activeItemIndex;if(xt!==null){let Pt=_e.items[xt].dataRef.current.domRef,$t=f$1($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});if($t!==null){let kt=_e.items[$t].dataRef.current.domRef;if(((_t=Pt.current)==null?void 0:_t.nextElementSibling)===kt.current||((wt=kt.current)==null?void 0:wt.nextElementSibling)===null)return{...At,activeItemIndex:$t}}}}let St=W(_e),Et=f$1($,{resolveItems:()=>St.items,resolveActiveIndex:()=>St.activeItemIndex,resolveId:xt=>xt.id,resolveDisabled:xt=>xt.dataRef.current.disabled});return{...At,...St,activeItemIndex:Et}},3:(_e,$)=>{let ht=_e.searchQuery!==""?0:1,vt=_e.searchQuery+$.value.toLowerCase(),bt=(_e.activeItemIndex!==null?_e.items.slice(_e.activeItemIndex+ht).concat(_e.items.slice(0,_e.activeItemIndex+ht)):_e.items).find(wt=>{var At;return((At=wt.dataRef.current.textValue)==null?void 0:At.startsWith(vt))&&!wt.dataRef.current.disabled}),_t=bt?_e.items.indexOf(bt):-1;return _t===-1||_t===_e.activeItemIndex?{..._e,searchQuery:vt}:{..._e,searchQuery:vt,activeItemIndex:_t,activationTrigger:1}},4(_e){return _e.searchQuery===""?_e:{..._e,searchQuery:"",searchActiveItemIndex:null}},5:(_e,$)=>{let ht=W(_e,vt=>[...vt,{id:$.id,dataRef:$.dataRef}]);return{..._e,...ht}},6:(_e,$)=>{let ht=W(_e,vt=>{let bt=vt.findIndex(_t=>_t.id===$.id);return bt!==-1&&vt.splice(bt,1),vt});return{..._e,...ht,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(_e){let $=reactExports.useContext(j);if($===null){let ht=new Error(`<${_e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ht,B),ht}return $}function qe(_e,$){return u$7($.type,$e,_e,$)}let ze=reactExports.Fragment;function Ye(_e,$){let{__demoMode:ht=!1,...vt}=_e,bt=reactExports.useReducer(qe,{__demoMode:ht,menuState:ht?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:_t,itemsRef:wt,buttonRef:At},St]=bt,Et=y$5($);F$2(_t===0,[At,wt],(kt,Rt)=>{var Mt;St({type:1}),A$1(Rt,h$1.Loose)||(kt.preventDefault(),(Mt=At.current)==null||Mt.focus())});let xt=o$3(()=>{St({type:1})}),Pt=reactExports.useMemo(()=>({open:_t===0,close:xt}),[_t,xt]),$t={ref:Et};return React.createElement(ve,null,React.createElement(j.Provider,{value:bt},React.createElement(c$4,{value:u$7(_t,{0:i.Open,1:i.Closed})},H$1({ourProps:$t,theirProps:vt,slot:Pt,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(_e,$){var ht;let vt=reactExports.useId(),{id:bt=`headlessui-menu-button-${vt}`,disabled:_t=!1,autoFocus:wt=!1,...At}=_e,[St,Et]=B("Menu.Button"),xt=Fe(),Pt=y$5(St.buttonRef,$,ye()),$t=o$3(Bt=>{switch(Bt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:Bt.preventDefault(),Bt.stopPropagation(),reactDomExports.flushSync(()=>Et({type:0})),Et({type:2,focus:c$3.First});break;case o$2.ArrowUp:Bt.preventDefault(),Bt.stopPropagation(),reactDomExports.flushSync(()=>Et({type:0})),Et({type:2,focus:c$3.Last});break}}),kt=o$3(Bt=>{switch(Bt.key){case o$2.Space:Bt.preventDefault();break}}),Rt=o$3(Bt=>{var Vt;if(r$1(Bt.currentTarget))return Bt.preventDefault();_t||(St.menuState===0?(reactDomExports.flushSync(()=>Et({type:1})),(Vt=St.buttonRef.current)==null||Vt.focus({preventScroll:!0})):(Bt.preventDefault(),Et({type:0})))}),{isFocusVisible:Mt,focusProps:Dt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:wt}),{isHovered:Ot,hoverProps:Lt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:_t}),{pressed:Nt,pressProps:Ht}=w$1({disabled:_t}),Ft=reactExports.useMemo(()=>({open:St.menuState===0,active:Nt||St.menuState===0,disabled:_t,hover:Ot,focus:Mt,autofocus:wt}),[St,Ot,Mt,Nt,_t,wt]),jt=D$3(xt(),{ref:Pt,id:bt,type:T(_e,St.buttonRef),"aria-haspopup":"menu","aria-controls":(ht=St.itemsRef.current)==null?void 0:ht.id,"aria-expanded":St.menuState===0,disabled:_t||void 0,autoFocus:wt,onKeyDown:$t,onKeyUp:kt,onClick:Rt},Dt,Lt,Ht);return H$1({ourProps:jt,theirProps:At,slot:Ft,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(_e,$){var ht,vt;let bt=reactExports.useId(),{id:_t=`headlessui-menu-items-${bt}`,anchor:wt,portal:At=!1,modal:St=!0,transition:Et=!1,...xt}=_e,Pt=xe(wt),[$t,kt]=B("Menu.Items"),[Rt,Mt]=Re(Pt),Dt=be(),Ot=y$5($t.itemsRef,$,Pt?Rt:null),Lt=n$2($t.itemsRef);Pt&&(At=!0);let Nt=u$2(),[Ht,Ft]=V(Et,$t.itemsRef,Nt!==null?(Nt&i.Open)===i.Open:$t.menuState===0);m$2(Ht,$t.buttonRef,()=>{kt({type:1})});let jt=$t.__demoMode?!1:St&&$t.menuState===0;f$2(jt,Lt);let Bt=$t.__demoMode?!1:St&&$t.menuState===0;y$4(Bt,{allowed:o$3(()=>[$t.buttonRef.current,$t.itemsRef.current])});let Vt=$t.menuState!==0,Ut=p$1(Vt,$t.buttonRef)?!1:Ht;reactExports.useEffect(()=>{let nn=$t.itemsRef.current;nn&&$t.menuState===0&&nn!==(Lt==null?void 0:Lt.activeElement)&&nn.focus({preventScroll:!0})},[$t.menuState,$t.itemsRef,Lt,$t.itemsRef.current]),F($t.menuState===0,{container:$t.itemsRef.current,accept(nn){return nn.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:nn.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(nn){nn.setAttribute("role","none")}});let Jt=p$4(),Wt=o$3(nn=>{var hn,sn,un;switch(Jt.dispose(),nn.key){case o$2.Space:if($t.searchQuery!=="")return nn.preventDefault(),nn.stopPropagation(),kt({type:3,value:nn.key});case o$2.Enter:if(nn.preventDefault(),nn.stopPropagation(),kt({type:1}),$t.activeItemIndex!==null){let{dataRef:en}=$t.items[$t.activeItemIndex];(sn=(hn=en.current)==null?void 0:hn.domRef.current)==null||sn.click()}G($t.buttonRef.current);break;case o$2.ArrowDown:return nn.preventDefault(),nn.stopPropagation(),kt({type:2,focus:c$3.Next});case o$2.ArrowUp:return nn.preventDefault(),nn.stopPropagation(),kt({type:2,focus:c$3.Previous});case o$2.Home:case o$2.PageUp:return nn.preventDefault(),nn.stopPropagation(),kt({type:2,focus:c$3.First});case o$2.End:case o$2.PageDown:return nn.preventDefault(),nn.stopPropagation(),kt({type:2,focus:c$3.Last});case o$2.Escape:nn.preventDefault(),nn.stopPropagation(),reactDomExports.flushSync(()=>kt({type:1})),(un=$t.buttonRef.current)==null||un.focus({preventScroll:!0});break;case o$2.Tab:nn.preventDefault(),nn.stopPropagation(),reactDomExports.flushSync(()=>kt({type:1})),j$2($t.buttonRef.current,nn.shiftKey?F$3.Previous:F$3.Next);break;default:nn.key.length===1&&(kt({type:3,value:nn.key}),Jt.setTimeout(()=>kt({type:4}),350));break}}),Qt=o$3(nn=>{switch(nn.key){case o$2.Space:nn.preventDefault();break}}),tn=reactExports.useMemo(()=>({open:$t.menuState===0}),[$t.menuState]),pn=D$3(Pt?Dt():{},{"aria-activedescendant":$t.activeItemIndex===null||(ht=$t.items[$t.activeItemIndex])==null?void 0:ht.id,"aria-labelledby":(vt=$t.buttonRef.current)==null?void 0:vt.id,id:_t,onKeyDown:Wt,onKeyUp:Qt,role:"menu",tabIndex:$t.menuState===0?0:void 0,ref:Ot,style:{...xt.style,...Mt,"--button-width":f$5($t.buttonRef,!0).width},...A(Ft)});return React.createElement(te,{enabled:At?_e.static||Ht:!1},H$1({ourProps:pn,theirProps:xt,slot:tn,defaultTag:tt,features:nt,visible:Ut,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(_e,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-item-${ht}`,disabled:bt=!1,..._t}=_e,[wt,At]=B("Menu.Item"),St=wt.activeItemIndex!==null?wt.items[wt.activeItemIndex].id===vt:!1,Et=reactExports.useRef(null),xt=y$5($,Et);n$4(()=>{if(!wt.__demoMode&&wt.menuState===0&&St&&wt.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var Ut,Jt;(Jt=(Ut=Et.current)==null?void 0:Ut.scrollIntoView)==null||Jt.call(Ut,{block:"nearest"})})},[wt.__demoMode,Et,St,wt.menuState,wt.activationTrigger,wt.activeItemIndex]);let Pt=s$1(Et),$t=reactExports.useRef({disabled:bt,domRef:Et,get textValue(){return Pt()}});n$4(()=>{$t.current.disabled=bt},[$t,bt]),n$4(()=>(At({type:5,id:vt,dataRef:$t}),()=>At({type:6,id:vt})),[$t,vt]);let kt=o$3(()=>{At({type:1})}),Rt=o$3(Ut=>{if(bt)return Ut.preventDefault();At({type:1}),G(wt.buttonRef.current)}),Mt=o$3(()=>{if(bt)return At({type:2,focus:c$3.Nothing});At({type:2,focus:c$3.Specific,id:vt})}),Dt=u$3(),Ot=o$3(Ut=>{Dt.update(Ut),!bt&&(St||At({type:2,focus:c$3.Specific,id:vt,trigger:0}))}),Lt=o$3(Ut=>{Dt.wasMoved(Ut)&&(bt||St||At({type:2,focus:c$3.Specific,id:vt,trigger:0}))}),Nt=o$3(Ut=>{Dt.wasMoved(Ut)&&(bt||St&&At({type:2,focus:c$3.Nothing}))}),[Ht,Ft]=z(),[jt,Bt]=U$1(),Vt=reactExports.useMemo(()=>({active:St,focus:St,disabled:bt,close:kt}),[St,bt,kt]);return React.createElement(Ft,null,React.createElement(Bt,null,H$1({ourProps:{id:vt,ref:xt,role:"menuitem",tabIndex:bt===!0?void 0:-1,"aria-disabled":bt===!0?!0:void 0,"aria-labelledby":Ht,"aria-describedby":jt,disabled:void 0,onClick:Rt,onFocus:Mt,onPointerEnter:Ot,onMouseEnter:Ot,onPointerMove:Lt,onMouseMove:Lt,onPointerLeave:Nt,onMouseLeave:Nt},theirProps:_t,slot:Vt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(_e,$){let[ht,vt]=z();return React.createElement(vt,null,H$1({ourProps:{ref:$,"aria-labelledby":ht,role:"group"},theirProps:_e,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(_e,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-heading-${ht}`,...bt}=_e,_t=P$2();n$4(()=>_t.register(vt),[vt,_t.register]);let wt={id:vt,ref:$,role:"presentation",..._t.props};return H$1({ourProps:wt,theirProps:bt,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(_e,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:_e,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:_e,titleId:$,...ht},vt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:vt,"aria-labelledby":$},ht),_e?reactExports.createElement("title",{id:$},_e):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon),PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(_e=>{PACKET_TYPES_REVERSE[PACKET_TYPES[_e]]=_e});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=_e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(_e):_e&&_e.buffer instanceof ArrayBuffer,encodePacket=({type:_e,data:$},ht,vt)=>withNativeBlob$1&&$ instanceof Blob?ht?vt($):encodeBlobAsBase64($,vt):withNativeArrayBuffer$2&&($ instanceof ArrayBuffer||isView$1($))?ht?vt($):encodeBlobAsBase64(new Blob([$]),vt):vt(PACKET_TYPES[_e]+($||"")),encodeBlobAsBase64=(_e,$)=>{const ht=new FileReader;return ht.onload=function(){const vt=ht.result.split(",")[1];$("b"+(vt||""))},ht.readAsDataURL(_e)};function toArray$2(_e){return _e instanceof Uint8Array?_e:_e instanceof ArrayBuffer?new Uint8Array(_e):new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(_e,$){if(withNativeBlob$1&&_e.data instanceof Blob)return _e.data.arrayBuffer().then(toArray$2).then($);if(withNativeArrayBuffer$2&&(_e.data instanceof ArrayBuffer||isView$1(_e.data)))return $(toArray$2(_e.data));encodePacket(_e,!1,ht=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),$(TEXT_ENCODER.encode(ht))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let _e=0;_e<chars.length;_e++)lookup$1[chars.charCodeAt(_e)]=_e;const decode$1=_e=>{let $=_e.length*.75,ht=_e.length,vt,bt=0,_t,wt,At,St;_e[_e.length-1]==="="&&($--,_e[_e.length-2]==="="&&$--);const Et=new ArrayBuffer($),xt=new Uint8Array(Et);for(vt=0;vt<ht;vt+=4)_t=lookup$1[_e.charCodeAt(vt)],wt=lookup$1[_e.charCodeAt(vt+1)],At=lookup$1[_e.charCodeAt(vt+2)],St=lookup$1[_e.charCodeAt(vt+3)],xt[bt++]=_t<<2|wt>>4,xt[bt++]=(wt&15)<<4|At>>2,xt[bt++]=(At&3)<<6|St&63;return Et},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(_e,$)=>{if(typeof _e!="string")return{type:"message",data:mapBinary(_e,$)};const ht=_e.charAt(0);return ht==="b"?{type:"message",data:decodeBase64Packet(_e.substring(1),$)}:PACKET_TYPES_REVERSE[ht]?_e.length>1?{type:PACKET_TYPES_REVERSE[ht],data:_e.substring(1)}:{type:PACKET_TYPES_REVERSE[ht]}:ERROR_PACKET},decodeBase64Packet=(_e,$)=>{if(withNativeArrayBuffer$1){const ht=decode$1(_e);return mapBinary(ht,$)}else return{base64:!0,data:_e}},mapBinary=(_e,$)=>{switch($){case"blob":return _e instanceof Blob?_e:new Blob([_e]);case"arraybuffer":default:return _e instanceof ArrayBuffer?_e:_e.buffer}},SEPARATOR="",encodePayload=(_e,$)=>{const ht=_e.length,vt=new Array(ht);let bt=0;_e.forEach((_t,wt)=>{encodePacket(_t,!1,At=>{vt[wt]=At,++bt===ht&&$(vt.join(SEPARATOR))})})},decodePayload=(_e,$)=>{const ht=_e.split(SEPARATOR),vt=[];for(let bt=0;bt<ht.length;bt++){const _t=decodePacket(ht[bt],$);if(vt.push(_t),_t.type==="error")break}return vt};function createPacketEncoderStream(){return new TransformStream({transform(_e,$){encodePacketToBinary(_e,ht=>{const vt=ht.length;let bt;if(vt<126)bt=new Uint8Array(1),new DataView(bt.buffer).setUint8(0,vt);else if(vt<65536){bt=new Uint8Array(3);const _t=new DataView(bt.buffer);_t.setUint8(0,126),_t.setUint16(1,vt)}else{bt=new Uint8Array(9);const _t=new DataView(bt.buffer);_t.setUint8(0,127),_t.setBigUint64(1,BigInt(vt))}_e.data&&typeof _e.data!="string"&&(bt[0]|=128),$.enqueue(bt),$.enqueue(ht)})}})}let TEXT_DECODER;function totalLength(_e){return _e.reduce(($,ht)=>$+ht.length,0)}function concatChunks(_e,$){if(_e[0].length===$)return _e.shift();const ht=new Uint8Array($);let vt=0;for(let bt=0;bt<$;bt++)ht[bt]=_e[0][vt++],vt===_e[0].length&&(_e.shift(),vt=0);return _e.length&&vt<_e[0].length&&(_e[0]=_e[0].slice(vt)),ht}function createPacketDecoderStream(_e,$){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const ht=[];let vt=0,bt=-1,_t=!1;return new TransformStream({transform(wt,At){for(ht.push(wt);;){if(vt===0){if(totalLength(ht)<1)break;const St=concatChunks(ht,1);_t=(St[0]&128)===128,bt=St[0]&127,bt<126?vt=3:bt===126?vt=1:vt=2}else if(vt===1){if(totalLength(ht)<2)break;const St=concatChunks(ht,2);bt=new DataView(St.buffer,St.byteOffset,St.length).getUint16(0),vt=3}else if(vt===2){if(totalLength(ht)<8)break;const St=concatChunks(ht,8),Et=new DataView(St.buffer,St.byteOffset,St.length),xt=Et.getUint32(0);if(xt>Math.pow(2,21)-1){At.enqueue(ERROR_PACKET);break}bt=xt*Math.pow(2,32)+Et.getUint32(4),vt=3}else{if(totalLength(ht)<bt)break;const St=concatChunks(ht,bt);At.enqueue(decodePacket(_t?St:TEXT_DECODER.decode(St),$)),vt=0}if(bt===0||bt>_e){At.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(_e){if(_e)return mixin$1(_e)}function mixin$1(_e){for(var $ in Emitter.prototype)_e[$]=Emitter.prototype[$];return _e}Emitter.prototype.on=Emitter.prototype.addEventListener=function(_e,$){return this._callbacks=this._callbacks||{},(this._callbacks["$"+_e]=this._callbacks["$"+_e]||[]).push($),this};Emitter.prototype.once=function(_e,$){function ht(){this.off(_e,ht),$.apply(this,arguments)}return ht.fn=$,this.on(_e,ht),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(_e,$){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var ht=this._callbacks["$"+_e];if(!ht)return this;if(arguments.length==1)return delete this._callbacks["$"+_e],this;for(var vt,bt=0;bt<ht.length;bt++)if(vt=ht[bt],vt===$||vt.fn===$){ht.splice(bt,1);break}return ht.length===0&&delete this._callbacks["$"+_e],this};Emitter.prototype.emit=function(_e){this._callbacks=this._callbacks||{};for(var $=new Array(arguments.length-1),ht=this._callbacks["$"+_e],vt=1;vt<arguments.length;vt++)$[vt-1]=arguments[vt];if(ht){ht=ht.slice(0);for(var vt=0,bt=ht.length;vt<bt;++vt)ht[vt].apply(this,$)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(_e){return this._callbacks=this._callbacks||{},this._callbacks["$"+_e]||[]};Emitter.prototype.hasListeners=function(_e){return!!this.listeners(_e).length};const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?$=>Promise.resolve().then($):($,ht)=>ht($,0),globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),defaultBinaryType="arraybuffer";function createCookieJar(){}function pick(_e,...$){return $.reduce((ht,vt)=>(_e.hasOwnProperty(vt)&&(ht[vt]=_e[vt]),ht),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(_e,$){$.useNativeTimers?(_e.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),_e.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(_e.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),_e.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(_e){return typeof _e=="string"?utf8Length(_e):Math.ceil((_e.byteLength||_e.size)*BASE64_OVERHEAD)}function utf8Length(_e){let $=0,ht=0;for(let vt=0,bt=_e.length;vt<bt;vt++)$=_e.charCodeAt(vt),$<128?ht+=1:$<2048?ht+=2:$<55296||$>=57344?ht+=3:(vt++,ht+=4);return ht}function randomString(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode$2(_e){let $="";for(let ht in _e)_e.hasOwnProperty(ht)&&($.length&&($+="&"),$+=encodeURIComponent(ht)+"="+encodeURIComponent(_e[ht]));return $}function decode(_e){let $={},ht=_e.split("&");for(let vt=0,bt=ht.length;vt<bt;vt++){let _t=ht[vt].split("=");$[decodeURIComponent(_t[0])]=decodeURIComponent(_t[1])}return $}class TransportError extends Error{constructor($,ht,vt){super($),this.description=ht,this.context=vt,this.type="TransportError"}}class Transport extends Emitter{constructor($){super(),this.writable=!1,installTimerFunctions(this,$),this.opts=$,this.query=$.query,this.socket=$.socket,this.supportsBinary=!$.forceBase64}onError($,ht,vt){return super.emitReserved("error",new TransportError($,ht,vt)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send($){this.readyState==="open"&&this.write($)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData($){const ht=decodePacket($,this.socket.binaryType);this.onPacket(ht)}onPacket($){super.emitReserved("packet",$)}onClose($){this.readyState="closed",super.emitReserved("close",$)}pause($){}createUri($,ht={}){return $+"://"+this._hostname()+this._port()+this.opts.path+this._query(ht)}_hostname(){const $=this.opts.hostname;return $.indexOf(":")===-1?$:"["+$+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query($){const ht=encode$2($);return ht.length?"?"+ht:""}}class Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause($){this.readyState="pausing";const ht=()=>{this.readyState="paused",$()};if(this._polling||!this.writable){let vt=0;this._polling&&(vt++,this.once("pollComplete",function(){--vt||ht()})),this.writable||(vt++,this.once("drain",function(){--vt||ht()}))}else ht()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData($){const ht=vt=>{if(this.readyState==="opening"&&vt.type==="open"&&this.onOpen(),vt.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(vt)};decodePayload($,this.socket.binaryType).forEach(ht),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const $=()=>{this.write([{type:"close"}])};this.readyState==="open"?$():this.once("open",$)}write($){this.writable=!1,encodePayload($,ht=>{this.doWrite(ht,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const $=this.opts.secure?"https":"http",ht=this.query||{};return this.opts.timestampRequests!==!1&&(ht[this.opts.timestampParam]=randomString()),!this.supportsBinary&&!ht.sid&&(ht.b64=1),this.createUri($,ht)}}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function empty(){}class BaseXHR extends Polling{constructor($){if(super($),typeof location<"u"){const ht=location.protocol==="https:";let vt=location.port;vt||(vt=ht?"443":"80"),this.xd=typeof location<"u"&&$.hostname!==location.hostname||vt!==$.port}}doWrite($,ht){const vt=this.request({method:"POST",data:$});vt.on("success",ht),vt.on("error",(bt,_t)=>{this.onError("xhr post error",bt,_t)})}doPoll(){const $=this.request();$.on("data",this.onData.bind(this)),$.on("error",(ht,vt)=>{this.onError("xhr poll error",ht,vt)}),this.pollXhr=$}}let Request$1=class p0 extends Emitter{constructor($,ht,vt){super(),this.createRequest=$,installTimerFunctions(this,vt),this._opts=vt,this._method=vt.method||"GET",this._uri=ht,this._data=vt.data!==void 0?vt.data:null,this._create()}_create(){var $;const ht=pick(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");ht.xdomain=!!this._opts.xd;const vt=this._xhr=this.createRequest(ht);try{vt.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){vt.setDisableHeaderCheck&&vt.setDisableHeaderCheck(!0);for(let bt in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(bt)&&vt.setRequestHeader(bt,this._opts.extraHeaders[bt])}}catch{}if(this._method==="POST")try{vt.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{vt.setRequestHeader("Accept","*/*")}catch{}($=this._opts.cookieJar)===null||$===void 0||$.addCookies(vt),"withCredentials"in vt&&(vt.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(vt.timeout=this._opts.requestTimeout),vt.onreadystatechange=()=>{var bt;vt.readyState===3&&((bt=this._opts.cookieJar)===null||bt===void 0||bt.parseCookies(vt.getResponseHeader("set-cookie"))),vt.readyState===4&&(vt.status===200||vt.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof vt.status=="number"?vt.status:0)},0))},vt.send(this._data)}catch(bt){this.setTimeoutFn(()=>{this._onError(bt)},0);return}typeof document<"u"&&(this._index=p0.requestsCount++,p0.requests[this._index]=this)}_onError($){this.emitReserved("error",$,this._xhr),this._cleanup(!0)}_cleanup($){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=empty,$)try{this._xhr.abort()}catch{}typeof document<"u"&&delete p0.requests[this._index],this._xhr=null}}_onLoad(){const $=this._xhr.responseText;$!==null&&(this.emitReserved("data",$),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Request$1.requestsCount=0;Request$1.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const _e="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(_e,unloadHandler,!1)}}function unloadHandler(){for(let _e in Request$1.requests)Request$1.requests.hasOwnProperty(_e)&&Request$1.requests[_e].abort()}const hasXHR2=function(){const _e=newRequest({xdomain:!1});return _e&&_e.responseType!==null}();class XHR extends BaseXHR{constructor($){super($);const ht=$&&$.forceBase64;this.supportsBinary=hasXHR2&&!ht}request($={}){return Object.assign($,{xd:this.xd},this.opts),new Request$1(newRequest,this.uri(),$)}}function newRequest(_e){const $=_e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!$||hasCORS))return new XMLHttpRequest}catch{}if(!$)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const $=this.uri(),ht=this.opts.protocols,vt=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(vt.headers=this.opts.extraHeaders);try{this.ws=this.createSocket($,ht,vt)}catch(bt){return this.emitReserved("error",bt)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=$=>this.onClose({description:"websocket connection closed",context:$}),this.ws.onmessage=$=>this.onData($.data),this.ws.onerror=$=>this.onError("websocket error",$)}write($){this.writable=!1;for(let ht=0;ht<$.length;ht++){const vt=$[ht],bt=ht===$.length-1;encodePacket(vt,this.supportsBinary,_t=>{try{this.doWrite(vt,_t)}catch{}bt&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const $=this.opts.secure?"wss":"ws",ht=this.query||{};return this.opts.timestampRequests&&(ht[this.opts.timestampParam]=randomString()),this.supportsBinary||(ht.b64=1),this.createUri($,ht)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;class WS extends BaseWS{createSocket($,ht,vt){return isReactNative?new WebSocketCtor($,ht,vt):ht?new WebSocketCtor($,ht):new WebSocketCtor($)}doWrite($,ht){this.ws.send(ht)}}class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch($){return this.emitReserved("error",$)}this._transport.closed.then(()=>{this.onClose()}).catch($=>{this.onError("webtransport error",$)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then($=>{const ht=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),vt=$.readable.pipeThrough(ht).getReader(),bt=createPacketEncoderStream();bt.readable.pipeTo($.writable),this._writer=bt.writable.getWriter();const _t=()=>{vt.read().then(({done:At,value:St})=>{At||(this.onPacket(St),_t())}).catch(At=>{})};_t();const wt={type:"open"};this.query.sid&&(wt.data=`{"sid":"${this.query.sid}"}`),this._writer.write(wt).then(()=>this.onOpen())})})}write($){this.writable=!1;for(let ht=0;ht<$.length;ht++){const vt=$[ht],bt=ht===$.length-1;this._writer.write(vt).then(()=>{bt&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var $;($=this._transport)===null||$===void 0||$.close()}}const transports={websocket:WS,webtransport:WT,polling:XHR},re$1=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(_e){if(_e.length>8e3)throw"URI too long";const $=_e,ht=_e.indexOf("["),vt=_e.indexOf("]");ht!=-1&&vt!=-1&&(_e=_e.substring(0,ht)+_e.substring(ht,vt).replace(/:/g,";")+_e.substring(vt,_e.length));let bt=re$1.exec(_e||""),_t={},wt=14;for(;wt--;)_t[parts[wt]]=bt[wt]||"";return ht!=-1&&vt!=-1&&(_t.source=$,_t.host=_t.host.substring(1,_t.host.length-1).replace(/;/g,":"),_t.authority=_t.authority.replace("[","").replace("]","").replace(/;/g,":"),_t.ipv6uri=!0),_t.pathNames=pathNames(_t,_t.path),_t.queryKey=queryKey(_t,_t.query),_t}function pathNames(_e,$){const ht=/\/{2,9}/g,vt=$.replace(ht,"/").split("/");return($.slice(0,1)=="/"||$.length===0)&&vt.splice(0,1),$.slice(-1)=="/"&&vt.splice(vt.length-1,1),vt}function queryKey(_e,$){const ht={};return $.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(vt,bt,_t){bt&&(ht[bt]=_t)}),ht}const withEventListeners=typeof addEventListener=="function"&&typeof removeEventListener=="function",OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(_e=>_e())},!1);class SocketWithoutUpgrade extends Emitter{constructor($,ht){if(super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,$&&typeof $=="object"&&(ht=$,$=null),$){const vt=parse($);ht.hostname=vt.host,ht.secure=vt.protocol==="https"||vt.protocol==="wss",ht.port=vt.port,vt.query&&(ht.query=vt.query)}else ht.host&&(ht.hostname=parse(ht.host).host);installTimerFunctions(this,ht),this.secure=ht.secure!=null?ht.secure:typeof location<"u"&&location.protocol==="https:",ht.hostname&&!ht.port&&(ht.port=this.secure?"443":"80"),this.hostname=ht.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=ht.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},ht.transports.forEach(vt=>{const bt=vt.prototype.name;this.transports.push(bt),this._transportsByName[bt]=vt}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},ht),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport($){const ht=Object.assign({},this.opts.query);ht.EIO=protocol$1,ht.transport=$,this.id&&(ht.sid=this.id);const vt=Object.assign({},this.opts,{query:ht,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[$]);return new this._transportsByName[$](vt)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const $=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const ht=this.createTransport($);ht.open(),this.setTransport(ht)}setTransport($){this.transport&&this.transport.removeAllListeners(),this.transport=$,$.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",ht=>this._onClose("transport close",ht))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket($){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",$),this.emitReserved("heartbeat"),$.type){case"open":this.onHandshake(JSON.parse($.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const ht=new Error("server error");ht.code=$.data,this._onError(ht);break;case"message":this.emitReserved("data",$.data),this.emitReserved("message",$.data);break}}onHandshake($){this.emitReserved("handshake",$),this.id=$.sid,this.transport.query.sid=$.sid,this._pingInterval=$.pingInterval,this._pingTimeout=$.pingTimeout,this._maxPayload=$.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const $=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+$,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},$),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const $=this._getWritablePackets();this.transport.send($),this._prevBufferLen=$.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let ht=1;for(let vt=0;vt<this.writeBuffer.length;vt++){const bt=this.writeBuffer[vt].data;if(bt&&(ht+=byteLength(bt)),vt>0&&ht>this._maxPayload)return this.writeBuffer.slice(0,vt);ht+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const $=Date.now()>this._pingTimeoutTime;return $&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),$}write($,ht,vt){return this._sendPacket("message",$,ht,vt),this}send($,ht,vt){return this._sendPacket("message",$,ht,vt),this}_sendPacket($,ht,vt,bt){if(typeof ht=="function"&&(bt=ht,ht=void 0),typeof vt=="function"&&(bt=vt,vt=null),this.readyState==="closing"||this.readyState==="closed")return;vt=vt||{},vt.compress=vt.compress!==!1;const _t={type:$,data:ht,options:vt};this.emitReserved("packetCreate",_t),this.writeBuffer.push(_t),bt&&this.once("flush",bt),this.flush()}close(){const $=()=>{this._onClose("forced close"),this.transport.close()},ht=()=>{this.off("upgrade",ht),this.off("upgradeError",ht),$()},vt=()=>{this.once("upgrade",ht),this.once("upgradeError",ht)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?vt():$()}):this.upgrading?vt():$()),this}_onError($){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",$),this._onClose("transport error",$)}_onClose($,ht){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const vt=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);vt!==-1&&OFFLINE_EVENT_LISTENERS.splice(vt,1)}this.readyState="closed",this.id=null,this.emitReserved("close",$,ht),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=protocol$1;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let $=0;$<this._upgrades.length;$++)this._probe(this._upgrades[$])}_probe($){let ht=this.createTransport($),vt=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const bt=()=>{vt||(ht.send([{type:"ping",data:"probe"}]),ht.once("packet",Pt=>{if(!vt)if(Pt.type==="pong"&&Pt.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",ht),!ht)return;SocketWithoutUpgrade.priorWebsocketSuccess=ht.name==="websocket",this.transport.pause(()=>{vt||this.readyState!=="closed"&&(xt(),this.setTransport(ht),ht.send([{type:"upgrade"}]),this.emitReserved("upgrade",ht),ht=null,this.upgrading=!1,this.flush())})}else{const $t=new Error("probe error");$t.transport=ht.name,this.emitReserved("upgradeError",$t)}}))};function _t(){vt||(vt=!0,xt(),ht.close(),ht=null)}const wt=Pt=>{const $t=new Error("probe error: "+Pt);$t.transport=ht.name,_t(),this.emitReserved("upgradeError",$t)};function At(){wt("transport closed")}function St(){wt("socket closed")}function Et(Pt){ht&&Pt.name!==ht.name&&_t()}const xt=()=>{ht.removeListener("open",bt),ht.removeListener("error",wt),ht.removeListener("close",At),this.off("close",St),this.off("upgrading",Et)};ht.once("open",bt),ht.once("error",wt),ht.once("close",At),this.once("close",St),this.once("upgrading",Et),this._upgrades.indexOf("webtransport")!==-1&&$!=="webtransport"?this.setTimeoutFn(()=>{vt||ht.open()},200):ht.open()}onHandshake($){this._upgrades=this._filterUpgrades($.upgrades),super.onHandshake($)}_filterUpgrades($){const ht=[];for(let vt=0;vt<$.length;vt++)~this.transports.indexOf($[vt])&&ht.push($[vt]);return ht}}let Socket$1=class extends SocketWithUpgrade{constructor($,ht={}){const vt=typeof $=="object"?$:ht;(!vt.transports||vt.transports&&typeof vt.transports[0]=="string")&&(vt.transports=(vt.transports||["polling","websocket","webtransport"]).map(bt=>transports[bt]).filter(bt=>!!bt)),super($,vt)}};function url(_e,$="",ht){let vt=_e;ht=ht||typeof location<"u"&&location,_e==null&&(_e=ht.protocol+"//"+ht.host),typeof _e=="string"&&(_e.charAt(0)==="/"&&(_e.charAt(1)==="/"?_e=ht.protocol+_e:_e=ht.host+_e),/^(https?|wss?):\/\//.test(_e)||(typeof ht<"u"?_e=ht.protocol+"//"+_e:_e="https://"+_e),vt=parse(_e)),vt.port||(/^(http|ws)$/.test(vt.protocol)?vt.port="80":/^(http|ws)s$/.test(vt.protocol)&&(vt.port="443")),vt.path=vt.path||"/";const _t=vt.host.indexOf(":")!==-1?"["+vt.host+"]":vt.host;return vt.id=vt.protocol+"://"+_t+":"+vt.port+$,vt.href=vt.protocol+"://"+_t+(ht&&ht.port===vt.port?"":":"+vt.port),vt}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=_e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(_e):_e.buffer instanceof ArrayBuffer,toString$5=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString$5.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString$5.call(File)==="[object FileConstructor]";function isBinary(_e){return withNativeArrayBuffer&&(_e instanceof ArrayBuffer||isView(_e))||withNativeBlob&&_e instanceof Blob||withNativeFile&&_e instanceof File}function hasBinary(_e,$){if(!_e||typeof _e!="object")return!1;if(Array.isArray(_e)){for(let ht=0,vt=_e.length;ht<vt;ht++)if(hasBinary(_e[ht]))return!0;return!1}if(isBinary(_e))return!0;if(_e.toJSON&&typeof _e.toJSON=="function"&&arguments.length===1)return hasBinary(_e.toJSON(),!0);for(const ht in _e)if(Object.prototype.hasOwnProperty.call(_e,ht)&&hasBinary(_e[ht]))return!0;return!1}function deconstructPacket(_e){const $=[],ht=_e.data,vt=_e;return vt.data=_deconstructPacket(ht,$),vt.attachments=$.length,{packet:vt,buffers:$}}function _deconstructPacket(_e,$){if(!_e)return _e;if(isBinary(_e)){const ht={_placeholder:!0,num:$.length};return $.push(_e),ht}else if(Array.isArray(_e)){const ht=new Array(_e.length);for(let vt=0;vt<_e.length;vt++)ht[vt]=_deconstructPacket(_e[vt],$);return ht}else if(typeof _e=="object"&&!(_e instanceof Date)){const ht={};for(const vt in _e)Object.prototype.hasOwnProperty.call(_e,vt)&&(ht[vt]=_deconstructPacket(_e[vt],$));return ht}return _e}function reconstructPacket(_e,$){return _e.data=_reconstructPacket(_e.data,$),delete _e.attachments,_e}function _reconstructPacket(_e,$){if(!_e)return _e;if(_e&&_e._placeholder===!0){if(typeof _e.num=="number"&&_e.num>=0&&_e.num<$.length)return $[_e.num];throw new Error("illegal attachments")}else if(Array.isArray(_e))for(let ht=0;ht<_e.length;ht++)_e[ht]=_reconstructPacket(_e[ht],$);else if(typeof _e=="object")for(const ht in _e)Object.prototype.hasOwnProperty.call(_e,ht)&&(_e[ht]=_reconstructPacket(_e[ht],$));return _e}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(_e){_e[_e.CONNECT=0]="CONNECT",_e[_e.DISCONNECT=1]="DISCONNECT",_e[_e.EVENT=2]="EVENT",_e[_e.ACK=3]="ACK",_e[_e.CONNECT_ERROR=4]="CONNECT_ERROR",_e[_e.BINARY_EVENT=5]="BINARY_EVENT",_e[_e.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor($){this.replacer=$}encode($){return($.type===PacketType.EVENT||$.type===PacketType.ACK)&&hasBinary($)?this.encodeAsBinary({type:$.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:$.nsp,data:$.data,id:$.id}):[this.encodeAsString($)]}encodeAsString($){let ht=""+$.type;return($.type===PacketType.BINARY_EVENT||$.type===PacketType.BINARY_ACK)&&(ht+=$.attachments+"-"),$.nsp&&$.nsp!=="/"&&(ht+=$.nsp+","),$.id!=null&&(ht+=$.id),$.data!=null&&(ht+=JSON.stringify($.data,this.replacer)),ht}encodeAsBinary($){const ht=deconstructPacket($),vt=this.encodeAsString(ht.packet),bt=ht.buffers;return bt.unshift(vt),bt}}function isObject$a(_e){return Object.prototype.toString.call(_e)==="[object Object]"}class Decoder extends Emitter{constructor($){super(),this.reviver=$}add($){let ht;if(typeof $=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");ht=this.decodeString($);const vt=ht.type===PacketType.BINARY_EVENT;vt||ht.type===PacketType.BINARY_ACK?(ht.type=vt?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(ht),ht.attachments===0&&super.emitReserved("decoded",ht)):super.emitReserved("decoded",ht)}else if(isBinary($)||$.base64)if(this.reconstructor)ht=this.reconstructor.takeBinaryData($),ht&&(this.reconstructor=null,super.emitReserved("decoded",ht));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+$)}decodeString($){let ht=0;const vt={type:Number($.charAt(0))};if(PacketType[vt.type]===void 0)throw new Error("unknown packet type "+vt.type);if(vt.type===PacketType.BINARY_EVENT||vt.type===PacketType.BINARY_ACK){const _t=ht+1;for(;$.charAt(++ht)!=="-"&&ht!=$.length;);const wt=$.substring(_t,ht);if(wt!=Number(wt)||$.charAt(ht)!=="-")throw new Error("Illegal attachments");vt.attachments=Number(wt)}if($.charAt(ht+1)==="/"){const _t=ht+1;for(;++ht&&!($.charAt(ht)===","||ht===$.length););vt.nsp=$.substring(_t,ht)}else vt.nsp="/";const bt=$.charAt(ht+1);if(bt!==""&&Number(bt)==bt){const _t=ht+1;for(;++ht;){const wt=$.charAt(ht);if(wt==null||Number(wt)!=wt){--ht;break}if(ht===$.length)break}vt.id=Number($.substring(_t,ht+1))}if($.charAt(++ht)){const _t=this.tryParse($.substr(ht));if(Decoder.isPayloadValid(vt.type,_t))vt.data=_t;else throw new Error("invalid payload")}return vt}tryParse($){try{return JSON.parse($,this.reviver)}catch{return!1}}static isPayloadValid($,ht){switch($){case PacketType.CONNECT:return isObject$a(ht);case PacketType.DISCONNECT:return ht===void 0;case PacketType.CONNECT_ERROR:return typeof ht=="string"||isObject$a(ht);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(ht)&&(typeof ht[0]=="number"||typeof ht[0]=="string"&&RESERVED_EVENTS$1.indexOf(ht[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(ht)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor($){this.packet=$,this.buffers=[],this.reconPack=$}takeBinaryData($){if(this.buffers.push($),this.buffers.length===this.reconPack.attachments){const ht=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),ht}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on$1(_e,$,ht){return _e.on($,ht),function(){_e.off($,ht)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor($,ht,vt){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=$,this.nsp=ht,vt&&vt.auth&&(this.auth=vt.auth),this._opts=Object.assign({},vt),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const $=this.io;this.subs=[on$1($,"open",this.onopen.bind(this)),on$1($,"packet",this.onpacket.bind(this)),on$1($,"error",this.onerror.bind(this)),on$1($,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...$){return $.unshift("message"),this.emit.apply(this,$),this}emit($,...ht){var vt,bt,_t;if(RESERVED_EVENTS.hasOwnProperty($))throw new Error('"'+$.toString()+'" is a reserved event name');if(ht.unshift($),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(ht),this;const wt={type:PacketType.EVENT,data:ht};if(wt.options={},wt.options.compress=this.flags.compress!==!1,typeof ht[ht.length-1]=="function"){const xt=this.ids++,Pt=ht.pop();this._registerAckCallback(xt,Pt),wt.id=xt}const At=(bt=(vt=this.io.engine)===null||vt===void 0?void 0:vt.transport)===null||bt===void 0?void 0:bt.writable,St=this.connected&&!(!((_t=this.io.engine)===null||_t===void 0)&&_t._hasPingExpired());return this.flags.volatile&&!At||(St?(this.notifyOutgoingListeners(wt),this.packet(wt)):this.sendBuffer.push(wt)),this.flags={},this}_registerAckCallback($,ht){var vt;const bt=(vt=this.flags.timeout)!==null&&vt!==void 0?vt:this._opts.ackTimeout;if(bt===void 0){this.acks[$]=ht;return}const _t=this.io.setTimeoutFn(()=>{delete this.acks[$];for(let At=0;At<this.sendBuffer.length;At++)this.sendBuffer[At].id===$&&this.sendBuffer.splice(At,1);ht.call(this,new Error("operation has timed out"))},bt),wt=(...At)=>{this.io.clearTimeoutFn(_t),ht.apply(this,At)};wt.withError=!0,this.acks[$]=wt}emitWithAck($,...ht){return new Promise((vt,bt)=>{const _t=(wt,At)=>wt?bt(wt):vt(At);_t.withError=!0,ht.push(_t),this.emit($,...ht)})}_addToQueue($){let ht;typeof $[$.length-1]=="function"&&(ht=$.pop());const vt={id:this._queueSeq++,tryCount:0,pending:!1,args:$,flags:Object.assign({fromQueue:!0},this.flags)};$.push((bt,..._t)=>vt!==this._queue[0]?void 0:(bt!==null?vt.tryCount>this._opts.retries&&(this._queue.shift(),ht&&ht(bt)):(this._queue.shift(),ht&&ht(null,..._t)),vt.pending=!1,this._drainQueue())),this._queue.push(vt),this._drainQueue()}_drainQueue($=!1){if(!this.connected||this._queue.length===0)return;const ht=this._queue[0];ht.pending&&!$||(ht.pending=!0,ht.tryCount++,this.flags=ht.flags,this.emit.apply(this,ht.args))}packet($){$.nsp=this.nsp,this.io._packet($)}onopen(){typeof this.auth=="function"?this.auth($=>{this._sendConnectPacket($)}):this._sendConnectPacket(this.auth)}_sendConnectPacket($){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},$):$})}onerror($){this.connected||this.emitReserved("connect_error",$)}onclose($,ht){this.connected=!1,delete this.id,this.emitReserved("disconnect",$,ht),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach($=>{if(!this.sendBuffer.some(vt=>String(vt.id)===$)){const vt=this.acks[$];delete this.acks[$],vt.withError&&vt.call(this,new Error("socket has been disconnected"))}})}onpacket($){if($.nsp===this.nsp)switch($.type){case PacketType.CONNECT:$.data&&$.data.sid?this.onconnect($.data.sid,$.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent($);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack($);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const vt=new Error($.data.message);vt.data=$.data.data,this.emitReserved("connect_error",vt);break}}onevent($){const ht=$.data||[];$.id!=null&&ht.push(this.ack($.id)),this.connected?this.emitEvent(ht):this.receiveBuffer.push(Object.freeze(ht))}emitEvent($){if(this._anyListeners&&this._anyListeners.length){const ht=this._anyListeners.slice();for(const vt of ht)vt.apply(this,$)}super.emit.apply(this,$),this._pid&&$.length&&typeof $[$.length-1]=="string"&&(this._lastOffset=$[$.length-1])}ack($){const ht=this;let vt=!1;return function(...bt){vt||(vt=!0,ht.packet({type:PacketType.ACK,id:$,data:bt}))}}onack($){const ht=this.acks[$.id];typeof ht=="function"&&(delete this.acks[$.id],ht.withError&&$.data.unshift(null),ht.apply(this,$.data))}onconnect($,ht){this.id=$,this.recovered=ht&&this._pid===ht,this._pid=ht,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach($=>this.emitEvent($)),this.receiveBuffer=[],this.sendBuffer.forEach($=>{this.notifyOutgoingListeners($),this.packet($)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach($=>$()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress($){return this.flags.compress=$,this}get volatile(){return this.flags.volatile=!0,this}timeout($){return this.flags.timeout=$,this}onAny($){return this._anyListeners=this._anyListeners||[],this._anyListeners.push($),this}prependAny($){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift($),this}offAny($){if(!this._anyListeners)return this;if($){const ht=this._anyListeners;for(let vt=0;vt<ht.length;vt++)if($===ht[vt])return ht.splice(vt,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing($){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push($),this}prependAnyOutgoing($){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift($),this}offAnyOutgoing($){if(!this._anyOutgoingListeners)return this;if($){const ht=this._anyOutgoingListeners;for(let vt=0;vt<ht.length;vt++)if($===ht[vt])return ht.splice(vt,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners($){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const ht=this._anyOutgoingListeners.slice();for(const vt of ht)vt.apply(this,$.data)}}}function Backoff(_e){_e=_e||{},this.ms=_e.min||100,this.max=_e.max||1e4,this.factor=_e.factor||2,this.jitter=_e.jitter>0&&_e.jitter<=1?_e.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var _e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var $=Math.random(),ht=Math.floor($*this.jitter*_e);_e=Math.floor($*10)&1?_e+ht:_e-ht}return Math.min(_e,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(_e){this.ms=_e};Backoff.prototype.setMax=function(_e){this.max=_e};Backoff.prototype.setJitter=function(_e){this.jitter=_e};class Manager extends Emitter{constructor($,ht){var vt;super(),this.nsps={},this.subs=[],$&&typeof $=="object"&&(ht=$,$=void 0),ht=ht||{},ht.path=ht.path||"/socket.io",this.opts=ht,installTimerFunctions(this,ht),this.reconnection(ht.reconnection!==!1),this.reconnectionAttempts(ht.reconnectionAttempts||1/0),this.reconnectionDelay(ht.reconnectionDelay||1e3),this.reconnectionDelayMax(ht.reconnectionDelayMax||5e3),this.randomizationFactor((vt=ht.randomizationFactor)!==null&&vt!==void 0?vt:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(ht.timeout==null?2e4:ht.timeout),this._readyState="closed",this.uri=$;const bt=ht.parser||parser;this.encoder=new bt.Encoder,this.decoder=new bt.Decoder,this._autoConnect=ht.autoConnect!==!1,this._autoConnect&&this.open()}reconnection($){return arguments.length?(this._reconnection=!!$,$||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts($){return $===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=$,this)}reconnectionDelay($){var ht;return $===void 0?this._reconnectionDelay:(this._reconnectionDelay=$,(ht=this.backoff)===null||ht===void 0||ht.setMin($),this)}randomizationFactor($){var ht;return $===void 0?this._randomizationFactor:(this._randomizationFactor=$,(ht=this.backoff)===null||ht===void 0||ht.setJitter($),this)}reconnectionDelayMax($){var ht;return $===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=$,(ht=this.backoff)===null||ht===void 0||ht.setMax($),this)}timeout($){return arguments.length?(this._timeout=$,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open($){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const ht=this.engine,vt=this;this._readyState="opening",this.skipReconnect=!1;const bt=on$1(ht,"open",function(){vt.onopen(),$&&$()}),_t=At=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",At),$?$(At):this.maybeReconnectOnOpen()},wt=on$1(ht,"error",_t);if(this._timeout!==!1){const At=this._timeout,St=this.setTimeoutFn(()=>{bt(),_t(new Error("timeout")),ht.close()},At);this.opts.autoUnref&&St.unref(),this.subs.push(()=>{this.clearTimeoutFn(St)})}return this.subs.push(bt),this.subs.push(wt),this}connect($){return this.open($)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const $=this.engine;this.subs.push(on$1($,"ping",this.onping.bind(this)),on$1($,"data",this.ondata.bind(this)),on$1($,"error",this.onerror.bind(this)),on$1($,"close",this.onclose.bind(this)),on$1(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata($){try{this.decoder.add($)}catch(ht){this.onclose("parse error",ht)}}ondecoded($){nextTick(()=>{this.emitReserved("packet",$)},this.setTimeoutFn)}onerror($){this.emitReserved("error",$)}socket($,ht){let vt=this.nsps[$];return vt?this._autoConnect&&!vt.active&&vt.connect():(vt=new Socket(this,$,ht),this.nsps[$]=vt),vt}_destroy($){const ht=Object.keys(this.nsps);for(const vt of ht)if(this.nsps[vt].active)return;this._close()}_packet($){const ht=this.encoder.encode($);for(let vt=0;vt<ht.length;vt++)this.engine.write(ht[vt],$.options)}cleanup(){this.subs.forEach($=>$()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose($,ht){var vt;this.cleanup(),(vt=this.engine)===null||vt===void 0||vt.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",$,ht),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const $=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const ht=this.backoff.duration();this._reconnecting=!0;const vt=this.setTimeoutFn(()=>{$.skipReconnect||(this.emitReserved("reconnect_attempt",$.backoff.attempts),!$.skipReconnect&&$.open(bt=>{bt?($._reconnecting=!1,$.reconnect(),this.emitReserved("reconnect_error",bt)):$.onreconnect()}))},ht);this.opts.autoUnref&&vt.unref(),this.subs.push(()=>{this.clearTimeoutFn(vt)})}}onreconnect(){const $=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",$)}}const cache={};function lookup(_e,$){typeof _e=="object"&&($=_e,_e=void 0),$=$||{};const ht=url(_e,$.path||"/socket.io"),vt=ht.source,bt=ht.id,_t=ht.path,wt=cache[bt]&&_t in cache[bt].nsps,At=$.forceNew||$["force new connection"]||$.multiplex===!1||wt;let St;return At?St=new Manager(vt,$):(cache[bt]||(cache[bt]=new Manager(vt,$)),St=cache[bt]),ht.query&&!$.query&&($.query=ht.queryKey),St.socket(ht.path,$)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});function bind(_e,$){return function(){return _e.apply($,arguments)}}const{toString:toString$4}=Object.prototype,{getPrototypeOf}=Object,kindOf=(_e=>$=>{const ht=toString$4.call($);return _e[ht]||(_e[ht]=ht.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),$=>kindOf($)===_e),typeOfTest=_e=>$=>typeof $===_e,{isArray:isArray$g}=Array,isUndefined=typeOfTest("undefined");function isBuffer$3(_e){return _e!==null&&!isUndefined(_e)&&_e.constructor!==null&&!isUndefined(_e.constructor)&&isFunction$4(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(_e):$=_e&&_e.buffer&&isArrayBuffer(_e.buffer),$}const isString$3=typeOfTest("string"),isFunction$4=typeOfTest("function"),isNumber$4=typeOfTest("number"),isObject$9=_e=>_e!==null&&typeof _e=="object",isBoolean$2=_e=>_e===!0||_e===!1,isPlainObject$2=_e=>{if(kindOf(_e)!=="object")return!1;const $=getPrototypeOf(_e);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject$9(_e)&&isFunction$4(_e.pipe),isFormData=_e=>{let $;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction$4(_e.append)&&(($=kindOf(_e))==="formdata"||$==="object"&&isFunction$4(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_e,$,{allOwnKeys:ht=!1}={}){if(_e===null||typeof _e>"u")return;let vt,bt;if(typeof _e!="object"&&(_e=[_e]),isArray$g(_e))for(vt=0,bt=_e.length;vt<bt;vt++)$.call(null,_e[vt],vt,_e);else{const _t=ht?Object.getOwnPropertyNames(_e):Object.keys(_e),wt=_t.length;let At;for(vt=0;vt<wt;vt++)At=_t[vt],$.call(null,_e[At],At,_e)}}function findKey(_e,$){$=$.toLowerCase();const ht=Object.keys(_e);let vt=ht.length,bt;for(;vt-- >0;)if(bt=ht[vt],$===bt.toLowerCase())return bt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined(_e)&&_e!==_global;function merge(){const{caseless:_e}=isContextDefined(this)&&this||{},$={},ht=(vt,bt)=>{const _t=_e&&findKey($,bt)||bt;isPlainObject$2($[_t])&&isPlainObject$2(vt)?$[_t]=merge($[_t],vt):isPlainObject$2(vt)?$[_t]=merge({},vt):isArray$g(vt)?$[_t]=vt.slice():$[_t]=vt};for(let vt=0,bt=arguments.length;vt<bt;vt++)arguments[vt]&&forEach(arguments[vt],ht);return $}const extend$1=(_e,$,ht,{allOwnKeys:vt}={})=>(forEach($,(bt,_t)=>{ht&&isFunction$4(bt)?_e[_t]=bind(bt,ht):_e[_t]=bt},{allOwnKeys:vt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,$,ht,vt)=>{_e.prototype=Object.create($.prototype,vt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:$.prototype}),ht&&Object.assign(_e.prototype,ht)},toFlatObject=(_e,$,ht,vt)=>{let bt,_t,wt;const At={};if($=$||{},_e==null)return $;do{for(bt=Object.getOwnPropertyNames(_e),_t=bt.length;_t-- >0;)wt=bt[_t],(!vt||vt(wt,_e,$))&&!At[wt]&&($[wt]=_e[wt],At[wt]=!0);_e=ht!==!1&&getPrototypeOf(_e)}while(_e&&(!ht||ht(_e,$))&&_e!==Object.prototype);return $},endsWith=(_e,$,ht)=>{_e=String(_e),(ht===void 0||ht>_e.length)&&(ht=_e.length),ht-=$.length;const vt=_e.indexOf($,ht);return vt!==-1&&vt===ht},toArray$1=_e=>{if(!_e)return null;if(isArray$g(_e))return _e;let $=_e.length;if(!isNumber$4($))return null;const ht=new Array($);for(;$-- >0;)ht[$]=_e[$];return ht},isTypedArray$4=(_e=>$=>_e&&$ instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(_e,$)=>{const vt=(_e&&_e[Symbol.iterator]).call(_e);let bt;for(;(bt=vt.next())&&!bt.done;){const _t=bt.value;$.call(_e,_t[0],_t[1])}},matchAll=(_e,$)=>{let ht;const vt=[];for(;(ht=_e.exec($))!==null;)vt.push(ht);return vt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(ht,vt,bt){return vt.toUpperCase()+bt}),hasOwnProperty$b=(({hasOwnProperty:_e})=>($,ht)=>_e.call($,ht))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(_e,$)=>{const ht=Object.getOwnPropertyDescriptors(_e),vt={};forEach(ht,(bt,_t)=>{let wt;(wt=$(bt,_t,_e))!==!1&&(vt[_t]=wt||bt)}),Object.defineProperties(_e,vt)},freezeMethods=_e=>{reduceDescriptors(_e,($,ht)=>{if(isFunction$4(_e)&&["arguments","caller","callee"].indexOf(ht)!==-1)return!1;const vt=_e[ht];if(isFunction$4(vt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+ht+"'")})}})},toObjectSet=(_e,$)=>{const ht={},vt=bt=>{bt.forEach(_t=>{ht[_t]=!0})};return isArray$g(_e)?vt(_e):vt(String(_e).split($)),ht},noop$4=()=>{},toFiniteNumber=(_e,$)=>_e!=null&&Number.isFinite(_e=+_e)?_e:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_e=16,$=ALPHABET.ALPHA_DIGIT)=>{let ht="";const{length:vt}=$;for(;_e--;)ht+=$[Math.random()*vt|0];return ht};function isSpecCompliantForm(_e){return!!(_e&&isFunction$4(_e.append)&&_e[Symbol.toStringTag]==="FormData"&&_e[Symbol.iterator])}const toJSONObject=_e=>{const $=new Array(10),ht=(vt,bt)=>{if(isObject$9(vt)){if($.indexOf(vt)>=0)return;if(!("toJSON"in vt)){$[bt]=vt;const _t=isArray$g(vt)?[]:{};return forEach(vt,(wt,At)=>{const St=ht(wt,bt+1);!isUndefined(St)&&(_t[At]=St)}),$[bt]=void 0,_t}}return vt};return ht(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=_e=>_e&&(isObject$9(_e)||isFunction$4(_e))&&isFunction$4(_e.then)&&isFunction$4(_e.catch),utils$1={isArray:isArray$g,isArrayBuffer,isBuffer:isBuffer$3,isFormData,isArrayBufferView,isString:isString$3,isNumber:isNumber$4,isBoolean:isBoolean$2,isObject:isObject$9,isPlainObject:isPlainObject$2,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$4,isStream,isURLSearchParams,isTypedArray:isTypedArray$4,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$b,hasOwnProp:hasOwnProperty$b,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$4,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(_e,$,ht,vt,bt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",$&&(this.code=$),ht&&(this.config=ht),vt&&(this.request=vt),bt&&(this.response=bt)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(_e,$,ht,vt,bt,_t)=>{const wt=Object.create(prototype$1);return utils$1.toFlatObject(_e,wt,function(St){return St!==Error.prototype},At=>At!=="isAxiosError"),AxiosError.call(wt,_e.message,$,ht,vt,bt),wt.cause=_e,wt.name=_e.name,_t&&Object.assign(wt,_t),wt};const httpAdapter=null;function isVisitable(_e){return utils$1.isPlainObject(_e)||utils$1.isArray(_e)}function removeBrackets(_e){return utils$1.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,$,ht){return _e?_e.concat($).map(function(bt,_t){return bt=removeBrackets(bt),!ht&&_t?"["+bt+"]":bt}).join(ht?".":""):$}function isFlatArray(_e){return utils$1.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(_e,$,ht){if(!utils$1.isObject(_e))throw new TypeError("target must be an object");$=$||new FormData,ht=utils$1.toFlatObject(ht,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Mt,Dt){return!utils$1.isUndefined(Dt[Mt])});const vt=ht.metaTokens,bt=ht.visitor||xt,_t=ht.dots,wt=ht.indexes,St=(ht.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(bt))throw new TypeError("visitor must be a function");function Et(Rt){if(Rt===null)return"";if(utils$1.isDate(Rt))return Rt.toISOString();if(!St&&utils$1.isBlob(Rt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Rt)||utils$1.isTypedArray(Rt)?St&&typeof Blob=="function"?new Blob([Rt]):Buffer.from(Rt):Rt}function xt(Rt,Mt,Dt){let Ot=Rt;if(Rt&&!Dt&&typeof Rt=="object"){if(utils$1.endsWith(Mt,"{}"))Mt=vt?Mt:Mt.slice(0,-2),Rt=JSON.stringify(Rt);else if(utils$1.isArray(Rt)&&isFlatArray(Rt)||(utils$1.isFileList(Rt)||utils$1.endsWith(Mt,"[]"))&&(Ot=utils$1.toArray(Rt)))return Mt=removeBrackets(Mt),Ot.forEach(function(Nt,Ht){!(utils$1.isUndefined(Nt)||Nt===null)&&$.append(wt===!0?renderKey([Mt],Ht,_t):wt===null?Mt:Mt+"[]",Et(Nt))}),!1}return isVisitable(Rt)?!0:($.append(renderKey(Dt,Mt,_t),Et(Rt)),!1)}const Pt=[],$t=Object.assign(predicates,{defaultVisitor:xt,convertValue:Et,isVisitable});function kt(Rt,Mt){if(!utils$1.isUndefined(Rt)){if(Pt.indexOf(Rt)!==-1)throw Error("Circular reference detected in "+Mt.join("."));Pt.push(Rt),utils$1.forEach(Rt,function(Ot,Lt){(!(utils$1.isUndefined(Ot)||Ot===null)&&bt.call($,Ot,utils$1.isString(Lt)?Lt.trim():Lt,Mt,$t))===!0&&kt(Ot,Mt?Mt.concat(Lt):[Lt])}),Pt.pop()}}if(!utils$1.isObject(_e))throw new TypeError("data must be an object");return kt(_e),$}function encode$1(_e){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(vt){return $[vt]})}function AxiosURLSearchParams(_e,$){this._pairs=[],_e&&toFormData(_e,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,ht){this._pairs.push([$,ht])};prototype.toString=function($){const ht=$?function(vt){return $.call(this,vt,encode$1)}:encode$1;return this._pairs.map(function(bt){return ht(bt[0])+"="+ht(bt[1])},"").join("&")};function encode(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_e,$,ht){if(!$)return _e;const vt=ht&&ht.encode||encode,bt=ht&&ht.serialize;let _t;if(bt?_t=bt($,ht):_t=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,ht).toString(vt),_t){const wt=_e.indexOf("#");wt!==-1&&(_e=_e.slice(0,wt)),_e+=(_e.indexOf("?")===-1?"?":"&")+_t}return _e}class InterceptorManager{constructor(){this.handlers=[]}use($,ht,vt){return this.handlers.push({fulfilled:$,rejected:ht,synchronous:vt?vt.synchronous:!1,runWhen:vt?vt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(vt){vt!==null&&$(vt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(_e=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(_e)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(_e,$){return toFormData(_e,new platform.classes.URLSearchParams,Object.assign({visitor:function(ht,vt,bt,_t){return platform.isNode&&utils$1.isBuffer(ht)?(this.append(vt,ht.toString("base64")),!1):_t.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(_e){return utils$1.matchAll(/\w+|\[(\w*)]/g,_e).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(_e){const $={},ht=Object.keys(_e);let vt;const bt=ht.length;let _t;for(vt=0;vt<bt;vt++)_t=ht[vt],$[_t]=_e[_t];return $}function formDataToJSON(_e){function $(ht,vt,bt,_t){let wt=ht[_t++];if(wt==="__proto__")return!0;const At=Number.isFinite(+wt),St=_t>=ht.length;return wt=!wt&&utils$1.isArray(bt)?bt.length:wt,St?(utils$1.hasOwnProp(bt,wt)?bt[wt]=[bt[wt],vt]:bt[wt]=vt,!At):((!bt[wt]||!utils$1.isObject(bt[wt]))&&(bt[wt]=[]),$(ht,vt,bt[wt],_t)&&utils$1.isArray(bt[wt])&&(bt[wt]=arrayToObject(bt[wt])),!At)}if(utils$1.isFormData(_e)&&utils$1.isFunction(_e.entries)){const ht={};return utils$1.forEachEntry(_e,(vt,bt)=>{$(parsePropPath(vt),bt,ht,0)}),ht}return null}function stringifySafely(_e,$,ht){if(utils$1.isString(_e))try{return($||JSON.parse)(_e),utils$1.trim(_e)}catch(vt){if(vt.name!=="SyntaxError")throw vt}return(0,JSON.stringify)(_e)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,ht){const vt=ht.getContentType()||"",bt=vt.indexOf("application/json")>-1,_t=utils$1.isObject($);if(_t&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return bt?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return ht.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let At;if(_t){if(vt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((At=utils$1.isFileList($))||vt.indexOf("multipart/form-data")>-1){const St=this.env&&this.env.FormData;return toFormData(At?{"files[]":$}:$,St&&new St,this.formSerializer)}}return _t||bt?(ht.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const ht=this.transitional||defaults$1.transitional,vt=ht&&ht.forcedJSONParsing,bt=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(vt&&!this.responseType||bt)){const wt=!(ht&&ht.silentJSONParsing)&&bt;try{return JSON.parse($)}catch(At){if(wt)throw At.name==="SyntaxError"?AxiosError.from(At,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):At}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],_e=>{defaults$1.headers[_e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_e=>{const $={};let ht,vt,bt;return _e&&_e.split(`
`).forEach(function(wt){bt=wt.indexOf(":"),ht=wt.substring(0,bt).trim().toLowerCase(),vt=wt.substring(bt+1).trim(),!(!ht||$[ht]&&ignoreDuplicateOf[ht])&&(ht==="set-cookie"?$[ht]?$[ht].push(vt):$[ht]=[vt]:$[ht]=$[ht]?$[ht]+", "+vt:vt)}),$},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$1.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const $=Object.create(null),ht=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let vt;for(;vt=ht.exec(_e);)$[vt[1]]=vt[2];return $}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,$,ht,vt,bt){if(utils$1.isFunction(vt))return vt.call(this,$,ht);if(bt&&($=ht),!!utils$1.isString($)){if(utils$1.isString(vt))return $.indexOf(vt)!==-1;if(utils$1.isRegExp(vt))return vt.test($)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,ht,vt)=>ht.toUpperCase()+vt)}function buildAccessors(_e,$){const ht=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(vt=>{Object.defineProperty(_e,vt+ht,{value:function(bt,_t,wt){return this[vt].call(this,$,bt,_t,wt)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,ht,vt){const bt=this;function _t(At,St,Et){const xt=normalizeHeader(St);if(!xt)throw new Error("header name must be a non-empty string");const Pt=utils$1.findKey(bt,xt);(!Pt||bt[Pt]===void 0||Et===!0||Et===void 0&&bt[Pt]!==!1)&&(bt[Pt||St]=normalizeValue(At))}const wt=(At,St)=>utils$1.forEach(At,(Et,xt)=>_t(Et,xt,St));if(utils$1.isPlainObject($)||$ instanceof this.constructor)wt($,ht);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))wt(parseHeaders($),ht);else if(utils$1.isHeaders($))for(const[At,St]of $.entries())_t(St,At,vt);else $!=null&&_t(ht,$,vt);return this}get($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);if(vt){const bt=this[vt];if(!ht)return bt;if(ht===!0)return parseTokens(bt);if(utils$1.isFunction(ht))return ht.call(this,bt,vt);if(utils$1.isRegExp(ht))return ht.exec(bt);throw new TypeError("parser must be boolean|regexp|function")}}}has($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);return!!(vt&&this[vt]!==void 0&&(!ht||matchHeaderValue(this,this[vt],vt,ht)))}return!1}delete($,ht){const vt=this;let bt=!1;function _t(wt){if(wt=normalizeHeader(wt),wt){const At=utils$1.findKey(vt,wt);At&&(!ht||matchHeaderValue(vt,vt[At],At,ht))&&(delete vt[At],bt=!0)}}return utils$1.isArray($)?$.forEach(_t):_t($),bt}clear($){const ht=Object.keys(this);let vt=ht.length,bt=!1;for(;vt--;){const _t=ht[vt];(!$||matchHeaderValue(this,this[_t],_t,$,!0))&&(delete this[_t],bt=!0)}return bt}normalize($){const ht=this,vt={};return utils$1.forEach(this,(bt,_t)=>{const wt=utils$1.findKey(vt,_t);if(wt){ht[wt]=normalizeValue(bt),delete ht[_t];return}const At=$?formatHeader(_t):String(_t).trim();At!==_t&&delete ht[_t],ht[At]=normalizeValue(bt),vt[At]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const ht=Object.create(null);return utils$1.forEach(this,(vt,bt)=>{vt!=null&&vt!==!1&&(ht[bt]=$&&utils$1.isArray(vt)?vt.join(", "):vt)}),ht}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,ht])=>$+": "+ht).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,...ht){const vt=new this($);return ht.forEach(bt=>vt.set(bt)),vt}static accessor($){const vt=(this[$internals]=this[$internals]={accessors:{}}).accessors,bt=this.prototype;function _t(wt){const At=normalizeHeader(wt);vt[At]||(buildAccessors(bt,wt),vt[At]=!0)}return utils$1.isArray($)?$.forEach(_t):_t($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:_e},$)=>{let ht=$[0].toUpperCase()+$.slice(1);return{get:()=>_e,set(vt){this[ht]=vt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(_e,$){const ht=this||defaults$1,vt=$||ht,bt=AxiosHeaders.from(vt.headers);let _t=vt.data;return utils$1.forEach(_e,function(At){_t=At.call(ht,_t,bt.normalize(),$?$.status:void 0)}),bt.normalize(),_t}function isCancel(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError(_e,$,ht){AxiosError.call(this,_e??"canceled",AxiosError.ERR_CANCELED,$,ht),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(_e,$,ht){const vt=ht.config.validateStatus;!ht.status||!vt||vt(ht.status)?_e(ht):$(new AxiosError("Request failed with status code "+ht.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(ht.status/100)-4],ht.config,ht.request,ht))}function parseProtocol(_e){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return $&&$[1]||""}function speedometer(_e,$){_e=_e||10;const ht=new Array(_e),vt=new Array(_e);let bt=0,_t=0,wt;return $=$!==void 0?$:1e3,function(St){const Et=Date.now(),xt=vt[_t];wt||(wt=Et),ht[bt]=St,vt[bt]=Et;let Pt=_t,$t=0;for(;Pt!==bt;)$t+=ht[Pt++],Pt=Pt%_e;if(bt=(bt+1)%_e,bt===_t&&(_t=(_t+1)%_e),Et-wt<$)return;const kt=xt&&Et-xt;return kt?Math.round($t*1e3/kt):void 0}}function throttle$2(_e,$){let ht=0;const vt=1e3/$;let bt=null;return function(){const wt=this===!0,At=Date.now();if(wt||At-ht>vt)return bt&&(clearTimeout(bt),bt=null),ht=At,_e.apply(null,arguments);bt||(bt=setTimeout(()=>(bt=null,ht=Date.now(),_e.apply(null,arguments)),vt-(At-ht)))}}const progressEventReducer=(_e,$,ht=3)=>{let vt=0;const bt=speedometer(50,250);return throttle$2(_t=>{const wt=_t.loaded,At=_t.lengthComputable?_t.total:void 0,St=wt-vt,Et=bt(St),xt=wt<=At;vt=wt;const Pt={loaded:wt,total:At,progress:At?wt/At:void 0,bytes:St,rate:Et||void 0,estimated:Et&&At&&xt?(At-wt)/Et:void 0,event:_t,lengthComputable:At!=null};Pt[$?"download":"upload"]=!0,_e(Pt)},ht)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),ht=document.createElement("a");let vt;function bt(_t){let wt=_t;return $&&(ht.setAttribute("href",wt),wt=ht.href),ht.setAttribute("href",wt),{href:ht.href,protocol:ht.protocol?ht.protocol.replace(/:$/,""):"",host:ht.host,search:ht.search?ht.search.replace(/^\?/,""):"",hash:ht.hash?ht.hash.replace(/^#/,""):"",hostname:ht.hostname,port:ht.port,pathname:ht.pathname.charAt(0)==="/"?ht.pathname:"/"+ht.pathname}}return vt=bt(window.location.href),function(wt){const At=utils$1.isString(wt)?bt(wt):wt;return At.protocol===vt.protocol&&At.host===vt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(_e,$,ht,vt,bt,_t){const wt=[_e+"="+encodeURIComponent($)];utils$1.isNumber(ht)&&wt.push("expires="+new Date(ht).toGMTString()),utils$1.isString(vt)&&wt.push("path="+vt),utils$1.isString(bt)&&wt.push("domain="+bt),_t===!0&&wt.push("secure"),document.cookie=wt.join("; ")},read(_e){const $=document.cookie.match(new RegExp("(^|;\\s*)("+_e+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(_e){this.write(_e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,$){return $?_e.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):_e}function buildFullPath(_e,$){return _e&&!isAbsoluteURL($)?combineURLs(_e,$):$}const headersToObject=_e=>_e instanceof AxiosHeaders?{..._e}:_e;function mergeConfig(_e,$){$=$||{};const ht={};function vt(Et,xt,Pt){return utils$1.isPlainObject(Et)&&utils$1.isPlainObject(xt)?utils$1.merge.call({caseless:Pt},Et,xt):utils$1.isPlainObject(xt)?utils$1.merge({},xt):utils$1.isArray(xt)?xt.slice():xt}function bt(Et,xt,Pt){if(utils$1.isUndefined(xt)){if(!utils$1.isUndefined(Et))return vt(void 0,Et,Pt)}else return vt(Et,xt,Pt)}function _t(Et,xt){if(!utils$1.isUndefined(xt))return vt(void 0,xt)}function wt(Et,xt){if(utils$1.isUndefined(xt)){if(!utils$1.isUndefined(Et))return vt(void 0,Et)}else return vt(void 0,xt)}function At(Et,xt,Pt){if(Pt in $)return vt(Et,xt);if(Pt in _e)return vt(void 0,Et)}const St={url:_t,method:_t,data:_t,baseURL:wt,transformRequest:wt,transformResponse:wt,paramsSerializer:wt,timeout:wt,timeoutMessage:wt,withCredentials:wt,withXSRFToken:wt,adapter:wt,responseType:wt,xsrfCookieName:wt,xsrfHeaderName:wt,onUploadProgress:wt,onDownloadProgress:wt,decompress:wt,maxContentLength:wt,maxBodyLength:wt,beforeRedirect:wt,transport:wt,httpAgent:wt,httpsAgent:wt,cancelToken:wt,socketPath:wt,responseEncoding:wt,validateStatus:At,headers:(Et,xt)=>bt(headersToObject(Et),headersToObject(xt),!0)};return utils$1.forEach(Object.keys(Object.assign({},_e,$)),function(xt){const Pt=St[xt]||bt,$t=Pt(_e[xt],$[xt],xt);utils$1.isUndefined($t)&&Pt!==At||(ht[xt]=$t)}),ht}const resolveConfig=_e=>{const $=mergeConfig({},_e);let{data:ht,withXSRFToken:vt,xsrfHeaderName:bt,xsrfCookieName:_t,headers:wt,auth:At}=$;$.headers=wt=AxiosHeaders.from(wt),$.url=buildURL(buildFullPath($.baseURL,$.url),_e.params,_e.paramsSerializer),At&&wt.set("Authorization","Basic "+btoa((At.username||"")+":"+(At.password?unescape(encodeURIComponent(At.password)):"")));let St;if(utils$1.isFormData(ht)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)wt.setContentType(void 0);else if((St=wt.getContentType())!==!1){const[Et,...xt]=St?St.split(";").map(Pt=>Pt.trim()).filter(Boolean):[];wt.setContentType([Et||"multipart/form-data",...xt].join("; "))}}if(platform.hasStandardBrowserEnv&&(vt&&utils$1.isFunction(vt)&&(vt=vt($)),vt||vt!==!1&&isURLSameOrigin($.url))){const Et=bt&&_t&&cookies.read(_t);Et&&wt.set(bt,Et)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(ht,vt){const bt=resolveConfig(_e);let _t=bt.data;const wt=AxiosHeaders.from(bt.headers).normalize();let{responseType:At}=bt,St;function Et(){bt.cancelToken&&bt.cancelToken.unsubscribe(St),bt.signal&&bt.signal.removeEventListener("abort",St)}let xt=new XMLHttpRequest;xt.open(bt.method.toUpperCase(),bt.url,!0),xt.timeout=bt.timeout;function Pt(){if(!xt)return;const kt=AxiosHeaders.from("getAllResponseHeaders"in xt&&xt.getAllResponseHeaders()),Mt={data:!At||At==="text"||At==="json"?xt.responseText:xt.response,status:xt.status,statusText:xt.statusText,headers:kt,config:_e,request:xt};settle(function(Ot){ht(Ot),Et()},function(Ot){vt(Ot),Et()},Mt),xt=null}"onloadend"in xt?xt.onloadend=Pt:xt.onreadystatechange=function(){!xt||xt.readyState!==4||xt.status===0&&!(xt.responseURL&&xt.responseURL.indexOf("file:")===0)||setTimeout(Pt)},xt.onabort=function(){xt&&(vt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,bt,xt)),xt=null)},xt.onerror=function(){vt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,bt,xt)),xt=null},xt.ontimeout=function(){let Rt=bt.timeout?"timeout of "+bt.timeout+"ms exceeded":"timeout exceeded";const Mt=bt.transitional||transitionalDefaults;bt.timeoutErrorMessage&&(Rt=bt.timeoutErrorMessage),vt(new AxiosError(Rt,Mt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,bt,xt)),xt=null},_t===void 0&&wt.setContentType(null),"setRequestHeader"in xt&&utils$1.forEach(wt.toJSON(),function(Rt,Mt){xt.setRequestHeader(Mt,Rt)}),utils$1.isUndefined(bt.withCredentials)||(xt.withCredentials=!!bt.withCredentials),At&&At!=="json"&&(xt.responseType=bt.responseType),typeof bt.onDownloadProgress=="function"&&xt.addEventListener("progress",progressEventReducer(bt.onDownloadProgress,!0)),typeof bt.onUploadProgress=="function"&&xt.upload&&xt.upload.addEventListener("progress",progressEventReducer(bt.onUploadProgress)),(bt.cancelToken||bt.signal)&&(St=kt=>{xt&&(vt(!kt||kt.type?new CanceledError(null,_e,xt):kt),xt.abort(),xt=null)},bt.cancelToken&&bt.cancelToken.subscribe(St),bt.signal&&(bt.signal.aborted?St():bt.signal.addEventListener("abort",St)));const $t=parseProtocol(bt.url);if($t&&platform.protocols.indexOf($t)===-1){vt(new AxiosError("Unsupported protocol "+$t+":",AxiosError.ERR_BAD_REQUEST,_e));return}xt.send(_t||null)})},composeSignals=(_e,$)=>{let ht=new AbortController,vt;const bt=function(St){if(!vt){vt=!0,wt();const Et=St instanceof Error?St:this.reason;ht.abort(Et instanceof AxiosError?Et:new CanceledError(Et instanceof Error?Et.message:Et))}};let _t=$&&setTimeout(()=>{bt(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const wt=()=>{_e&&(_t&&clearTimeout(_t),_t=null,_e.forEach(St=>{St&&(St.removeEventListener?St.removeEventListener("abort",bt):St.unsubscribe(bt))}),_e=null)};_e.forEach(St=>St&&St.addEventListener&&St.addEventListener("abort",bt));const{signal:At}=ht;return At.unsubscribe=wt,[At,()=>{_t&&clearTimeout(_t),_t=null}]},streamChunk=function*(_e,$){let ht=_e.byteLength;if(ht<$){yield _e;return}let vt=0,bt;for(;vt<ht;)bt=vt+$,yield _e.slice(vt,bt),vt=bt},readBytes=async function*(_e,$,ht){for await(const vt of _e)yield*streamChunk(ArrayBuffer.isView(vt)?vt:await ht(String(vt)),$)},trackStream=(_e,$,ht,vt,bt)=>{const _t=readBytes(_e,$,bt);let wt=0;return new ReadableStream({type:"bytes",async pull(At){const{done:St,value:Et}=await _t.next();if(St){At.close(),vt();return}let xt=Et.byteLength;ht&&ht(wt+=xt),At.enqueue(new Uint8Array(Et))},cancel(At){return vt(At),_t.return()}},{highWaterMark:2})},fetchProgressDecorator=(_e,$)=>{const ht=_e!=null;return vt=>setTimeout(()=>$({lengthComputable:ht,total:_e,loaded:vt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_e=>$=>_e.encode($))(new TextEncoder):async _e=>new Uint8Array(await new Response(_e).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let _e=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return _e=!0,"half"}}).headers.has("Content-Type");return _e&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(_e=>_e.body)};isFetchSupported&&(_e=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(_e[$])?ht=>ht[$]():(ht,vt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,vt)})})})(new Response);const getBodyLength=async _e=>{if(_e==null)return 0;if(utils$1.isBlob(_e))return _e.size;if(utils$1.isSpecCompliantForm(_e))return(await new Request(_e).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(_e))return _e.byteLength;if(utils$1.isURLSearchParams(_e)&&(_e=_e+""),utils$1.isString(_e))return(await encodeText(_e)).byteLength},resolveBodyLength=async(_e,$)=>{const ht=utils$1.toFiniteNumber(_e.getContentLength());return ht??getBodyLength($)},fetchAdapter=isFetchSupported&&(async _e=>{let{url:$,method:ht,data:vt,signal:bt,cancelToken:_t,timeout:wt,onDownloadProgress:At,onUploadProgress:St,responseType:Et,headers:xt,withCredentials:Pt="same-origin",fetchOptions:$t}=resolveConfig(_e);Et=Et?(Et+"").toLowerCase():"text";let[kt,Rt]=bt||_t||wt?composeSignals([bt,_t],wt):[],Mt,Dt;const Ot=()=>{!Mt&&setTimeout(()=>{kt&&kt.unsubscribe()}),Mt=!0};let Lt;try{if(St&&supportsRequestStream&&ht!=="get"&&ht!=="head"&&(Lt=await resolveBodyLength(xt,vt))!==0){let jt=new Request($,{method:"POST",body:vt,duplex:"half"}),Bt;utils$1.isFormData(vt)&&(Bt=jt.headers.get("content-type"))&&xt.setContentType(Bt),jt.body&&(vt=trackStream(jt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(Lt,progressEventReducer(St)),null,encodeText))}utils$1.isString(Pt)||(Pt=Pt?"cors":"omit"),Dt=new Request($,{...$t,signal:kt,method:ht.toUpperCase(),headers:xt.normalize().toJSON(),body:vt,duplex:"half",withCredentials:Pt});let Nt=await fetch(Dt);const Ht=supportsResponseStream&&(Et==="stream"||Et==="response");if(supportsResponseStream&&(At||Ht)){const jt={};["status","statusText","headers"].forEach(Vt=>{jt[Vt]=Nt[Vt]});const Bt=utils$1.toFiniteNumber(Nt.headers.get("content-length"));Nt=new Response(trackStream(Nt.body,DEFAULT_CHUNK_SIZE,At&&fetchProgressDecorator(Bt,progressEventReducer(At,!0)),Ht&&Ot,encodeText),jt)}Et=Et||"text";let Ft=await resolvers[utils$1.findKey(resolvers,Et)||"text"](Nt,_e);return!Ht&&Ot(),Rt&&Rt(),await new Promise((jt,Bt)=>{settle(jt,Bt,{data:Ft,headers:AxiosHeaders.from(Nt.headers),status:Nt.status,statusText:Nt.statusText,config:_e,request:Dt})})}catch(Nt){throw Ot(),Nt&&Nt.name==="TypeError"&&/fetch/i.test(Nt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,_e,Dt),{cause:Nt.cause||Nt}):AxiosError.from(Nt,Nt&&Nt.code,_e,Dt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(_e,$)=>{if(_e){try{Object.defineProperty(_e,"name",{value:$})}catch{}Object.defineProperty(_e,"adapterName",{value:$})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$1.isFunction(_e)||_e===null||_e===!1,adapters={getAdapter:_e=>{_e=utils$1.isArray(_e)?_e:[_e];const{length:$}=_e;let ht,vt;const bt={};for(let _t=0;_t<$;_t++){ht=_e[_t];let wt;if(vt=ht,!isResolvedHandle(ht)&&(vt=knownAdapters[(wt=String(ht)).toLowerCase()],vt===void 0))throw new AxiosError(`Unknown adapter '${wt}'`);if(vt)break;bt[wt||"#"+_t]=vt}if(!vt){const _t=Object.entries(bt).map(([At,St])=>`adapter ${At} `+(St===!1?"is not supported by the environment":"is not available in the build"));let wt=$?_t.length>1?`since :
`+_t.map(renderReason).join(`
`):" "+renderReason(_t[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+wt,"ERR_NOT_SUPPORT")}return vt},adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults$1.adapter)(_e).then(function(vt){return throwIfCancellationRequested(_e),vt.data=transformData.call(_e,_e.transformResponse,vt),vt.headers=AxiosHeaders.from(vt.headers),vt},function(vt){return isCancel(vt)||(throwIfCancellationRequested(_e),vt&&vt.response&&(vt.response.data=transformData.call(_e,_e.transformResponse,vt.response),vt.response.headers=AxiosHeaders.from(vt.response.headers))),Promise.reject(vt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,$)=>{validators$1[_e]=function(vt){return typeof vt===_e||"a"+($<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function($,ht,vt){function bt(_t,wt){return"[Axios v"+VERSION+"] Transitional option '"+_t+"'"+wt+(vt?". "+vt:"")}return(_t,wt,At)=>{if($===!1)throw new AxiosError(bt(wt," has been removed"+(ht?" in "+ht:"")),AxiosError.ERR_DEPRECATED);return ht&&!deprecatedWarnings[wt]&&(deprecatedWarnings[wt]=!0,console.warn(bt(wt," has been deprecated since v"+ht+" and will be removed in the near future"))),$?$(_t,wt,At):!0}};function assertOptions(_e,$,ht){if(typeof _e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const vt=Object.keys(_e);let bt=vt.length;for(;bt-- >0;){const _t=vt[bt],wt=$[_t];if(wt){const At=_e[_t],St=At===void 0||wt(At,_t,_e);if(St!==!0)throw new AxiosError("option "+_t+" must be "+St,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(ht!==!0)throw new AxiosError("Unknown option "+_t,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,ht){try{return await this._request($,ht)}catch(vt){if(vt instanceof Error){let bt;Error.captureStackTrace?Error.captureStackTrace(bt={}):bt=new Error;const _t=bt.stack?bt.stack.replace(/^.+\n/,""):"";try{vt.stack?_t&&!String(vt.stack).endsWith(_t.replace(/^.+\n.+\n/,""))&&(vt.stack+=`
`+_t):vt.stack=_t}catch{}}throw vt}}_request($,ht){typeof $=="string"?(ht=ht||{},ht.url=$):ht=$||{},ht=mergeConfig(this.defaults,ht);const{transitional:vt,paramsSerializer:bt,headers:_t}=ht;vt!==void 0&&validator.assertOptions(vt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),bt!=null&&(utils$1.isFunction(bt)?ht.paramsSerializer={serialize:bt}:validator.assertOptions(bt,{encode:validators.function,serialize:validators.function},!0)),ht.method=(ht.method||this.defaults.method||"get").toLowerCase();let wt=_t&&utils$1.merge(_t.common,_t[ht.method]);_t&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Rt=>{delete _t[Rt]}),ht.headers=AxiosHeaders.concat(wt,_t);const At=[];let St=!0;this.interceptors.request.forEach(function(Mt){typeof Mt.runWhen=="function"&&Mt.runWhen(ht)===!1||(St=St&&Mt.synchronous,At.unshift(Mt.fulfilled,Mt.rejected))});const Et=[];this.interceptors.response.forEach(function(Mt){Et.push(Mt.fulfilled,Mt.rejected)});let xt,Pt=0,$t;if(!St){const Rt=[dispatchRequest.bind(this),void 0];for(Rt.unshift.apply(Rt,At),Rt.push.apply(Rt,Et),$t=Rt.length,xt=Promise.resolve(ht);Pt<$t;)xt=xt.then(Rt[Pt++],Rt[Pt++]);return xt}$t=At.length;let kt=ht;for(Pt=0;Pt<$t;){const Rt=At[Pt++],Mt=At[Pt++];try{kt=Rt(kt)}catch(Dt){Mt.call(this,Dt);break}}try{xt=dispatchRequest.call(this,kt)}catch(Rt){return Promise.reject(Rt)}for(Pt=0,$t=Et.length;Pt<$t;)xt=xt.then(Et[Pt++],Et[Pt++]);return xt}getUri($){$=mergeConfig(this.defaults,$);const ht=buildFullPath($.baseURL,$.url);return buildURL(ht,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(ht,vt){return this.request(mergeConfig(vt||{},{method:$,url:ht,data:(vt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function ht(vt){return function(_t,wt,At){return this.request(mergeConfig(At||{},{method:$,headers:vt?{"Content-Type":"multipart/form-data"}:{},url:_t,data:wt}))}}Axios.prototype[$]=ht(),Axios.prototype[$+"Form"]=ht(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let ht;this.promise=new Promise(function(_t){ht=_t});const vt=this;this.promise.then(bt=>{if(!vt._listeners)return;let _t=vt._listeners.length;for(;_t-- >0;)vt._listeners[_t](bt);vt._listeners=null}),this.promise.then=bt=>{let _t;const wt=new Promise(At=>{vt.subscribe(At),_t=At}).then(bt);return wt.cancel=function(){vt.unsubscribe(_t)},wt},$(function(_t,wt,At){vt.reason||(vt.reason=new CanceledError(_t,wt,At),ht(vt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const ht=this._listeners.indexOf($);ht!==-1&&this._listeners.splice(ht,1)}static source(){let $;return{token:new CancelToken(function(bt){$=bt}),cancel:$}}}function spread(_e){return function(ht){return _e.apply(null,ht)}}function isAxiosError(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([_e,$])=>{HttpStatusCode[$]=_e});function createInstance(_e){const $=new Axios(_e),ht=bind(Axios.prototype.request,$);return utils$1.extend(ht,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(ht,$,null,{allOwnKeys:!0}),ht.create=function(bt){return createInstance(mergeConfig(_e,bt))},ht}const axios=createInstance(defaults$1);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=_e=>formDataToJSON(utils$1.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;/*!
* sweetalert2 v11.14.2
* Released under the MIT License.
*/function _assertClassBrand(_e,$,ht){if(typeof _e=="function"?_e===$:_e.has($))return arguments.length<3?$:ht;throw new TypeError("Private element is not present on this object")}function _checkPrivateRedeclaration(_e,$){if($.has(_e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet2(_e,$){return _e.get(_assertClassBrand(_e,$))}function _classPrivateFieldInitSpec(_e,$,ht){_checkPrivateRedeclaration(_e,$),$.set(_e,ht)}function _classPrivateFieldSet2(_e,$,ht){return _e.set(_assertClassBrand(_e,$),ht),ht}const RESTORE_FOCUS_TIMEOUT=100,globalState={},focusPreviousActiveElement=()=>{globalState.previousActiveElement instanceof HTMLElement?(globalState.previousActiveElement.focus(),globalState.previousActiveElement=null):document.body&&document.body.focus()},restoreActiveElement=_e=>new Promise($=>{if(!_e)return $();const ht=window.scrollX,vt=window.scrollY;globalState.restoreFocusTimeout=setTimeout(()=>{focusPreviousActiveElement(),$()},RESTORE_FOCUS_TIMEOUT),window.scrollTo(ht,vt)}),swalPrefix="swal2-",classNames=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],swalClasses=classNames.reduce((_e,$)=>(_e[$]=swalPrefix+$,_e),{}),icons=["success","warning","info","question","error"],iconTypes=icons.reduce((_e,$)=>(_e[$]=swalPrefix+$,_e),{}),consolePrefix="SweetAlert2:",capitalizeFirstLetter=_e=>_e.charAt(0).toUpperCase()+_e.slice(1),warn$2=_e=>{console.warn(`${consolePrefix} ${typeof _e=="object"?_e.join(" "):_e}`)},error=_e=>{console.error(`${consolePrefix} ${_e}`)},previousWarnOnceMessages=[],warnOnce=_e=>{previousWarnOnceMessages.includes(_e)||(previousWarnOnceMessages.push(_e),warn$2(_e))},warnAboutDeprecation=function(_e){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;warnOnce(`"${_e}" is deprecated and will be removed in the next major release.${$?` Use "${$}" instead.`:""}`)},callIfFunction=_e=>typeof _e=="function"?_e():_e,hasToPromiseFn=_e=>_e&&typeof _e.toPromise=="function",asPromise=_e=>hasToPromiseFn(_e)?_e.toPromise():Promise.resolve(_e),isPromise=_e=>_e&&Promise.resolve(_e)===_e,getContainer=()=>document.body.querySelector(`.${swalClasses.container}`),elementBySelector=_e=>{const $=getContainer();return $?$.querySelector(_e):null},elementByClass=_e=>elementBySelector(`.${_e}`),getPopup=()=>elementByClass(swalClasses.popup),getIcon=()=>elementByClass(swalClasses.icon),getIconContent=()=>elementByClass(swalClasses["icon-content"]),getTitle=()=>elementByClass(swalClasses.title),getHtmlContainer=()=>elementByClass(swalClasses["html-container"]),getImage=()=>elementByClass(swalClasses.image),getProgressSteps=()=>elementByClass(swalClasses["progress-steps"]),getValidationMessage=()=>elementByClass(swalClasses["validation-message"]),getConfirmButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`),getCancelButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`),getDenyButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`),getInputLabel=()=>elementByClass(swalClasses["input-label"]),getLoader=()=>elementBySelector(`.${swalClasses.loader}`),getActions=()=>elementByClass(swalClasses.actions),getFooter=()=>elementByClass(swalClasses.footer),getTimerProgressBar=()=>elementByClass(swalClasses["timer-progress-bar"]),getCloseButton=()=>elementByClass(swalClasses.close),focusable=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,getFocusableElements=()=>{const _e=getPopup();if(!_e)return[];const $=_e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),ht=Array.from($).sort((_t,wt)=>{const At=parseInt(_t.getAttribute("tabindex")||"0"),St=parseInt(wt.getAttribute("tabindex")||"0");return At>St?1:At<St?-1:0}),vt=_e.querySelectorAll(focusable),bt=Array.from(vt).filter(_t=>_t.getAttribute("tabindex")!=="-1");return[...new Set(ht.concat(bt))].filter(_t=>isVisible$1(_t))},isModal=()=>hasClass(document.body,swalClasses.shown)&&!hasClass(document.body,swalClasses["toast-shown"])&&!hasClass(document.body,swalClasses["no-backdrop"]),isToast=()=>{const _e=getPopup();return _e?hasClass(_e,swalClasses.toast):!1},isLoading=()=>{const _e=getPopup();return _e?_e.hasAttribute("data-loading"):!1},setInnerHtml=(_e,$)=>{if(_e.textContent="",$){const vt=new DOMParser().parseFromString($,"text/html"),bt=vt.querySelector("head");bt&&Array.from(bt.childNodes).forEach(wt=>{_e.appendChild(wt)});const _t=vt.querySelector("body");_t&&Array.from(_t.childNodes).forEach(wt=>{wt instanceof HTMLVideoElement||wt instanceof HTMLAudioElement?_e.appendChild(wt.cloneNode(!0)):_e.appendChild(wt)})}},hasClass=(_e,$)=>{if(!$)return!1;const ht=$.split(/\s+/);for(let vt=0;vt<ht.length;vt++)if(!_e.classList.contains(ht[vt]))return!1;return!0},removeCustomClasses=(_e,$)=>{Array.from(_e.classList).forEach(ht=>{!Object.values(swalClasses).includes(ht)&&!Object.values(iconTypes).includes(ht)&&!Object.values($.showClass||{}).includes(ht)&&_e.classList.remove(ht)})},applyCustomClass=(_e,$,ht)=>{if(removeCustomClasses(_e,$),!$.customClass)return;const vt=$.customClass[ht];if(vt){if(typeof vt!="string"&&!vt.forEach){warn$2(`Invalid type of customClass.${ht}! Expected string or iterable object, got "${typeof vt}"`);return}addClass(_e,vt)}},getInput$1=(_e,$)=>{if(!$)return null;switch($){case"select":case"textarea":case"file":return _e.querySelector(`.${swalClasses.popup} > .${swalClasses[$]}`);case"checkbox":return _e.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);case"radio":return _e.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`)||_e.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);case"range":return _e.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);default:return _e.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`)}},focusInput=_e=>{if(_e.focus(),_e.type!=="file"){const $=_e.value;_e.value="",_e.value=$}},toggleClass=(_e,$,ht)=>{!_e||!$||(typeof $=="string"&&($=$.split(/\s+/).filter(Boolean)),$.forEach(vt=>{Array.isArray(_e)?_e.forEach(bt=>{ht?bt.classList.add(vt):bt.classList.remove(vt)}):ht?_e.classList.add(vt):_e.classList.remove(vt)}))},addClass=(_e,$)=>{toggleClass(_e,$,!0)},removeClass=(_e,$)=>{toggleClass(_e,$,!1)},getDirectChildByClass=(_e,$)=>{const ht=Array.from(_e.children);for(let vt=0;vt<ht.length;vt++){const bt=ht[vt];if(bt instanceof HTMLElement&&hasClass(bt,$))return bt}},applyNumericalStyle=(_e,$,ht)=>{ht===`${parseInt(ht)}`&&(ht=parseInt(ht)),ht||parseInt(ht)===0?_e.style.setProperty($,typeof ht=="number"?`${ht}px`:ht):_e.style.removeProperty($)},show=function(_e){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";_e&&(_e.style.display=$)},hide=_e=>{_e&&(_e.style.display="none")},showWhenInnerHtmlPresent=function(_e){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";_e&&new MutationObserver(()=>{toggle(_e,_e.innerHTML,$)}).observe(_e,{childList:!0,subtree:!0})},setStyle=(_e,$,ht,vt)=>{const bt=_e.querySelector($);bt&&bt.style.setProperty(ht,vt)},toggle=function(_e,$){let ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";$?show(_e,ht):hide(_e)},isVisible$1=_e=>!!(_e&&(_e.offsetWidth||_e.offsetHeight||_e.getClientRects().length)),allButtonsAreHidden=()=>!isVisible$1(getConfirmButton())&&!isVisible$1(getDenyButton())&&!isVisible$1(getCancelButton()),isScrollable=_e=>_e.scrollHeight>_e.clientHeight,hasCssAnimation=_e=>{const $=window.getComputedStyle(_e),ht=parseFloat($.getPropertyValue("animation-duration")||"0"),vt=parseFloat($.getPropertyValue("transition-duration")||"0");return ht>0||vt>0},animateTimerProgressBar=function(_e){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const ht=getTimerProgressBar();ht&&isVisible$1(ht)&&($&&(ht.style.transition="none",ht.style.width="100%"),setTimeout(()=>{ht.style.transition=`width ${_e/1e3}s linear`,ht.style.width="0%"},10))},stopTimerProgressBar=()=>{const _e=getTimerProgressBar();if(!_e)return;const $=parseInt(window.getComputedStyle(_e).width);_e.style.removeProperty("transition"),_e.style.width="100%";const ht=parseInt(window.getComputedStyle(_e).width),vt=$/ht*100;_e.style.width=`${vt}%`},isNodeEnv=()=>typeof window>"u"||typeof document>"u",sweetHTML=`
 <div aria-labelledby="${swalClasses.title}" aria-describedby="${swalClasses["html-container"]}" class="${swalClasses.popup}" tabindex="-1">
   <button type="button" class="${swalClasses.close}"></button>
   <ul class="${swalClasses["progress-steps"]}"></ul>
   <div class="${swalClasses.icon}"></div>
   <img class="${swalClasses.image}" />
   <h2 class="${swalClasses.title}" id="${swalClasses.title}"></h2>
   <div class="${swalClasses["html-container"]}" id="${swalClasses["html-container"]}"></div>
   <input class="${swalClasses.input}" id="${swalClasses.input}" />
   <input type="file" class="${swalClasses.file}" />
   <div class="${swalClasses.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${swalClasses.select}" id="${swalClasses.select}"></select>
   <div class="${swalClasses.radio}"></div>
   <label class="${swalClasses.checkbox}">
     <input type="checkbox" id="${swalClasses.checkbox}" />
     <span class="${swalClasses.label}"></span>
   </label>
   <textarea class="${swalClasses.textarea}" id="${swalClasses.textarea}"></textarea>
   <div class="${swalClasses["validation-message"]}" id="${swalClasses["validation-message"]}"></div>
   <div class="${swalClasses.actions}">
     <div class="${swalClasses.loader}"></div>
     <button type="button" class="${swalClasses.confirm}"></button>
     <button type="button" class="${swalClasses.deny}"></button>
     <button type="button" class="${swalClasses.cancel}"></button>
   </div>
   <div class="${swalClasses.footer}"></div>
   <div class="${swalClasses["timer-progress-bar-container"]}">
     <div class="${swalClasses["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),resetOldContainer=()=>{const _e=getContainer();return _e?(_e.remove(),removeClass([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]]),!0):!1},resetValidationMessage$1=()=>{globalState.currentInstance.resetValidationMessage()},addInputChangeListeners=()=>{const _e=getPopup(),$=getDirectChildByClass(_e,swalClasses.input),ht=getDirectChildByClass(_e,swalClasses.file),vt=_e.querySelector(`.${swalClasses.range} input`),bt=_e.querySelector(`.${swalClasses.range} output`),_t=getDirectChildByClass(_e,swalClasses.select),wt=_e.querySelector(`.${swalClasses.checkbox} input`),At=getDirectChildByClass(_e,swalClasses.textarea);$.oninput=resetValidationMessage$1,ht.onchange=resetValidationMessage$1,_t.onchange=resetValidationMessage$1,wt.onchange=resetValidationMessage$1,At.oninput=resetValidationMessage$1,vt.oninput=()=>{resetValidationMessage$1(),bt.value=vt.value},vt.onchange=()=>{resetValidationMessage$1(),bt.value=vt.value}},getTarget=_e=>typeof _e=="string"?document.querySelector(_e):_e,setupAccessibility=_e=>{const $=getPopup();$.setAttribute("role",_e.toast?"alert":"dialog"),$.setAttribute("aria-live",_e.toast?"polite":"assertive"),_e.toast||$.setAttribute("aria-modal","true")},setupRTL=_e=>{window.getComputedStyle(_e).direction==="rtl"&&addClass(getContainer(),swalClasses.rtl)},init=_e=>{const $=resetOldContainer();if(isNodeEnv()){error("SweetAlert2 requires document to initialize");return}const ht=document.createElement("div");ht.className=swalClasses.container,$&&addClass(ht,swalClasses["no-transition"]),setInnerHtml(ht,sweetHTML);const vt=getTarget(_e.target);vt.appendChild(ht),setupAccessibility(_e),setupRTL(vt),addInputChangeListeners()},parseHtmlToContainer=(_e,$)=>{_e instanceof HTMLElement?$.appendChild(_e):typeof _e=="object"?handleObject(_e,$):_e&&setInnerHtml($,_e)},handleObject=(_e,$)=>{_e.jquery?handleJqueryElem($,_e):setInnerHtml($,_e.toString())},handleJqueryElem=(_e,$)=>{if(_e.textContent="",0 in $)for(let ht=0;ht in $;ht++)_e.appendChild($[ht].cloneNode(!0));else _e.appendChild($.cloneNode(!0))},renderActions=(_e,$)=>{const ht=getActions(),vt=getLoader();!ht||!vt||(!$.showConfirmButton&&!$.showDenyButton&&!$.showCancelButton?hide(ht):show(ht),applyCustomClass(ht,$,"actions"),renderButtons(ht,vt,$),setInnerHtml(vt,$.loaderHtml||""),applyCustomClass(vt,$,"loader"))};function renderButtons(_e,$,ht){const vt=getConfirmButton(),bt=getDenyButton(),_t=getCancelButton();!vt||!bt||!_t||(renderButton(vt,"confirm",ht),renderButton(bt,"deny",ht),renderButton(_t,"cancel",ht),handleButtonsStyling(vt,bt,_t,ht),ht.reverseButtons&&(ht.toast?(_e.insertBefore(_t,vt),_e.insertBefore(bt,vt)):(_e.insertBefore(_t,$),_e.insertBefore(bt,$),_e.insertBefore(vt,$))))}function handleButtonsStyling(_e,$,ht,vt){if(!vt.buttonsStyling){removeClass([_e,$,ht],swalClasses.styled);return}addClass([_e,$,ht],swalClasses.styled),vt.confirmButtonColor&&(_e.style.backgroundColor=vt.confirmButtonColor,addClass(_e,swalClasses["default-outline"])),vt.denyButtonColor&&($.style.backgroundColor=vt.denyButtonColor,addClass($,swalClasses["default-outline"])),vt.cancelButtonColor&&(ht.style.backgroundColor=vt.cancelButtonColor,addClass(ht,swalClasses["default-outline"]))}function renderButton(_e,$,ht){const vt=capitalizeFirstLetter($);toggle(_e,ht[`show${vt}Button`],"inline-block"),setInnerHtml(_e,ht[`${$}ButtonText`]||""),_e.setAttribute("aria-label",ht[`${$}ButtonAriaLabel`]||""),_e.className=swalClasses[$],applyCustomClass(_e,ht,`${$}Button`)}const renderCloseButton=(_e,$)=>{const ht=getCloseButton();ht&&(setInnerHtml(ht,$.closeButtonHtml||""),applyCustomClass(ht,$,"closeButton"),toggle(ht,$.showCloseButton),ht.setAttribute("aria-label",$.closeButtonAriaLabel||""))},renderContainer=(_e,$)=>{const ht=getContainer();ht&&(handleBackdropParam(ht,$.backdrop),handlePositionParam(ht,$.position),handleGrowParam(ht,$.grow),applyCustomClass(ht,$,"container"))};function handleBackdropParam(_e,$){typeof $=="string"?_e.style.background=$:$||addClass([document.documentElement,document.body],swalClasses["no-backdrop"])}function handlePositionParam(_e,$){$&&($ in swalClasses?addClass(_e,swalClasses[$]):(warn$2('The "position" parameter is not valid, defaulting to "center"'),addClass(_e,swalClasses.center)))}function handleGrowParam(_e,$){$&&addClass(_e,swalClasses[`grow-${$}`])}var privateProps={innerParams:new WeakMap,domCache:new WeakMap};const inputClasses=["input","file","range","select","radio","checkbox","textarea"],renderInput=(_e,$)=>{const ht=getPopup();if(!ht)return;const vt=privateProps.innerParams.get(_e),bt=!vt||$.input!==vt.input;inputClasses.forEach(_t=>{const wt=getDirectChildByClass(ht,swalClasses[_t]);wt&&(setAttributes(_t,$.inputAttributes),wt.className=swalClasses[_t],bt&&hide(wt))}),$.input&&(bt&&showInput($),setCustomClass($))},showInput=_e=>{if(!_e.input)return;if(!renderInputType[_e.input]){error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(" | ")}, got "${_e.input}"`);return}const $=getInputContainer(_e.input);if(!$)return;const ht=renderInputType[_e.input]($,_e);show($),_e.inputAutoFocus&&setTimeout(()=>{focusInput(ht)})},removeAttributes=_e=>{for(let $=0;$<_e.attributes.length;$++){const ht=_e.attributes[$].name;["id","type","value","style"].includes(ht)||_e.removeAttribute(ht)}},setAttributes=(_e,$)=>{const ht=getPopup();if(!ht)return;const vt=getInput$1(ht,_e);if(vt){removeAttributes(vt);for(const bt in $)vt.setAttribute(bt,$[bt])}},setCustomClass=_e=>{if(!_e.input)return;const $=getInputContainer(_e.input);$&&applyCustomClass($,_e,"input")},setInputPlaceholder=(_e,$)=>{!_e.placeholder&&$.inputPlaceholder&&(_e.placeholder=$.inputPlaceholder)},setInputLabel=(_e,$,ht)=>{if(ht.inputLabel){const vt=document.createElement("label"),bt=swalClasses["input-label"];vt.setAttribute("for",_e.id),vt.className=bt,typeof ht.customClass=="object"&&addClass(vt,ht.customClass.inputLabel),vt.innerText=ht.inputLabel,$.insertAdjacentElement("beforebegin",vt)}},getInputContainer=_e=>{const $=getPopup();if($)return getDirectChildByClass($,swalClasses[_e]||swalClasses.input)},checkAndSetInputValue=(_e,$)=>{["string","number"].includes(typeof $)?_e.value=`${$}`:isPromise($)||warn$2(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof $}"`)},renderInputType={};renderInputType.text=renderInputType.email=renderInputType.password=renderInputType.number=renderInputType.tel=renderInputType.url=renderInputType.search=renderInputType.date=renderInputType["datetime-local"]=renderInputType.time=renderInputType.week=renderInputType.month=(_e,$)=>(checkAndSetInputValue(_e,$.inputValue),setInputLabel(_e,_e,$),setInputPlaceholder(_e,$),_e.type=$.input,_e);renderInputType.file=(_e,$)=>(setInputLabel(_e,_e,$),setInputPlaceholder(_e,$),_e);renderInputType.range=(_e,$)=>{const ht=_e.querySelector("input"),vt=_e.querySelector("output");return checkAndSetInputValue(ht,$.inputValue),ht.type=$.input,checkAndSetInputValue(vt,$.inputValue),setInputLabel(ht,_e,$),_e};renderInputType.select=(_e,$)=>{if(_e.textContent="",$.inputPlaceholder){const ht=document.createElement("option");setInnerHtml(ht,$.inputPlaceholder),ht.value="",ht.disabled=!0,ht.selected=!0,_e.appendChild(ht)}return setInputLabel(_e,_e,$),_e};renderInputType.radio=_e=>(_e.textContent="",_e);renderInputType.checkbox=(_e,$)=>{const ht=getInput$1(getPopup(),"checkbox");ht.value="1",ht.checked=!!$.inputValue;const vt=_e.querySelector("span");return setInnerHtml(vt,$.inputPlaceholder||$.inputLabel),ht};renderInputType.textarea=(_e,$)=>{checkAndSetInputValue(_e,$.inputValue),setInputPlaceholder(_e,$),setInputLabel(_e,_e,$);const ht=vt=>parseInt(window.getComputedStyle(vt).marginLeft)+parseInt(window.getComputedStyle(vt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const vt=parseInt(window.getComputedStyle(getPopup()).width),bt=()=>{if(!document.body.contains(_e))return;const _t=_e.offsetWidth+ht(_e);_t>vt?getPopup().style.width=`${_t}px`:applyNumericalStyle(getPopup(),"width",$.width)};new MutationObserver(bt).observe(_e,{attributes:!0,attributeFilter:["style"]})}}),_e};const renderContent$2=(_e,$)=>{const ht=getHtmlContainer();ht&&(showWhenInnerHtmlPresent(ht),applyCustomClass(ht,$,"htmlContainer"),$.html?(parseHtmlToContainer($.html,ht),show(ht,"block")):$.text?(ht.textContent=$.text,show(ht,"block")):hide(ht),renderInput(_e,$))},renderFooter=(_e,$)=>{const ht=getFooter();ht&&(showWhenInnerHtmlPresent(ht),toggle(ht,$.footer,"block"),$.footer&&parseHtmlToContainer($.footer,ht),applyCustomClass(ht,$,"footer"))},renderIcon=(_e,$)=>{const ht=privateProps.innerParams.get(_e),vt=getIcon();if(vt){if(ht&&$.icon===ht.icon){setContent(vt,$),applyStyles(vt,$);return}if(!$.icon&&!$.iconHtml){hide(vt);return}if($.icon&&Object.keys(iconTypes).indexOf($.icon)===-1){error(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${$.icon}"`),hide(vt);return}show(vt),setContent(vt,$),applyStyles(vt,$),addClass(vt,$.showClass&&$.showClass.icon)}},applyStyles=(_e,$)=>{for(const[ht,vt]of Object.entries(iconTypes))$.icon!==ht&&removeClass(_e,vt);addClass(_e,$.icon&&iconTypes[$.icon]),setColor(_e,$),adjustSuccessIconBackgroundColor(),applyCustomClass(_e,$,"icon")},adjustSuccessIconBackgroundColor=()=>{const _e=getPopup();if(!_e)return;const $=window.getComputedStyle(_e).getPropertyValue("background-color"),ht=_e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let vt=0;vt<ht.length;vt++)ht[vt].style.backgroundColor=$},successIconHtml=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,errorIconHtml=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,setContent=(_e,$)=>{if(!$.icon&&!$.iconHtml)return;let ht=_e.innerHTML,vt="";$.iconHtml?vt=iconContent($.iconHtml):$.icon==="success"?(vt=successIconHtml,ht=ht.replace(/ style=".*?"/g,"")):$.icon==="error"?vt=errorIconHtml:$.icon&&(vt=iconContent({question:"?",warning:"!",info:"i"}[$.icon])),ht.trim()!==vt.trim()&&setInnerHtml(_e,vt)},setColor=(_e,$)=>{if($.iconColor){_e.style.color=$.iconColor,_e.style.borderColor=$.iconColor;for(const ht of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])setStyle(_e,ht,"background-color",$.iconColor);setStyle(_e,".swal2-success-ring","border-color",$.iconColor)}},iconContent=_e=>`<div class="${swalClasses["icon-content"]}">${_e}</div>`,renderImage=(_e,$)=>{const ht=getImage();if(ht){if(!$.imageUrl){hide(ht);return}show(ht,""),ht.setAttribute("src",$.imageUrl),ht.setAttribute("alt",$.imageAlt||""),applyNumericalStyle(ht,"width",$.imageWidth),applyNumericalStyle(ht,"height",$.imageHeight),ht.className=swalClasses.image,applyCustomClass(ht,$,"image")}},renderPopup=(_e,$)=>{const ht=getContainer(),vt=getPopup();if(!(!ht||!vt)){if($.toast){applyNumericalStyle(ht,"width",$.width),vt.style.width="100%";const bt=getLoader();bt&&vt.insertBefore(bt,getIcon())}else applyNumericalStyle(vt,"width",$.width);applyNumericalStyle(vt,"padding",$.padding),$.color&&(vt.style.color=$.color),$.background&&(vt.style.background=$.background),hide(getValidationMessage()),addClasses$1(vt,$)}},addClasses$1=(_e,$)=>{const ht=$.showClass||{};_e.className=`${swalClasses.popup} ${isVisible$1(_e)?ht.popup:""}`,$.toast?(addClass([document.documentElement,document.body],swalClasses["toast-shown"]),addClass(_e,swalClasses.toast)):addClass(_e,swalClasses.modal),applyCustomClass(_e,$,"popup"),typeof $.customClass=="string"&&addClass(_e,$.customClass),$.icon&&addClass(_e,swalClasses[`icon-${$.icon}`])},renderProgressSteps=(_e,$)=>{const ht=getProgressSteps();if(!ht)return;const{progressSteps:vt,currentProgressStep:bt}=$;if(!vt||vt.length===0||bt===void 0){hide(ht);return}show(ht),ht.textContent="",bt>=vt.length&&warn$2("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),vt.forEach((_t,wt)=>{const At=createStepElement(_t);if(ht.appendChild(At),wt===bt&&addClass(At,swalClasses["active-progress-step"]),wt!==vt.length-1){const St=createLineElement($);ht.appendChild(St)}})},createStepElement=_e=>{const $=document.createElement("li");return addClass($,swalClasses["progress-step"]),setInnerHtml($,_e),$},createLineElement=_e=>{const $=document.createElement("li");return addClass($,swalClasses["progress-step-line"]),_e.progressStepsDistance&&applyNumericalStyle($,"width",_e.progressStepsDistance),$},renderTitle=(_e,$)=>{const ht=getTitle();ht&&(showWhenInnerHtmlPresent(ht),toggle(ht,$.title||$.titleText,"block"),$.title&&parseHtmlToContainer($.title,ht),$.titleText&&(ht.innerText=$.titleText),applyCustomClass(ht,$,"title"))},render=(_e,$)=>{renderPopup(_e,$),renderContainer(_e,$),renderProgressSteps(_e,$),renderIcon(_e,$),renderImage(_e,$),renderTitle(_e,$),renderCloseButton(_e,$),renderContent$2(_e,$),renderActions(_e,$),renderFooter(_e,$);const ht=getPopup();typeof $.didRender=="function"&&ht&&$.didRender(ht),globalState.eventEmitter.emit("didRender",ht)},isVisible=()=>isVisible$1(getPopup()),clickConfirm=()=>{var _e;return(_e=getConfirmButton())===null||_e===void 0?void 0:_e.click()},clickDeny=()=>{var _e;return(_e=getDenyButton())===null||_e===void 0?void 0:_e.click()},clickCancel=()=>{var _e;return(_e=getCancelButton())===null||_e===void 0?void 0:_e.click()},DismissReason=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),removeKeydownHandler=_e=>{_e.keydownTarget&&_e.keydownHandlerAdded&&(_e.keydownTarget.removeEventListener("keydown",_e.keydownHandler,{capture:_e.keydownListenerCapture}),_e.keydownHandlerAdded=!1)},addKeydownHandler=(_e,$,ht)=>{removeKeydownHandler(_e),$.toast||(_e.keydownHandler=vt=>keydownHandler($,vt,ht),_e.keydownTarget=$.keydownListenerCapture?window:getPopup(),_e.keydownListenerCapture=$.keydownListenerCapture,_e.keydownTarget.addEventListener("keydown",_e.keydownHandler,{capture:_e.keydownListenerCapture}),_e.keydownHandlerAdded=!0)},setFocus=(_e,$)=>{var ht;const vt=getFocusableElements();if(vt.length){_e=_e+$,_e===vt.length?_e=0:_e===-1&&(_e=vt.length-1),vt[_e].focus();return}(ht=getPopup())===null||ht===void 0||ht.focus()},arrowKeysNextButton=["ArrowRight","ArrowDown"],arrowKeysPreviousButton=["ArrowLeft","ArrowUp"],keydownHandler=(_e,$,ht)=>{_e&&($.isComposing||$.keyCode===229||(_e.stopKeydownPropagation&&$.stopPropagation(),$.key==="Enter"?handleEnter($,_e):$.key==="Tab"?handleTab($):[...arrowKeysNextButton,...arrowKeysPreviousButton].includes($.key)?handleArrows($.key):$.key==="Escape"&&handleEsc($,_e,ht)))},handleEnter=(_e,$)=>{if(!callIfFunction($.allowEnterKey))return;const ht=getInput$1(getPopup(),$.input);if(_e.target&&ht&&_e.target instanceof HTMLElement&&_e.target.outerHTML===ht.outerHTML){if(["textarea","file"].includes($.input))return;clickConfirm(),_e.preventDefault()}},handleTab=_e=>{const $=_e.target,ht=getFocusableElements();let vt=-1;for(let bt=0;bt<ht.length;bt++)if($===ht[bt]){vt=bt;break}_e.shiftKey?setFocus(vt,-1):setFocus(vt,1),_e.stopPropagation(),_e.preventDefault()},handleArrows=_e=>{const $=getActions(),ht=getConfirmButton(),vt=getDenyButton(),bt=getCancelButton();if(!$||!ht||!vt||!bt)return;const _t=[ht,vt,bt];if(document.activeElement instanceof HTMLElement&&!_t.includes(document.activeElement))return;const wt=arrowKeysNextButton.includes(_e)?"nextElementSibling":"previousElementSibling";let At=document.activeElement;if(At){for(let St=0;St<$.children.length;St++){if(At=At[wt],!At)return;if(At instanceof HTMLButtonElement&&isVisible$1(At))break}At instanceof HTMLButtonElement&&At.focus()}},handleEsc=(_e,$,ht)=>{callIfFunction($.allowEscapeKey)&&(_e.preventDefault(),ht(DismissReason.esc))};var privateMethods={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const setAriaHidden=()=>{const _e=getContainer();Array.from(document.body.children).forEach(ht=>{ht.contains(_e)||(ht.hasAttribute("aria-hidden")&&ht.setAttribute("data-previous-aria-hidden",ht.getAttribute("aria-hidden")||""),ht.setAttribute("aria-hidden","true"))})},unsetAriaHidden=()=>{Array.from(document.body.children).forEach($=>{$.hasAttribute("data-previous-aria-hidden")?($.setAttribute("aria-hidden",$.getAttribute("data-previous-aria-hidden")||""),$.removeAttribute("data-previous-aria-hidden")):$.removeAttribute("aria-hidden")})},isSafariOrIOS=typeof window<"u"&&!!window.GestureEvent,iOSfix=()=>{if(isSafariOrIOS&&!hasClass(document.body,swalClasses.iosfix)){const _e=document.body.scrollTop;document.body.style.top=`${_e*-1}px`,addClass(document.body,swalClasses.iosfix),lockBodyScroll()}},lockBodyScroll=()=>{const _e=getContainer();if(!_e)return;let $;_e.ontouchstart=ht=>{$=shouldPreventTouchMove(ht)},_e.ontouchmove=ht=>{$&&(ht.preventDefault(),ht.stopPropagation())}},shouldPreventTouchMove=_e=>{const $=_e.target,ht=getContainer(),vt=getHtmlContainer();return!ht||!vt||isStylus(_e)||isZoom(_e)?!1:$===ht||!isScrollable(ht)&&$ instanceof HTMLElement&&$.tagName!=="INPUT"&&$.tagName!=="TEXTAREA"&&!(isScrollable(vt)&&vt.contains($))},isStylus=_e=>_e.touches&&_e.touches.length&&_e.touches[0].touchType==="stylus",isZoom=_e=>_e.touches&&_e.touches.length>1,undoIOSfix=()=>{if(hasClass(document.body,swalClasses.iosfix)){const _e=parseInt(document.body.style.top,10);removeClass(document.body,swalClasses.iosfix),document.body.style.top="",document.body.scrollTop=_e*-1}},measureScrollbar=()=>{const _e=document.createElement("div");_e.className=swalClasses["scrollbar-measure"],document.body.appendChild(_e);const $=_e.getBoundingClientRect().width-_e.clientWidth;return document.body.removeChild(_e),$};let previousBodyPadding=null;const replaceScrollbarWithPadding=_e=>{previousBodyPadding===null&&(document.body.scrollHeight>window.innerHeight||_e==="scroll")&&(previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${previousBodyPadding+measureScrollbar()}px`)},undoReplaceScrollbarWithPadding=()=>{previousBodyPadding!==null&&(document.body.style.paddingRight=`${previousBodyPadding}px`,previousBodyPadding=null)};function removePopupAndResetState(_e,$,ht,vt){isToast()?triggerDidCloseAndDispose(_e,vt):(restoreActiveElement(ht).then(()=>triggerDidCloseAndDispose(_e,vt)),removeKeydownHandler(globalState)),isSafariOrIOS?($.setAttribute("style","display:none !important"),$.removeAttribute("class"),$.innerHTML=""):$.remove(),isModal()&&(undoReplaceScrollbarWithPadding(),undoIOSfix(),unsetAriaHidden()),removeBodyClasses()}function removeBodyClasses(){removeClass([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"]])}function close(_e){_e=prepareResolveValue(_e);const $=privateMethods.swalPromiseResolve.get(this),ht=triggerClosePopup(this);this.isAwaitingPromise?_e.isDismissed||(handleAwaitingPromise(this),$(_e)):ht&&$(_e)}const triggerClosePopup=_e=>{const $=getPopup();if(!$)return!1;const ht=privateProps.innerParams.get(_e);if(!ht||hasClass($,ht.hideClass.popup))return!1;removeClass($,ht.showClass.popup),addClass($,ht.hideClass.popup);const vt=getContainer();return removeClass(vt,ht.showClass.backdrop),addClass(vt,ht.hideClass.backdrop),handlePopupAnimation(_e,$,ht),!0};function rejectPromise(_e){const $=privateMethods.swalPromiseReject.get(this);handleAwaitingPromise(this),$&&$(_e)}const handleAwaitingPromise=_e=>{_e.isAwaitingPromise&&(delete _e.isAwaitingPromise,privateProps.innerParams.get(_e)||_e._destroy())},prepareResolveValue=_e=>typeof _e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},_e),handlePopupAnimation=(_e,$,ht)=>{const vt=getContainer(),bt=hasCssAnimation($);typeof ht.willClose=="function"&&ht.willClose($),globalState.eventEmitter.emit("willClose",$),bt?animatePopup(_e,$,vt,ht.returnFocus,ht.didClose):removePopupAndResetState(_e,vt,ht.returnFocus,ht.didClose)},animatePopup=(_e,$,ht,vt,bt)=>{globalState.swalCloseEventFinishedCallback=removePopupAndResetState.bind(null,_e,ht,vt,bt),$.addEventListener("animationend",function(_t){_t.target===$&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback)})},triggerDidCloseAndDispose=(_e,$)=>{setTimeout(()=>{typeof $=="function"&&$.bind(_e.params)(),globalState.eventEmitter.emit("didClose"),_e._destroy&&_e._destroy()})},showLoading=_e=>{let $=getPopup();if($||new Swal,$=getPopup(),!$)return;const ht=getLoader();isToast()?hide(getIcon()):replaceButton($,_e),show(ht),$.setAttribute("data-loading","true"),$.setAttribute("aria-busy","true"),$.focus()},replaceButton=(_e,$)=>{const ht=getActions(),vt=getLoader();!ht||!vt||(!$&&isVisible$1(getConfirmButton())&&($=getConfirmButton()),show(ht),$&&(hide($),vt.setAttribute("data-button-to-replace",$.className),ht.insertBefore(vt,$)),addClass([_e,ht],swalClasses.loading))},handleInputOptionsAndValue=(_e,$)=>{$.input==="select"||$.input==="radio"?handleInputOptions(_e,$):["text","email","number","tel","textarea"].some(ht=>ht===$.input)&&(hasToPromiseFn($.inputValue)||isPromise($.inputValue))&&(showLoading(getConfirmButton()),handleInputValue(_e,$))},getInputValue=(_e,$)=>{const ht=_e.getInput();if(!ht)return null;switch($.input){case"checkbox":return getCheckboxValue(ht);case"radio":return getRadioValue(ht);case"file":return getFileValue(ht);default:return $.inputAutoTrim?ht.value.trim():ht.value}},getCheckboxValue=_e=>_e.checked?1:0,getRadioValue=_e=>_e.checked?_e.value:null,getFileValue=_e=>_e.files&&_e.files.length?_e.getAttribute("multiple")!==null?_e.files:_e.files[0]:null,handleInputOptions=(_e,$)=>{const ht=getPopup();if(!ht)return;const vt=bt=>{$.input==="select"?populateSelectOptions(ht,formatInputOptions(bt),$):$.input==="radio"&&populateRadioOptions(ht,formatInputOptions(bt),$)};hasToPromiseFn($.inputOptions)||isPromise($.inputOptions)?(showLoading(getConfirmButton()),asPromise($.inputOptions).then(bt=>{_e.hideLoading(),vt(bt)})):typeof $.inputOptions=="object"?vt($.inputOptions):error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof $.inputOptions}`)},handleInputValue=(_e,$)=>{const ht=_e.getInput();ht&&(hide(ht),asPromise($.inputValue).then(vt=>{ht.value=$.input==="number"?`${parseFloat(vt)||0}`:`${vt}`,show(ht),ht.focus(),_e.hideLoading()}).catch(vt=>{error(`Error in inputValue promise: ${vt}`),ht.value="",show(ht),ht.focus(),_e.hideLoading()}))};function populateSelectOptions(_e,$,ht){const vt=getDirectChildByClass(_e,swalClasses.select);if(!vt)return;const bt=(_t,wt,At)=>{const St=document.createElement("option");St.value=At,setInnerHtml(St,wt),St.selected=isSelected(At,ht.inputValue),_t.appendChild(St)};$.forEach(_t=>{const wt=_t[0],At=_t[1];if(Array.isArray(At)){const St=document.createElement("optgroup");St.label=wt,St.disabled=!1,vt.appendChild(St),At.forEach(Et=>bt(St,Et[1],Et[0]))}else bt(vt,At,wt)}),vt.focus()}function populateRadioOptions(_e,$,ht){const vt=getDirectChildByClass(_e,swalClasses.radio);if(!vt)return;$.forEach(_t=>{const wt=_t[0],At=_t[1],St=document.createElement("input"),Et=document.createElement("label");St.type="radio",St.name=swalClasses.radio,St.value=wt,isSelected(wt,ht.inputValue)&&(St.checked=!0);const xt=document.createElement("span");setInnerHtml(xt,At),xt.className=swalClasses.label,Et.appendChild(St),Et.appendChild(xt),vt.appendChild(Et)});const bt=vt.querySelectorAll("input");bt.length&&bt[0].focus()}const formatInputOptions=_e=>{const $=[];return _e instanceof Map?_e.forEach((ht,vt)=>{let bt=ht;typeof bt=="object"&&(bt=formatInputOptions(bt)),$.push([vt,bt])}):Object.keys(_e).forEach(ht=>{let vt=_e[ht];typeof vt=="object"&&(vt=formatInputOptions(vt)),$.push([ht,vt])}),$},isSelected=(_e,$)=>!!$&&$.toString()===_e.toString(),handleConfirmButtonClick=_e=>{const $=privateProps.innerParams.get(_e);_e.disableButtons(),$.input?handleConfirmOrDenyWithInput(_e,"confirm"):confirm(_e,!0)},handleDenyButtonClick=_e=>{const $=privateProps.innerParams.get(_e);_e.disableButtons(),$.returnInputValueOnDeny?handleConfirmOrDenyWithInput(_e,"deny"):deny(_e,!1)},handleCancelButtonClick=(_e,$)=>{_e.disableButtons(),$(DismissReason.cancel)},handleConfirmOrDenyWithInput=(_e,$)=>{const ht=privateProps.innerParams.get(_e);if(!ht.input){error(`The "input" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter($)}`);return}const vt=_e.getInput(),bt=getInputValue(_e,ht);ht.inputValidator?handleInputValidator(_e,bt,$):vt&&!vt.checkValidity()?(_e.enableButtons(),_e.showValidationMessage(ht.validationMessage||vt.validationMessage)):$==="deny"?deny(_e,bt):confirm(_e,bt)},handleInputValidator=(_e,$,ht)=>{const vt=privateProps.innerParams.get(_e);_e.disableInput(),Promise.resolve().then(()=>asPromise(vt.inputValidator($,vt.validationMessage))).then(_t=>{_e.enableButtons(),_e.enableInput(),_t?_e.showValidationMessage(_t):ht==="deny"?deny(_e,$):confirm(_e,$)})},deny=(_e,$)=>{const ht=privateProps.innerParams.get(_e||void 0);ht.showLoaderOnDeny&&showLoading(getDenyButton()),ht.preDeny?(_e.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(ht.preDeny($,ht.validationMessage))).then(bt=>{bt===!1?(_e.hideLoading(),handleAwaitingPromise(_e)):_e.close({isDenied:!0,value:typeof bt>"u"?$:bt})}).catch(bt=>rejectWith(_e||void 0,bt))):_e.close({isDenied:!0,value:$})},succeedWith=(_e,$)=>{_e.close({isConfirmed:!0,value:$})},rejectWith=(_e,$)=>{_e.rejectPromise($)},confirm=(_e,$)=>{const ht=privateProps.innerParams.get(_e||void 0);ht.showLoaderOnConfirm&&showLoading(),ht.preConfirm?(_e.resetValidationMessage(),_e.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(ht.preConfirm($,ht.validationMessage))).then(bt=>{isVisible$1(getValidationMessage())||bt===!1?(_e.hideLoading(),handleAwaitingPromise(_e)):succeedWith(_e,typeof bt>"u"?$:bt)}).catch(bt=>rejectWith(_e||void 0,bt))):succeedWith(_e,$)};function hideLoading(){const _e=privateProps.innerParams.get(this);if(!_e)return;const $=privateProps.domCache.get(this);hide($.loader),isToast()?_e.icon&&show(getIcon()):showRelatedButton($),removeClass([$.popup,$.actions],swalClasses.loading),$.popup.removeAttribute("aria-busy"),$.popup.removeAttribute("data-loading"),$.confirmButton.disabled=!1,$.denyButton.disabled=!1,$.cancelButton.disabled=!1}const showRelatedButton=_e=>{const $=_e.popup.getElementsByClassName(_e.loader.getAttribute("data-button-to-replace"));$.length?show($[0],"inline-block"):allButtonsAreHidden()&&hide(_e.actions)};function getInput(){const _e=privateProps.innerParams.get(this),$=privateProps.domCache.get(this);return $?getInput$1($.popup,_e.input):null}function setButtonsDisabled(_e,$,ht){const vt=privateProps.domCache.get(_e);$.forEach(bt=>{vt[bt].disabled=ht})}function setInputDisabled(_e,$){const ht=getPopup();if(!(!ht||!_e))if(_e.type==="radio"){const vt=ht.querySelectorAll(`[name="${swalClasses.radio}"]`);for(let bt=0;bt<vt.length;bt++)vt[bt].disabled=$}else _e.disabled=$}function enableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!1)}function disableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!0)}function enableInput(){setInputDisabled(this.getInput(),!1)}function disableInput(){setInputDisabled(this.getInput(),!0)}function showValidationMessage(_e){const $=privateProps.domCache.get(this),ht=privateProps.innerParams.get(this);setInnerHtml($.validationMessage,_e),$.validationMessage.className=swalClasses["validation-message"],ht.customClass&&ht.customClass.validationMessage&&addClass($.validationMessage,ht.customClass.validationMessage),show($.validationMessage);const vt=this.getInput();vt&&(vt.setAttribute("aria-invalid","true"),vt.setAttribute("aria-describedby",swalClasses["validation-message"]),focusInput(vt),addClass(vt,swalClasses.inputerror))}function resetValidationMessage(){const _e=privateProps.domCache.get(this);_e.validationMessage&&hide(_e.validationMessage);const $=this.getInput();$&&($.removeAttribute("aria-invalid"),$.removeAttribute("aria-describedby"),removeClass($,swalClasses.inputerror))}const defaultParams={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},updatableParams=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],deprecatedParams={allowEnterKey:void 0},toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],isValidParameter=_e=>Object.prototype.hasOwnProperty.call(defaultParams,_e),isUpdatableParameter=_e=>updatableParams.indexOf(_e)!==-1,isDeprecatedParameter=_e=>deprecatedParams[_e],checkIfParamIsValid=_e=>{isValidParameter(_e)||warn$2(`Unknown parameter "${_e}"`)},checkIfToastParamIsValid=_e=>{toastIncompatibleParams.includes(_e)&&warn$2(`The parameter "${_e}" is incompatible with toasts`)},checkIfParamIsDeprecated=_e=>{const $=isDeprecatedParameter(_e);$&&warnAboutDeprecation(_e,$)},showWarningsForParams=_e=>{_e.backdrop===!1&&_e.allowOutsideClick&&warn$2('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const $ in _e)checkIfParamIsValid($),_e.toast&&checkIfToastParamIsValid($),checkIfParamIsDeprecated($)};function update(_e){const $=getPopup(),ht=privateProps.innerParams.get(this);if(!$||hasClass($,ht.hideClass.popup)){warn$2("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const vt=filterValidParams(_e),bt=Object.assign({},ht,vt);render(this,bt),privateProps.innerParams.set(this,bt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,_e),writable:!1,enumerable:!0}})}const filterValidParams=_e=>{const $={};return Object.keys(_e).forEach(ht=>{isUpdatableParameter(ht)?$[ht]=_e[ht]:warn$2(`Invalid parameter to update: ${ht}`)}),$};function _destroy(){const _e=privateProps.domCache.get(this),$=privateProps.innerParams.get(this);if(!$){disposeWeakMaps(this);return}_e.popup&&globalState.swalCloseEventFinishedCallback&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback),typeof $.didDestroy=="function"&&$.didDestroy(),globalState.eventEmitter.emit("didDestroy"),disposeSwal(this)}const disposeSwal=_e=>{disposeWeakMaps(_e),delete _e.params,delete globalState.keydownHandler,delete globalState.keydownTarget,delete globalState.currentInstance},disposeWeakMaps=_e=>{_e.isAwaitingPromise?(unsetWeakMaps(privateProps,_e),_e.isAwaitingPromise=!0):(unsetWeakMaps(privateMethods,_e),unsetWeakMaps(privateProps,_e),delete _e.isAwaitingPromise,delete _e.disableButtons,delete _e.enableButtons,delete _e.getInput,delete _e.disableInput,delete _e.enableInput,delete _e.hideLoading,delete _e.disableLoading,delete _e.showValidationMessage,delete _e.resetValidationMessage,delete _e.close,delete _e.closePopup,delete _e.closeModal,delete _e.closeToast,delete _e.rejectPromise,delete _e.update,delete _e._destroy)},unsetWeakMaps=(_e,$)=>{for(const ht in _e)_e[ht].delete($)};var instanceMethods=Object.freeze({__proto__:null,_destroy,close,closeModal:close,closePopup:close,closeToast:close,disableButtons,disableInput,disableLoading:hideLoading,enableButtons,enableInput,getInput,handleAwaitingPromise,hideLoading,rejectPromise,resetValidationMessage,showValidationMessage,update});const handlePopupClick=(_e,$,ht)=>{_e.toast?handleToastClick(_e,$,ht):(handleModalMousedown($),handleContainerMousedown($),handleModalClick(_e,$,ht))},handleToastClick=(_e,$,ht)=>{$.popup.onclick=()=>{_e&&(isAnyButtonShown(_e)||_e.timer||_e.input)||ht(DismissReason.close)}},isAnyButtonShown=_e=>!!(_e.showConfirmButton||_e.showDenyButton||_e.showCancelButton||_e.showCloseButton);let ignoreOutsideClick=!1;const handleModalMousedown=_e=>{_e.popup.onmousedown=()=>{_e.container.onmouseup=function($){_e.container.onmouseup=()=>{},$.target===_e.container&&(ignoreOutsideClick=!0)}}},handleContainerMousedown=_e=>{_e.container.onmousedown=$=>{$.target===_e.container&&$.preventDefault(),_e.popup.onmouseup=function(ht){_e.popup.onmouseup=()=>{},(ht.target===_e.popup||ht.target instanceof HTMLElement&&_e.popup.contains(ht.target))&&(ignoreOutsideClick=!0)}}},handleModalClick=(_e,$,ht)=>{$.container.onclick=vt=>{if(ignoreOutsideClick){ignoreOutsideClick=!1;return}vt.target===$.container&&callIfFunction(_e.allowOutsideClick)&&ht(DismissReason.backdrop)}},isJqueryElement=_e=>typeof _e=="object"&&_e.jquery,isElement=_e=>_e instanceof Element||isJqueryElement(_e),argsToParams=_e=>{const $={};return typeof _e[0]=="object"&&!isElement(_e[0])?Object.assign($,_e[0]):["title","html","icon"].forEach((ht,vt)=>{const bt=_e[vt];typeof bt=="string"||isElement(bt)?$[ht]=bt:bt!==void 0&&error(`Unexpected type of ${ht}! Expected "string" or "Element", got ${typeof bt}`)}),$};function fire(){for(var _e=arguments.length,$=new Array(_e),ht=0;ht<_e;ht++)$[ht]=arguments[ht];return new this(...$)}function mixin(_e){class $ extends this{_main(vt,bt){return super._main(vt,Object.assign({},_e,bt))}}return $}const getTimerLeft=()=>globalState.timeout&&globalState.timeout.getTimerLeft(),stopTimer=()=>{if(globalState.timeout)return stopTimerProgressBar(),globalState.timeout.stop()},resumeTimer=()=>{if(globalState.timeout){const _e=globalState.timeout.start();return animateTimerProgressBar(_e),_e}},toggleTimer=()=>{const _e=globalState.timeout;return _e&&(_e.running?stopTimer():resumeTimer())},increaseTimer=_e=>{if(globalState.timeout){const $=globalState.timeout.increase(_e);return animateTimerProgressBar($,!0),$}},isTimerRunning=()=>!!(globalState.timeout&&globalState.timeout.isRunning());let bodyClickListenerAdded=!1;const clickHandlers={};function bindClickHandler(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";clickHandlers[_e]=this,bodyClickListenerAdded||(document.body.addEventListener("click",bodyClickListener),bodyClickListenerAdded=!0)}const bodyClickListener=_e=>{for(let $=_e.target;$&&$!==document;$=$.parentNode)for(const ht in clickHandlers){const vt=$.getAttribute(ht);if(vt){clickHandlers[ht].fire({template:vt});return}}};let EventEmitter$1=class{constructor(){this.events={}}_getHandlersByEventName($){return typeof this.events[$]>"u"&&(this.events[$]=[]),this.events[$]}on($,ht){const vt=this._getHandlersByEventName($);vt.includes(ht)||vt.push(ht)}once($,ht){var vt=this;const bt=function(){vt.removeListener($,bt);for(var _t=arguments.length,wt=new Array(_t),At=0;At<_t;At++)wt[At]=arguments[At];ht.apply(vt,wt)};this.on($,bt)}emit($){for(var ht=arguments.length,vt=new Array(ht>1?ht-1:0),bt=1;bt<ht;bt++)vt[bt-1]=arguments[bt];this._getHandlersByEventName($).forEach(_t=>{try{_t.apply(this,vt)}catch(wt){console.error(wt)}})}removeListener($,ht){const vt=this._getHandlersByEventName($),bt=vt.indexOf(ht);bt>-1&&vt.splice(bt,1)}removeAllListeners($){this.events[$]!==void 0&&(this.events[$].length=0)}reset(){this.events={}}};globalState.eventEmitter=new EventEmitter$1;const on=(_e,$)=>{globalState.eventEmitter.on(_e,$)},once=(_e,$)=>{globalState.eventEmitter.once(_e,$)},off=(_e,$)=>{if(!_e){globalState.eventEmitter.reset();return}$?globalState.eventEmitter.removeListener(_e,$):globalState.eventEmitter.removeAllListeners(_e)};var staticMethods=Object.freeze({__proto__:null,argsToParams,bindClickHandler,clickCancel,clickConfirm,clickDeny,enableLoading:showLoading,fire,getActions,getCancelButton,getCloseButton,getConfirmButton,getContainer,getDenyButton,getFocusableElements,getFooter,getHtmlContainer,getIcon,getIconContent,getImage,getInputLabel,getLoader,getPopup,getProgressSteps,getTimerLeft,getTimerProgressBar,getTitle,getValidationMessage,increaseTimer,isDeprecatedParameter,isLoading,isTimerRunning,isUpdatableParameter,isValidParameter,isVisible,mixin,off,on,once,resumeTimer,showLoading,stopTimer,toggleTimer});class Timer{constructor($,ht){this.callback=$,this.remaining=ht,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase($){const ht=this.running;return ht&&this.stop(),this.remaining+=$,ht&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const swalStringParams=["swal-title","swal-html","swal-footer"],getTemplateParams=_e=>{const $=typeof _e.template=="string"?document.querySelector(_e.template):_e.template;if(!$)return{};const ht=$.content;return showWarningsForElements(ht),Object.assign(getSwalParams(ht),getSwalFunctionParams(ht),getSwalButtons(ht),getSwalImage(ht),getSwalIcon(ht),getSwalInput(ht),getSwalStringParams(ht,swalStringParams))},getSwalParams=_e=>{const $={};return Array.from(_e.querySelectorAll("swal-param")).forEach(vt=>{showWarningsForAttributes(vt,["name","value"]);const bt=vt.getAttribute("name"),_t=vt.getAttribute("value");!bt||!_t||(typeof defaultParams[bt]=="boolean"?$[bt]=_t!=="false":typeof defaultParams[bt]=="object"?$[bt]=JSON.parse(_t):$[bt]=_t)}),$},getSwalFunctionParams=_e=>{const $={};return Array.from(_e.querySelectorAll("swal-function-param")).forEach(vt=>{const bt=vt.getAttribute("name"),_t=vt.getAttribute("value");!bt||!_t||($[bt]=new Function(`return ${_t}`)())}),$},getSwalButtons=_e=>{const $={};return Array.from(_e.querySelectorAll("swal-button")).forEach(vt=>{showWarningsForAttributes(vt,["type","color","aria-label"]);const bt=vt.getAttribute("type");!bt||!["confirm","cancel","deny"].includes(bt)||($[`${bt}ButtonText`]=vt.innerHTML,$[`show${capitalizeFirstLetter(bt)}Button`]=!0,vt.hasAttribute("color")&&($[`${bt}ButtonColor`]=vt.getAttribute("color")),vt.hasAttribute("aria-label")&&($[`${bt}ButtonAriaLabel`]=vt.getAttribute("aria-label")))}),$},getSwalImage=_e=>{const $={},ht=_e.querySelector("swal-image");return ht&&(showWarningsForAttributes(ht,["src","width","height","alt"]),ht.hasAttribute("src")&&($.imageUrl=ht.getAttribute("src")||void 0),ht.hasAttribute("width")&&($.imageWidth=ht.getAttribute("width")||void 0),ht.hasAttribute("height")&&($.imageHeight=ht.getAttribute("height")||void 0),ht.hasAttribute("alt")&&($.imageAlt=ht.getAttribute("alt")||void 0)),$},getSwalIcon=_e=>{const $={},ht=_e.querySelector("swal-icon");return ht&&(showWarningsForAttributes(ht,["type","color"]),ht.hasAttribute("type")&&($.icon=ht.getAttribute("type")),ht.hasAttribute("color")&&($.iconColor=ht.getAttribute("color")),$.iconHtml=ht.innerHTML),$},getSwalInput=_e=>{const $={},ht=_e.querySelector("swal-input");ht&&(showWarningsForAttributes(ht,["type","label","placeholder","value"]),$.input=ht.getAttribute("type")||"text",ht.hasAttribute("label")&&($.inputLabel=ht.getAttribute("label")),ht.hasAttribute("placeholder")&&($.inputPlaceholder=ht.getAttribute("placeholder")),ht.hasAttribute("value")&&($.inputValue=ht.getAttribute("value")));const vt=Array.from(_e.querySelectorAll("swal-input-option"));return vt.length&&($.inputOptions={},vt.forEach(bt=>{showWarningsForAttributes(bt,["value"]);const _t=bt.getAttribute("value");if(!_t)return;const wt=bt.innerHTML;$.inputOptions[_t]=wt})),$},getSwalStringParams=(_e,$)=>{const ht={};for(const vt in $){const bt=$[vt],_t=_e.querySelector(bt);_t&&(showWarningsForAttributes(_t,[]),ht[bt.replace(/^swal-/,"")]=_t.innerHTML.trim())}return ht},showWarningsForElements=_e=>{const $=swalStringParams.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(_e.children).forEach(ht=>{const vt=ht.tagName.toLowerCase();$.includes(vt)||warn$2(`Unrecognized element <${vt}>`)})},showWarningsForAttributes=(_e,$)=>{Array.from(_e.attributes).forEach(ht=>{$.indexOf(ht.name)===-1&&warn$2([`Unrecognized attribute "${ht.name}" on <${_e.tagName.toLowerCase()}>.`,`${$.length?`Allowed attributes are: ${$.join(", ")}`:"To set the value, use HTML within the element."}`])})},SHOW_CLASS_TIMEOUT=10,openPopup=_e=>{const $=getContainer(),ht=getPopup();typeof _e.willOpen=="function"&&_e.willOpen(ht),globalState.eventEmitter.emit("willOpen",ht);const bt=window.getComputedStyle(document.body).overflowY;addClasses($,ht,_e),setTimeout(()=>{setScrollingVisibility($,ht)},SHOW_CLASS_TIMEOUT),isModal()&&(fixScrollContainer($,_e.scrollbarPadding,bt),setAriaHidden()),!isToast()&&!globalState.previousActiveElement&&(globalState.previousActiveElement=document.activeElement),typeof _e.didOpen=="function"&&setTimeout(()=>_e.didOpen(ht)),globalState.eventEmitter.emit("didOpen",ht),removeClass($,swalClasses["no-transition"])},swalOpenAnimationFinished=_e=>{const $=getPopup();if(_e.target!==$)return;const ht=getContainer();$.removeEventListener("animationend",swalOpenAnimationFinished),ht.style.overflowY="auto"},setScrollingVisibility=(_e,$)=>{hasCssAnimation($)?(_e.style.overflowY="hidden",$.addEventListener("animationend",swalOpenAnimationFinished)):_e.style.overflowY="auto"},fixScrollContainer=(_e,$,ht)=>{iOSfix(),$&&ht!=="hidden"&&replaceScrollbarWithPadding(ht),setTimeout(()=>{_e.scrollTop=0})},addClasses=(_e,$,ht)=>{addClass(_e,ht.showClass.backdrop),ht.animation?($.style.setProperty("opacity","0","important"),show($,"grid"),setTimeout(()=>{addClass($,ht.showClass.popup),$.style.removeProperty("opacity")},SHOW_CLASS_TIMEOUT)):show($,"grid"),addClass([document.documentElement,document.body],swalClasses.shown),ht.heightAuto&&ht.backdrop&&!ht.toast&&addClass([document.documentElement,document.body],swalClasses["height-auto"])};var defaultInputValidators={email:(_e,$)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(_e)?Promise.resolve():Promise.resolve($||"Invalid email address"),url:(_e,$)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(_e)?Promise.resolve():Promise.resolve($||"Invalid URL")};function setDefaultInputValidators(_e){_e.inputValidator||(_e.input==="email"&&(_e.inputValidator=defaultInputValidators.email),_e.input==="url"&&(_e.inputValidator=defaultInputValidators.url))}function validateCustomTargetElement(_e){(!_e.target||typeof _e.target=="string"&&!document.querySelector(_e.target)||typeof _e.target!="string"&&!_e.target.appendChild)&&(warn$2('Target parameter is not valid, defaulting to "body"'),_e.target="body")}function setParameters(_e){setDefaultInputValidators(_e),_e.showLoaderOnConfirm&&!_e.preConfirm&&warn$2(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),validateCustomTargetElement(_e),typeof _e.title=="string"&&(_e.title=_e.title.split(`
`).join("<br />")),init(_e)}let currentInstance;var _promise=new WeakMap;class SweetAlert{constructor(){if(_classPrivateFieldInitSpec(this,_promise,void 0),typeof window>"u")return;currentInstance=this;for(var $=arguments.length,ht=new Array($),vt=0;vt<$;vt++)ht[vt]=arguments[vt];const bt=Object.freeze(this.constructor.argsToParams(ht));this.params=bt,this.isAwaitingPromise=!1,_classPrivateFieldSet2(_promise,this,this._main(currentInstance.params))}_main($){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(showWarningsForParams(Object.assign({},ht,$)),globalState.currentInstance){const _t=privateMethods.swalPromiseResolve.get(globalState.currentInstance),{isAwaitingPromise:wt}=globalState.currentInstance;globalState.currentInstance._destroy(),wt||_t({isDismissed:!0}),isModal()&&unsetAriaHidden()}globalState.currentInstance=currentInstance;const vt=prepareParams($,ht);setParameters(vt),Object.freeze(vt),globalState.timeout&&(globalState.timeout.stop(),delete globalState.timeout),clearTimeout(globalState.restoreFocusTimeout);const bt=populateDomCache(currentInstance);return render(currentInstance,vt),privateProps.innerParams.set(currentInstance,vt),swalPromise(currentInstance,bt,vt)}then($){return _classPrivateFieldGet2(_promise,this).then($)}finally($){return _classPrivateFieldGet2(_promise,this).finally($)}}const swalPromise=(_e,$,ht)=>new Promise((vt,bt)=>{const _t=wt=>{_e.close({isDismissed:!0,dismiss:wt})};privateMethods.swalPromiseResolve.set(_e,vt),privateMethods.swalPromiseReject.set(_e,bt),$.confirmButton.onclick=()=>{handleConfirmButtonClick(_e)},$.denyButton.onclick=()=>{handleDenyButtonClick(_e)},$.cancelButton.onclick=()=>{handleCancelButtonClick(_e,_t)},$.closeButton.onclick=()=>{_t(DismissReason.close)},handlePopupClick(ht,$,_t),addKeydownHandler(globalState,ht,_t),handleInputOptionsAndValue(_e,ht),openPopup(ht),setupTimer(globalState,ht,_t),initFocus($,ht),setTimeout(()=>{$.container.scrollTop=0})}),prepareParams=(_e,$)=>{const ht=getTemplateParams(_e),vt=Object.assign({},defaultParams,$,ht,_e);return vt.showClass=Object.assign({},defaultParams.showClass,vt.showClass),vt.hideClass=Object.assign({},defaultParams.hideClass,vt.hideClass),vt.animation===!1&&(vt.showClass={backdrop:"swal2-noanimation"},vt.hideClass={}),vt},populateDomCache=_e=>{const $={popup:getPopup(),container:getContainer(),actions:getActions(),confirmButton:getConfirmButton(),denyButton:getDenyButton(),cancelButton:getCancelButton(),loader:getLoader(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps()};return privateProps.domCache.set(_e,$),$},setupTimer=(_e,$,ht)=>{const vt=getTimerProgressBar();hide(vt),$.timer&&(_e.timeout=new Timer(()=>{ht("timer"),delete _e.timeout},$.timer),$.timerProgressBar&&(show(vt),applyCustomClass(vt,$,"timerProgressBar"),setTimeout(()=>{_e.timeout&&_e.timeout.running&&animateTimerProgressBar($.timer)})))},initFocus=(_e,$)=>{if(!$.toast){if(!callIfFunction($.allowEnterKey)){warnAboutDeprecation("allowEnterKey"),blurActiveElement();return}focusAutofocus(_e)||focusButton(_e,$)||setFocus(-1,1)}},focusAutofocus=_e=>{const $=_e.popup.querySelectorAll("[autofocus]");for(const ht of $)if(ht instanceof HTMLElement&&isVisible$1(ht))return ht.focus(),!0;return!1},focusButton=(_e,$)=>$.focusDeny&&isVisible$1(_e.denyButton)?(_e.denyButton.focus(),!0):$.focusCancel&&isVisible$1(_e.cancelButton)?(_e.cancelButton.focus(),!0):$.focusConfirm&&isVisible$1(_e.confirmButton)?(_e.confirmButton.focus(),!0):!1,blurActiveElement=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const _e=new Date,$=localStorage.getItem("swal-initiation");$?(_e.getTime()-Date.parse($))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const ht=document.createElement("audio");ht.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",ht.loop=!0,document.body.appendChild(ht),setTimeout(()=>{ht.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${_e}`)}SweetAlert.prototype.disableButtons=disableButtons;SweetAlert.prototype.enableButtons=enableButtons;SweetAlert.prototype.getInput=getInput;SweetAlert.prototype.disableInput=disableInput;SweetAlert.prototype.enableInput=enableInput;SweetAlert.prototype.hideLoading=hideLoading;SweetAlert.prototype.disableLoading=hideLoading;SweetAlert.prototype.showValidationMessage=showValidationMessage;SweetAlert.prototype.resetValidationMessage=resetValidationMessage;SweetAlert.prototype.close=close;SweetAlert.prototype.closePopup=close;SweetAlert.prototype.closeModal=close;SweetAlert.prototype.closeToast=close;SweetAlert.prototype.rejectPromise=rejectPromise;SweetAlert.prototype.update=update;SweetAlert.prototype._destroy=_destroy;Object.assign(SweetAlert,staticMethods);Object.keys(instanceMethods).forEach(_e=>{SweetAlert[_e]=function(){return currentInstance&&currentInstance[_e]?currentInstance[_e](...arguments):null}});SweetAlert.DismissReason=DismissReason;SweetAlert.version="11.14.2";const Swal=SweetAlert;Swal.default=Swal;typeof document<"u"&&function(_e,$){var ht=_e.createElement("style");if(_e.getElementsByTagName("head")[0].appendChild(ht),ht.styleSheet)ht.styleSheet.disabled||(ht.styleSheet.cssText=$);else try{ht.innerHTML=$}catch{ht.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(..._e)=>_e.filter(($,ht,vt)=>!!$&&vt.indexOf($)===ht).join(" ");/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:_e="currentColor",size:$=24,strokeWidth:ht=2,absoluteStrokeWidth:vt,className:bt="",children:_t,iconNode:wt,...At},St)=>reactExports.createElement("svg",{ref:St,...defaultAttributes,width:$,height:$,stroke:_e,strokeWidth:vt?Number(ht)*24/Number($):ht,className:mergeClasses("lucide",bt),...At},[...wt.map(([Et,xt])=>reactExports.createElement(Et,xt)),...Array.isArray(_t)?_t:[_t]]));/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(_e,$)=>{const ht=reactExports.forwardRef(({className:vt,...bt},_t)=>reactExports.createElement(Icon,{ref:_t,iconNode:$,className:mergeClasses(`lucide-${toKebabCase(_e)}`,vt),...bt}));return ht.displayName=`${_e}`,ht};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Apple=createLucideIcon("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CirclePlus=createLucideIcon("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleUserRound=createLucideIcon("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coffee=createLucideIcon("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HeartPulse=createLucideIcon("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader=createLucideIcon("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Stethoscope=createLucideIcon("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"10lez9"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6a6 6 0 0 0 6-6v-4",key:"ce9bce"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sunset=createLucideIcon("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$f=["attr","size","title"];function _objectWithoutProperties$f(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$f(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$f(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$o.apply(this,arguments)}function ownKeys$x(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$x(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$x(Object(ht),!0).forEach(function(vt){_defineProperty$B(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$x(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$B(_e,$,ht){return $=_toPropertyKey$B($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$B(_e){var $=_toPrimitive$B(_e,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive$B(_e,$){if(typeof _e!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function Tree2Element(_e){return _e&&_e.map(($,ht)=>React.createElement($.tag,_objectSpread$x({key:ht},$.attr),Tree2Element($.child)))}function GenIcon(_e){return $=>React.createElement(IconBase,_extends$o({attr:_objectSpread$x({},_e.attr)},$),Tree2Element(_e.child))}function IconBase(_e){var $=ht=>{var{attr:vt,size:bt,title:_t}=_e,wt=_objectWithoutProperties$f(_e,_excluded$f),At=bt||ht.size||"1em",St;return ht.className&&(St=ht.className),_e.className&&(St=(St?St+" ":"")+_e.className),React.createElement("svg",_extends$o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},ht.attr,vt,wt,{className:St,style:_objectSpread$x(_objectSpread$x({color:_e.color||ht.color},ht.style),_e.style),height:At,width:At,xmlns:"http://www.w3.org/2000/svg"}),_t&&React.createElement("title",null,_t),_e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,ht=>$(ht)):$(DefaultContext)}function FaEdit(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(_e)}function FaFileUpload(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(_e)}const MotionConfigContext=reactExports.createContext({transformPagePoint:_e=>_e,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=_e=>_e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};class Queue{constructor(){this.order=[],this.scheduled=new Set}add($){if(!this.scheduled.has($))return this.scheduled.add($),this.order.push($),!0}remove($){const ht=this.order.indexOf($);ht!==-1&&(this.order.splice(ht,1),this.scheduled.delete($))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(_e){let $=new Queue,ht=new Queue,vt=0,bt=!1,_t=!1;const wt=new WeakSet,At={schedule:(St,Et=!1,xt=!1)=>{const Pt=xt&&bt,$t=Pt?$:ht;return Et&&wt.add(St),$t.add(St)&&Pt&&bt&&(vt=$.order.length),St},cancel:St=>{ht.remove(St),wt.delete(St)},process:St=>{if(bt){_t=!0;return}if(bt=!0,[$,ht]=[ht,$],ht.clear(),vt=$.order.length,vt)for(let Et=0;Et<vt;Et++){const xt=$.order[Et];wt.has(xt)&&(At.schedule(xt),_e()),xt(St)}bt=!1,_t&&(_t=!1,At.process(St))}};return At}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(_e,$){let ht=!1,vt=!0;const bt={delta:0,timestamp:0,isProcessing:!1},_t=stepsOrder.reduce((Pt,$t)=>(Pt[$t]=createRenderStep(()=>ht=!0),Pt),{}),wt=Pt=>{_t[Pt].process(bt)},At=()=>{const Pt=performance.now();ht=!1,bt.delta=vt?1e3/60:Math.max(Math.min(Pt-bt.timestamp,maxElapsed),1),bt.timestamp=Pt,bt.isProcessing=!0,stepsOrder.forEach(wt),bt.isProcessing=!1,ht&&$&&(vt=!1,_e(At))},St=()=>{ht=!0,vt=!0,bt.isProcessing||_e(At)};return{schedule:stepsOrder.reduce((Pt,$t)=>{const kt=_t[$t];return Pt[$t]=(Rt,Mt=!1,Dt=!1)=>(ht||St(),kt.schedule(Rt,Mt,Dt)),Pt},{}),cancel:Pt=>stepsOrder.forEach($t=>_t[$t].cancel(Pt)),state:bt,steps:_t}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function isRefObject(_e){return _e&&typeof _e=="object"&&Object.prototype.hasOwnProperty.call(_e,"current")}const SwitchLayoutGroupContext=reactExports.createContext({});let scheduleHandoffComplete=!1;function useVisualElement(_e,$,ht,vt,bt){const{visualElement:_t}=reactExports.useContext(MotionContext),wt=reactExports.useContext(LazyContext),At=reactExports.useContext(PresenceContext),St=reactExports.useContext(MotionConfigContext).reducedMotion,Et=reactExports.useRef();vt=vt||wt.renderer,!Et.current&&vt&&(Et.current=vt(_e,{visualState:$,parent:_t,props:ht,presenceContext:At,blockInitialAnimation:At?At.initial===!1:!1,reducedMotionConfig:St}));const xt=Et.current,Pt=reactExports.useContext(SwitchLayoutGroupContext);xt&&!xt.projection&&bt&&(xt.type==="html"||xt.type==="svg")&&createProjectionNode$1(Et.current,ht,bt,Pt),reactExports.useInsertionEffect(()=>{xt&&xt.update(ht,At)});const $t=reactExports.useRef(!!(ht[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{xt&&(xt.updateFeatures(),microtask.render(xt.render),$t.current&&xt.animationState&&xt.animationState.animateChanges())}),reactExports.useEffect(()=>{xt&&(!$t.current&&xt.animationState&&xt.animationState.animateChanges(),$t.current&&($t.current=!1,scheduleHandoffComplete||(scheduleHandoffComplete=!0,queueMicrotask(completeHandoff))))}),xt}function completeHandoff(){window.HandoffComplete=!0}function createProjectionNode$1(_e,$,ht,vt){const{layoutId:bt,layout:_t,drag:wt,dragConstraints:At,layoutScroll:St,layoutRoot:Et}=$;_e.projection=new ht(_e.latestValues,$["data-framer-portal-id"]?void 0:getClosestProjectingNode(_e.parent)),_e.projection.setOptions({layoutId:bt,layout:_t,alwaysMeasureLayout:!!wt||At&&isRefObject(At),visualElement:_e,scheduleRender:()=>_e.scheduleRender(),animationType:typeof _t=="string"?_t:"both",initialPromotionConfig:vt,layoutScroll:St,layoutRoot:Et})}function getClosestProjectingNode(_e){if(_e)return _e.options.allowProjection!==!1?_e.projection:getClosestProjectingNode(_e.parent)}function useMotionRef(_e,$,ht){return reactExports.useCallback(vt=>{vt&&_e.mount&&_e.mount(vt),$&&(vt?$.mount(vt):$.unmount()),ht&&(typeof ht=="function"?ht(vt):isRefObject(ht)&&(ht.current=vt))},[$])}function isVariantLabel(_e){return typeof _e=="string"||Array.isArray(_e)}function isAnimationControls(_e){return _e!==null&&typeof _e=="object"&&typeof _e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(_e){return isAnimationControls(_e.animate)||variantProps.some($=>isVariantLabel(_e[$]))}function isVariantNode(_e){return!!(isControllingVariants(_e)||_e.variants)}function getCurrentTreeVariants(_e,$){if(isControllingVariants(_e)){const{initial:ht,animate:vt}=_e;return{initial:ht===!1||isVariantLabel(ht)?ht:void 0,animate:isVariantLabel(vt)?vt:void 0}}return _e.inherit!==!1?$:{}}function useCreateMotionContext(_e){const{initial:$,animate:ht}=getCurrentTreeVariants(_e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:$,animate:ht}),[variantLabelsAsDependency($),variantLabelsAsDependency(ht)])}function variantLabelsAsDependency(_e){return Array.isArray(_e)?_e.join(" "):_e}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const _e in featureProps)featureDefinitions[_e]={isEnabled:$=>featureProps[_e].some(ht=>!!$[ht])};function loadFeatures(_e){for(const $ in _e)featureDefinitions[$]={...featureDefinitions[$],..._e[$]}}const LayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol"),noop$3=_e=>_e;let invariant$1=noop$3;function createMotionComponent({preloadedFeatures:_e,createVisualElement:$,useRender:ht,useVisualState:vt,Component:bt}){_e&&loadFeatures(_e);function _t(At,St){let Et;const xt={...reactExports.useContext(MotionConfigContext),...At,layoutId:useLayoutId(At)},{isStatic:Pt}=xt,$t=useCreateMotionContext(At),kt=vt(At,Pt);if(!Pt&&isBrowser){useStrictMode();const Rt=getProjectionFunctionality(xt);Et=Rt.MeasureLayout,$t.visualElement=useVisualElement(bt,kt,xt,$,Rt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:$t,children:[Et&&$t.visualElement?jsxRuntimeExports.jsx(Et,{visualElement:$t.visualElement,...xt}):null,ht(bt,At,useMotionRef(kt,$t.visualElement,St),kt,Pt,$t.visualElement)]})}const wt=reactExports.forwardRef(_t);return wt[motionComponentSymbol]=bt,wt}function useLayoutId({layoutId:_e}){const $=reactExports.useContext(LayoutGroupContext).id;return $&&_e!==void 0?$+"-"+_e:_e}function useStrictMode(_e,$){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(_e){const{drag:$,layout:ht}=featureDefinitions;if(!$&&!ht)return{};const vt={...$,...ht};return{MeasureLayout:$!=null&&$.isEnabled(_e)||ht!=null&&ht.isEnabled(_e)?vt.MeasureLayout:void 0,ProjectionNode:vt.ProjectionNode}}function createMotionProxy(_e){function $(vt,bt={}){return createMotionComponent(_e(vt,bt))}if(typeof Proxy>"u")return $;const ht=new Map;return new Proxy($,{get:(vt,bt)=>(ht.has(bt)||ht.set(bt,$(bt)),ht.get(bt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(_e){return typeof _e!="string"||_e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(_e)>-1||/[A-Z]/u.test(_e))}const scaleCorrectors={};function addScaleCorrector(_e){Object.assign(scaleCorrectors,_e)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(_e,{layout:$,layoutId:ht}){return transformProps.has(_e)||_e.startsWith("origin")||($||ht!==void 0)&&(!!scaleCorrectors[_e]||_e==="opacity")}const isMotionValue=_e=>!!(_e&&_e.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(_e,{enableHardwareAcceleration:$=!0,allowTransformNone:ht=!0},vt,bt){let _t="";for(let wt=0;wt<numTransforms;wt++){const At=transformPropOrder[wt];if(_e[At]!==void 0){const St=translateAlias[At]||At;_t+=`${St}(${_e[At]}) `}}return $&&!_e.z&&(_t+="translateZ(0)"),_t=_t.trim(),bt?_t=bt(_e,vt?"":_t):ht&&vt&&(_t="none"),_t}const checkStringStartsWith=_e=>$=>typeof $=="string"&&$.startsWith(_e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=_e=>startsAsVariableToken(_e)?singleCssVariableRegex.test(_e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(_e,$)=>$&&typeof _e=="number"?$.transform(_e):_e,clamp=(_e,$,ht)=>ht>$?$:ht<_e?_e:ht,number$3={test:_e=>typeof _e=="number",parse:parseFloat,transform:_e=>_e},alpha$1={...number$3,transform:_e=>clamp(0,1,_e)},scale={...number$3,default:1},sanitize=_e=>Math.round(_e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString$2(_e){return typeof _e=="string"}function isNullish(_e){return _e==null}const createUnitType=_e=>({test:$=>isString$2($)&&$.endsWith(_e)&&$.split(" ").length===1,parse:parseFloat,transform:$=>`${$}${_e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:_e=>percent.parse(_e)/100,transform:_e=>percent.transform(_e*100)},int={...number$3,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int};function buildHTMLStyles(_e,$,ht,vt){const{style:bt,vars:_t,transform:wt,transformOrigin:At}=_e;let St=!1,Et=!1,xt=!0;for(const Pt in $){const $t=$[Pt];if(isCSSVariableName(Pt)){_t[Pt]=$t;continue}const kt=numberValueTypes[Pt],Rt=getValueAsType($t,kt);if(transformProps.has(Pt)){if(St=!0,wt[Pt]=Rt,!xt)continue;$t!==(kt.default||0)&&(xt=!1)}else Pt.startsWith("origin")?(Et=!0,At[Pt]=Rt):bt[Pt]=Rt}if($.transform||(St||vt?bt.transform=buildTransform(_e.transform,ht,xt,vt):bt.transform&&(bt.transform="none")),Et){const{originX:Pt="50%",originY:$t="50%",originZ:kt=0}=At;bt.transformOrigin=`${Pt} ${$t} ${kt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(_e,$,ht){for(const vt in $)!isMotionValue($[vt])&&!isForcedMotionValue(vt,ht)&&(_e[vt]=$[vt])}function useInitialMotionValues({transformTemplate:_e},$,ht){return reactExports.useMemo(()=>{const vt=createHtmlRenderState();return buildHTMLStyles(vt,$,{enableHardwareAcceleration:!ht},_e),Object.assign({},vt.vars,vt.style)},[$])}function useStyle(_e,$,ht){const vt=_e.style||{},bt={};return copyRawValuesOnly(bt,vt,_e),Object.assign(bt,useInitialMotionValues(_e,$,ht)),bt}function useHTMLProps(_e,$,ht){const vt={},bt=useStyle(_e,$,ht);return _e.drag&&_e.dragListener!==!1&&(vt.draggable=!1,bt.userSelect=bt.WebkitUserSelect=bt.WebkitTouchCallout="none",bt.touchAction=_e.drag===!0?"none":`pan-${_e.drag==="x"?"y":"x"}`),_e.tabIndex===void 0&&(_e.onTap||_e.onTapStart||_e.whileTap)&&(vt.tabIndex=0),vt.style=bt,vt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(_e){return _e.startsWith("while")||_e.startsWith("drag")&&_e!=="draggable"||_e.startsWith("layout")||_e.startsWith("onTap")||_e.startsWith("onPan")||_e.startsWith("onLayout")||validMotionProps.has(_e)}let shouldForward=_e=>!isValidMotionProp(_e);function loadExternalIsValidProp(_e){_e&&(shouldForward=$=>$.startsWith("on")?!isValidMotionProp($):_e($))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(_e,$,ht){const vt={};for(const bt in _e)bt==="values"&&typeof _e.values=="object"||(shouldForward(bt)||ht===!0&&isValidMotionProp(bt)||!$&&!isValidMotionProp(bt)||_e.draggable&&bt.startsWith("onDrag"))&&(vt[bt]=_e[bt]);return vt}function calcOrigin$1(_e,$,ht){return typeof _e=="string"?_e:px.transform($+ht*_e)}function calcSVGTransformOrigin(_e,$,ht){const vt=calcOrigin$1($,_e.x,_e.width),bt=calcOrigin$1(ht,_e.y,_e.height);return`${vt} ${bt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(_e,$,ht=1,vt=0,bt=!0){_e.pathLength=1;const _t=bt?dashKeys:camelKeys;_e[_t.offset]=px.transform(-vt);const wt=px.transform($),At=px.transform(ht);_e[_t.array]=`${wt} ${At}`}function buildSVGAttrs(_e,{attrX:$,attrY:ht,attrScale:vt,originX:bt,originY:_t,pathLength:wt,pathSpacing:At=1,pathOffset:St=0,...Et},xt,Pt,$t){if(buildHTMLStyles(_e,Et,xt,$t),Pt){_e.style.viewBox&&(_e.attrs.viewBox=_e.style.viewBox);return}_e.attrs=_e.style,_e.style={};const{attrs:kt,style:Rt,dimensions:Mt}=_e;kt.transform&&(Mt&&(Rt.transform=kt.transform),delete kt.transform),Mt&&(bt!==void 0||_t!==void 0||Rt.transform)&&(Rt.transformOrigin=calcSVGTransformOrigin(Mt,bt!==void 0?bt:.5,_t!==void 0?_t:.5)),$!==void 0&&(kt.x=$),ht!==void 0&&(kt.y=ht),vt!==void 0&&(kt.scale=vt),wt!==void 0&&buildSVGPath(kt,wt,At,St,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=_e=>typeof _e=="string"&&_e.toLowerCase()==="svg";function useSVGProps(_e,$,ht,vt){const bt=reactExports.useMemo(()=>{const _t=createSvgRenderState();return buildSVGAttrs(_t,$,{enableHardwareAcceleration:!1},isSVGTag(vt),_e.transformTemplate),{..._t.attrs,style:{..._t.style}}},[$]);if(_e.style){const _t={};copyRawValuesOnly(_t,_e.style,_e),bt.style={..._t,...bt.style}}return bt}function createUseRender(_e=!1){return(ht,vt,bt,{latestValues:_t},wt)=>{const St=(isSVGComponent(ht)?useSVGProps:useHTMLProps)(vt,_t,wt,ht),Et=filterProps$1(vt,typeof ht=="string",_e),xt=ht!==reactExports.Fragment?{...Et,...St,ref:bt}:{},{children:Pt}=vt,$t=reactExports.useMemo(()=>isMotionValue(Pt)?Pt.get():Pt,[Pt]);return reactExports.createElement(ht,{...xt,children:$t})}}function renderHTML(_e,{style:$,vars:ht},vt,bt){Object.assign(_e.style,$,bt&&bt.getProjectionStyles(vt));for(const _t in ht)_e.style.setProperty(_t,ht[_t])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(_e,$,ht,vt){renderHTML(_e,$,void 0,vt);for(const bt in $.attrs)_e.setAttribute(camelCaseAttributes.has(bt)?bt:camelToDash(bt),$.attrs[bt])}function scrapeMotionValuesFromProps$1(_e,$,ht){var vt;const{style:bt}=_e,_t={};for(const wt in bt)(isMotionValue(bt[wt])||$.style&&isMotionValue($.style[wt])||isForcedMotionValue(wt,_e)||((vt=ht==null?void 0:ht.getValue(wt))===null||vt===void 0?void 0:vt.liveStyle)!==void 0)&&(_t[wt]=bt[wt]);return _t}function scrapeMotionValuesFromProps(_e,$,ht){const vt=scrapeMotionValuesFromProps$1(_e,$,ht);for(const bt in _e)if(isMotionValue(_e[bt])||isMotionValue($[bt])){const _t=transformPropOrder.indexOf(bt)!==-1?"attr"+bt.charAt(0).toUpperCase()+bt.substring(1):bt;vt[_t]=_e[bt]}return vt}function getValueState(_e){const $=[{},{}];return _e==null||_e.values.forEach((ht,vt)=>{$[0][vt]=ht.get(),$[1][vt]=ht.getVelocity()}),$}function resolveVariantFromProps(_e,$,ht,vt){if(typeof $=="function"){const[bt,_t]=getValueState(vt);$=$(ht!==void 0?ht:_e.custom,bt,_t)}if(typeof $=="string"&&($=_e.variants&&_e.variants[$]),typeof $=="function"){const[bt,_t]=getValueState(vt);$=$(ht!==void 0?ht:_e.custom,bt,_t)}return $}function useConstant(_e){const $=reactExports.useRef(null);return $.current===null&&($.current=_e()),$.current}const isKeyframesTarget=_e=>Array.isArray(_e),isCustomValue=_e=>!!(_e&&typeof _e=="object"&&_e.mix&&_e.toValue),resolveFinalValueInKeyframes=_e=>isKeyframesTarget(_e)?_e[_e.length-1]||0:_e;function resolveMotionValue(_e){const $=isMotionValue(_e)?_e.get():_e;return isCustomValue($)?$.toValue():$}function makeState({scrapeMotionValuesFromProps:_e,createRenderState:$,onMount:ht},vt,bt,_t){const wt={latestValues:makeLatestValues(vt,bt,_t,_e),renderState:$()};return ht&&(wt.mount=At=>ht(vt,At,wt)),wt}const makeUseVisualState=_e=>($,ht)=>{const vt=reactExports.useContext(MotionContext),bt=reactExports.useContext(PresenceContext),_t=()=>makeState(_e,$,vt,bt);return ht?_t():useConstant(_t)};function makeLatestValues(_e,$,ht,vt){const bt={},_t=vt(_e,{});for(const $t in _t)bt[$t]=resolveMotionValue(_t[$t]);let{initial:wt,animate:At}=_e;const St=isControllingVariants(_e),Et=isVariantNode(_e);$&&Et&&!St&&_e.inherit!==!1&&(wt===void 0&&(wt=$.initial),At===void 0&&(At=$.animate));let xt=ht?ht.initial===!1:!1;xt=xt||wt===!1;const Pt=xt?At:wt;return Pt&&typeof Pt!="boolean"&&!isAnimationControls(Pt)&&(Array.isArray(Pt)?Pt:[Pt]).forEach(kt=>{const Rt=resolveVariantFromProps(_e,kt);if(!Rt)return;const{transitionEnd:Mt,transition:Dt,...Ot}=Rt;for(const Lt in Ot){let Nt=Ot[Lt];if(Array.isArray(Nt)){const Ht=xt?Nt.length-1:0;Nt=Nt[Ht]}Nt!==null&&(bt[Lt]=Nt)}for(const Lt in Mt)bt[Lt]=Mt[Lt]}),bt}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$3,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(_e,$,{renderState:ht,latestValues:vt})=>{frame.read(()=>{try{ht.dimensions=typeof $.getBBox=="function"?$.getBBox():$.getBoundingClientRect()}catch{ht.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(ht,vt,{enableHardwareAcceleration:!1},isSVGTag($.tagName),_e.transformTemplate),renderSVG($,ht)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(_e,{forwardMotionProps:$=!1},ht,vt){return{...isSVGComponent(_e)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:ht,useRender:createUseRender($),createVisualElement:vt,Component:_e}}function addDomEvent(_e,$,ht,vt={passive:!0}){return _e.addEventListener($,ht,vt),()=>_e.removeEventListener($,ht)}const isPrimaryPointer=_e=>_e.pointerType==="mouse"?typeof _e.button!="number"||_e.button<=0:_e.isPrimary!==!1;function extractEventInfo(_e,$="page"){return{point:{x:_e[`${$}X`],y:_e[`${$}Y`]}}}const addPointerInfo=_e=>$=>isPrimaryPointer($)&&_e($,extractEventInfo($));function addPointerEvent(_e,$,ht,vt){return addDomEvent(_e,$,addPointerInfo(ht),vt)}const combineFunctions=(_e,$)=>ht=>$(_e(ht)),pipe=(..._e)=>_e.reduce(combineFunctions);function createLock(_e){let $=null;return()=>{const ht=()=>{$=null};return $===null?($=_e,ht):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(_e){let $=!1;if(_e==="y")$=globalVerticalLock();else if(_e==="x")$=globalHorizontalLock();else{const ht=globalHorizontalLock(),vt=globalVerticalLock();ht&&vt?$=()=>{ht(),vt()}:(ht&&ht(),vt&&vt())}return $}function isDragActive(){const _e=getGlobalLock(!0);return _e?(_e(),!1):!0}class Feature{constructor($){this.isMounted=!1,this.node=$}update(){}}function addHoverEvent(_e,$){const ht=$?"pointerenter":"pointerleave",vt=$?"onHoverStart":"onHoverEnd",bt=(_t,wt)=>{if(_t.pointerType==="touch"||isDragActive())return;const At=_e.getProps();_e.animationState&&At.whileHover&&_e.animationState.setActive("whileHover",$);const St=At[vt];St&&frame.postRender(()=>St(_t,wt))};return addPointerEvent(_e.current,ht,bt,{passive:!_e.getProps()[vt]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let $=!1;try{$=this.node.current.matches(":focus-visible")}catch{$=!0}!$||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(_e,$)=>$?_e===$?!0:isNodeOrChild(_e,$.parentElement):!1;function fireSyntheticPointerEvent(_e,$){if(!$)return;const ht=new PointerEvent("pointer"+_e);$(ht,extractEventInfo(ht))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$3,this.removeEndListeners=noop$3,this.removeAccessibleListeners=noop$3,this.startPointerPress=($,ht)=>{if(this.isPressing)return;this.removeEndListeners();const vt=this.node.getProps(),_t=addPointerEvent(window,"pointerup",(At,St)=>{if(!this.checkPressEnd())return;const{onTap:Et,onTapCancel:xt,globalTapTarget:Pt}=this.node.getProps(),$t=!Pt&&!isNodeOrChild(this.node.current,At.target)?xt:Et;$t&&frame.update(()=>$t(At,St))},{passive:!(vt.onTap||vt.onPointerUp)}),wt=addPointerEvent(window,"pointercancel",(At,St)=>this.cancelPress(At,St),{passive:!(vt.onTapCancel||vt.onPointerCancel)});this.removeEndListeners=pipe(_t,wt),this.startPress($,ht)},this.startAccessiblePress=()=>{const $=_t=>{if(_t.key!=="Enter"||this.isPressing)return;const wt=At=>{At.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(St,Et)=>{const{onTap:xt}=this.node.getProps();xt&&frame.postRender(()=>xt(St,Et))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",wt),fireSyntheticPointerEvent("down",(At,St)=>{this.startPress(At,St)})},ht=addDomEvent(this.node.current,"keydown",$),vt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(_t,wt)=>this.cancelPress(_t,wt))},bt=addDomEvent(this.node.current,"blur",vt);this.removeAccessibleListeners=pipe(ht,bt)}}startPress($,ht){this.isPressing=!0;const{onTapStart:vt,whileTap:bt}=this.node.getProps();bt&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),vt&&frame.postRender(()=>vt($,ht))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress($,ht){if(!this.checkPressEnd())return;const{onTapCancel:vt}=this.node.getProps();vt&&frame.postRender(()=>vt($,ht))}mount(){const $=this.node.getProps(),ht=addPointerEvent($.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!($.onTapStart||$.onPointerStart)}),vt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(ht,vt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=_e=>{const $=observerCallbacks.get(_e.target);$&&$(_e)},fireAllObserverCallbacks=_e=>{_e.forEach(fireObserverCallback)};function initIntersectionObserver({root:_e,...$}){const ht=_e||document;observers.has(ht)||observers.set(ht,{});const vt=observers.get(ht),bt=JSON.stringify($);return vt[bt]||(vt[bt]=new IntersectionObserver(fireAllObserverCallbacks,{root:_e,...$})),vt[bt]}function observeIntersection(_e,$,ht){const vt=initIntersectionObserver($);return observerCallbacks.set(_e,ht),vt.observe(_e),()=>{observerCallbacks.delete(_e),vt.unobserve(_e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:$={}}=this.node.getProps(),{root:ht,margin:vt,amount:bt="some",once:_t}=$,wt={root:ht?ht.current:void 0,rootMargin:vt,threshold:typeof bt=="number"?bt:thresholdNames[bt]},At=St=>{const{isIntersecting:Et}=St;if(this.isInView===Et||(this.isInView=Et,_t&&!Et&&this.hasEnteredView))return;Et&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Et);const{onViewportEnter:xt,onViewportLeave:Pt}=this.node.getProps(),$t=Et?xt:Pt;$t&&$t(St)};return observeIntersection(this.node.current,wt,At)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:$,prevProps:ht}=this.node;["amount","margin","root"].some(hasViewportOptionChanged($,ht))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:_e={}},{viewport:$={}}={}){return ht=>_e[ht]!==$[ht]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(_e,$){if(!Array.isArray($))return!1;const ht=$.length;if(ht!==_e.length)return!1;for(let vt=0;vt<ht;vt++)if($[vt]!==_e[vt])return!1;return!0}function resolveVariant(_e,$,ht){const vt=_e.getProps();return resolveVariantFromProps(vt,$,ht!==void 0?ht:vt.custom,_e)}const secondsToMilliseconds=_e=>_e*1e3,millisecondsToSeconds=_e=>_e/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=_e=>({type:"spring",stiffness:550,damping:_e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(_e,{keyframes:$})=>$.length>2?keyframesTransition:transformProps.has(_e)?_e.startsWith("scale")?criticallyDampedSpring($[1]):underDampedSpring:ease;function isTransitionDefined({when:_e,delay:$,delayChildren:ht,staggerChildren:vt,staggerDirection:bt,repeat:_t,repeatType:wt,repeatDelay:At,from:St,elapsed:Et,...xt}){return!!Object.keys(xt).length}function getValueTransition(_e,$){return _e[$]||_e.default||_e}const isNotNull=_e=>_e!==null;function getFinalKeyframe(_e,{repeat:$,repeatType:ht="loop"},vt){const bt=_e.filter(isNotNull),_t=$&&ht!=="loop"&&$%2===1?0:bt.length-1;return!_t||vt===void 0?bt[_t]:vt}let now$2;function clearTime(){now$2=void 0}const time$1={now:()=>(now$2===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$2),set:_e=>{now$2=_e,queueMicrotask(clearTime)}},isZeroValueString=_e=>/^0[^.\s]+$/u.test(_e);function isNone(_e){return typeof _e=="number"?_e===0:_e!==null?_e==="none"||_e==="0"||isZeroValueString(_e):!0}const isNumericalString=_e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(_e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(_e){const $=splitCSSVariableRegex.exec(_e);if(!$)return[,];const[,ht,vt,bt]=$;return[`--${ht??vt}`,bt]}function getVariableValue(_e,$,ht=1){const[vt,bt]=parseCSSVariable(_e);if(!vt)return;const _t=window.getComputedStyle($).getPropertyValue(vt);if(_t){const wt=_t.trim();return isNumericalString(wt)?parseFloat(wt):wt}return isCSSVariableToken(bt)?getVariableValue(bt,$,ht+1):bt}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=_e=>_e===number$3||_e===px,getPosFromMatrix=(_e,$)=>parseFloat(_e.split(", ")[$]),getTranslateFromMatrix=(_e,$)=>(ht,{transform:vt})=>{if(vt==="none"||!vt)return 0;const bt=vt.match(/^matrix3d\((.+)\)$/u);if(bt)return getPosFromMatrix(bt[1],$);{const _t=vt.match(/^matrix\((.+)\)$/u);return _t?getPosFromMatrix(_t[1],_e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(_e=>!transformKeys.has(_e));function removeNonTranslationalTransform(_e){const $=[];return nonTranslationalTransformKeys.forEach(ht=>{const vt=_e.getValue(ht);vt!==void 0&&($.push([ht,vt.get()]),vt.set(ht.startsWith("scale")?1:0))}),$}const positionalValues={width:({x:_e},{paddingLeft:$="0",paddingRight:ht="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(ht),height:({y:_e},{paddingTop:$="0",paddingBottom:ht="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(ht),top:(_e,{top:$})=>parseFloat($),left:(_e,{left:$})=>parseFloat($),bottom:({y:_e},{top:$})=>parseFloat($)+(_e.max-_e.min),right:({x:_e},{left:$})=>parseFloat($)+(_e.max-_e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=_e=>$=>$.test(_e),auto={test:_e=>_e==="auto",parse:_e=>_e},dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=_e=>dimensionValueTypes.find(testValueType(_e)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const _e=Array.from(toResolve).filter(vt=>vt.needsMeasurement),$=new Set(_e.map(vt=>vt.element)),ht=new Map;$.forEach(vt=>{const bt=removeNonTranslationalTransform(vt);bt.length&&(ht.set(vt,bt),vt.render())}),_e.forEach(vt=>vt.measureInitialState()),$.forEach(vt=>{vt.render();const bt=ht.get(vt);bt&&bt.forEach(([_t,wt])=>{var At;(At=vt.getValue(_t))===null||At===void 0||At.set(wt)})}),_e.forEach(vt=>vt.measureEndState()),_e.forEach(vt=>{vt.suspendedScrollY!==void 0&&window.scrollTo(0,vt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(_e=>_e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(_e=>{_e.readKeyframes(),_e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor($,ht,vt,bt,_t,wt=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...$],this.onComplete=ht,this.name=vt,this.motionValue=bt,this.element=_t,this.isAsync=wt}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:$,name:ht,element:vt,motionValue:bt}=this;for(let _t=0;_t<$.length;_t++)if($[_t]===null)if(_t===0){const wt=bt==null?void 0:bt.get(),At=$[$.length-1];if(wt!==void 0)$[0]=wt;else if(vt&&ht){const St=vt.readValue(ht,At);St!=null&&($[0]=St)}$[0]===void 0&&($[0]=At),bt&&wt===void 0&&bt.set($[0])}else $[_t]=$[_t-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(_e,$)=>ht=>!!(isString$2(ht)&&singleColorRegex.test(ht)&&ht.startsWith(_e)||$&&!isNullish(ht)&&Object.prototype.hasOwnProperty.call(ht,$)),splitColor=(_e,$,ht)=>vt=>{if(!isString$2(vt))return vt;const[bt,_t,wt,At]=vt.match(floatRegex);return{[_e]:parseFloat(bt),[$]:parseFloat(_t),[ht]:parseFloat(wt),alpha:At!==void 0?parseFloat(At):1}},clampRgbUnit=_e=>clamp(0,255,_e),rgbUnit={...number$3,transform:_e=>Math.round(clampRgbUnit(_e))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:_e,green:$,blue:ht,alpha:vt=1})=>"rgba("+rgbUnit.transform(_e)+", "+rgbUnit.transform($)+", "+rgbUnit.transform(ht)+", "+sanitize(alpha$1.transform(vt))+")"};function parseHex(_e){let $="",ht="",vt="",bt="";return _e.length>5?($=_e.substring(1,3),ht=_e.substring(3,5),vt=_e.substring(5,7),bt=_e.substring(7,9)):($=_e.substring(1,2),ht=_e.substring(2,3),vt=_e.substring(3,4),bt=_e.substring(4,5),$+=$,ht+=ht,vt+=vt,bt+=bt),{red:parseInt($,16),green:parseInt(ht,16),blue:parseInt(vt,16),alpha:bt?parseInt(bt,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:_e,saturation:$,lightness:ht,alpha:vt=1})=>"hsla("+Math.round(_e)+", "+percent.transform(sanitize($))+", "+percent.transform(sanitize(ht))+", "+sanitize(alpha$1.transform(vt))+")"},color$1={test:_e=>rgba$1.test(_e)||hex$1.test(_e)||hsla$1.test(_e),parse:_e=>rgba$1.test(_e)?rgba$1.parse(_e):hsla$1.test(_e)?hsla$1.parse(_e):hex$1.parse(_e),transform:_e=>isString$2(_e)?_e:_e.hasOwnProperty("red")?rgba$1.transform(_e):hsla$1.transform(_e)};function test(_e){var $,ht;return isNaN(_e)&&isString$2(_e)&&((($=_e.match(floatRegex))===null||$===void 0?void 0:$.length)||0)+(((ht=_e.match(colorRegex))===null||ht===void 0?void 0:ht.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(_e){const $=_e.toString(),ht=[],vt={color:[],number:[],var:[]},bt=[];let _t=0;const At=$.replace(complexRegex,St=>(color$1.test(St)?(vt.color.push(_t),bt.push(COLOR_TOKEN),ht.push(color$1.parse(St))):St.startsWith(VAR_FUNCTION_TOKEN)?(vt.var.push(_t),bt.push(VAR_TOKEN),ht.push(St)):(vt.number.push(_t),bt.push(NUMBER_TOKEN),ht.push(parseFloat(St))),++_t,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:ht,split:At,indexes:vt,types:bt}}function parseComplexValue(_e){return analyseComplexValue(_e).values}function createTransformer(_e){const{split:$,types:ht}=analyseComplexValue(_e),vt=$.length;return bt=>{let _t="";for(let wt=0;wt<vt;wt++)if(_t+=$[wt],bt[wt]!==void 0){const At=ht[wt];At===NUMBER_TOKEN?_t+=sanitize(bt[wt]):At===COLOR_TOKEN?_t+=color$1.transform(bt[wt]):_t+=bt[wt]}return _t}}const convertNumbersToZero=_e=>typeof _e=="number"?0:_e;function getAnimatableNone$1(_e){const $=parseComplexValue(_e);return createTransformer(_e)($.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(_e){const[$,ht]=_e.slice(0,-1).split("(");if($==="drop-shadow")return _e;const[vt]=ht.match(floatRegex)||[];if(!vt)return _e;const bt=ht.replace(vt,"");let _t=maxDefaults.has($)?1:0;return vt!==ht&&(_t*=100),$+"("+_t+bt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:_e=>{const $=_e.match(functionRegex);return $?$.map(applyDefaultFilter).join(" "):_e}},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=_e=>defaultValueTypes[_e];function getAnimatableNone(_e,$){let ht=getDefaultValueType(_e);return ht!==filter&&(ht=complex),ht.getAnimatableNone?ht.getAnimatableNone($):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(_e,$,ht){let vt=0,bt;for(;vt<_e.length&&!bt;){const _t=_e[vt];typeof _t=="string"&&!invalidTemplates.has(_t)&&analyseComplexValue(_t).values.length&&(bt=_e[vt]),vt++}if(bt&&ht)for(const _t of $)_e[_t]=getAnimatableNone(ht,bt)}class DOMKeyframesResolver extends KeyframeResolver{constructor($,ht,vt,bt){super($,ht,vt,bt,bt==null?void 0:bt.owner,!0)}readKeyframes(){const{unresolvedKeyframes:$,element:ht,name:vt}=this;if(!ht.current)return;super.readKeyframes();for(let St=0;St<$.length;St++){let Et=$[St];if(typeof Et=="string"&&(Et=Et.trim(),isCSSVariableToken(Et))){const xt=getVariableValue(Et,ht.current);xt!==void 0&&($[St]=xt),St===$.length-1&&(this.finalKeyframe=Et)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(vt)||$.length!==2)return;const[bt,_t]=$,wt=findDimensionValueType(bt),At=findDimensionValueType(_t);if(wt!==At)if(isNumOrPxType(wt)&&isNumOrPxType(At))for(let St=0;St<$.length;St++){const Et=$[St];typeof Et=="string"&&($[St]=parseFloat(Et))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:$,name:ht}=this,vt=[];for(let bt=0;bt<$.length;bt++)isNone($[bt])&&vt.push(bt);vt.length&&makeNoneKeyframesAnimatable($,vt,ht)}measureInitialState(){const{element:$,unresolvedKeyframes:ht,name:vt}=this;if(!$.current)return;vt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[vt]($.measureViewportBox(),window.getComputedStyle($.current)),ht[0]=this.measuredOrigin;const bt=ht[ht.length-1];bt!==void 0&&$.getValue(vt,bt).jump(bt,!1)}measureEndState(){var $;const{element:ht,name:vt,unresolvedKeyframes:bt}=this;if(!ht.current)return;const _t=ht.getValue(vt);_t&&_t.jump(this.measuredOrigin,!1);const wt=bt.length-1,At=bt[wt];bt[wt]=positionalValues[vt](ht.measureViewportBox(),window.getComputedStyle(ht.current)),At!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=At),!(($=this.removedTransforms)===null||$===void 0)&&$.length&&this.removedTransforms.forEach(([St,Et])=>{ht.getValue(St).set(Et)}),this.resolveNoneKeyframes()}}function memo(_e){let $;return()=>($===void 0&&($=_e()),$)}const isAnimatable=(_e,$)=>$==="zIndex"?!1:!!(typeof _e=="number"||Array.isArray(_e)||typeof _e=="string"&&(complex.test(_e)||_e==="0")&&!_e.startsWith("url("));function hasKeyframesChanged(_e){const $=_e[0];if(_e.length===1)return!0;for(let ht=0;ht<_e.length;ht++)if(_e[ht]!==$)return!0}function canAnimate(_e,$,ht,vt){const bt=_e[0];if(bt===null)return!1;if($==="display"||$==="visibility")return!0;const _t=_e[_e.length-1],wt=isAnimatable(bt,$),At=isAnimatable(_t,$);return!wt||!At?!1:hasKeyframesChanged(_e)||ht==="spring"&&vt}class BaseAnimation{constructor({autoplay:$=!0,delay:ht=0,type:vt="keyframes",repeat:bt=0,repeatDelay:_t=0,repeatType:wt="loop",...At}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:$,delay:ht,type:vt,repeat:bt,repeatDelay:_t,repeatType:wt,...At},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved($,ht){this.hasAttemptedResolve=!0;const{name:vt,type:bt,velocity:_t,delay:wt,onComplete:At,onUpdate:St,isGenerator:Et}=this.options;if(!Et&&!canAnimate($,vt,bt,_t))if(wt)this.options.duration=0;else{St==null||St(getFinalKeyframe($,this.options,ht)),At==null||At(),this.resolveFinishedPromise();return}const xt=this.initPlayback($,ht);xt!==!1&&(this._resolved={keyframes:$,finalKeyframe:ht,...xt},this.onPostResolved())}onPostResolved(){}then($,ht){return this.currentFinishedPromise.then($,ht)}updateFinishedPromise(){this.currentFinishedPromise=new Promise($=>{this.resolveFinishedPromise=$})}}function velocityPerSecond(_e,$){return $?_e*(1e3/$):0}const velocitySampleDuration=5;function calcGeneratorVelocity(_e,$,ht){const vt=Math.max($-velocitySampleDuration,0);return velocityPerSecond(ht-_e(vt),$-vt)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:_e=800,bounce:$=.25,velocity:ht=0,mass:vt=1}){let bt,_t,wt=1-$;wt=clamp(minDamping,maxDamping,wt),_e=clamp(minDuration,maxDuration$1,millisecondsToSeconds(_e)),wt<1?(bt=Et=>{const xt=Et*wt,Pt=xt*_e,$t=xt-ht,kt=calcAngularFreq(Et,wt),Rt=Math.exp(-Pt);return safeMin-$t/kt*Rt},_t=Et=>{const Pt=Et*wt*_e,$t=Pt*ht+ht,kt=Math.pow(wt,2)*Math.pow(Et,2)*_e,Rt=Math.exp(-Pt),Mt=calcAngularFreq(Math.pow(Et,2),wt);return(-bt(Et)+safeMin>0?-1:1)*(($t-kt)*Rt)/Mt}):(bt=Et=>{const xt=Math.exp(-Et*_e),Pt=(Et-ht)*_e+1;return-safeMin+xt*Pt},_t=Et=>{const xt=Math.exp(-Et*_e),Pt=(ht-Et)*(_e*_e);return xt*Pt});const At=5/_e,St=approximateRoot(bt,_t,At);if(_e=secondsToMilliseconds(_e),isNaN(St))return{stiffness:100,damping:10,duration:_e};{const Et=Math.pow(St,2)*vt;return{stiffness:Et,damping:wt*2*Math.sqrt(vt*Et),duration:_e}}}const rootIterations=12;function approximateRoot(_e,$,ht){let vt=ht;for(let bt=1;bt<rootIterations;bt++)vt=vt-_e(vt)/$(vt);return vt}function calcAngularFreq(_e,$){return _e*Math.sqrt(1-$*$)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(_e,$){return $.some(ht=>_e[ht]!==void 0)}function getSpringOptions(_e){let $={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,..._e};if(!isSpringType(_e,physicsKeys)&&isSpringType(_e,durationKeys)){const ht=findSpring(_e);$={...$,...ht,mass:1},$.isResolvedFromDuration=!0}return $}function spring({keyframes:_e,restDelta:$,restSpeed:ht,...vt}){const bt=_e[0],_t=_e[_e.length-1],wt={done:!1,value:bt},{stiffness:At,damping:St,mass:Et,duration:xt,velocity:Pt,isResolvedFromDuration:$t}=getSpringOptions({...vt,velocity:-millisecondsToSeconds(vt.velocity||0)}),kt=Pt||0,Rt=St/(2*Math.sqrt(At*Et)),Mt=_t-bt,Dt=millisecondsToSeconds(Math.sqrt(At/Et)),Ot=Math.abs(Mt)<5;ht||(ht=Ot?.01:2),$||($=Ot?.005:.5);let Lt;if(Rt<1){const Nt=calcAngularFreq(Dt,Rt);Lt=Ht=>{const Ft=Math.exp(-Rt*Dt*Ht);return _t-Ft*((kt+Rt*Dt*Mt)/Nt*Math.sin(Nt*Ht)+Mt*Math.cos(Nt*Ht))}}else if(Rt===1)Lt=Nt=>_t-Math.exp(-Dt*Nt)*(Mt+(kt+Dt*Mt)*Nt);else{const Nt=Dt*Math.sqrt(Rt*Rt-1);Lt=Ht=>{const Ft=Math.exp(-Rt*Dt*Ht),jt=Math.min(Nt*Ht,300);return _t-Ft*((kt+Rt*Dt*Mt)*Math.sinh(jt)+Nt*Mt*Math.cosh(jt))/Nt}}return{calculatedDuration:$t&&xt||null,next:Nt=>{const Ht=Lt(Nt);if($t)wt.done=Nt>=xt;else{let Ft=kt;Nt!==0&&(Rt<1?Ft=calcGeneratorVelocity(Lt,Nt,Ht):Ft=0);const jt=Math.abs(Ft)<=ht,Bt=Math.abs(_t-Ht)<=$;wt.done=jt&&Bt}return wt.value=wt.done?_t:Ht,wt}}}function inertia({keyframes:_e,velocity:$=0,power:ht=.8,timeConstant:vt=325,bounceDamping:bt=10,bounceStiffness:_t=500,modifyTarget:wt,min:At,max:St,restDelta:Et=.5,restSpeed:xt}){const Pt=_e[0],$t={done:!1,value:Pt},kt=Vt=>At!==void 0&&Vt<At||St!==void 0&&Vt>St,Rt=Vt=>At===void 0?St:St===void 0||Math.abs(At-Vt)<Math.abs(St-Vt)?At:St;let Mt=ht*$;const Dt=Pt+Mt,Ot=wt===void 0?Dt:wt(Dt);Ot!==Dt&&(Mt=Ot-Pt);const Lt=Vt=>-Mt*Math.exp(-Vt/vt),Nt=Vt=>Ot+Lt(Vt),Ht=Vt=>{const Ut=Lt(Vt),Jt=Nt(Vt);$t.done=Math.abs(Ut)<=Et,$t.value=$t.done?Ot:Jt};let Ft,jt;const Bt=Vt=>{kt($t.value)&&(Ft=Vt,jt=spring({keyframes:[$t.value,Rt($t.value)],velocity:calcGeneratorVelocity(Nt,Vt,$t.value),damping:bt,stiffness:_t,restDelta:Et,restSpeed:xt}))};return Bt(0),{calculatedDuration:null,next:Vt=>{let Ut=!1;return!jt&&Ft===void 0&&(Ut=!0,Ht(Vt),Bt(Vt)),Ft!==void 0&&Vt>=Ft?jt.next(Vt-Ft):(!Ut&&Ht(Vt),$t)}}}const calcBezier=(_e,$,ht)=>(((1-3*ht+3*$)*_e+(3*ht-6*$))*_e+3*$)*_e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(_e,$,ht,vt,bt){let _t,wt,At=0;do wt=$+(ht-$)/2,_t=calcBezier(wt,vt,bt)-_e,_t>0?ht=wt:$=wt;while(Math.abs(_t)>subdivisionPrecision&&++At<subdivisionMaxIterations);return wt}function cubicBezier$1(_e,$,ht,vt){if(_e===$&&ht===vt)return noop$3;const bt=_t=>binarySubdivide(_t,0,1,_e,ht);return _t=>_t===0||_t===1?_t:calcBezier(bt(_t),$,vt)}const easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=_e=>Array.isArray(_e)&&typeof _e[0]!="number",mirrorEasing=_e=>$=>$<=.5?_e(2*$)/2:(2-_e(2*(1-$)))/2,reverseEasing=_e=>$=>1-_e(1-$),circIn=_e=>1-Math.sin(Math.acos(_e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=_e=>(_e*=2)<1?.5*backIn(_e):.5*(2-Math.pow(2,-10*(_e-1))),easingLookup={linear:noop$3,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=_e=>{if(Array.isArray(_e)){invariant$1(_e.length===4);const[$,ht,vt,bt]=_e;return cubicBezier$1($,ht,vt,bt)}else if(typeof _e=="string")return invariant$1(easingLookup[_e]!==void 0),easingLookup[_e];return _e},progress=(_e,$,ht)=>{const vt=$-_e;return vt===0?1:(ht-_e)/vt},mixNumber$1=(_e,$,ht)=>_e+($-_e)*ht;function hueToRgb(_e,$,ht){return ht<0&&(ht+=1),ht>1&&(ht-=1),ht<1/6?_e+($-_e)*6*ht:ht<1/2?$:ht<2/3?_e+($-_e)*(2/3-ht)*6:_e}function hslaToRgba({hue:_e,saturation:$,lightness:ht,alpha:vt}){_e/=360,$/=100,ht/=100;let bt=0,_t=0,wt=0;if(!$)bt=_t=wt=ht;else{const At=ht<.5?ht*(1+$):ht+$-ht*$,St=2*ht-At;bt=hueToRgb(St,At,_e+1/3),_t=hueToRgb(St,At,_e),wt=hueToRgb(St,At,_e-1/3)}return{red:Math.round(bt*255),green:Math.round(_t*255),blue:Math.round(wt*255),alpha:vt}}function mixImmediate(_e,$){return ht=>ht>0?$:_e}const mixLinearColor=(_e,$,ht)=>{const vt=_e*_e,bt=ht*($*$-vt)+vt;return bt<0?0:Math.sqrt(bt)},colorTypes=[hex$1,rgba$1,hsla$1],getColorType=_e=>colorTypes.find($=>$.test(_e));function asRGBA(_e){const $=getColorType(_e);if(!$)return!1;let ht=$.parse(_e);return $===hsla$1&&(ht=hslaToRgba(ht)),ht}const mixColor=(_e,$)=>{const ht=asRGBA(_e),vt=asRGBA($);if(!ht||!vt)return mixImmediate(_e,$);const bt={...ht};return _t=>(bt.red=mixLinearColor(ht.red,vt.red,_t),bt.green=mixLinearColor(ht.green,vt.green,_t),bt.blue=mixLinearColor(ht.blue,vt.blue,_t),bt.alpha=mixNumber$1(ht.alpha,vt.alpha,_t),rgba$1.transform(bt))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(_e,$){return invisibleValues.has(_e)?ht=>ht<=0?_e:$:ht=>ht>=1?$:_e}function mixNumber(_e,$){return ht=>mixNumber$1(_e,$,ht)}function getMixer(_e){return typeof _e=="number"?mixNumber:typeof _e=="string"?isCSSVariableToken(_e)?mixImmediate:color$1.test(_e)?mixColor:mixComplex:Array.isArray(_e)?mixArray:typeof _e=="object"?color$1.test(_e)?mixColor:mixObject:mixImmediate}function mixArray(_e,$){const ht=[..._e],vt=ht.length,bt=_e.map((_t,wt)=>getMixer(_t)(_t,$[wt]));return _t=>{for(let wt=0;wt<vt;wt++)ht[wt]=bt[wt](_t);return ht}}function mixObject(_e,$){const ht={..._e,...$},vt={};for(const bt in ht)_e[bt]!==void 0&&$[bt]!==void 0&&(vt[bt]=getMixer(_e[bt])(_e[bt],$[bt]));return bt=>{for(const _t in vt)ht[_t]=vt[_t](bt);return ht}}function matchOrder(_e,$){var ht;const vt=[],bt={color:0,var:0,number:0};for(let _t=0;_t<$.values.length;_t++){const wt=$.types[_t],At=_e.indexes[wt][bt[wt]],St=(ht=_e.values[At])!==null&&ht!==void 0?ht:0;vt[_t]=St,bt[wt]++}return vt}const mixComplex=(_e,$)=>{const ht=complex.createTransformer($),vt=analyseComplexValue(_e),bt=analyseComplexValue($);return vt.indexes.var.length===bt.indexes.var.length&&vt.indexes.color.length===bt.indexes.color.length&&vt.indexes.number.length>=bt.indexes.number.length?invisibleValues.has(_e)&&!bt.values.length||invisibleValues.has($)&&!vt.values.length?mixVisibility(_e,$):pipe(mixArray(matchOrder(vt,bt),bt.values),ht):mixImmediate(_e,$)};function mix(_e,$,ht){return typeof _e=="number"&&typeof $=="number"&&typeof ht=="number"?mixNumber$1(_e,$,ht):getMixer(_e)(_e,$)}function createMixers(_e,$,ht){const vt=[],bt=ht||mix,_t=_e.length-1;for(let wt=0;wt<_t;wt++){let At=bt(_e[wt],_e[wt+1]);if($){const St=Array.isArray($)?$[wt]||noop$3:$;At=pipe(St,At)}vt.push(At)}return vt}function interpolate$1(_e,$,{clamp:ht=!0,ease:vt,mixer:bt}={}){const _t=_e.length;if(invariant$1(_t===$.length),_t===1)return()=>$[0];if(_t===2&&_e[0]===_e[1])return()=>$[1];_e[0]>_e[_t-1]&&(_e=[..._e].reverse(),$=[...$].reverse());const wt=createMixers($,vt,bt),At=wt.length,St=Et=>{let xt=0;if(At>1)for(;xt<_e.length-2&&!(Et<_e[xt+1]);xt++);const Pt=progress(_e[xt],_e[xt+1],Et);return wt[xt](Pt)};return ht?Et=>St(clamp(_e[0],_e[_t-1],Et)):St}function fillOffset(_e,$){const ht=_e[_e.length-1];for(let vt=1;vt<=$;vt++){const bt=progress(0,$,vt);_e.push(mixNumber$1(ht,1,bt))}}function defaultOffset(_e){const $=[0];return fillOffset($,_e.length-1),$}function convertOffsetToTimes(_e,$){return _e.map(ht=>ht*$)}function defaultEasing(_e,$){return _e.map(()=>$||easeInOut).splice(0,_e.length-1)}function keyframes({duration:_e=300,keyframes:$,times:ht,ease:vt="easeInOut"}){const bt=isEasingArray(vt)?vt.map(easingDefinitionToFunction):easingDefinitionToFunction(vt),_t={done:!1,value:$[0]},wt=convertOffsetToTimes(ht&&ht.length===$.length?ht:defaultOffset($),_e),At=interpolate$1(wt,$,{ease:Array.isArray(bt)?bt:defaultEasing($,bt)});return{calculatedDuration:_e,next:St=>(_t.value=At(St),_t.done=St>=_e,_t)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(_e){let $=0;const ht=50;let vt=_e.next($);for(;!vt.done&&$<maxGeneratorDuration;)$+=ht,vt=_e.next($);return $>=maxGeneratorDuration?1/0:$}const frameloopDriver=_e=>{const $=({timestamp:ht})=>_e(ht);return{start:()=>frame.update($,!0),stop:()=>cancelFrame($),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=_e=>_e/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:$=KeyframeResolver,...ht}){super(ht),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:At}=this.options;At&&At()};const{name:vt,motionValue:bt,keyframes:_t}=this.options,wt=(At,St)=>this.onKeyframesResolved(At,St);vt&&bt&&bt.owner?this.resolver=bt.owner.resolveKeyframes(_t,wt,vt,bt):this.resolver=new $(_t,wt,vt,bt),this.resolver.scheduleResolve()}initPlayback($){const{type:ht="keyframes",repeat:vt=0,repeatDelay:bt=0,repeatType:_t,velocity:wt=0}=this.options,At=generators[ht]||keyframes;let St,Et;At!==keyframes&&typeof $[0]!="number"&&(St=pipe(percentToProgress,mix($[0],$[1])),$=[0,100]);const xt=At({...this.options,keyframes:$});_t==="mirror"&&(Et=At({...this.options,keyframes:[...$].reverse(),velocity:-wt})),xt.calculatedDuration===null&&(xt.calculatedDuration=calcGeneratorDuration(xt));const{calculatedDuration:Pt}=xt,$t=Pt+bt,kt=$t*(vt+1)-bt;return{generator:xt,mirroredGenerator:Et,mapPercentToKeyframes:St,calculatedDuration:Pt,resolvedDuration:$t,totalDuration:kt}}onPostResolved(){const{autoplay:$=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!$?this.pause():this.state=this.pendingPlayState}tick($,ht=!1){const{resolved:vt}=this;if(!vt){const{keyframes:Vt}=this.options;return{done:!0,value:Vt[Vt.length-1]}}const{finalKeyframe:bt,generator:_t,mirroredGenerator:wt,mapPercentToKeyframes:At,keyframes:St,calculatedDuration:Et,totalDuration:xt,resolvedDuration:Pt}=vt;if(this.startTime===null)return _t.next(0);const{delay:$t,repeat:kt,repeatType:Rt,repeatDelay:Mt,onUpdate:Dt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,$):this.speed<0&&(this.startTime=Math.min($-xt/this.speed,this.startTime)),ht?this.currentTime=$:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round($-this.startTime)*this.speed;const Ot=this.currentTime-$t*(this.speed>=0?1:-1),Lt=this.speed>=0?Ot<0:Ot>xt;this.currentTime=Math.max(Ot,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=xt);let Nt=this.currentTime,Ht=_t;if(kt){const Vt=Math.min(this.currentTime,xt)/Pt;let Ut=Math.floor(Vt),Jt=Vt%1;!Jt&&Vt>=1&&(Jt=1),Jt===1&&Ut--,Ut=Math.min(Ut,kt+1),!!(Ut%2)&&(Rt==="reverse"?(Jt=1-Jt,Mt&&(Jt-=Mt/Pt)):Rt==="mirror"&&(Ht=wt)),Nt=clamp(0,1,Jt)*Pt}const Ft=Lt?{done:!1,value:St[0]}:Ht.next(Nt);At&&(Ft.value=At(Ft.value));let{done:jt}=Ft;!Lt&&Et!==null&&(jt=this.speed>=0?this.currentTime>=xt:this.currentTime<=0);const Bt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&jt);return Bt&&bt!==void 0&&(Ft.value=getFinalKeyframe(St,this.options,bt)),Dt&&Dt(Ft.value),Bt&&this.finish(),Ft}get duration(){const{resolved:$}=this;return $?millisecondsToSeconds($.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time($){$=secondsToMilliseconds($),this.currentTime=$,this.holdTime!==null||this.speed===0?this.holdTime=$:this.driver&&(this.startTime=this.driver.now()-$/this.speed)}get speed(){return this.playbackSpeed}set speed($){const ht=this.playbackSpeed!==$;this.playbackSpeed=$,ht&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:$=frameloopDriver,onPlay:ht}=this.options;this.driver||(this.driver=$(bt=>this.tick(bt))),ht&&ht();const vt=this.driver.now();this.holdTime!==null?this.startTime=vt-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=vt),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var $;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=($=this.currentTime)!==null&&$!==void 0?$:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:$}=this.options;$&&$()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample($){return this.startTime=0,this.tick($,!0)}}const isBezierDefinition=_e=>Array.isArray(_e)&&typeof _e[0]=="number";function isWaapiSupportedEasing(_e){return!!(!_e||typeof _e=="string"&&_e in supportedWaapiEasing||isBezierDefinition(_e)||Array.isArray(_e)&&_e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([_e,$,ht,vt])=>`cubic-bezier(${_e}, ${$}, ${ht}, ${vt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(_e){return mapEasingToNativeEasing(_e)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(_e){if(_e)return isBezierDefinition(_e)?cubicBezierAsString(_e):Array.isArray(_e)?_e.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[_e]}function animateStyle(_e,$,ht,{delay:vt=0,duration:bt=300,repeat:_t=0,repeatType:wt="loop",ease:At,times:St}={}){const Et={[$]:ht};St&&(Et.offset=St);const xt=mapEasingToNativeEasing(At);return Array.isArray(xt)&&(Et.easing=xt),_e.animate(Et,{delay:vt,duration:bt,easing:Array.isArray(xt)?"linear":xt,fill:"both",iterations:_t+1,direction:wt==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(_e){return _e.type==="spring"||_e.name==="backgroundColor"||!isWaapiSupportedEasing(_e.ease)}function pregenerateKeyframes(_e,$){const ht=new MainThreadAnimation({...$,keyframes:_e,repeat:0,delay:0,isGenerator:!0});let vt={done:!1,value:_e[0]};const bt=[];let _t=0;for(;!vt.done&&_t<maxDuration;)vt=ht.sample(_t),bt.push(vt.value),_t+=sampleDelta;return{times:void 0,keyframes:bt,duration:_t-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor($){super($);const{name:ht,motionValue:vt,keyframes:bt}=this.options;this.resolver=new DOMKeyframesResolver(bt,(_t,wt)=>this.onKeyframesResolved(_t,wt),ht,vt),this.resolver.scheduleResolve()}initPlayback($,ht){var vt;let{duration:bt=300,times:_t,ease:wt,type:At,motionValue:St,name:Et}=this.options;if(!(!((vt=St.owner)===null||vt===void 0)&&vt.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:Pt,onUpdate:$t,motionValue:kt,...Rt}=this.options,Mt=pregenerateKeyframes($,Rt);$=Mt.keyframes,$.length===1&&($[1]=$[0]),bt=Mt.duration,_t=Mt.times,wt=Mt.ease,At="keyframes"}const xt=animateStyle(St.owner.current,Et,$,{...this.options,duration:bt,times:_t,ease:wt});return xt.startTime=time$1.now(),this.pendingTimeline?(xt.timeline=this.pendingTimeline,this.pendingTimeline=void 0):xt.onfinish=()=>{const{onComplete:Pt}=this.options;St.set(getFinalKeyframe($,this.options,ht)),Pt&&Pt(),this.cancel(),this.resolveFinishedPromise()},{animation:xt,duration:bt,times:_t,type:At,ease:wt,keyframes:$}}get duration(){const{resolved:$}=this;if(!$)return 0;const{duration:ht}=$;return millisecondsToSeconds(ht)}get time(){const{resolved:$}=this;if(!$)return 0;const{animation:ht}=$;return millisecondsToSeconds(ht.currentTime||0)}set time($){const{resolved:ht}=this;if(!ht)return;const{animation:vt}=ht;vt.currentTime=secondsToMilliseconds($)}get speed(){const{resolved:$}=this;if(!$)return 1;const{animation:ht}=$;return ht.playbackRate}set speed($){const{resolved:ht}=this;if(!ht)return;const{animation:vt}=ht;vt.playbackRate=$}get state(){const{resolved:$}=this;if(!$)return"idle";const{animation:ht}=$;return ht.playState}attachTimeline($){if(!this._resolved)this.pendingTimeline=$;else{const{resolved:ht}=this;if(!ht)return noop$3;const{animation:vt}=ht;vt.timeline=$,vt.onfinish=null}return noop$3}play(){if(this.isStopped)return;const{resolved:$}=this;if(!$)return;const{animation:ht}=$;ht.playState==="finished"&&this.updateFinishedPromise(),ht.play()}pause(){const{resolved:$}=this;if(!$)return;const{animation:ht}=$;ht.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:$}=this;if(!$)return;const{animation:ht,keyframes:vt,duration:bt,type:_t,ease:wt,times:At}=$;if(!(ht.playState==="idle"||ht.playState==="finished")){if(this.time){const{motionValue:St,onUpdate:Et,onComplete:xt,...Pt}=this.options,$t=new MainThreadAnimation({...Pt,keyframes:vt,duration:bt,type:_t,ease:wt,times:At,isGenerator:!0}),kt=secondsToMilliseconds(this.time);St.setWithVelocity($t.sample(kt-sampleDelta).value,$t.sample(kt).value,sampleDelta)}this.cancel()}}complete(){const{resolved:$}=this;$&&$.animation.finish()}cancel(){const{resolved:$}=this;$&&$.animation.cancel()}static supports($){const{motionValue:ht,name:vt,repeatDelay:bt,repeatType:_t,damping:wt,type:At}=$;return supportsWaapi()&&vt&&acceleratedValues.has(vt)&&ht&&ht.owner&&ht.owner.current instanceof HTMLElement&&!ht.owner.getProps().onUpdate&&!bt&&_t!=="mirror"&&wt!==0&&At!=="inertia"}}function observeTimeline(_e,$){let ht;const vt=()=>{const{currentTime:bt}=$,wt=(bt===null?0:bt.value)/100;ht!==wt&&_e(wt),ht=wt};return frame.update(vt,!0),()=>cancelFrame(vt)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor($){this.stop=()=>this.runAll("stop"),this.animations=$.filter(Boolean)}then($,ht){return Promise.all(this.animations).then($).catch(ht)}getAll($){return this.animations[0][$]}setAll($,ht){for(let vt=0;vt<this.animations.length;vt++)this.animations[vt][$]=ht}attachTimeline($){const ht=this.animations.map(vt=>{if(supportsScrollTimeline()&&vt.attachTimeline)vt.attachTimeline($);else return vt.pause(),observeTimeline(bt=>{vt.time=vt.duration*bt},$)});return()=>{ht.forEach((vt,bt)=>{vt&&vt(),this.animations[bt].stop()})}}get time(){return this.getAll("time")}set time($){this.setAll("time",$)}get speed(){return this.getAll("speed")}set speed($){this.setAll("speed",$)}get duration(){let $=0;for(let ht=0;ht<this.animations.length;ht++)$=Math.max($,this.animations[ht].duration);return $}runAll($){this.animations.forEach(ht=>ht[$]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(_e,$,ht,vt={},bt,_t)=>wt=>{const At=getValueTransition(vt,_e)||{},St=At.delay||vt.delay||0;let{elapsed:Et=0}=vt;Et=Et-secondsToMilliseconds(St);let xt={keyframes:Array.isArray(ht)?ht:[null,ht],ease:"easeOut",velocity:$.getVelocity(),...At,delay:-Et,onUpdate:$t=>{$.set($t),At.onUpdate&&At.onUpdate($t)},onComplete:()=>{wt(),At.onComplete&&At.onComplete()},name:_e,motionValue:$,element:_t?void 0:bt};isTransitionDefined(At)||(xt={...xt,...getDefaultTransition(_e,xt)}),xt.duration&&(xt.duration=secondsToMilliseconds(xt.duration)),xt.repeatDelay&&(xt.repeatDelay=secondsToMilliseconds(xt.repeatDelay)),xt.from!==void 0&&(xt.keyframes[0]=xt.from);let Pt=!1;if((xt.type===!1||xt.duration===0&&!xt.repeatDelay)&&(xt.duration=0,xt.delay===0&&(Pt=!0)),Pt&&!_t&&$.get()!==void 0){const $t=getFinalKeyframe(xt.keyframes,At);if($t!==void 0)return frame.update(()=>{xt.onUpdate($t),xt.onComplete()}),new GroupPlaybackControls([])}return!_t&&AcceleratedAnimation.supports(xt)?new AcceleratedAnimation(xt):new MainThreadAnimation(xt)};function isWillChangeMotionValue(_e){return!!(isMotionValue(_e)&&_e.add)}function addUniqueItem(_e,$){_e.indexOf($)===-1&&_e.push($)}function removeItem(_e,$){const ht=_e.indexOf($);ht>-1&&_e.splice(ht,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add($){return addUniqueItem(this.subscriptions,$),()=>removeItem(this.subscriptions,$)}notify($,ht,vt){const bt=this.subscriptions.length;if(bt)if(bt===1)this.subscriptions[0]($,ht,vt);else for(let _t=0;_t<bt;_t++){const wt=this.subscriptions[_t];wt&&wt($,ht,vt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=_e=>!isNaN(parseFloat(_e));class MotionValue{constructor($,ht={}){this.version="11.2.13",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(vt,bt=!0)=>{const _t=time$1.now();this.updatedAt!==_t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(vt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),bt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent($),this.owner=ht.owner}setCurrent($){this.current=$,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&$!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue($=this.current){this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt}onChange($){return this.on("change",$)}on($,ht){this.events[$]||(this.events[$]=new SubscriptionManager);const vt=this.events[$].add(ht);return $==="change"?()=>{vt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:vt}clearListeners(){for(const $ in this.events)this.events[$].clear()}attach($,ht){this.passiveEffect=$,this.stopPassiveEffect=ht}set($,ht=!0){!ht||!this.passiveEffect?this.updateAndNotify($,ht):this.passiveEffect($,this.updateAndNotify)}setWithVelocity($,ht,vt){this.set(ht),this.prev=void 0,this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt-vt}jump($,ht=!0){this.updateAndNotify($),this.prev=$,this.prevUpdatedAt=this.prevFrameValue=void 0,ht&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const $=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||$-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const ht=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),ht)}start($){return this.stop(),new Promise(ht=>{this.hasAnimated=!0,this.animation=$(ht),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_e,$){return new MotionValue(_e,$)}function setMotionValue(_e,$,ht){_e.hasValue($)?_e.getValue($).set(ht):_e.addValue($,motionValue(ht))}function setTarget(_e,$){const ht=resolveVariant(_e,$);let{transitionEnd:vt={},transition:bt={},..._t}=ht||{};_t={..._t,...vt};for(const wt in _t){const At=resolveFinalValueInKeyframes(_t[wt]);setMotionValue(_e,wt,At)}}function getOptimisedAppearId(_e){return _e.getProps()[optimizedAppearDataAttribute]}function shouldBlockAnimation({protectedKeys:_e,needsAnimating:$},ht){const vt=_e.hasOwnProperty(ht)&&$[ht]!==!0;return $[ht]=!1,vt}function animateTarget(_e,$,{delay:ht=0,transitionOverride:vt,type:bt}={}){var _t;let{transition:wt=_e.getDefaultTransition(),transitionEnd:At,...St}=$;const Et=_e.getValue("willChange");vt&&(wt=vt);const xt=[],Pt=bt&&_e.animationState&&_e.animationState.getState()[bt];for(const $t in St){const kt=_e.getValue($t,(_t=_e.latestValues[$t])!==null&&_t!==void 0?_t:null),Rt=St[$t];if(Rt===void 0||Pt&&shouldBlockAnimation(Pt,$t))continue;const Mt={delay:ht,elapsed:0,...getValueTransition(wt||{},$t)};let Dt=!1;if(window.HandoffAppearAnimations){const Lt=getOptimisedAppearId(_e);if(Lt){const Nt=window.HandoffAppearAnimations(Lt,$t,kt,frame);Nt!==null&&(Mt.elapsed=Nt,Dt=!0)}}kt.start(animateMotionValue($t,kt,Rt,_e.shouldReduceMotion&&transformProps.has($t)?{type:!1}:Mt,_e,Dt));const Ot=kt.animation;Ot&&(isWillChangeMotionValue(Et)&&(Et.add($t),Ot.then(()=>Et.remove($t))),xt.push(Ot))}return At&&Promise.all(xt).then(()=>{frame.update(()=>{At&&setTarget(_e,At)})}),xt}function animateVariant(_e,$,ht={}){var vt;const bt=resolveVariant(_e,$,ht.type==="exit"?(vt=_e.presenceContext)===null||vt===void 0?void 0:vt.custom:void 0);let{transition:_t=_e.getDefaultTransition()||{}}=bt||{};ht.transitionOverride&&(_t=ht.transitionOverride);const wt=bt?()=>Promise.all(animateTarget(_e,bt,ht)):()=>Promise.resolve(),At=_e.variantChildren&&_e.variantChildren.size?(Et=0)=>{const{delayChildren:xt=0,staggerChildren:Pt,staggerDirection:$t}=_t;return animateChildren(_e,$,xt+Et,Pt,$t,ht)}:()=>Promise.resolve(),{when:St}=_t;if(St){const[Et,xt]=St==="beforeChildren"?[wt,At]:[At,wt];return Et().then(()=>xt())}else return Promise.all([wt(),At(ht.delay)])}function animateChildren(_e,$,ht=0,vt=0,bt=1,_t){const wt=[],At=(_e.variantChildren.size-1)*vt,St=bt===1?(Et=0)=>Et*vt:(Et=0)=>At-Et*vt;return Array.from(_e.variantChildren).sort(sortByTreeOrder).forEach((Et,xt)=>{Et.notify("AnimationStart",$),wt.push(animateVariant(Et,$,{..._t,delay:ht+St(xt)}).then(()=>Et.notify("AnimationComplete",$)))}),Promise.all(wt)}function sortByTreeOrder(_e,$){return _e.sortNodePosition($)}function animateVisualElement(_e,$,ht={}){_e.notify("AnimationStart",$);let vt;if(Array.isArray($)){const bt=$.map(_t=>animateVariant(_e,_t,ht));vt=Promise.all(bt)}else if(typeof $=="string")vt=animateVariant(_e,$,ht);else{const bt=typeof $=="function"?resolveVariant(_e,$,ht.custom):$;vt=Promise.all(animateTarget(_e,bt,ht))}return vt.then(()=>{frame.postRender(()=>{_e.notify("AnimationComplete",$)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(_e){return $=>Promise.all($.map(({animation:ht,options:vt})=>animateVisualElement(_e,ht,vt)))}function createAnimationState(_e){let $=animateList(_e),ht=createState(),vt=!0;const bt=St=>(Et,xt)=>{var Pt;const $t=resolveVariant(_e,xt,St==="exit"?(Pt=_e.presenceContext)===null||Pt===void 0?void 0:Pt.custom:void 0);if($t){const{transition:kt,transitionEnd:Rt,...Mt}=$t;Et={...Et,...Mt,...Rt}}return Et};function _t(St){$=St(_e)}function wt(St){const Et=_e.getProps(),xt=_e.getVariantContext(!0)||{},Pt=[],$t=new Set;let kt={},Rt=1/0;for(let Dt=0;Dt<numAnimationTypes;Dt++){const Ot=reversePriorityOrder[Dt],Lt=ht[Ot],Nt=Et[Ot]!==void 0?Et[Ot]:xt[Ot],Ht=isVariantLabel(Nt),Ft=Ot===St?Lt.isActive:null;Ft===!1&&(Rt=Dt);let jt=Nt===xt[Ot]&&Nt!==Et[Ot]&&Ht;if(jt&&vt&&_e.manuallyAnimateOnMount&&(jt=!1),Lt.protectedKeys={...kt},!Lt.isActive&&Ft===null||!Nt&&!Lt.prevProp||isAnimationControls(Nt)||typeof Nt=="boolean")continue;let Vt=checkVariantsDidChange(Lt.prevProp,Nt)||Ot===St&&Lt.isActive&&!jt&&Ht||Dt>Rt&&Ht,Ut=!1;const Jt=Array.isArray(Nt)?Nt:[Nt];let Wt=Jt.reduce(bt(Ot),{});Ft===!1&&(Wt={});const{prevResolvedValues:Qt={}}=Lt,tn={...Qt,...Wt},pn=nn=>{Vt=!0,$t.has(nn)&&(Ut=!0,$t.delete(nn)),Lt.needsAnimating[nn]=!0;const hn=_e.getValue(nn);hn&&(hn.liveStyle=!1)};for(const nn in tn){const hn=Wt[nn],sn=Qt[nn];if(kt.hasOwnProperty(nn))continue;let un=!1;isKeyframesTarget(hn)&&isKeyframesTarget(sn)?un=!shallowCompare(hn,sn):un=hn!==sn,un?hn!=null?pn(nn):$t.add(nn):hn!==void 0&&$t.has(nn)?pn(nn):Lt.protectedKeys[nn]=!0}Lt.prevProp=Nt,Lt.prevResolvedValues=Wt,Lt.isActive&&(kt={...kt,...Wt}),vt&&_e.blockInitialAnimation&&(Vt=!1),Vt&&(!jt||Ut)&&Pt.push(...Jt.map(nn=>({animation:nn,options:{type:Ot}})))}if($t.size){const Dt={};$t.forEach(Ot=>{const Lt=_e.getBaseTarget(Ot),Nt=_e.getValue(Ot);Nt&&(Nt.liveStyle=!0),Dt[Ot]=Lt??null}),Pt.push({animation:Dt})}let Mt=!!Pt.length;return vt&&(Et.initial===!1||Et.initial===Et.animate)&&!_e.manuallyAnimateOnMount&&(Mt=!1),vt=!1,Mt?$(Pt):Promise.resolve()}function At(St,Et){var xt;if(ht[St].isActive===Et)return Promise.resolve();(xt=_e.variantChildren)===null||xt===void 0||xt.forEach($t=>{var kt;return(kt=$t.animationState)===null||kt===void 0?void 0:kt.setActive(St,Et)}),ht[St].isActive=Et;const Pt=wt(St);for(const $t in ht)ht[$t].protectedKeys={};return Pt}return{animateChanges:wt,setActive:At,setAnimateFunction:_t,getState:()=>ht,reset:()=>{ht=createState(),vt=!0}}}function checkVariantsDidChange(_e,$){return typeof $=="string"?$!==_e:Array.isArray($)?!shallowCompare($,_e):!1}function createTypeState(_e=!1){return{isActive:_e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor($){super($),$.animationState||($.animationState=createAnimationState($))}updateAnimationControlsSubscription(){const{animate:$}=this.node.getProps();isAnimationControls($)&&(this.unmountControls=$.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:$}=this.node.getProps(),{animate:ht}=this.node.prevProps||{};$!==ht&&this.updateAnimationControlsSubscription()}unmount(){var $;this.node.animationState.reset(),($=this.unmountControls)===null||$===void 0||$.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:$,onExitComplete:ht}=this.node.presenceContext,{isPresent:vt}=this.node.prevPresenceContext||{};if(!this.node.animationState||$===vt)return;const bt=this.node.animationState.setActive("exit",!$);ht&&!$&&bt.then(()=>ht(this.id))}mount(){const{register:$}=this.node.presenceContext||{};$&&(this.unmount=$(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(_e,$)=>Math.abs(_e-$);function distance2D(_e,$){const ht=distance(_e.x,$.x),vt=distance(_e.y,$.y);return Math.sqrt(ht**2+vt**2)}class PanSession{constructor($,ht,{transformPagePoint:vt,contextWindow:bt,dragSnapToOrigin:_t=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Pt=getPanInfo(this.lastMoveEventInfo,this.history),$t=this.startEvent!==null,kt=distance2D(Pt.offset,{x:0,y:0})>=3;if(!$t&&!kt)return;const{point:Rt}=Pt,{timestamp:Mt}=frameData;this.history.push({...Rt,timestamp:Mt});const{onStart:Dt,onMove:Ot}=this.handlers;$t||(Dt&&Dt(this.lastMoveEvent,Pt),this.startEvent=this.lastMoveEvent),Ot&&Ot(this.lastMoveEvent,Pt)},this.handlePointerMove=(Pt,$t)=>{this.lastMoveEvent=Pt,this.lastMoveEventInfo=transformPoint($t,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(Pt,$t)=>{this.end();const{onEnd:kt,onSessionEnd:Rt,resumeAnimation:Mt}=this.handlers;if(this.dragSnapToOrigin&&Mt&&Mt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Dt=getPanInfo(Pt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint($t,this.transformPagePoint),this.history);this.startEvent&&kt&&kt(Pt,Dt),Rt&&Rt(Pt,Dt)},!isPrimaryPointer($))return;this.dragSnapToOrigin=_t,this.handlers=ht,this.transformPagePoint=vt,this.contextWindow=bt||window;const wt=extractEventInfo($),At=transformPoint(wt,this.transformPagePoint),{point:St}=At,{timestamp:Et}=frameData;this.history=[{...St,timestamp:Et}];const{onSessionStart:xt}=ht;xt&&xt($,getPanInfo(At,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers($){this.handlers=$}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(_e,$){return $?{point:$(_e.point)}:_e}function subtractPoint(_e,$){return{x:_e.x-$.x,y:_e.y-$.y}}function getPanInfo({point:_e},$){return{point:_e,delta:subtractPoint(_e,lastDevicePoint($)),offset:subtractPoint(_e,startDevicePoint($)),velocity:getVelocity($,.1)}}function startDevicePoint(_e){return _e[0]}function lastDevicePoint(_e){return _e[_e.length-1]}function getVelocity(_e,$){if(_e.length<2)return{x:0,y:0};let ht=_e.length-1,vt=null;const bt=lastDevicePoint(_e);for(;ht>=0&&(vt=_e[ht],!(bt.timestamp-vt.timestamp>secondsToMilliseconds($)));)ht--;if(!vt)return{x:0,y:0};const _t=millisecondsToSeconds(bt.timestamp-vt.timestamp);if(_t===0)return{x:0,y:0};const wt={x:(bt.x-vt.x)/_t,y:(bt.y-vt.y)/_t};return wt.x===1/0&&(wt.x=0),wt.y===1/0&&(wt.y=0),wt}function calcLength(_e){return _e.max-_e.min}function isNear(_e,$=0,ht=.01){return Math.abs(_e-$)<=ht}function calcAxisDelta(_e,$,ht,vt=.5){_e.origin=vt,_e.originPoint=mixNumber$1($.min,$.max,_e.origin),_e.scale=calcLength(ht)/calcLength($),(isNear(_e.scale,1,1e-4)||isNaN(_e.scale))&&(_e.scale=1),_e.translate=mixNumber$1(ht.min,ht.max,_e.origin)-_e.originPoint,(isNear(_e.translate)||isNaN(_e.translate))&&(_e.translate=0)}function calcBoxDelta(_e,$,ht,vt){calcAxisDelta(_e.x,$.x,ht.x,vt?vt.originX:void 0),calcAxisDelta(_e.y,$.y,ht.y,vt?vt.originY:void 0)}function calcRelativeAxis(_e,$,ht){_e.min=ht.min+$.min,_e.max=_e.min+calcLength($)}function calcRelativeBox(_e,$,ht){calcRelativeAxis(_e.x,$.x,ht.x),calcRelativeAxis(_e.y,$.y,ht.y)}function calcRelativeAxisPosition(_e,$,ht){_e.min=$.min-ht.min,_e.max=_e.min+calcLength($)}function calcRelativePosition(_e,$,ht){calcRelativeAxisPosition(_e.x,$.x,ht.x),calcRelativeAxisPosition(_e.y,$.y,ht.y)}function applyConstraints(_e,{min:$,max:ht},vt){return $!==void 0&&_e<$?_e=vt?mixNumber$1($,_e,vt.min):Math.max(_e,$):ht!==void 0&&_e>ht&&(_e=vt?mixNumber$1(ht,_e,vt.max):Math.min(_e,ht)),_e}function calcRelativeAxisConstraints(_e,$,ht){return{min:$!==void 0?_e.min+$:void 0,max:ht!==void 0?_e.max+ht-(_e.max-_e.min):void 0}}function calcRelativeConstraints(_e,{top:$,left:ht,bottom:vt,right:bt}){return{x:calcRelativeAxisConstraints(_e.x,ht,bt),y:calcRelativeAxisConstraints(_e.y,$,vt)}}function calcViewportAxisConstraints(_e,$){let ht=$.min-_e.min,vt=$.max-_e.max;return $.max-$.min<_e.max-_e.min&&([ht,vt]=[vt,ht]),{min:ht,max:vt}}function calcViewportConstraints(_e,$){return{x:calcViewportAxisConstraints(_e.x,$.x),y:calcViewportAxisConstraints(_e.y,$.y)}}function calcOrigin(_e,$){let ht=.5;const vt=calcLength(_e),bt=calcLength($);return bt>vt?ht=progress($.min,$.max-vt,_e.min):vt>bt&&(ht=progress(_e.min,_e.max-bt,$.min)),clamp(0,1,ht)}function rebaseAxisConstraints(_e,$){const ht={};return $.min!==void 0&&(ht.min=$.min-_e.min),$.max!==void 0&&(ht.max=$.max-_e.min),ht}const defaultElastic=.35;function resolveDragElastic(_e=defaultElastic){return _e===!1?_e=0:_e===!0&&(_e=defaultElastic),{x:resolveAxisElastic(_e,"left","right"),y:resolveAxisElastic(_e,"top","bottom")}}function resolveAxisElastic(_e,$,ht){return{min:resolvePointElastic(_e,$),max:resolvePointElastic(_e,ht)}}function resolvePointElastic(_e,$){return typeof _e=="number"?_e:_e[$]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(_e){return[_e("x"),_e("y")]}function convertBoundingBoxToBox({top:_e,left:$,right:ht,bottom:vt}){return{x:{min:$,max:ht},y:{min:_e,max:vt}}}function convertBoxToBoundingBox({x:_e,y:$}){return{top:$.min,right:_e.max,bottom:$.max,left:_e.min}}function transformBoxPoints(_e,$){if(!$)return _e;const ht=$({x:_e.left,y:_e.top}),vt=$({x:_e.right,y:_e.bottom});return{top:ht.y,left:ht.x,bottom:vt.y,right:vt.x}}function isIdentityScale(_e){return _e===void 0||_e===1}function hasScale({scale:_e,scaleX:$,scaleY:ht}){return!isIdentityScale(_e)||!isIdentityScale($)||!isIdentityScale(ht)}function hasTransform(_e){return hasScale(_e)||has2DTranslate(_e)||_e.z||_e.rotate||_e.rotateX||_e.rotateY||_e.skewX||_e.skewY}function has2DTranslate(_e){return is2DTranslate(_e.x)||is2DTranslate(_e.y)}function is2DTranslate(_e){return _e&&_e!=="0%"}function scalePoint(_e,$,ht){const vt=_e-ht,bt=$*vt;return ht+bt}function applyPointDelta(_e,$,ht,vt,bt){return bt!==void 0&&(_e=scalePoint(_e,bt,vt)),scalePoint(_e,ht,vt)+$}function applyAxisDelta(_e,$=0,ht=1,vt,bt){_e.min=applyPointDelta(_e.min,$,ht,vt,bt),_e.max=applyPointDelta(_e.max,$,ht,vt,bt)}function applyBoxDelta(_e,{x:$,y:ht}){applyAxisDelta(_e.x,$.translate,$.scale,$.originPoint),applyAxisDelta(_e.y,ht.translate,ht.scale,ht.originPoint)}function applyTreeDeltas(_e,$,ht,vt=!1){const bt=ht.length;if(!bt)return;$.x=$.y=1;let _t,wt;for(let At=0;At<bt;At++){_t=ht[At],wt=_t.projectionDelta;const St=_t.instance;St&&St.style&&St.style.display==="contents"||(vt&&_t.options.layoutScroll&&_t.scroll&&_t!==_t.root&&transformBox(_e,{x:-_t.scroll.offset.x,y:-_t.scroll.offset.y}),wt&&($.x*=wt.x.scale,$.y*=wt.y.scale,applyBoxDelta(_e,wt)),vt&&hasTransform(_t.latestValues)&&transformBox(_e,_t.latestValues))}$.x=snapToDefault($.x),$.y=snapToDefault($.y)}function snapToDefault(_e){return Number.isInteger(_e)||_e>1.0000000000001||_e<.999999999999?_e:1}function translateAxis(_e,$){_e.min=_e.min+$,_e.max=_e.max+$}function transformAxis(_e,$,[ht,vt,bt]){const _t=$[bt]!==void 0?$[bt]:.5,wt=mixNumber$1(_e.min,_e.max,_t);applyAxisDelta(_e,$[ht],$[vt],wt,$.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(_e,$){transformAxis(_e.x,$,xKeys$1),transformAxis(_e.y,$,yKeys$1)}function measureViewportBox(_e,$){return convertBoundingBoxToBox(transformBoxPoints(_e.getBoundingClientRect(),$))}function measurePageBox(_e,$,ht){const vt=measureViewportBox(_e,ht),{scroll:bt}=$;return bt&&(translateAxis(vt.x,bt.offset.x),translateAxis(vt.y,bt.offset.y)),vt}const getContextWindow=({current:_e})=>_e?_e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor($){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=$}start($,{snapToCursor:ht=!1}={}){const{presenceContext:vt}=this.visualElement;if(vt&&vt.isPresent===!1)return;const bt=xt=>{const{dragSnapToOrigin:Pt}=this.getProps();Pt?this.pauseAnimation():this.stopAnimation(),ht&&this.snapToCursor(extractEventInfo(xt,"page").point)},_t=(xt,Pt)=>{const{drag:$t,dragPropagation:kt,onDragStart:Rt}=this.getProps();if($t&&!kt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock($t),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Dt=>{let Ot=this.getAxisMotionValue(Dt).get()||0;if(percent.test(Ot)){const{projection:Lt}=this.visualElement;if(Lt&&Lt.layout){const Nt=Lt.layout.layoutBox[Dt];Nt&&(Ot=calcLength(Nt)*(parseFloat(Ot)/100))}}this.originPoint[Dt]=Ot}),Rt&&frame.postRender(()=>Rt(xt,Pt));const{animationState:Mt}=this.visualElement;Mt&&Mt.setActive("whileDrag",!0)},wt=(xt,Pt)=>{const{dragPropagation:$t,dragDirectionLock:kt,onDirectionLock:Rt,onDrag:Mt}=this.getProps();if(!$t&&!this.openGlobalLock)return;const{offset:Dt}=Pt;if(kt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Dt),this.currentDirection!==null&&Rt&&Rt(this.currentDirection);return}this.updateAxis("x",Pt.point,Dt),this.updateAxis("y",Pt.point,Dt),this.visualElement.render(),Mt&&Mt(xt,Pt)},At=(xt,Pt)=>this.stop(xt,Pt),St=()=>eachAxis(xt=>{var Pt;return this.getAnimationState(xt)==="paused"&&((Pt=this.getAxisMotionValue(xt).animation)===null||Pt===void 0?void 0:Pt.play())}),{dragSnapToOrigin:Et}=this.getProps();this.panSession=new PanSession($,{onSessionStart:bt,onStart:_t,onMove:wt,onSessionEnd:At,resumeAnimation:St},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Et,contextWindow:getContextWindow(this.visualElement)})}stop($,ht){const vt=this.isDragging;if(this.cancel(),!vt)return;const{velocity:bt}=ht;this.startAnimation(bt);const{onDragEnd:_t}=this.getProps();_t&&frame.postRender(()=>_t($,ht))}cancel(){this.isDragging=!1;const{projection:$,animationState:ht}=this.visualElement;$&&($.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:vt}=this.getProps();!vt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),ht&&ht.setActive("whileDrag",!1)}updateAxis($,ht,vt){const{drag:bt}=this.getProps();if(!vt||!shouldDrag($,bt,this.currentDirection))return;const _t=this.getAxisMotionValue($);let wt=this.originPoint[$]+vt[$];this.constraints&&this.constraints[$]&&(wt=applyConstraints(wt,this.constraints[$],this.elastic[$])),_t.set(wt)}resolveConstraints(){var $;const{dragConstraints:ht,dragElastic:vt}=this.getProps(),bt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):($=this.visualElement.projection)===null||$===void 0?void 0:$.layout,_t=this.constraints;ht&&isRefObject(ht)?this.constraints||(this.constraints=this.resolveRefConstraints()):ht&&bt?this.constraints=calcRelativeConstraints(bt.layoutBox,ht):this.constraints=!1,this.elastic=resolveDragElastic(vt),_t!==this.constraints&&bt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(wt=>{this.constraints!==!1&&this.getAxisMotionValue(wt)&&(this.constraints[wt]=rebaseAxisConstraints(bt.layoutBox[wt],this.constraints[wt]))})}resolveRefConstraints(){const{dragConstraints:$,onMeasureDragConstraints:ht}=this.getProps();if(!$||!isRefObject($))return!1;const vt=$.current,{projection:bt}=this.visualElement;if(!bt||!bt.layout)return!1;const _t=measurePageBox(vt,bt.root,this.visualElement.getTransformPagePoint());let wt=calcViewportConstraints(bt.layout.layoutBox,_t);if(ht){const At=ht(convertBoxToBoundingBox(wt));this.hasMutatedConstraints=!!At,At&&(wt=convertBoundingBoxToBox(At))}return wt}startAnimation($){const{drag:ht,dragMomentum:vt,dragElastic:bt,dragTransition:_t,dragSnapToOrigin:wt,onDragTransitionEnd:At}=this.getProps(),St=this.constraints||{},Et=eachAxis(xt=>{if(!shouldDrag(xt,ht,this.currentDirection))return;let Pt=St&&St[xt]||{};wt&&(Pt={min:0,max:0});const $t=bt?200:1e6,kt=bt?40:1e7,Rt={type:"inertia",velocity:vt?$[xt]:0,bounceStiffness:$t,bounceDamping:kt,timeConstant:750,restDelta:1,restSpeed:10,..._t,...Pt};return this.startAxisValueAnimation(xt,Rt)});return Promise.all(Et).then(At)}startAxisValueAnimation($,ht){const vt=this.getAxisMotionValue($);return vt.start(animateMotionValue($,vt,0,ht,this.visualElement))}stopAnimation(){eachAxis($=>this.getAxisMotionValue($).stop())}pauseAnimation(){eachAxis($=>{var ht;return(ht=this.getAxisMotionValue($).animation)===null||ht===void 0?void 0:ht.pause()})}getAnimationState($){var ht;return(ht=this.getAxisMotionValue($).animation)===null||ht===void 0?void 0:ht.state}getAxisMotionValue($){const ht=`_drag${$.toUpperCase()}`,vt=this.visualElement.getProps(),bt=vt[ht];return bt||this.visualElement.getValue($,(vt.initial?vt.initial[$]:void 0)||0)}snapToCursor($){eachAxis(ht=>{const{drag:vt}=this.getProps();if(!shouldDrag(ht,vt,this.currentDirection))return;const{projection:bt}=this.visualElement,_t=this.getAxisMotionValue(ht);if(bt&&bt.layout){const{min:wt,max:At}=bt.layout.layoutBox[ht];_t.set($[ht]-mixNumber$1(wt,At,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:$,dragConstraints:ht}=this.getProps(),{projection:vt}=this.visualElement;if(!isRefObject(ht)||!vt||!this.constraints)return;this.stopAnimation();const bt={x:0,y:0};eachAxis(wt=>{const At=this.getAxisMotionValue(wt);if(At&&this.constraints!==!1){const St=At.get();bt[wt]=calcOrigin({min:St,max:St},this.constraints[wt])}});const{transformTemplate:_t}=this.visualElement.getProps();this.visualElement.current.style.transform=_t?_t({},""):"none",vt.root&&vt.root.updateScroll(),vt.updateLayout(),this.resolveConstraints(),eachAxis(wt=>{if(!shouldDrag(wt,$,null))return;const At=this.getAxisMotionValue(wt),{min:St,max:Et}=this.constraints[wt];At.set(mixNumber$1(St,Et,bt[wt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const $=this.visualElement.current,ht=addPointerEvent($,"pointerdown",St=>{const{drag:Et,dragListener:xt=!0}=this.getProps();Et&&xt&&this.start(St)}),vt=()=>{const{dragConstraints:St}=this.getProps();isRefObject(St)&&St.current&&(this.constraints=this.resolveRefConstraints())},{projection:bt}=this.visualElement,_t=bt.addEventListener("measure",vt);bt&&!bt.layout&&(bt.root&&bt.root.updateScroll(),bt.updateLayout()),frame.read(vt);const wt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),At=bt.addEventListener("didUpdate",({delta:St,hasLayoutChanged:Et})=>{this.isDragging&&Et&&(eachAxis(xt=>{const Pt=this.getAxisMotionValue(xt);Pt&&(this.originPoint[xt]+=St[xt].translate,Pt.set(Pt.get()+St[xt].translate))}),this.visualElement.render())});return()=>{wt(),ht(),_t(),At&&At()}}getProps(){const $=this.visualElement.getProps(),{drag:ht=!1,dragDirectionLock:vt=!1,dragPropagation:bt=!1,dragConstraints:_t=!1,dragElastic:wt=defaultElastic,dragMomentum:At=!0}=$;return{...$,drag:ht,dragDirectionLock:vt,dragPropagation:bt,dragConstraints:_t,dragElastic:wt,dragMomentum:At}}}function shouldDrag(_e,$,ht){return($===!0||$===_e)&&(ht===null||ht===_e)}function getCurrentDirection(_e,$=10){let ht=null;return Math.abs(_e.y)>$?ht="y":Math.abs(_e.x)>$&&(ht="x"),ht}class DragGesture extends Feature{constructor($){super($),this.removeGroupControls=noop$3,this.removeListeners=noop$3,this.controls=new VisualElementDragControls($)}mount(){const{dragControls:$}=this.node.getProps();$&&(this.removeGroupControls=$.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$3}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=_e=>($,ht)=>{_e&&frame.postRender(()=>_e($,ht))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$3}onPointerDown($){this.session=new PanSession($,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:$,onPanStart:ht,onPan:vt,onPanEnd:bt}=this.node.getProps();return{onSessionStart:asyncHandler($),onStart:asyncHandler(ht),onMove:vt,onEnd:(_t,wt)=>{delete this.session,bt&&frame.postRender(()=>bt(_t,wt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",$=>this.onPointerDown($))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const _e=reactExports.useContext(PresenceContext);if(_e===null)return[!0,null];const{isPresent:$,onExitComplete:ht,register:vt}=_e,bt=reactExports.useId();return reactExports.useEffect(()=>vt(bt),[]),!$&&ht?[!1,()=>ht&&ht(bt)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(_e,$){return $.max===$.min?0:_e/($.max-$.min)*100}const correctBorderRadius={correct:(_e,$)=>{if(!$.target)return _e;if(typeof _e=="string")if(px.test(_e))_e=parseFloat(_e);else return _e;const ht=pixelsToPercent(_e,$.target.x),vt=pixelsToPercent(_e,$.target.y);return`${ht}% ${vt}%`}},correctBoxShadow={correct:(_e,{treeScale:$,projectionDelta:ht})=>{const vt=_e,bt=complex.parse(_e);if(bt.length>5)return vt;const _t=complex.createTransformer(_e),wt=typeof bt[0]!="number"?1:0,At=ht.x.scale*$.x,St=ht.y.scale*$.y;bt[0+wt]/=At,bt[1+wt]/=St;const Et=mixNumber$1(At,St,.5);return typeof bt[2+wt]=="number"&&(bt[2+wt]/=Et),typeof bt[3+wt]=="number"&&(bt[3+wt]/=Et),_t(bt)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:$,layoutGroup:ht,switchLayoutGroup:vt,layoutId:bt}=this.props,{projection:_t}=$;addScaleCorrector(defaultScaleCorrectors),_t&&(ht.group&&ht.group.add(_t),vt&&vt.register&&bt&&vt.register(_t),_t.root.didUpdate(),_t.addEventListener("animationComplete",()=>{this.safeToRemove()}),_t.setOptions({..._t.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate($){const{layoutDependency:ht,visualElement:vt,drag:bt,isPresent:_t}=this.props,wt=vt.projection;return wt&&(wt.isPresent=_t,bt||$.layoutDependency!==ht||ht===void 0?wt.willUpdate():this.safeToRemove(),$.isPresent!==_t&&(_t?wt.promote():wt.relegate()||frame.postRender(()=>{const At=wt.getStack();(!At||!At.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:$}=this.props.visualElement;$&&($.root.didUpdate(),microtask.postRender(()=>{!$.currentAnimation&&$.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:$,layoutGroup:ht,switchLayoutGroup:vt}=this.props,{projection:bt}=$;bt&&(bt.scheduleCheckAfterUnmount(),ht&&ht.group&&ht.group.remove(bt),vt&&vt.deregister&&vt.deregister(bt))}safeToRemove(){const{safeToRemove:$}=this.props;$&&$()}render(){return null}}function MeasureLayout(_e){const[$,ht]=usePresence(),vt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{..._e,layoutGroup:vt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:$,safeToRemove:ht})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=_e=>typeof _e=="string"?parseFloat(_e):_e,isPx=_e=>typeof _e=="number"||px.test(_e);function mixValues(_e,$,ht,vt,bt,_t){bt?(_e.opacity=mixNumber$1(0,ht.opacity!==void 0?ht.opacity:1,easeCrossfadeIn(vt)),_e.opacityExit=mixNumber$1($.opacity!==void 0?$.opacity:1,0,easeCrossfadeOut(vt))):_t&&(_e.opacity=mixNumber$1($.opacity!==void 0?$.opacity:1,ht.opacity!==void 0?ht.opacity:1,vt));for(let wt=0;wt<numBorders;wt++){const At=`border${borders[wt]}Radius`;let St=getRadius($,At),Et=getRadius(ht,At);if(St===void 0&&Et===void 0)continue;St||(St=0),Et||(Et=0),St===0||Et===0||isPx(St)===isPx(Et)?(_e[At]=Math.max(mixNumber$1(asNumber(St),asNumber(Et),vt),0),(percent.test(Et)||percent.test(St))&&(_e[At]+="%")):_e[At]=Et}($.rotate||ht.rotate)&&(_e.rotate=mixNumber$1($.rotate||0,ht.rotate||0,vt))}function getRadius(_e,$){return _e[$]!==void 0?_e[$]:_e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$3);function compress(_e,$,ht){return vt=>vt<_e?0:vt>$?1:ht(progress(_e,$,vt))}function copyAxisInto(_e,$){_e.min=$.min,_e.max=$.max}function copyBoxInto(_e,$){copyAxisInto(_e.x,$.x),copyAxisInto(_e.y,$.y)}function removePointDelta(_e,$,ht,vt,bt){return _e-=$,_e=scalePoint(_e,1/ht,vt),bt!==void 0&&(_e=scalePoint(_e,1/bt,vt)),_e}function removeAxisDelta(_e,$=0,ht=1,vt=.5,bt,_t=_e,wt=_e){if(percent.test($)&&($=parseFloat($),$=mixNumber$1(wt.min,wt.max,$/100)-wt.min),typeof $!="number")return;let At=mixNumber$1(_t.min,_t.max,vt);_e===_t&&(At-=$),_e.min=removePointDelta(_e.min,$,ht,At,bt),_e.max=removePointDelta(_e.max,$,ht,At,bt)}function removeAxisTransforms(_e,$,[ht,vt,bt],_t,wt){removeAxisDelta(_e,$[ht],$[vt],$[bt],$.scale,_t,wt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(_e,$,ht,vt){removeAxisTransforms(_e.x,$,xKeys,ht?ht.x:void 0,vt?vt.x:void 0),removeAxisTransforms(_e.y,$,yKeys,ht?ht.y:void 0,vt?vt.y:void 0)}function isAxisDeltaZero(_e){return _e.translate===0&&_e.scale===1}function isDeltaZero(_e){return isAxisDeltaZero(_e.x)&&isAxisDeltaZero(_e.y)}function boxEquals(_e,$){return _e.x.min===$.x.min&&_e.x.max===$.x.max&&_e.y.min===$.y.min&&_e.y.max===$.y.max}function boxEqualsRounded(_e,$){return Math.round(_e.x.min)===Math.round($.x.min)&&Math.round(_e.x.max)===Math.round($.x.max)&&Math.round(_e.y.min)===Math.round($.y.min)&&Math.round(_e.y.max)===Math.round($.y.max)}function aspectRatio(_e){return calcLength(_e.x)/calcLength(_e.y)}class NodeStack{constructor(){this.members=[]}add($){addUniqueItem(this.members,$),$.scheduleRender()}remove($){if(removeItem(this.members,$),$===this.prevLead&&(this.prevLead=void 0),$===this.lead){const ht=this.members[this.members.length-1];ht&&this.promote(ht)}}relegate($){const ht=this.members.findIndex(bt=>$===bt);if(ht===0)return!1;let vt;for(let bt=ht;bt>=0;bt--){const _t=this.members[bt];if(_t.isPresent!==!1){vt=_t;break}}return vt?(this.promote(vt),!0):!1}promote($,ht){const vt=this.lead;if($!==vt&&(this.prevLead=vt,this.lead=$,$.show(),vt)){vt.instance&&vt.scheduleRender(),$.scheduleRender(),$.resumeFrom=vt,ht&&($.resumeFrom.preserveOpacity=!0),vt.snapshot&&($.snapshot=vt.snapshot,$.snapshot.latestValues=vt.animationValues||vt.latestValues),$.root&&$.root.isUpdating&&($.isLayoutDirty=!0);const{crossfade:bt}=$.options;bt===!1&&vt.hide()}}exitAnimationComplete(){this.members.forEach($=>{const{options:ht,resumingFrom:vt}=$;ht.onExitComplete&&ht.onExitComplete(),vt&&vt.options.onExitComplete&&vt.options.onExitComplete()})}scheduleRender(){this.members.forEach($=>{$.instance&&$.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(_e,$,ht){let vt="";const bt=_e.x.translate/$.x,_t=_e.y.translate/$.y,wt=(ht==null?void 0:ht.z)||0;if((bt||_t||wt)&&(vt=`translate3d(${bt}px, ${_t}px, ${wt}px) `),($.x!==1||$.y!==1)&&(vt+=`scale(${1/$.x}, ${1/$.y}) `),ht){const{transformPerspective:Et,rotate:xt,rotateX:Pt,rotateY:$t,skewX:kt,skewY:Rt}=ht;Et&&(vt=`perspective(${Et}px) ${vt}`),xt&&(vt+=`rotate(${xt}deg) `),Pt&&(vt+=`rotateX(${Pt}deg) `),$t&&(vt+=`rotateY(${$t}deg) `),kt&&(vt+=`skewX(${kt}deg) `),Rt&&(vt+=`skewY(${Rt}deg) `)}const At=_e.x.scale*$.x,St=_e.y.scale*$.y;return(At!==1||St!==1)&&(vt+=`scale(${At}, ${St})`),vt||"none"}const compareByDepth=(_e,$)=>_e.depth-$.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add($){addUniqueItem(this.children,$),this.isDirty=!0}remove($){removeItem(this.children,$),this.isDirty=!0}forEach($){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach($)}}function delay(_e,$){const ht=time$1.now(),vt=({timestamp:bt})=>{const _t=bt-ht;_t>=$&&(cancelFrame(vt),_e(_t-$))};return frame.read(vt,!0),()=>cancelFrame(vt)}function record(_e){window.MotionDebug&&window.MotionDebug.record(_e)}function isSVGElement(_e){return _e instanceof SVGElement&&_e.tagName!=="svg"}function animateSingleValue(_e,$,ht){const vt=isMotionValue(_e)?_e:motionValue(_e);return vt.start(animateMotionValue("",vt,$,ht)),vt.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function resetDistortingTransform(_e,$,ht,vt){const{latestValues:bt}=$;bt[_e]&&(ht[_e]=bt[_e],$.setStaticValue(_e,0),vt&&(vt[_e]=0))}function isOptimisedAppearTree(_e){if(_e.hasCheckedOptimisedAppear=!0,_e.root===_e)return!1;const{visualElement:$}=_e.options;return $?getOptimisedAppearId($)?!0:_e.parent&&!_e.parent.hasCheckedOptimisedAppear?isOptimisedAppearTree(_e.parent):!1:!1}function createProjectionNode({attachResizeListener:_e,defaultParent:$,measureScroll:ht,checkIsScrollRoot:vt,resetTransform:bt}){return class{constructor(wt={},At=$==null?void 0:$()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=wt,this.root=At?At.root||At:this,this.path=At?[...At.path,At]:[],this.parent=At,this.depth=At?At.depth+1:0;for(let St=0;St<this.path.length;St++)this.path[St].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(wt,At){return this.eventHandlers.has(wt)||this.eventHandlers.set(wt,new SubscriptionManager),this.eventHandlers.get(wt).add(At)}notifyListeners(wt,...At){const St=this.eventHandlers.get(wt);St&&St.notify(...At)}hasListeners(wt){return this.eventHandlers.has(wt)}mount(wt,At=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(wt),this.instance=wt;const{layoutId:St,layout:Et,visualElement:xt}=this.options;if(xt&&!xt.current&&xt.mount(wt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),At&&(Et||St)&&(this.isLayoutDirty=!0),_e){let Pt;const $t=()=>this.root.updateBlockedByResize=!1;_e(wt,()=>{this.root.updateBlockedByResize=!0,Pt&&Pt(),Pt=delay($t,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}St&&this.root.registerSharedNode(St,this),this.options.animate!==!1&&xt&&(St||Et)&&this.addEventListener("didUpdate",({delta:Pt,hasLayoutChanged:$t,hasRelativeTargetChanged:kt,layout:Rt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Mt=this.options.transition||xt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Dt,onLayoutAnimationComplete:Ot}=xt.getProps(),Lt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Rt)||kt,Nt=!$t&&kt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Nt||$t&&(Lt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(Pt,Nt);const Ht={...getValueTransition(Mt,"layout"),onPlay:Dt,onComplete:Ot};(xt.shouldReduceMotion||this.options.layoutRoot)&&(Ht.delay=0,Ht.type=!1),this.startAnimation(Ht)}else $t||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Rt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const wt=this.getStack();wt&&wt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:wt}=this.options;return wt&&wt.getProps().transformTemplate}willUpdate(wt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&isOptimisedAppearTree(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let xt=0;xt<this.path.length;xt++){const Pt=this.path[xt];Pt.shouldResetTransform=!0,Pt.updateScroll("snapshot"),Pt.options.layoutRoot&&Pt.willUpdate(!1)}const{layoutId:At,layout:St}=this.options;if(At===void 0&&!St)return;const Et=this.getTransformTemplate();this.prevTransformTemplateValue=Et?Et(this.latestValues,""):void 0,this.updateSnapshot(),wt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const At=time$1.now();frameData.delta=clamp(0,1e3/60,At-frameData.timestamp),frameData.timestamp=At,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let St=0;St<this.path.length;St++)this.path[St].updateScroll();const wt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:At}=this.options;At&&At.notify("LayoutMeasure",this.layout.layoutBox,wt?wt.layoutBox:void 0)}updateScroll(wt="measure"){let At=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===wt&&(At=!1),At&&(this.scroll={animationId:this.root.animationId,phase:wt,isRoot:vt(this.instance),offset:ht(this.instance)})}resetTransform(){if(!bt)return;const wt=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,At=this.projectionDelta&&!isDeltaZero(this.projectionDelta),St=this.getTransformTemplate(),Et=St?St(this.latestValues,""):void 0,xt=Et!==this.prevTransformTemplateValue;wt&&(At||hasTransform(this.latestValues)||xt)&&(bt(this.instance,Et),this.shouldResetTransform=!1,this.scheduleRender())}measure(wt=!0){const At=this.measurePageBox();let St=this.removeElementScroll(At);return wt&&(St=this.removeTransform(St)),roundBox(St),{animationId:this.root.animationId,measuredBox:At,layoutBox:St,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:wt}=this.options;if(!wt)return createBox();const At=wt.measureViewportBox(),{scroll:St}=this.root;return St&&(translateAxis(At.x,St.offset.x),translateAxis(At.y,St.offset.y)),At}removeElementScroll(wt){const At=createBox();copyBoxInto(At,wt);for(let St=0;St<this.path.length;St++){const Et=this.path[St],{scroll:xt,options:Pt}=Et;if(Et!==this.root&&xt&&Pt.layoutScroll){if(xt.isRoot){copyBoxInto(At,wt);const{scroll:$t}=this.root;$t&&(translateAxis(At.x,-$t.offset.x),translateAxis(At.y,-$t.offset.y))}translateAxis(At.x,xt.offset.x),translateAxis(At.y,xt.offset.y)}}return At}applyTransform(wt,At=!1){const St=createBox();copyBoxInto(St,wt);for(let Et=0;Et<this.path.length;Et++){const xt=this.path[Et];!At&&xt.options.layoutScroll&&xt.scroll&&xt!==xt.root&&transformBox(St,{x:-xt.scroll.offset.x,y:-xt.scroll.offset.y}),hasTransform(xt.latestValues)&&transformBox(St,xt.latestValues)}return hasTransform(this.latestValues)&&transformBox(St,this.latestValues),St}removeTransform(wt){const At=createBox();copyBoxInto(At,wt);for(let St=0;St<this.path.length;St++){const Et=this.path[St];if(!Et.instance||!hasTransform(Et.latestValues))continue;hasScale(Et.latestValues)&&Et.updateSnapshot();const xt=createBox(),Pt=Et.measurePageBox();copyBoxInto(xt,Pt),removeBoxTransforms(At,Et.latestValues,Et.snapshot?Et.snapshot.layoutBox:void 0,xt)}return hasTransform(this.latestValues)&&removeBoxTransforms(At,this.latestValues),At}setTargetDelta(wt){this.targetDelta=wt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(wt){this.options={...this.options,...wt,crossfade:wt.crossfade!==void 0?wt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(wt=!1){var At;const St=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=St.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=St.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=St.isSharedProjectionDirty);const Et=!!this.resumingFrom||this!==St;if(!(wt||Et&&this.isSharedProjectionDirty||this.isProjectionDirty||!((At=this.parent)===null||At===void 0)&&At.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:Pt,layoutId:$t}=this.options;if(!(!this.layout||!(Pt||$t))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const kt=this.getClosestProjectingParent();kt&&kt.layout&&this.animationProgress!==1?(this.relativeParent=kt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,kt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const kt=this.getClosestProjectingParent();kt&&!!kt.resumingFrom==!!this.resumingFrom&&!kt.options.layoutScroll&&kt.target&&this.animationProgress!==1?(this.relativeParent=kt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,kt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var wt;const At=this.getLead(),St=!!this.resumingFrom||this!==At;let Et=!0;if((this.isProjectionDirty||!((wt=this.parent)===null||wt===void 0)&&wt.isProjectionDirty)&&(Et=!1),St&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Et=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Et=!1),Et)return;const{layout:xt,layoutId:Pt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(xt||Pt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const $t=this.treeScale.x,kt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,St),At.layout&&!At.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(At.target=At.layout.layoutBox,At.targetWithTransforms=createBox());const{target:Rt}=At;if(!Rt){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const Mt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,Rt,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==Mt||this.treeScale.x!==$t||this.treeScale.y!==kt)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Rt)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(wt=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),wt){const At=this.getStack();At&&At.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(wt,At=!1){const St=this.snapshot,Et=St?St.latestValues:{},xt={...this.latestValues},Pt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!At;const $t=createBox(),kt=St?St.source:void 0,Rt=this.layout?this.layout.source:void 0,Mt=kt!==Rt,Dt=this.getStack(),Ot=!Dt||Dt.members.length<=1,Lt=!!(Mt&&!Ot&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Nt;this.mixTargetDelta=Ht=>{const Ft=Ht/1e3;mixAxisDelta(Pt.x,wt.x,Ft),mixAxisDelta(Pt.y,wt.y,Ft),this.setTargetDelta(Pt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition($t,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,$t,Ft),Nt&&boxEquals(this.relativeTarget,Nt)&&(this.isProjectionDirty=!1),Nt||(Nt=createBox()),copyBoxInto(Nt,this.relativeTarget)),Mt&&(this.animationValues=xt,mixValues(xt,Et,this.latestValues,Ft,Lt,Ot)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Ft},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(wt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...wt,onUpdate:At=>{this.mixTargetDelta(At),wt.onUpdate&&wt.onUpdate(At)},onComplete:()=>{wt.onComplete&&wt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const wt=this.getStack();wt&&wt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const wt=this.getLead();let{targetWithTransforms:At,target:St,layout:Et,latestValues:xt}=wt;if(!(!At||!St||!Et)){if(this!==wt&&this.layout&&Et&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Et.layoutBox)){St=this.target||createBox();const Pt=calcLength(this.layout.layoutBox.x);St.x.min=wt.target.x.min,St.x.max=St.x.min+Pt;const $t=calcLength(this.layout.layoutBox.y);St.y.min=wt.target.y.min,St.y.max=St.y.min+$t}copyBoxInto(At,St),transformBox(At,xt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,At,xt)}}registerSharedNode(wt,At){this.sharedNodes.has(wt)||this.sharedNodes.set(wt,new NodeStack),this.sharedNodes.get(wt).add(At);const Et=At.options.initialPromotionConfig;At.promote({transition:Et?Et.transition:void 0,preserveFollowOpacity:Et&&Et.shouldPreserveFollowOpacity?Et.shouldPreserveFollowOpacity(At):void 0})}isLead(){const wt=this.getStack();return wt?wt.lead===this:!0}getLead(){var wt;const{layoutId:At}=this.options;return At?((wt=this.getStack())===null||wt===void 0?void 0:wt.lead)||this:this}getPrevLead(){var wt;const{layoutId:At}=this.options;return At?(wt=this.getStack())===null||wt===void 0?void 0:wt.prevLead:void 0}getStack(){const{layoutId:wt}=this.options;if(wt)return this.root.sharedNodes.get(wt)}promote({needsReset:wt,transition:At,preserveFollowOpacity:St}={}){const Et=this.getStack();Et&&Et.promote(this,St),wt&&(this.projectionDelta=void 0,this.needsReset=!0),At&&this.setOptions({transition:At})}relegate(){const wt=this.getStack();return wt?wt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:wt}=this.options;if(!wt)return;let At=!1;const{latestValues:St}=wt;if((St.z||St.rotate||St.rotateX||St.rotateY||St.rotateZ||St.skewX||St.skewY)&&(At=!0),!At)return;const Et={};St.z&&resetDistortingTransform("z",wt,Et,this.animationValues);for(let xt=0;xt<transformAxes.length;xt++)resetDistortingTransform(`rotate${transformAxes[xt]}`,wt,Et,this.animationValues),resetDistortingTransform(`skew${transformAxes[xt]}`,wt,Et,this.animationValues);wt.render();for(const xt in Et)wt.setStaticValue(xt,Et[xt]),this.animationValues&&(this.animationValues[xt]=Et[xt]);wt.scheduleRender()}getProjectionStyles(wt){var At,St;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const Et={visibility:""},xt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Et.opacity="",Et.pointerEvents=resolveMotionValue(wt==null?void 0:wt.pointerEvents)||"",Et.transform=xt?xt(this.latestValues,""):"none",Et;const Pt=this.getLead();if(!this.projectionDelta||!this.layout||!Pt.target){const Mt={};return this.options.layoutId&&(Mt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Mt.pointerEvents=resolveMotionValue(wt==null?void 0:wt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Mt.transform=xt?xt({},""):"none",this.hasProjected=!1),Mt}const $t=Pt.animationValues||Pt.latestValues;this.applyTransformsToTarget(),Et.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,$t),xt&&(Et.transform=xt($t,Et.transform));const{x:kt,y:Rt}=this.projectionDelta;Et.transformOrigin=`${kt.origin*100}% ${Rt.origin*100}% 0`,Pt.animationValues?Et.opacity=Pt===this?(St=(At=$t.opacity)!==null&&At!==void 0?At:this.latestValues.opacity)!==null&&St!==void 0?St:1:this.preserveOpacity?this.latestValues.opacity:$t.opacityExit:Et.opacity=Pt===this?$t.opacity!==void 0?$t.opacity:"":$t.opacityExit!==void 0?$t.opacityExit:0;for(const Mt in scaleCorrectors){if($t[Mt]===void 0)continue;const{correct:Dt,applyTo:Ot}=scaleCorrectors[Mt],Lt=Et.transform==="none"?$t[Mt]:Dt($t[Mt],Pt);if(Ot){const Nt=Ot.length;for(let Ht=0;Ht<Nt;Ht++)Et[Ot[Ht]]=Lt}else Et[Mt]=Lt}return this.options.layoutId&&(Et.pointerEvents=Pt===this?resolveMotionValue(wt==null?void 0:wt.pointerEvents)||"":"none"),Et}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(wt=>{var At;return(At=wt.currentAnimation)===null||At===void 0?void 0:At.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(_e){_e.updateLayout()}function notifyLayoutUpdate(_e){var $;const ht=(($=_e.resumeFrom)===null||$===void 0?void 0:$.snapshot)||_e.snapshot;if(_e.isLead()&&_e.layout&&ht&&_e.hasListeners("didUpdate")){const{layoutBox:vt,measuredBox:bt}=_e.layout,{animationType:_t}=_e.options,wt=ht.source!==_e.layout.source;_t==="size"?eachAxis(Pt=>{const $t=wt?ht.measuredBox[Pt]:ht.layoutBox[Pt],kt=calcLength($t);$t.min=vt[Pt].min,$t.max=$t.min+kt}):shouldAnimatePositionOnly(_t,ht.layoutBox,vt)&&eachAxis(Pt=>{const $t=wt?ht.measuredBox[Pt]:ht.layoutBox[Pt],kt=calcLength(vt[Pt]);$t.max=$t.min+kt,_e.relativeTarget&&!_e.currentAnimation&&(_e.isProjectionDirty=!0,_e.relativeTarget[Pt].max=_e.relativeTarget[Pt].min+kt)});const At=createDelta();calcBoxDelta(At,vt,ht.layoutBox);const St=createDelta();wt?calcBoxDelta(St,_e.applyTransform(bt,!0),ht.measuredBox):calcBoxDelta(St,vt,ht.layoutBox);const Et=!isDeltaZero(At);let xt=!1;if(!_e.resumeFrom){const Pt=_e.getClosestProjectingParent();if(Pt&&!Pt.resumeFrom){const{snapshot:$t,layout:kt}=Pt;if($t&&kt){const Rt=createBox();calcRelativePosition(Rt,ht.layoutBox,$t.layoutBox);const Mt=createBox();calcRelativePosition(Mt,vt,kt.layoutBox),boxEqualsRounded(Rt,Mt)||(xt=!0),Pt.options.layoutRoot&&(_e.relativeTarget=Mt,_e.relativeTargetOrigin=Rt,_e.relativeParent=Pt)}}}_e.notifyListeners("didUpdate",{layout:vt,snapshot:ht,delta:St,layoutDelta:At,hasLayoutChanged:Et,hasRelativeTargetChanged:xt})}else if(_e.isLead()){const{onExitComplete:vt}=_e.options;vt&&vt()}_e.options.transition=void 0}function propagateDirtyNodes(_e){projectionFrameData.totalNodes++,_e.parent&&(_e.isProjecting()||(_e.isProjectionDirty=_e.parent.isProjectionDirty),_e.isSharedProjectionDirty||(_e.isSharedProjectionDirty=!!(_e.isProjectionDirty||_e.parent.isProjectionDirty||_e.parent.isSharedProjectionDirty)),_e.isTransformDirty||(_e.isTransformDirty=_e.parent.isTransformDirty))}function cleanDirtyNodes(_e){_e.isProjectionDirty=_e.isSharedProjectionDirty=_e.isTransformDirty=!1}function clearSnapshot(_e){_e.clearSnapshot()}function clearMeasurements(_e){_e.clearMeasurements()}function clearIsLayoutDirty(_e){_e.isLayoutDirty=!1}function resetTransformStyle(_e){const{visualElement:$}=_e.options;$&&$.getProps().onBeforeLayoutMeasure&&$.notify("BeforeLayoutMeasure"),_e.resetTransform()}function finishAnimation(_e){_e.finishAnimation(),_e.targetDelta=_e.relativeTarget=_e.target=void 0,_e.isProjectionDirty=!0}function resolveTargetDelta(_e){_e.resolveTargetDelta()}function calcProjection(_e){_e.calcProjection()}function resetSkewAndRotation(_e){_e.resetSkewAndRotation()}function removeLeadSnapshots(_e){_e.removeLeadSnapshot()}function mixAxisDelta(_e,$,ht){_e.translate=mixNumber$1($.translate,0,ht),_e.scale=mixNumber$1($.scale,1,ht),_e.origin=$.origin,_e.originPoint=$.originPoint}function mixAxis(_e,$,ht,vt){_e.min=mixNumber$1($.min,ht.min,vt),_e.max=mixNumber$1($.max,ht.max,vt)}function mixBox(_e,$,ht,vt){mixAxis(_e.x,$.x,ht.x,vt),mixAxis(_e.y,$.y,ht.y,vt)}function hasOpacityCrossfade(_e){return _e.animationValues&&_e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=_e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(_e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$3;function roundAxis(_e){_e.min=roundPoint(_e.min),_e.max=roundPoint(_e.max)}function roundBox(_e){roundAxis(_e.x),roundAxis(_e.y)}function shouldAnimatePositionOnly(_e,$,ht){return _e==="position"||_e==="preserve-aspect"&&!isNear(aspectRatio($),aspectRatio(ht),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(_e,$)=>addDomEvent(_e,"resize",$),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:_e=>({x:_e.scrollLeft,y:_e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const _e=new DocumentProjectionNode({});_e.mount(window),_e.setOptions({layoutScroll:!0}),rootProjectionNode.current=_e}return rootProjectionNode.current},resetTransform:(_e,$)=>{_e.style.transform=$!==void 0?$:"none"},checkIsScrollRoot:_e=>window.getComputedStyle(_e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const _e=window.matchMedia("(prefers-reduced-motion)"),$=()=>prefersReducedMotion.current=_e.matches;_e.addListener($),$()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(_e,$,ht){const{willChange:vt}=$;for(const bt in $){const _t=$[bt],wt=ht[bt];if(isMotionValue(_t))_e.addValue(bt,_t),isWillChangeMotionValue(vt)&&vt.add(bt);else if(isMotionValue(wt))_e.addValue(bt,motionValue(_t,{owner:_e})),isWillChangeMotionValue(vt)&&vt.remove(bt);else if(wt!==_t)if(_e.hasValue(bt)){const At=_e.getValue(bt);At.liveStyle===!0?At.jump(_t):At.hasAnimated||At.set(_t)}else{const At=_e.getStaticValue(bt);_e.addValue(bt,motionValue(At!==void 0?At:_t,{owner:_e}))}}for(const bt in ht)$[bt]===void 0&&_e.removeValue(bt);return $}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=_e=>valueTypes.find(testValueType(_e)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{scrapeMotionValuesFromProps($,ht,vt){return{}}constructor({parent:$,props:ht,presenceContext:vt,reducedMotionConfig:bt,blockInitialAnimation:_t,visualState:wt},At={}){this.resolveKeyframes=($t,kt,Rt,Mt)=>new this.KeyframeResolver($t,kt,Rt,Mt,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:St,renderState:Et}=wt;this.latestValues=St,this.baseTarget={...St},this.initialValues=ht.initial?{...St}:{},this.renderState=Et,this.parent=$,this.props=ht,this.presenceContext=vt,this.depth=$?$.depth+1:0,this.reducedMotionConfig=bt,this.options=At,this.blockInitialAnimation=!!_t,this.isControllingVariants=isControllingVariants(ht),this.isVariantNode=isVariantNode(ht),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!($&&$.current);const{willChange:xt,...Pt}=this.scrapeMotionValuesFromProps(ht,{},this);for(const $t in Pt){const kt=Pt[$t];St[$t]!==void 0&&isMotionValue(kt)&&(kt.set(St[$t],!1),isWillChangeMotionValue(xt)&&xt.add($t))}}mount($){this.current=$,visualElementStore.set($,this),this.projection&&!this.projection.instance&&this.projection.mount($),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((ht,vt)=>this.bindToMotionValue(vt,ht)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach($=>$()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const $ in this.events)this.events[$].clear();for(const $ in this.features){const ht=this.features[$];ht&&(ht.unmount(),ht.isMounted=!1)}this.current=null}bindToMotionValue($,ht){const vt=transformProps.has($),bt=ht.on("change",wt=>{this.latestValues[$]=wt,this.props.onUpdate&&frame.preRender(this.notifyUpdate),vt&&this.projection&&(this.projection.isTransformDirty=!0)}),_t=ht.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set($,()=>{bt(),_t(),ht.owner&&ht.stop()})}sortNodePosition($){return!this.current||!this.sortInstanceNodePosition||this.type!==$.type?0:this.sortInstanceNodePosition(this.current,$.current)}updateFeatures(){let $="animation";for($ in featureDefinitions){const ht=featureDefinitions[$];if(!ht)continue;const{isEnabled:vt,Feature:bt}=ht;if(!this.features[$]&&bt&&vt(this.props)&&(this.features[$]=new bt(this)),this.features[$]){const _t=this.features[$];_t.isMounted?_t.update():(_t.mount(),_t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue($){return this.latestValues[$]}setStaticValue($,ht){this.latestValues[$]=ht}update($,ht){($.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=$,this.prevPresenceContext=this.presenceContext,this.presenceContext=ht;for(let vt=0;vt<propEventHandlers.length;vt++){const bt=propEventHandlers[vt];this.propEventSubscriptions[bt]&&(this.propEventSubscriptions[bt](),delete this.propEventSubscriptions[bt]);const _t="on"+bt,wt=$[_t];wt&&(this.propEventSubscriptions[bt]=this.on(bt,wt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps($,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant($){return this.props.variants?this.props.variants[$]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext($=!1){if($)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const vt=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(vt.initial=this.props.initial),vt}const ht={};for(let vt=0;vt<numVariantProps;vt++){const bt=variantProps[vt],_t=this.props[bt];(isVariantLabel(_t)||_t===!1)&&(ht[bt]=_t)}return ht}addVariantChild($){const ht=this.getClosestVariantNode();if(ht)return ht.variantChildren&&ht.variantChildren.add($),()=>ht.variantChildren.delete($)}addValue($,ht){const vt=this.values.get($);ht!==vt&&(vt&&this.removeValue($),this.bindToMotionValue($,ht),this.values.set($,ht),this.latestValues[$]=ht.get())}removeValue($){this.values.delete($);const ht=this.valueSubscriptions.get($);ht&&(ht(),this.valueSubscriptions.delete($)),delete this.latestValues[$],this.removeValueFromRenderState($,this.renderState)}hasValue($){return this.values.has($)}getValue($,ht){if(this.props.values&&this.props.values[$])return this.props.values[$];let vt=this.values.get($);return vt===void 0&&ht!==void 0&&(vt=motionValue(ht===null?void 0:ht,{owner:this}),this.addValue($,vt)),vt}readValue($,ht){var vt;let bt=this.latestValues[$]!==void 0||!this.current?this.latestValues[$]:(vt=this.getBaseTargetFromProps(this.props,$))!==null&&vt!==void 0?vt:this.readValueFromInstance(this.current,$,this.options);return bt!=null&&(typeof bt=="string"&&(isNumericalString(bt)||isZeroValueString(bt))?bt=parseFloat(bt):!findValueType(bt)&&complex.test(ht)&&(bt=getAnimatableNone($,ht)),this.setBaseTarget($,isMotionValue(bt)?bt.get():bt)),isMotionValue(bt)?bt.get():bt}setBaseTarget($,ht){this.baseTarget[$]=ht}getBaseTarget($){var ht;const{initial:vt}=this.props;let bt;if(typeof vt=="string"||typeof vt=="object"){const wt=resolveVariantFromProps(this.props,vt,(ht=this.presenceContext)===null||ht===void 0?void 0:ht.custom);wt&&(bt=wt[$])}if(vt&&bt!==void 0)return bt;const _t=this.getBaseTargetFromProps(this.props,$);return _t!==void 0&&!isMotionValue(_t)?_t:this.initialValues[$]!==void 0&&bt===void 0?void 0:this.baseTarget[$]}on($,ht){return this.events[$]||(this.events[$]=new SubscriptionManager),this.events[$].add(ht)}notify($,...ht){this.events[$]&&this.events[$].notify(...ht)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition($,ht){return $.compareDocumentPosition(ht)&2?1:-1}getBaseTargetFromProps($,ht){return $.style?$.style[ht]:void 0}removeValueFromRenderState($,{vars:ht,style:vt}){delete ht[$],delete vt[$]}}function getComputedStyle$1(_e){return window.getComputedStyle(_e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance($,ht){if(transformProps.has(ht)){const vt=getDefaultValueType(ht);return vt&&vt.default||0}else{const vt=getComputedStyle$1($),bt=(isCSSVariableName(ht)?vt.getPropertyValue(ht):vt[ht])||0;return typeof bt=="string"?bt.trim():bt}}measureInstanceViewportBox($,{transformPagePoint:ht}){return measureViewportBox($,ht)}build($,ht,vt,bt){buildHTMLStyles($,ht,vt,bt.transformTemplate)}scrapeMotionValuesFromProps($,ht,vt){return scrapeMotionValuesFromProps$1($,ht,vt)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:$}=this.props;isMotionValue($)&&(this.childSubscription=$.on("change",ht=>{this.current&&(this.current.textContent=`${ht}`)}))}renderInstance($,ht,vt,bt){renderHTML($,ht,vt,bt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps($,ht){return $[ht]}readValueFromInstance($,ht){if(transformProps.has(ht)){const vt=getDefaultValueType(ht);return vt&&vt.default||0}return ht=camelCaseAttributes.has(ht)?ht:camelToDash(ht),$.getAttribute(ht)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps($,ht,vt){return scrapeMotionValuesFromProps($,ht,vt)}build($,ht,vt,bt){buildSVGAttrs($,ht,vt,this.isSVGTag,bt.transformTemplate)}renderInstance($,ht,vt,bt){renderSVG($,ht,vt,bt)}mount($){this.isSVGTag=isSVGTag($.tagName),super.mount($)}}const createDomVisualElement=(_e,$)=>isSVGComponent(_e)?new SVGVisualElement($,{enableHardwareAcceleration:!1}):new HTMLVisualElement($,{allowProjection:_e!==reactExports.Fragment,enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((_e,$)=>createDomMotionConfig(_e,$,preloadedFeatures,createDomVisualElement));function useIsMounted(){const _e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(_e.current=!0,()=>{_e.current=!1}),[]),_e}function useForceUpdate(){const _e=useIsMounted(),[$,ht]=reactExports.useState(0),vt=reactExports.useCallback(()=>{_e.current&&ht($+1)},[$]);return[reactExports.useCallback(()=>frame.postRender(vt),[vt]),$]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate($){const ht=this.props.childRef.current;if(ht&&$.isPresent&&!this.props.isPresent){const vt=this.props.sizeRef.current;vt.height=ht.offsetHeight||0,vt.width=ht.offsetWidth||0,vt.top=ht.offsetTop,vt.left=ht.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:_e,isPresent:$}){const ht=reactExports.useId(),vt=reactExports.useRef(null),bt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:_t}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:wt,height:At,top:St,left:Et}=bt.current;if($||!vt.current||!wt||!At)return;vt.current.dataset.motionPopId=ht;const xt=document.createElement("style");return _t&&(xt.nonce=_t),document.head.appendChild(xt),xt.sheet&&xt.sheet.insertRule(`
          [data-motion-pop-id="${ht}"] {
            position: absolute !important;
            width: ${wt}px !important;
            height: ${At}px !important;
            top: ${St}px !important;
            left: ${Et}px !important;
          }
        `),()=>{document.head.removeChild(xt)}},[$]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:$,childRef:vt,sizeRef:bt,children:reactExports.cloneElement(_e,{ref:vt})})}const PresenceChild=({children:_e,initial:$,isPresent:ht,onExitComplete:vt,custom:bt,presenceAffectsLayout:_t,mode:wt})=>{const At=useConstant(newChildrenMap),St=reactExports.useId(),Et=reactExports.useMemo(()=>({id:St,initial:$,isPresent:ht,custom:bt,onExitComplete:xt=>{At.set(xt,!0);for(const Pt of At.values())if(!Pt)return;vt&&vt()},register:xt=>(At.set(xt,!1),()=>At.delete(xt))}),_t?[Math.random()]:[ht]);return reactExports.useMemo(()=>{At.forEach((xt,Pt)=>At.set(Pt,!1))},[ht]),reactExports.useEffect(()=>{!ht&&!At.size&&vt&&vt()},[ht]),wt==="popLayout"&&(_e=jsxRuntimeExports.jsx(PopChild,{isPresent:ht,children:_e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Et,children:_e})};function newChildrenMap(){return new Map}function useUnmountEffect(_e){return reactExports.useEffect(()=>()=>_e(),[])}const getChildKey=_e=>_e.key||"";function updateChildLookup(_e,$){_e.forEach(ht=>{const vt=getChildKey(ht);$.set(vt,ht)})}function onlyElements(_e){const $=[];return reactExports.Children.forEach(_e,ht=>{reactExports.isValidElement(ht)&&$.push(ht)}),$}const AnimatePresence=({children:_e,custom:$,initial:ht=!0,onExitComplete:vt,exitBeforeEnter:bt,presenceAffectsLayout:_t=!0,mode:wt="sync"})=>{const At=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],St=useIsMounted(),Et=onlyElements(_e);let xt=Et;const Pt=reactExports.useRef(new Map).current,$t=reactExports.useRef(xt),kt=reactExports.useRef(new Map).current,Rt=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{Rt.current=!1,updateChildLookup(Et,kt),$t.current=xt}),useUnmountEffect(()=>{Rt.current=!0,kt.clear(),Pt.clear()}),Rt.current)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:xt.map(Lt=>jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,initial:ht?void 0:!1,presenceAffectsLayout:_t,mode:wt,children:Lt},getChildKey(Lt)))});xt=[...xt];const Mt=$t.current.map(getChildKey),Dt=Et.map(getChildKey),Ot=Mt.length;for(let Lt=0;Lt<Ot;Lt++){const Nt=Mt[Lt];Dt.indexOf(Nt)===-1&&!Pt.has(Nt)&&Pt.set(Nt,void 0)}return wt==="wait"&&Pt.size&&(xt=[]),Pt.forEach((Lt,Nt)=>{if(Dt.indexOf(Nt)!==-1)return;const Ht=kt.get(Nt);if(!Ht)return;const Ft=Mt.indexOf(Nt);let jt=Lt;if(!jt){const Bt=()=>{Pt.delete(Nt);const Vt=Array.from(kt.keys()).filter(Ut=>!Dt.includes(Ut));if(Vt.forEach(Ut=>kt.delete(Ut)),$t.current=Et.filter(Ut=>{const Jt=getChildKey(Ut);return Jt===Nt||Vt.includes(Jt)}),!Pt.size){if(St.current===!1)return;At(),vt&&vt()}};jt=jsxRuntimeExports.jsx(PresenceChild,{isPresent:!1,onExitComplete:Bt,custom:$,presenceAffectsLayout:_t,mode:wt,children:Ht},getChildKey(Ht)),Pt.set(Nt,jt)}xt.splice(Ft,0,jt)}),xt=xt.map(Lt=>{const Nt=Lt.key;return Pt.has(Nt)?Lt:jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:_t,mode:wt,children:Lt},getChildKey(Lt))}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Pt.size?xt:xt.map(Lt=>reactExports.cloneElement(Lt))})},scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function($,ht,vt){let bt=Promise.resolve();if(ht&&ht.length>0){document.getElementsByTagName("link");const wt=document.querySelector("meta[property=csp-nonce]"),At=(wt==null?void 0:wt.nonce)||(wt==null?void 0:wt.getAttribute("nonce"));bt=Promise.allSettled(ht.map(St=>{if(St=assetsURL(St),St in seen)return;seen[St]=!0;const Et=St.endsWith(".css"),xt=Et?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${St}"]${xt}`))return;const Pt=document.createElement("link");if(Pt.rel=Et?"stylesheet":scriptRel,Et||(Pt.as="script"),Pt.crossOrigin="",Pt.href=St,At&&Pt.setAttribute("nonce",At),document.head.appendChild(Pt),Et)return new Promise(($t,kt)=>{Pt.addEventListener("load",$t),Pt.addEventListener("error",()=>kt(new Error(`Unable to preload CSS for ${St}`)))})}))}function _t(wt){const At=new Event("vite:preloadError",{cancelable:!0});if(At.payload=wt,window.dispatchEvent(At),!At.defaultPrevented)throw wt}return bt.then(wt=>{for(const At of wt||[])At.status==="rejected"&&_t(At.reason);return $().catch(_t)})};var __webpack_require__={};__webpack_require__.d=(_e,$)=>{for(var ht in $)__webpack_require__.o($,ht)&&!__webpack_require__.o(_e,ht)&&Object.defineProperty(_e,ht,{enumerable:!0,get:$[ht]})};__webpack_require__.o=(_e,$)=>Object.prototype.hasOwnProperty.call(_e,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(_e){Number.isInteger(_e)&&(verbosity=_e)}function getVerbosityLevel(){return verbosity}function info(_e){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${_e}`)}function warn$1(_e){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${_e}`)}function unreachable(_e){throw new Error(_e)}function assert(_e,$){_e||unreachable($)}function _isValidProtocol(_e){switch(_e==null?void 0:_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(_e,$=null,ht=null){if(!_e)return null;try{if(ht&&typeof _e=="string"){if(ht.addDefaultProtocol&&_e.startsWith("www.")){const bt=_e.match(/\./g);(bt==null?void 0:bt.length)>=2&&(_e=`http://${_e}`)}if(ht.tryConvertEncoding)try{_e=stringToUTF8String(_e)}catch{}}const vt=$?new URL(_e,$):new URL(_e);if(_isValidProtocol(vt))return vt}catch{}return null}function shadow(_e,$,ht,vt=!1){return Object.defineProperty(_e,$,{value:ht,enumerable:!vt,configurable:!0,writable:!1}),ht}const BaseException=function(){function $(ht,vt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=ht,this.name=vt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,ht){super($,"PasswordException"),this.code=ht}}class UnknownErrorException extends BaseException{constructor($,ht){super($,"UnknownErrorException"),this.details=ht}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,ht){super($,"UnexpectedResponseException"),this.status=ht}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(_e){(typeof _e!="object"||(_e==null?void 0:_e.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=_e.length,ht=8192;if($<ht)return String.fromCharCode.apply(null,_e);const vt=[];for(let bt=0;bt<$;bt+=ht){const _t=Math.min(bt+ht,$),wt=_e.subarray(bt,_t);vt.push(String.fromCharCode.apply(null,wt))}return vt.join("")}function stringToBytes(_e){typeof _e!="string"&&unreachable("Invalid argument for stringToBytes");const $=_e.length,ht=new Uint8Array($);for(let vt=0;vt<$;++vt)ht[vt]=_e.charCodeAt(vt)&255;return ht}function string32(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,_e&255)}function objectFromMap(_e){const $=Object.create(null);for(const[ht,vt]of _e)$[ht]=vt;return $}function isLittleEndian(){const _e=new Uint8Array(4);return _e[0]=1,new Uint32Array(_e.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,ht;return shadow(this,"isCSSRoundSupported",(ht=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:ht.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),_e=>_e.toString(16).padStart(2,"0"));var pu,m0,R_;class Util{static makeHexColor($,ht,vt){return`#${hexNumbers[$]}${hexNumbers[ht]}${hexNumbers[vt]}`}static scaleMinMax($,ht){let vt;$[0]?($[0]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[0],ht[2]*=$[0],$[3]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[3],ht[3]*=$[3]):(vt=ht[0],ht[0]=ht[1],ht[1]=vt,vt=ht[2],ht[2]=ht[3],ht[3]=vt,$[1]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[1],ht[3]*=$[1],$[2]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[2],ht[2]*=$[2]),ht[0]+=$[4],ht[1]+=$[5],ht[2]+=$[4],ht[3]+=$[5]}static transform($,ht){return[$[0]*ht[0]+$[2]*ht[1],$[1]*ht[0]+$[3]*ht[1],$[0]*ht[2]+$[2]*ht[3],$[1]*ht[2]+$[3]*ht[3],$[0]*ht[4]+$[2]*ht[5]+$[4],$[1]*ht[4]+$[3]*ht[5]+$[5]]}static applyTransform($,ht){const vt=$[0]*ht[0]+$[1]*ht[2]+ht[4],bt=$[0]*ht[1]+$[1]*ht[3]+ht[5];return[vt,bt]}static applyInverseTransform($,ht){const vt=ht[0]*ht[3]-ht[1]*ht[2],bt=($[0]*ht[3]-$[1]*ht[2]+ht[2]*ht[5]-ht[4]*ht[3])/vt,_t=(-$[0]*ht[1]+$[1]*ht[0]+ht[4]*ht[1]-ht[5]*ht[0])/vt;return[bt,_t]}static getAxialAlignedBoundingBox($,ht){const vt=this.applyTransform($,ht),bt=this.applyTransform($.slice(2,4),ht),_t=this.applyTransform([$[0],$[3]],ht),wt=this.applyTransform([$[2],$[1]],ht);return[Math.min(vt[0],bt[0],_t[0],wt[0]),Math.min(vt[1],bt[1],_t[1],wt[1]),Math.max(vt[0],bt[0],_t[0],wt[0]),Math.max(vt[1],bt[1],_t[1],wt[1])]}static inverseTransform($){const ht=$[0]*$[3]-$[1]*$[2];return[$[3]/ht,-$[1]/ht,-$[2]/ht,$[0]/ht,($[2]*$[5]-$[4]*$[3])/ht,($[4]*$[1]-$[5]*$[0])/ht]}static singularValueDecompose2dScale($){const ht=[$[0],$[2],$[1],$[3]],vt=$[0]*ht[0]+$[1]*ht[2],bt=$[0]*ht[1]+$[1]*ht[3],_t=$[2]*ht[0]+$[3]*ht[2],wt=$[2]*ht[1]+$[3]*ht[3],At=(vt+wt)/2,St=Math.sqrt((vt+wt)**2-4*(vt*wt-_t*bt))/2,Et=At+St||1,xt=At-St||1;return[Math.sqrt(Et),Math.sqrt(xt)]}static normalizeRect($){const ht=$.slice(0);return $[0]>$[2]&&(ht[0]=$[2],ht[2]=$[0]),$[1]>$[3]&&(ht[1]=$[3],ht[3]=$[1]),ht}static intersect($,ht){const vt=Math.max(Math.min($[0],$[2]),Math.min(ht[0],ht[2])),bt=Math.min(Math.max($[0],$[2]),Math.max(ht[0],ht[2]));if(vt>bt)return null;const _t=Math.max(Math.min($[1],$[3]),Math.min(ht[1],ht[3])),wt=Math.min(Math.max($[1],$[3]),Math.max(ht[1],ht[3]));return _t>wt?null:[vt,_t,bt,wt]}static bezierBoundingBox($,ht,vt,bt,_t,wt,At,St,Et){return Et?(Et[0]=Math.min(Et[0],$,At),Et[1]=Math.min(Et[1],ht,St),Et[2]=Math.max(Et[2],$,At),Et[3]=Math.max(Et[3],ht,St)):Et=[Math.min($,At),Math.min(ht,St),Math.max($,At),Math.max(ht,St)],zt(this,pu,R_).call(this,$,vt,_t,At,ht,bt,wt,St,3*(-$+3*(vt-_t)+At),6*($-2*vt+_t),3*(vt-$),Et),zt(this,pu,R_).call(this,$,vt,_t,At,ht,bt,wt,St,3*(-ht+3*(bt-wt)+St),6*(ht-2*bt+wt),3*(bt-ht),Et),Et}}pu=new WeakSet,m0=function($,ht,vt,bt,_t,wt,At,St,Et,xt){if(Et<=0||Et>=1)return;const Pt=1-Et,$t=Et*Et,kt=$t*Et,Rt=Pt*(Pt*(Pt*$+3*Et*ht)+3*$t*vt)+kt*bt,Mt=Pt*(Pt*(Pt*_t+3*Et*wt)+3*$t*At)+kt*St;xt[0]=Math.min(xt[0],Rt),xt[1]=Math.min(xt[1],Mt),xt[2]=Math.max(xt[2],Rt),xt[3]=Math.max(xt[3],Mt)},R_=function($,ht,vt,bt,_t,wt,At,St,Et,xt,Pt,$t){if(Math.abs(Et)<1e-12){Math.abs(xt)>=1e-12&&zt(this,pu,m0).call(this,$,ht,vt,bt,_t,wt,At,St,-Pt/xt,$t);return}const kt=xt**2-4*Pt*Et;if(kt<0)return;const Rt=Math.sqrt(kt),Mt=2*Et;zt(this,pu,m0).call(this,$,ht,vt,bt,_t,wt,At,St,(-xt+Rt)/Mt,$t),zt(this,pu,m0).call(this,$,ht,vt,bt,_t,wt,At,St,(-xt-Rt)/Mt,$t)},Xt(Util,pu);function stringToUTF8String(_e){return decodeURIComponent(escape(_e))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(_e){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ﬅ","ſt"]])),_e.replaceAll(NormalizeRegex,($,ht,vt)=>ht?ht.normalize("NFKC"):NormalizationMap.get(vt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_e);else for(let $=0;$<32;$++)_e[$]=Math.floor(Math.random()*255);return bytesToString(_e)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,ht){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,ht,vt,bt,_t){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,ht){if($<=0||ht<=0)throw new Error("Invalid canvas size");const vt=this._createCanvas($,ht);return{canvas:vt,context:vt.getContext("2d")}}reset($,ht,vt){if(!$.canvas)throw new Error("Canvas is not specified");if(ht<=0||vt<=0)throw new Error("Invalid canvas size");$.canvas.width=ht,$.canvas.height=vt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,ht){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:ht=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=ht}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const ht=this.baseUrl+$+(this.isCompressed?".bcmap":""),vt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(ht,vt).catch(bt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ht}`)})}_fetchData($,ht){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const ht=`${this.baseUrl}${$}`;return this._fetchData(ht).catch(vt=>{throw new Error(`Unable to load font data at: ${ht}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,ht,vt=!1){if($<=0||ht<=0)throw new Error("Invalid SVG dimensions");const bt=this._createSVG("svg:svg");return bt.setAttribute("version","1.1"),vt||(bt.setAttribute("width",`${$}px`),bt.setAttribute("height",`${ht}px`)),bt.setAttribute("preserveAspectRatio","none"),bt.setAttribute("viewBox",`0 0 ${$} ${ht}`),bt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",_d=class _d{};Tr(_d,"CSS",96),Tr(_d,"PDF",72),Tr(_d,"PDF_TO_CSS_UNITS",_d.CSS/_d.PDF);let PixelsPerInch=_d;var _f,yl,Wl,Ao,J0,ep,Dr,fo,Jp,em,g0,OA,O_,tm,sy,oy,M_,ay;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:ht,ownerDocument:vt=globalThis.document}={}){super();Xt(this,Dr);Xt(this,_f);Xt(this,yl);Xt(this,Wl);Xt(this,Ao);Xt(this,J0);Xt(this,ep,0);Gt(this,Wl,ht),Gt(this,Ao,vt)}addFilter(ht){if(!ht)return"none";let vt=Ct(this,Dr,fo).get(ht);if(vt)return vt;const[bt,_t,wt]=zt(this,Dr,g0).call(this,ht),At=ht.length===1?bt:`${bt}${_t}${wt}`;if(vt=Ct(this,Dr,fo).get(At),vt)return Ct(this,Dr,fo).set(ht,vt),vt;const St=`g_${Ct(this,Wl)}_transfer_map_${ro(this,ep)._++}`,Et=`url(#${St})`;Ct(this,Dr,fo).set(ht,Et),Ct(this,Dr,fo).set(At,Et);const xt=zt(this,Dr,tm).call(this,St);return zt(this,Dr,oy).call(this,bt,_t,wt,xt),Et}addHCMFilter(ht,vt){var Rt;const bt=`${ht}-${vt}`,_t="base";let wt=Ct(this,Dr,Jp).get(_t);if((wt==null?void 0:wt.key)===bt||(wt?((Rt=wt.filter)==null||Rt.remove(),wt.key=bt,wt.url="none",wt.filter=null):(wt={key:bt,url:"none",filter:null},Ct(this,Dr,Jp).set(_t,wt)),!ht||!vt))return wt.url;const At=zt(this,Dr,ay).call(this,ht);ht=Util.makeHexColor(...At);const St=zt(this,Dr,ay).call(this,vt);if(vt=Util.makeHexColor(...St),Ct(this,Dr,em).style.color="",ht==="#000000"&&vt==="#ffffff"||ht===vt)return wt.url;const Et=new Array(256);for(let Mt=0;Mt<=255;Mt++){const Dt=Mt/255;Et[Mt]=Dt<=.03928?Dt/12.92:((Dt+.055)/1.055)**2.4}const xt=Et.join(","),Pt=`g_${Ct(this,Wl)}_hcm_filter`,$t=wt.filter=zt(this,Dr,tm).call(this,Pt);zt(this,Dr,oy).call(this,xt,xt,xt,$t),zt(this,Dr,O_).call(this,$t);const kt=(Mt,Dt)=>{const Ot=At[Mt]/255,Lt=St[Mt]/255,Nt=new Array(Dt+1);for(let Ht=0;Ht<=Dt;Ht++)Nt[Ht]=Ot+Ht/Dt*(Lt-Ot);return Nt.join(",")};return zt(this,Dr,oy).call(this,kt(0,5),kt(1,5),kt(2,5),$t),wt.url=`url(#${Pt})`,wt.url}addAlphaFilter(ht){let vt=Ct(this,Dr,fo).get(ht);if(vt)return vt;const[bt]=zt(this,Dr,g0).call(this,[ht]),_t=`alpha_${bt}`;if(vt=Ct(this,Dr,fo).get(_t),vt)return Ct(this,Dr,fo).set(ht,vt),vt;const wt=`g_${Ct(this,Wl)}_alpha_map_${ro(this,ep)._++}`,At=`url(#${wt})`;Ct(this,Dr,fo).set(ht,At),Ct(this,Dr,fo).set(_t,At);const St=zt(this,Dr,tm).call(this,wt);return zt(this,Dr,M_).call(this,bt,St),At}addLuminosityFilter(ht){let vt=Ct(this,Dr,fo).get(ht||"luminosity");if(vt)return vt;let bt,_t;if(ht?([bt]=zt(this,Dr,g0).call(this,[ht]),_t=`luminosity_${bt}`):_t="luminosity",vt=Ct(this,Dr,fo).get(_t),vt)return Ct(this,Dr,fo).set(ht,vt),vt;const wt=`g_${Ct(this,Wl)}_luminosity_map_${ro(this,ep)._++}`,At=`url(#${wt})`;Ct(this,Dr,fo).set(ht,At),Ct(this,Dr,fo).set(_t,At);const St=zt(this,Dr,tm).call(this,wt);return zt(this,Dr,OA).call(this,St),ht&&zt(this,Dr,M_).call(this,bt,St),At}addHighlightHCMFilter(ht,vt,bt,_t,wt){var Lt;const At=`${vt}-${bt}-${_t}-${wt}`;let St=Ct(this,Dr,Jp).get(ht);if((St==null?void 0:St.key)===At||(St?((Lt=St.filter)==null||Lt.remove(),St.key=At,St.url="none",St.filter=null):(St={key:At,url:"none",filter:null},Ct(this,Dr,Jp).set(ht,St)),!vt||!bt))return St.url;const[Et,xt]=[vt,bt].map(zt(this,Dr,ay).bind(this));let Pt=Math.round(.2126*Et[0]+.7152*Et[1]+.0722*Et[2]),$t=Math.round(.2126*xt[0]+.7152*xt[1]+.0722*xt[2]),[kt,Rt]=[_t,wt].map(zt(this,Dr,ay).bind(this));$t<Pt&&([Pt,$t,kt,Rt]=[$t,Pt,Rt,kt]),Ct(this,Dr,em).style.color="";const Mt=(Nt,Ht,Ft)=>{const jt=new Array(256),Bt=($t-Pt)/Ft,Vt=Nt/255,Ut=(Ht-Nt)/(255*Ft);let Jt=0;for(let Wt=0;Wt<=Ft;Wt++){const Qt=Math.round(Pt+Wt*Bt),tn=Vt+Wt*Ut;for(let pn=Jt;pn<=Qt;pn++)jt[pn]=tn;Jt=Qt+1}for(let Wt=Jt;Wt<256;Wt++)jt[Wt]=jt[Jt-1];return jt.join(",")},Dt=`g_${Ct(this,Wl)}_hcm_${ht}_filter`,Ot=St.filter=zt(this,Dr,tm).call(this,Dt);return zt(this,Dr,O_).call(this,Ot),zt(this,Dr,oy).call(this,Mt(kt[0],Rt[0],5),Mt(kt[1],Rt[1],5),Mt(kt[2],Rt[2],5),Ot),St.url=`url(#${Dt})`,St.url}destroy(ht=!1){ht&&Ct(this,Dr,Jp).size!==0||(Ct(this,yl)&&(Ct(this,yl).parentNode.parentNode.remove(),Gt(this,yl,null)),Ct(this,_f)&&(Ct(this,_f).clear(),Gt(this,_f,null)),Gt(this,ep,0))}}_f=new WeakMap,yl=new WeakMap,Wl=new WeakMap,Ao=new WeakMap,J0=new WeakMap,ep=new WeakMap,Dr=new WeakSet,fo=function(){return Ct(this,_f)||Gt(this,_f,new Map)},Jp=function(){return Ct(this,J0)||Gt(this,J0,new Map)},em=function(){if(!Ct(this,yl)){const ht=Ct(this,Ao).createElement("div"),{style:vt}=ht;vt.visibility="hidden",vt.contain="strict",vt.width=vt.height=0,vt.position="absolute",vt.top=vt.left=0,vt.zIndex=-1;const bt=Ct(this,Ao).createElementNS(SVG_NS,"svg");bt.setAttribute("width",0),bt.setAttribute("height",0),Gt(this,yl,Ct(this,Ao).createElementNS(SVG_NS,"defs")),ht.append(bt),bt.append(Ct(this,yl)),Ct(this,Ao).body.append(ht)}return Ct(this,yl)},g0=function(ht){if(ht.length===1){const Et=ht[0],xt=new Array(256);for(let $t=0;$t<256;$t++)xt[$t]=Et[$t]/255;const Pt=xt.join(",");return[Pt,Pt,Pt]}const[vt,bt,_t]=ht,wt=new Array(256),At=new Array(256),St=new Array(256);for(let Et=0;Et<256;Et++)wt[Et]=vt[Et]/255,At[Et]=bt[Et]/255,St[Et]=_t[Et]/255;return[wt.join(","),At.join(","),St.join(",")]},OA=function(ht){const vt=Ct(this,Ao).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),ht.append(vt)},O_=function(ht){const vt=Ct(this,Ao).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ht.append(vt)},tm=function(ht){const vt=Ct(this,Ao).createElementNS(SVG_NS,"filter");return vt.setAttribute("color-interpolation-filters","sRGB"),vt.setAttribute("id",ht),Ct(this,Dr,em).append(vt),vt},sy=function(ht,vt,bt){const _t=Ct(this,Ao).createElementNS(SVG_NS,vt);_t.setAttribute("type","discrete"),_t.setAttribute("tableValues",bt),ht.append(_t)},oy=function(ht,vt,bt,_t){const wt=Ct(this,Ao).createElementNS(SVG_NS,"feComponentTransfer");_t.append(wt),zt(this,Dr,sy).call(this,wt,"feFuncR",ht),zt(this,Dr,sy).call(this,wt,"feFuncG",vt),zt(this,Dr,sy).call(this,wt,"feFuncB",bt)},M_=function(ht,vt){const bt=Ct(this,Ao).createElementNS(SVG_NS,"feComponentTransfer");vt.append(bt),zt(this,Dr,sy).call(this,bt,"feFuncA",ht)},ay=function(ht){return Ct(this,Dr,em).style.color=ht,getRGB(getComputedStyle(Ct(this,Dr,em)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,ht){const vt=this._document.createElement("canvas");return vt.width=$,vt.height=ht,vt}}async function fetchData(_e,$="text"){if(isValidFetchUrl(_e,document.baseURI)){const ht=await fetch(_e);if(!ht.ok)throw new Error(ht.statusText);switch($){case"arraybuffer":return ht.arrayBuffer();case"blob":return ht.blob();case"json":return ht.json()}return ht.text()}return new Promise((ht,vt)=>{const bt=new XMLHttpRequest;bt.open("GET",_e,!0),bt.responseType=$,bt.onreadystatechange=()=>{if(bt.readyState===XMLHttpRequest.DONE){if(bt.status===200||bt.status===0){switch($){case"arraybuffer":case"blob":case"json":ht(bt.response);return}ht(bt.responseText);return}vt(new Error(bt.statusText))}},bt.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return fetchData($,this.isCompressed?"arraybuffer":"text").then(vt=>({cMapData:vt instanceof ArrayBuffer?new Uint8Array(vt):stringToBytes(vt),compressionType:ht}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(ht=>new Uint8Array(ht))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:ht,rotation:vt,offsetX:bt=0,offsetY:_t=0,dontFlip:wt=!1}){this.viewBox=$,this.scale=ht,this.rotation=vt,this.offsetX=bt,this.offsetY=_t;const At=($[2]+$[0])/2,St=($[3]+$[1])/2;let Et,xt,Pt,$t;switch(vt%=360,vt<0&&(vt+=360),vt){case 180:Et=-1,xt=0,Pt=0,$t=1;break;case 90:Et=0,xt=1,Pt=1,$t=0;break;case 270:Et=0,xt=-1,Pt=-1,$t=0;break;case 0:Et=1,xt=0,Pt=0,$t=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}wt&&(Pt=-Pt,$t=-$t);let kt,Rt,Mt,Dt;Et===0?(kt=Math.abs(St-$[1])*ht+bt,Rt=Math.abs(At-$[0])*ht+_t,Mt=($[3]-$[1])*ht,Dt=($[2]-$[0])*ht):(kt=Math.abs(At-$[0])*ht+bt,Rt=Math.abs(St-$[1])*ht+_t,Mt=($[2]-$[0])*ht,Dt=($[3]-$[1])*ht),this.transform=[Et*ht,xt*ht,Pt*ht,$t*ht,kt-Et*ht*At-Pt*ht*St,Rt-xt*ht*At-$t*ht*St],this.width=Mt,this.height=Dt}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:ht=this.rotation,offsetX:vt=this.offsetX,offsetY:bt=this.offsetY,dontFlip:_t=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:ht,offsetX:vt,offsetY:bt,dontFlip:_t})}convertToViewportPoint($,ht){return Util.applyTransform([$,ht],this.transform)}convertToViewportRectangle($){const ht=Util.applyTransform([$[0],$[1]],this.transform),vt=Util.applyTransform([$[2],$[3]],this.transform);return[ht[0],ht[1],vt[0],vt[1]]}convertToPdfPoint($,ht){return Util.applyInverseTransform([$,ht],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,ht=0){super($,"RenderingCancelledException"),this.extraDelay=ht}}function isDataScheme(_e){const $=_e.length;let ht=0;for(;ht<$&&_e[ht].trim()==="";)ht++;return _e.substring(ht,ht+5).toLowerCase()==="data:"}function isPdfFile(_e){return typeof _e=="string"&&/\.pdf$/i.test(_e)}function getFilenameFromUrl(_e){return[_e]=_e.split(/[#?]/,1),_e.substring(_e.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(_e,$="document.pdf"){if(typeof _e!="string")return $;if(isDataScheme(_e))return warn$1('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const ht=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,bt=ht.exec(_e);let _t=vt.exec(bt[1])||vt.exec(bt[2])||vt.exec(bt[3]);if(_t&&(_t=_t[0],_t.includes("%")))try{_t=vt.exec(decodeURIComponent(_t))[0]}catch{}return _t||$}class StatTimer{constructor(){Tr(this,"started",Object.create(null));Tr(this,"times",[])}time($){$ in this.started&&warn$1(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn$1(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let ht=0;for(const{name:vt}of this.times)ht=Math.max(vt.length,ht);for(const{name:vt,start:bt,end:_t}of this.times)$.push(`${vt.padEnd(ht)} ${_t-bt}ms
`);return $.join("")}}function isValidFetchUrl(_e,$){try{const{protocol:ht}=$?new URL(_e,$):new URL(_e);return ht==="http:"||ht==="https:"}catch{return!1}}function noContextMenu(_e){_e.preventDefault()}function deprecated(_e){console.log("Deprecated API usage: "+_e)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ht=pdfDateStringRegex.exec($);if(!ht)return null;const vt=parseInt(ht[1],10);let bt=parseInt(ht[2],10);bt=bt>=1&&bt<=12?bt-1:0;let _t=parseInt(ht[3],10);_t=_t>=1&&_t<=31?_t:1;let wt=parseInt(ht[4],10);wt=wt>=0&&wt<=23?wt:0;let At=parseInt(ht[5],10);At=At>=0&&At<=59?At:0;let St=parseInt(ht[6],10);St=St>=0&&St<=59?St:0;const Et=ht[7]||"Z";let xt=parseInt(ht[8],10);xt=xt>=0&&xt<=23?xt:0;let Pt=parseInt(ht[9],10)||0;return Pt=Pt>=0&&Pt<=59?Pt:0,Et==="-"?(wt+=xt,At+=Pt):Et==="+"&&(wt-=xt,At-=Pt),new Date(Date.UTC(vt,bt,_t,wt,At,St))}}function getXfaPageViewport(_e,{scale:$=1,rotation:ht=0}){const{width:vt,height:bt}=_e.attributes.style,_t=[0,0,parseInt(vt),parseInt(bt)];return new PageViewport({viewBox:_t,scale:$,rotation:ht})}function getRGB(_e){if(_e.startsWith("#")){const $=parseInt(_e.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return _e.startsWith("rgb(")?_e.slice(4,-1).split(",").map($=>parseInt($)):_e.startsWith("rgba(")?_e.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn$1(`Not a valid color format: "${_e}"`),[0,0,0])}function getColorValues(_e){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const ht of _e.keys()){$.style.color=ht;const vt=window.getComputedStyle($).color;_e.set(ht,getRGB(vt))}$.remove()}function getCurrentTransform(_e){const{a:$,b:ht,c:vt,d:bt,e:_t,f:wt}=_e.getTransform();return[$,ht,vt,bt,_t,wt]}function getCurrentTransformInverse(_e){const{a:$,b:ht,c:vt,d:bt,e:_t,f:wt}=_e.getTransform().invertSelf();return[$,ht,vt,bt,_t,wt]}function setLayerDimensions(_e,$,ht=!1,vt=!0){if($ instanceof PageViewport){const{pageWidth:bt,pageHeight:_t}=$.rawDims,{style:wt}=_e,At=util_FeatureTest.isCSSRoundSupported,St=`var(--scale-factor) * ${bt}px`,Et=`var(--scale-factor) * ${_t}px`,xt=At?`round(${St}, 1px)`:`calc(${St})`,Pt=At?`round(${Et}, 1px)`:`calc(${Et})`;!ht||$.rotation%180===0?(wt.width=xt,wt.height=Pt):(wt.width=Pt,wt.height=xt)}vt&&_e.setAttribute("data-main-rotation",$.rotation)}var tp,np,_l,rp,e_,MA,bo,IA,LA,y0,DA,I_;const t_=class t_{constructor($){Xt(this,bo);Xt(this,tp,null);Xt(this,np,null);Xt(this,_l);Xt(this,rp,null);Gt(this,_l,$)}render(){const $=Gt(this,tp,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",zt(t_,e_,MA));const ht=Gt(this,rp,document.createElement("div"));ht.className="buttons",$.append(ht);const vt=Ct(this,_l).toolbarPosition;if(vt){const{style:bt}=$,_t=Ct(this,_l)._uiManager.direction==="ltr"?1-vt[0]:vt[0];bt.insetInlineEnd=`${100*_t}%`,bt.top=`calc(${100*vt[1]}% + var(--editor-toolbar-vert-offset))`}return zt(this,bo,DA).call(this),$}hide(){var $;Ct(this,tp).classList.add("hidden"),($=Ct(this,np))==null||$.hideDropdown()}show(){Ct(this,tp).classList.remove("hidden")}addAltTextButton($){zt(this,bo,y0).call(this,$),Ct(this,rp).prepend($,Ct(this,bo,I_))}addColorPicker($){Gt(this,np,$);const ht=$.renderButton();zt(this,bo,y0).call(this,ht),Ct(this,rp).prepend(ht,Ct(this,bo,I_))}remove(){var $;Ct(this,tp).remove(),($=Ct(this,np))==null||$.destroy(),Gt(this,np,null)}};tp=new WeakMap,np=new WeakMap,_l=new WeakMap,rp=new WeakMap,e_=new WeakSet,MA=function($){$.stopPropagation()},bo=new WeakSet,IA=function($){Ct(this,_l)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},LA=function($){Ct(this,_l)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},y0=function($){$.addEventListener("focusin",zt(this,bo,IA).bind(this),{capture:!0}),$.addEventListener("focusout",zt(this,bo,LA).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},DA=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${Ct(this,_l).editorType}-button`),zt(this,bo,y0).call(this,$),$.addEventListener("click",ht=>{Ct(this,_l)._uiManager.delete()}),Ct(this,rp).append($)},I_=function(){const $=document.createElement("div");return $.className="divider",$},Xt(t_,e_);let EditorToolbar=t_;var Py,ip,Ty,qu,FA,NA,jA;class HighlightToolbar{constructor($){Xt(this,qu);Xt(this,Py,null);Xt(this,ip,null);Xt(this,Ty);Gt(this,Ty,$)}show($,ht,vt){const[bt,_t]=zt(this,qu,NA).call(this,ht,vt),{style:wt}=Ct(this,ip)||Gt(this,ip,zt(this,qu,FA).call(this));$.append(Ct(this,ip)),wt.insetInlineEnd=`${100*bt}%`,wt.top=`calc(${100*_t}% + var(--editor-toolbar-vert-offset))`}hide(){Ct(this,ip).remove()}}Py=new WeakMap,ip=new WeakMap,Ty=new WeakMap,qu=new WeakSet,FA=function(){const $=Gt(this,ip,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const ht=Gt(this,Py,document.createElement("div"));return ht.className="buttons",$.append(ht),zt(this,qu,jA).call(this),$},NA=function($,ht){let vt=0,bt=0;for(const _t of $){const wt=_t.y+_t.height;if(wt<vt)continue;const At=_t.x+(ht?_t.width:0);if(wt>vt){bt=At,vt=wt;continue}ht?At>bt&&(bt=At):At<bt&&(bt=At)}return[ht?1-bt:bt,vt]},jA=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const ht=document.createElement("span");$.append(ht),ht.className="visuallyHidden",ht.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{Ct(this,Ty).highlightSelection("floating_button")}),Ct(this,Py).append($)};function bindEvents(_e,$,ht){for(const vt of ht)$.addEventListener(vt,_e[vt].bind(_e))}function opacityToHex(_e){return Math.round(Math.min(255,Math.max(1,255*_e))).toString(16).padStart(2,"0")}var n_;class IdManager{constructor(){Xt(this,n_,0)}get id(){return`${AnnotationEditorPrefix}${ro(this,n_)._++}`}}n_=new WeakMap;var Cy,r_,Do,$y,L_;const cA=class cA{constructor(){Xt(this,$y);Xt(this,Cy,getUuid());Xt(this,r_,0);Xt(this,Do,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',vt=new OffscreenCanvas(1,3).getContext("2d"),bt=new Image;bt.src=$;const _t=bt.decode().then(()=>(vt.drawImage(bt,0,0,1,1,0,0,1,3),new Uint32Array(vt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",_t)}async getFromFile($){const{lastModified:ht,name:vt,size:bt,type:_t}=$;return zt(this,$y,L_).call(this,`${ht}_${vt}_${bt}_${_t}`,$)}async getFromUrl($){return zt(this,$y,L_).call(this,$,$)}async getFromId($){Ct(this,Do)||Gt(this,Do,new Map);const ht=Ct(this,Do).get($);return ht?ht.bitmap?(ht.refCounter+=1,ht):ht.file?this.getFromFile(ht.file):this.getFromUrl(ht.url):null}getSvgUrl($){const ht=Ct(this,Do).get($);return ht!=null&&ht.isSvg?ht.svgUrl:null}deleteId($){Ct(this,Do)||Gt(this,Do,new Map);const ht=Ct(this,Do).get($);ht&&(ht.refCounter-=1,ht.refCounter===0&&(ht.bitmap=null))}isValidId($){return $.startsWith(`image_${Ct(this,Cy)}_`)}};Cy=new WeakMap,r_=new WeakMap,Do=new WeakMap,$y=new WeakSet,L_=async function($,ht){Ct(this,Do)||Gt(this,Do,new Map);let vt=Ct(this,Do).get($);if(vt===null)return null;if(vt!=null&&vt.bitmap)return vt.refCounter+=1,vt;try{vt||(vt={bitmap:null,id:`image_${Ct(this,Cy)}_${ro(this,r_)._++}`,refCounter:0,isSvg:!1});let bt;if(typeof ht=="string"?(vt.url=ht,bt=await fetchData(ht,"blob")):bt=vt.file=ht,bt.type==="image/svg+xml"){const _t=cA._isSVGFittingCanvas,wt=new FileReader,At=new Image,St=new Promise((Et,xt)=>{At.onload=()=>{vt.bitmap=At,vt.isSvg=!0,Et()},wt.onload=async()=>{const Pt=vt.svgUrl=wt.result;At.src=await _t?`${Pt}#svgView(preserveAspectRatio(none))`:Pt},At.onerror=wt.onerror=xt});wt.readAsDataURL(bt),await St}else vt.bitmap=await createImageBitmap(bt);vt.refCounter=1}catch(bt){console.error(bt),vt=null}return Ct(this,Do).set($,vt),vt&&Ct(this,Do).set(vt.id,vt),vt};let ImageManager=cA;var eo,xu,Ry,to;class CommandManager{constructor($=128){Xt(this,eo,[]);Xt(this,xu,!1);Xt(this,Ry);Xt(this,to,-1);Gt(this,Ry,$)}add({cmd:$,undo:ht,post:vt,mustExec:bt,type:_t=NaN,overwriteIfSameType:wt=!1,keepUndo:At=!1}){if(bt&&$(),Ct(this,xu))return;const St={cmd:$,undo:ht,post:vt,type:_t};if(Ct(this,to)===-1){Ct(this,eo).length>0&&(Ct(this,eo).length=0),Gt(this,to,0),Ct(this,eo).push(St);return}if(wt&&Ct(this,eo)[Ct(this,to)].type===_t){At&&(St.undo=Ct(this,eo)[Ct(this,to)].undo),Ct(this,eo)[Ct(this,to)]=St;return}const Et=Ct(this,to)+1;Et===Ct(this,Ry)?Ct(this,eo).splice(0,1):(Gt(this,to,Et),Et<Ct(this,eo).length&&Ct(this,eo).splice(Et)),Ct(this,eo).push(St)}undo(){if(Ct(this,to)===-1)return;Gt(this,xu,!0);const{undo:$,post:ht}=Ct(this,eo)[Ct(this,to)];$(),ht==null||ht(),Gt(this,xu,!1),Gt(this,to,Ct(this,to)-1)}redo(){if(Ct(this,to)<Ct(this,eo).length-1){Gt(this,to,Ct(this,to)+1),Gt(this,xu,!0);const{cmd:$,post:ht}=Ct(this,eo)[Ct(this,to)];$(),ht==null||ht(),Gt(this,xu,!1)}}hasSomethingToUndo(){return Ct(this,to)!==-1}hasSomethingToRedo(){return Ct(this,to)<Ct(this,eo).length-1}destroy(){Gt(this,eo,null)}}eo=new WeakMap,xu=new WeakMap,Ry=new WeakMap,to=new WeakMap;var i_,BA;class KeyboardManager{constructor($){Xt(this,i_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ht}=util_FeatureTest.platform;for(const[vt,bt,_t={}]of $)for(const wt of vt){const At=wt.startsWith("mac+");ht&&At?(this.callbacks.set(wt.slice(4),{callback:bt,options:_t}),this.allKeys.add(wt.split("+").at(-1))):!ht&&!At&&(this.callbacks.set(wt,{callback:bt,options:_t}),this.allKeys.add(wt.split("+").at(-1)))}}exec($,ht){if(!this.allKeys.has(ht.key))return;const vt=this.callbacks.get(zt(this,i_,BA).call(this,ht));if(!vt)return;const{callback:bt,options:{bubbles:_t=!1,args:wt=[],checker:At=null}}=vt;At&&!At($,ht)||(bt.bind($,...wt,ht)(),_t||(ht.stopPropagation(),ht.preventDefault()))}}i_=new WeakSet,BA=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const ht=this.buffer.join("+");return this.buffer.length=0,ht};const s_=class s_{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const ht=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return ht;for(const[vt,bt]of this._colors)if(bt.every((_t,wt)=>_t===ht[wt]))return s_._colorsMapping.get(vt);return ht}getHexCode($){const ht=this._colors.get($);return ht?Util.makeHexColor(...ht):$}};Tr(s_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=s_;var Co,Ks,so,dm,zl,hm,qo,fm,sp,wl,Gl,op,Oy,My,Al,pm,Pu,Sl,o_,Tu,Iy,ap,Ly,mm,oo,Ss,Kl,lp,Dy,Fy,Ny,jy,By,Hy,Vy,Uy,Wy,zy,qy,Gy,Ky,Xy,Cu,El,Xl,Yy,Er,v0,HA,VA,b0,UA,WA,zA,D_,F_,N_,j_,B_,mo,Su,qA,GA,H_,KA,ly,V_;const um=class um{constructor($,ht,vt,bt,_t,wt,At,St,Et){Xt(this,Er);Xt(this,Co,null);Xt(this,Ks,new Map);Xt(this,so,new Map);Xt(this,dm,null);Xt(this,zl,null);Xt(this,hm,null);Xt(this,qo,new CommandManager);Xt(this,fm,0);Xt(this,sp,new Set);Xt(this,wl,null);Xt(this,Gl,null);Xt(this,op,new Set);Xt(this,Oy,!1);Xt(this,My,null);Xt(this,Al,null);Xt(this,pm,null);Xt(this,Pu,!1);Xt(this,Sl,null);Xt(this,o_,new IdManager);Xt(this,Tu,!1);Xt(this,Iy,!1);Xt(this,ap,null);Xt(this,Ly,null);Xt(this,mm,null);Xt(this,oo,AnnotationEditorType.NONE);Xt(this,Ss,new Set);Xt(this,Kl,null);Xt(this,lp,null);Xt(this,Dy,null);Xt(this,Fy,this.blur.bind(this));Xt(this,Ny,this.focus.bind(this));Xt(this,jy,this.copy.bind(this));Xt(this,By,this.cut.bind(this));Xt(this,Hy,this.paste.bind(this));Xt(this,Vy,this.keydown.bind(this));Xt(this,Uy,this.keyup.bind(this));Xt(this,Wy,this.onEditingAction.bind(this));Xt(this,zy,this.onPageChanging.bind(this));Xt(this,qy,this.onScaleChanging.bind(this));Xt(this,Gy,zt(this,Er,VA).bind(this));Xt(this,Ky,this.onRotationChanging.bind(this));Xt(this,Xy,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Xt(this,Cu,[0,0]);Xt(this,El,null);Xt(this,Xl,null);Xt(this,Yy,null);Gt(this,Xl,$),Gt(this,Yy,ht),Gt(this,dm,vt),this._eventBus=bt,this._eventBus._on("editingaction",Ct(this,Wy)),this._eventBus._on("pagechanging",Ct(this,zy)),this._eventBus._on("scalechanging",Ct(this,qy)),this._eventBus._on("rotationchanging",Ct(this,Ky)),zt(this,Er,UA).call(this),zt(this,Er,F_).call(this),Gt(this,zl,_t.annotationStorage),Gt(this,My,_t.filterFactory),Gt(this,lp,wt),Gt(this,pm,At||null),Gt(this,Oy,St),Gt(this,mm,Et||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=um.prototype,ht=wt=>Ct(wt,Xl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&wt.hasSomethingToControl(),vt=(wt,{target:At})=>{if(At instanceof HTMLInputElement){const{type:St}=At;return St!=="text"&&St!=="number"}return!0},bt=this.TRANSLATE_SMALL,_t=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:vt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:vt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:vt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:vt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(wt,{target:At})=>!(At instanceof HTMLButtonElement)&&Ct(wt,Xl).contains(At)&&!wt.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(wt,{target:At})=>!(At instanceof HTMLButtonElement)&&Ct(wt,Xl).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-bt,0],checker:ht}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-_t,0],checker:ht}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[bt,0],checker:ht}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[_t,0],checker:ht}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-bt],checker:ht}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-_t],checker:ht}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,bt],checker:ht}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,_t],checker:ht}]]))}destroy(){var $,ht;zt(this,Er,N_).call(this),zt(this,Er,D_).call(this),this._eventBus._off("editingaction",Ct(this,Wy)),this._eventBus._off("pagechanging",Ct(this,zy)),this._eventBus._off("scalechanging",Ct(this,qy)),this._eventBus._off("rotationchanging",Ct(this,Ky));for(const vt of Ct(this,so).values())vt.destroy();Ct(this,so).clear(),Ct(this,Ks).clear(),Ct(this,op).clear(),Gt(this,Co,null),Ct(this,Ss).clear(),Ct(this,qo).destroy(),($=Ct(this,dm))==null||$.destroy(),(ht=Ct(this,Sl))==null||ht.hide(),Gt(this,Sl,null),Ct(this,Al)&&(clearTimeout(Ct(this,Al)),Gt(this,Al,null)),Ct(this,El)&&(clearTimeout(Ct(this,El)),Gt(this,El,null)),zt(this,Er,WA).call(this)}async mlGuess($){var ht;return((ht=Ct(this,mm))==null?void 0:ht.guess($))||null}get hasMLManager(){return!!Ct(this,mm)}get hcmFilter(){return shadow(this,"hcmFilter",Ct(this,lp)?Ct(this,My).addHCMFilter(Ct(this,lp).foreground,Ct(this,lp).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(Ct(this,Xl)).direction)}get highlightColors(){return shadow(this,"highlightColors",Ct(this,pm)?new Map(Ct(this,pm).split(",").map($=>$.split("=").map(ht=>ht.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){Gt(this,Ly,$)}editAltText($){var ht;(ht=Ct(this,dm))==null||ht.editAltText(this,$)}onPageChanging({pageNumber:$}){Gt(this,fm,$-1)}focusMainContainer(){Ct(this,Xl).focus()}findParent($,ht){for(const vt of Ct(this,so).values()){const{x:bt,y:_t,width:wt,height:At}=vt.div.getBoundingClientRect();if($>=bt&&$<=bt+wt&&ht>=_t&&ht<=_t+At)return vt}return null}disableUserSelect($=!1){Ct(this,Yy).classList.toggle("noUserSelect",$)}addShouldRescale($){Ct(this,op).add($)}removeShouldRescale($){Ct(this,op).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const ht of Ct(this,op))ht.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const ht=document.getSelection();if(!ht||ht.isCollapsed)return;const{anchorNode:vt,anchorOffset:bt,focusNode:_t,focusOffset:wt}=ht,At=ht.toString(),Et=zt(this,Er,v0).call(this,ht).closest(".textLayer"),xt=this.getSelectionBoxes(Et);if(xt){ht.empty(),Ct(this,oo)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Pt of Ct(this,so).values())if(Pt.hasTextLayer(Et)){Pt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:xt,anchorNode:vt,anchorOffset:bt,focusNode:_t,focusOffset:wt,text:At});break}}}addToAnnotationStorage($){!$.isEmpty()&&Ct(this,zl)&&!Ct(this,zl).has($.id)&&Ct(this,zl).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,Ct(this,Pu)&&(Gt(this,Pu,!1),zt(this,Er,b0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const ht of Ct(this,Ss))if(ht.div.contains($)){Gt(this,ap,[ht,$]),ht._focusEventsAllowed=!1;break}}focus(){if(!Ct(this,ap))return;const[$,ht]=Ct(this,ap);Gt(this,ap,null),ht.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus()}addEditListeners(){zt(this,Er,F_).call(this),zt(this,Er,j_).call(this)}removeEditListeners(){zt(this,Er,N_).call(this),zt(this,Er,B_).call(this)}copy($){var vt;if($.preventDefault(),(vt=Ct(this,Co))==null||vt.commitOrRemove(),!this.hasSelection)return;const ht=[];for(const bt of Ct(this,Ss)){const _t=bt.serialize(!0);_t&&ht.push(_t)}ht.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(ht))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:ht}=$;for(const _t of ht.items)for(const wt of Ct(this,Gl))if(wt.isHandlingMimeForPasting(_t.type)){wt.paste(_t,this.currentLayer);return}let vt=ht.getData("application/pdfjs");if(!vt)return;try{vt=JSON.parse(vt)}catch(_t){warn$1(`paste: "${_t.message}".`);return}if(!Array.isArray(vt))return;this.unselectAll();const bt=this.currentLayer;try{const _t=[];for(const St of vt){const Et=bt.deserialize(St);if(!Et)return;_t.push(Et)}const wt=()=>{for(const St of _t)zt(this,Er,H_).call(this,St);zt(this,Er,V_).call(this,_t)},At=()=>{for(const St of _t)St.remove()};this.addCommands({cmd:wt,undo:At,mustExec:!0})}catch(_t){warn$1(`paste: "${_t.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),Ct(this,oo)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&um._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,Ct(this,Pu)&&(Gt(this,Pu,!1),zt(this,Er,b0).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(zt(this,Er,zA).call(this),zt(this,Er,j_).call(this),zt(this,Er,mo).call(this,{isEditing:Ct(this,oo)!==AnnotationEditorType.NONE,isEmpty:zt(this,Er,ly).call(this),hasSomethingToUndo:Ct(this,qo).hasSomethingToUndo(),hasSomethingToRedo:Ct(this,qo).hasSomethingToRedo(),hasSelectedEditor:!1})):(zt(this,Er,D_).call(this),zt(this,Er,B_).call(this),zt(this,Er,mo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!Ct(this,Gl)){Gt(this,Gl,$);for(const ht of Ct(this,Gl))zt(this,Er,Su).call(this,ht.defaultPropertiesToUpdate)}}getId(){return Ct(this,o_).id}get currentLayer(){return Ct(this,so).get(Ct(this,fm))}getLayer($){return Ct(this,so).get($)}get currentPageIndex(){return Ct(this,fm)}addLayer($){Ct(this,so).set($.pageIndex,$),Ct(this,Tu)?$.enable():$.disable()}removeLayer($){Ct(this,so).delete($.pageIndex)}updateMode($,ht=null,vt=!1){if(Ct(this,oo)!==$){if(Gt(this,oo,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),zt(this,Er,GA).call(this);return}this.setEditingState(!0),zt(this,Er,qA).call(this),this.unselectAll();for(const bt of Ct(this,so).values())bt.updateMode($);if(!ht&&vt){this.addNewEditorFromKeyboard();return}if(ht){for(const bt of Ct(this,Ks).values())if(bt.annotationElementId===ht){this.setSelected(bt),bt.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==Ct(this,oo)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,ht){var vt;if(Ct(this,Gl)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(vt=Ct(this,Ly))==null||vt.updateColor(ht);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Ct(this,Dy)||Gt(this,Dy,new Map)).set($,ht),this.showAllEditors("highlight",ht);break}for(const bt of Ct(this,Ss))bt.updateParams($,ht);for(const bt of Ct(this,Gl))bt.updateDefaultParams($,ht)}}showAllEditors($,ht,vt=!1){var _t;for(const wt of Ct(this,Ks).values())wt.editorType===$&&wt.show(ht);(((_t=Ct(this,Dy))==null?void 0:_t.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==ht&&zt(this,Er,Su).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,ht]])}enableWaiting($=!1){if(Ct(this,Iy)!==$){Gt(this,Iy,$);for(const ht of Ct(this,so).values())$?ht.disableClick():ht.enableClick(),ht.div.classList.toggle("waiting",$)}}getEditors($){const ht=[];for(const vt of Ct(this,Ks).values())vt.pageIndex===$&&ht.push(vt);return ht}getEditor($){return Ct(this,Ks).get($)}addEditor($){Ct(this,Ks).set($.id,$)}removeEditor($){var ht;$.div.contains(document.activeElement)&&(Ct(this,Al)&&clearTimeout(Ct(this,Al)),Gt(this,Al,setTimeout(()=>{this.focusMainContainer(),Gt(this,Al,null)},0))),Ct(this,Ks).delete($.id),this.unselect($),(!$.annotationElementId||!Ct(this,sp).has($.annotationElementId))&&((ht=Ct(this,zl))==null||ht.remove($.id))}addDeletedAnnotationElement($){Ct(this,sp).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return Ct(this,sp).has($)}removeDeletedAnnotationElement($){Ct(this,sp).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){Ct(this,Co)!==$&&(Gt(this,Co,$),$&&zt(this,Er,Su).call(this,$.propertiesToUpdate))}updateUI($){Ct(this,Er,KA)===$&&zt(this,Er,Su).call(this,$.propertiesToUpdate)}toggleSelected($){if(Ct(this,Ss).has($)){Ct(this,Ss).delete($),$.unselect(),zt(this,Er,mo).call(this,{hasSelectedEditor:this.hasSelection});return}Ct(this,Ss).add($),$.select(),zt(this,Er,Su).call(this,$.propertiesToUpdate),zt(this,Er,mo).call(this,{hasSelectedEditor:!0})}setSelected($){for(const ht of Ct(this,Ss))ht!==$&&ht.unselect();Ct(this,Ss).clear(),Ct(this,Ss).add($),$.select(),zt(this,Er,Su).call(this,$.propertiesToUpdate),zt(this,Er,mo).call(this,{hasSelectedEditor:!0})}isSelected($){return Ct(this,Ss).has($)}get firstSelectedEditor(){return Ct(this,Ss).values().next().value}unselect($){$.unselect(),Ct(this,Ss).delete($),zt(this,Er,mo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ct(this,Ss).size!==0}get isEnterHandled(){return Ct(this,Ss).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){Ct(this,qo).undo(),zt(this,Er,mo).call(this,{hasSomethingToUndo:Ct(this,qo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:zt(this,Er,ly).call(this)})}redo(){Ct(this,qo).redo(),zt(this,Er,mo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ct(this,qo).hasSomethingToRedo(),isEmpty:zt(this,Er,ly).call(this)})}addCommands($){Ct(this,qo).add($),zt(this,Er,mo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:zt(this,Er,ly).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[...Ct(this,Ss)],ht=()=>{for(const bt of $)bt.remove()},vt=()=>{for(const bt of $)zt(this,Er,H_).call(this,bt)};this.addCommands({cmd:ht,undo:vt,mustExec:!0})}commitOrRemove(){var $;($=Ct(this,Co))==null||$.commitOrRemove()}hasSomethingToControl(){return Ct(this,Co)||this.hasSelection}selectAll(){for(const $ of Ct(this,Ss))$.commit();zt(this,Er,V_).call(this,Ct(this,Ks).values())}unselectAll(){if(!(Ct(this,Co)&&(Ct(this,Co).commitOrRemove(),Ct(this,oo)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of Ct(this,Ss))$.unselect();Ct(this,Ss).clear(),zt(this,Er,mo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,ht,vt=!1){if(vt||this.commitOrRemove(),!this.hasSelection)return;Ct(this,Cu)[0]+=$,Ct(this,Cu)[1]+=ht;const[bt,_t]=Ct(this,Cu),wt=[...Ct(this,Ss)],At=1e3;Ct(this,El)&&clearTimeout(Ct(this,El)),Gt(this,El,setTimeout(()=>{Gt(this,El,null),Ct(this,Cu)[0]=Ct(this,Cu)[1]=0,this.addCommands({cmd:()=>{for(const St of wt)Ct(this,Ks).has(St.id)&&St.translateInPage(bt,_t)},undo:()=>{for(const St of wt)Ct(this,Ks).has(St.id)&&St.translateInPage(-bt,-_t)},mustExec:!1})},At));for(const St of wt)St.translateInPage($,ht)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Gt(this,wl,new Map);for(const $ of Ct(this,Ss))Ct(this,wl).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ct(this,wl))return!1;this.disableUserSelect(!1);const $=Ct(this,wl);Gt(this,wl,null);let ht=!1;for(const[{x:bt,y:_t,pageIndex:wt},At]of $)At.newX=bt,At.newY=_t,At.newPageIndex=wt,ht||(ht=bt!==At.savedX||_t!==At.savedY||wt!==At.savedPageIndex);if(!ht)return!1;const vt=(bt,_t,wt,At)=>{if(Ct(this,Ks).has(bt.id)){const St=Ct(this,so).get(At);St?bt._setParentAndPosition(St,_t,wt):(bt.pageIndex=At,bt.x=_t,bt.y=wt)}};return this.addCommands({cmd:()=>{for(const[bt,{newX:_t,newY:wt,newPageIndex:At}]of $)vt(bt,_t,wt,At)},undo:()=>{for(const[bt,{savedX:_t,savedY:wt,savedPageIndex:At}]of $)vt(bt,_t,wt,At)},mustExec:!0}),!0}dragSelectedEditors($,ht){if(Ct(this,wl))for(const vt of Ct(this,wl).keys())vt.drag($,ht)}rebuild($){if($.parent===null){const ht=this.getLayer($.pageIndex);ht?(ht.changeParent($),ht.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||Ct(this,Ss).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return Ct(this,Co)===$}getActive(){return Ct(this,Co)}getMode(){return Ct(this,oo)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const ht=document.getSelection();for(let Et=0,xt=ht.rangeCount;Et<xt;Et++)if(!$.contains(ht.getRangeAt(Et).commonAncestorContainer))return null;const{x:vt,y:bt,width:_t,height:wt}=$.getBoundingClientRect();let At;switch($.getAttribute("data-main-rotation")){case"90":At=(Et,xt,Pt,$t)=>({x:(xt-bt)/wt,y:1-(Et+Pt-vt)/_t,width:$t/wt,height:Pt/_t});break;case"180":At=(Et,xt,Pt,$t)=>({x:1-(Et+Pt-vt)/_t,y:1-(xt+$t-bt)/wt,width:Pt/_t,height:$t/wt});break;case"270":At=(Et,xt,Pt,$t)=>({x:1-(xt+$t-bt)/wt,y:(Et-vt)/_t,width:$t/wt,height:Pt/_t});break;default:At=(Et,xt,Pt,$t)=>({x:(Et-vt)/_t,y:(xt-bt)/wt,width:Pt/_t,height:$t/wt});break}const St=[];for(let Et=0,xt=ht.rangeCount;Et<xt;Et++){const Pt=ht.getRangeAt(Et);if(!Pt.collapsed)for(const{x:$t,y:kt,width:Rt,height:Mt}of Pt.getClientRects())Rt===0||Mt===0||St.push(At($t,kt,Rt,Mt))}return St.length===0?null:St}addChangedExistingAnnotation({annotationElementId:$,id:ht}){(Ct(this,hm)||Gt(this,hm,new Map)).set($,ht)}removeChangedExistingAnnotation({annotationElementId:$}){var ht;(ht=Ct(this,hm))==null||ht.delete($)}renderAnnotationElement($){var bt;const ht=(bt=Ct(this,hm))==null?void 0:bt.get($.data.id);if(!ht)return;const vt=Ct(this,zl).getRawValue(ht);vt&&(Ct(this,oo)===AnnotationEditorType.NONE&&!vt.hasBeenModified||vt.renderAnnotationElement($))}};Co=new WeakMap,Ks=new WeakMap,so=new WeakMap,dm=new WeakMap,zl=new WeakMap,hm=new WeakMap,qo=new WeakMap,fm=new WeakMap,sp=new WeakMap,wl=new WeakMap,Gl=new WeakMap,op=new WeakMap,Oy=new WeakMap,My=new WeakMap,Al=new WeakMap,pm=new WeakMap,Pu=new WeakMap,Sl=new WeakMap,o_=new WeakMap,Tu=new WeakMap,Iy=new WeakMap,ap=new WeakMap,Ly=new WeakMap,mm=new WeakMap,oo=new WeakMap,Ss=new WeakMap,Kl=new WeakMap,lp=new WeakMap,Dy=new WeakMap,Fy=new WeakMap,Ny=new WeakMap,jy=new WeakMap,By=new WeakMap,Hy=new WeakMap,Vy=new WeakMap,Uy=new WeakMap,Wy=new WeakMap,zy=new WeakMap,qy=new WeakMap,Gy=new WeakMap,Ky=new WeakMap,Xy=new WeakMap,Cu=new WeakMap,El=new WeakMap,Xl=new WeakMap,Yy=new WeakMap,Er=new WeakSet,v0=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},HA=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const vt=zt(this,Er,v0).call(this,$).closest(".textLayer"),bt=this.getSelectionBoxes(vt);bt&&(Ct(this,Sl)||Gt(this,Sl,new HighlightToolbar(this)),Ct(this,Sl).show(vt,bt,this.direction==="ltr"))},VA=function(){var _t,wt,At;const $=document.getSelection();if(!$||$.isCollapsed){Ct(this,Kl)&&((_t=Ct(this,Sl))==null||_t.hide(),Gt(this,Kl,null),zt(this,Er,mo).call(this,{hasSelectedText:!1}));return}const{anchorNode:ht}=$;if(ht===Ct(this,Kl))return;if(!zt(this,Er,v0).call(this,$).closest(".textLayer")){Ct(this,Kl)&&((wt=Ct(this,Sl))==null||wt.hide(),Gt(this,Kl,null),zt(this,Er,mo).call(this,{hasSelectedText:!1}));return}if((At=Ct(this,Sl))==null||At.hide(),Gt(this,Kl,ht),zt(this,Er,mo).call(this,{hasSelectedText:!0}),!(Ct(this,oo)!==AnnotationEditorType.HIGHLIGHT&&Ct(this,oo)!==AnnotationEditorType.NONE)&&(Ct(this,oo)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Gt(this,Pu,this.isShiftKeyDown),!this.isShiftKeyDown)){const St=Et=>{Et.type==="pointerup"&&Et.button!==0||(window.removeEventListener("pointerup",St),window.removeEventListener("blur",St),Et.type==="pointerup"&&zt(this,Er,b0).call(this,"main_toolbar"))};window.addEventListener("pointerup",St),window.addEventListener("blur",St)}},b0=function($=""){Ct(this,oo)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):Ct(this,Oy)&&zt(this,Er,HA).call(this)},UA=function(){document.addEventListener("selectionchange",Ct(this,Gy))},WA=function(){document.removeEventListener("selectionchange",Ct(this,Gy))},zA=function(){window.addEventListener("focus",Ct(this,Ny)),window.addEventListener("blur",Ct(this,Fy))},D_=function(){window.removeEventListener("focus",Ct(this,Ny)),window.removeEventListener("blur",Ct(this,Fy))},F_=function(){window.addEventListener("keydown",Ct(this,Vy)),window.addEventListener("keyup",Ct(this,Uy))},N_=function(){window.removeEventListener("keydown",Ct(this,Vy)),window.removeEventListener("keyup",Ct(this,Uy))},j_=function(){document.addEventListener("copy",Ct(this,jy)),document.addEventListener("cut",Ct(this,By)),document.addEventListener("paste",Ct(this,Hy))},B_=function(){document.removeEventListener("copy",Ct(this,jy)),document.removeEventListener("cut",Ct(this,By)),document.removeEventListener("paste",Ct(this,Hy))},mo=function($){Object.entries($).some(([vt,bt])=>Ct(this,Xy)[vt]!==bt)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ct(this,Xy),$)}),Ct(this,oo)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&zt(this,Er,Su).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},Su=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},qA=function(){if(!Ct(this,Tu)){Gt(this,Tu,!0);for(const $ of Ct(this,so).values())$.enable();for(const $ of Ct(this,Ks).values())$.enable()}},GA=function(){if(this.unselectAll(),Ct(this,Tu)){Gt(this,Tu,!1);for(const $ of Ct(this,so).values())$.disable();for(const $ of Ct(this,Ks).values())$.disable()}},H_=function($){const ht=Ct(this,so).get($.pageIndex);ht?ht.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},KA=function(){let $=null;for($ of Ct(this,Ss));return $},ly=function(){if(Ct(this,Ks).size===0)return!0;if(Ct(this,Ks).size===1)for(const $ of Ct(this,Ks).values())return $.isEmpty();return!1},V_=function($){for(const ht of Ct(this,Ss))ht.unselect();Ct(this,Ss).clear();for(const ht of $)ht.isEmpty()||(Ct(this,Ss).add(ht),ht.select());zt(this,Er,mo).call(this,{hasSelectedEditor:this.hasSelection})},Tr(um,"TRANSLATE_SMALL",1),Tr(um,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=um;var Yl,Zl,Go,Ql,Ko,gm,Jl,Zy,U_;const Hl=class Hl{constructor($){Xt(this,Zy);Xt(this,Yl,"");Xt(this,Zl,!1);Xt(this,Go,null);Xt(this,Ql,null);Xt(this,Ko,null);Xt(this,gm,!1);Xt(this,Jl,null);Gt(this,Jl,$)}static initialize($){Hl._l10nPromise||(Hl._l10nPromise=$)}async render(){const $=Gt(this,Go,document.createElement("button"));$.className="altText";const ht=await Hl._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=ht,$.setAttribute("aria-label",ht),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",bt=>bt.stopPropagation());const vt=bt=>{bt.preventDefault(),Ct(this,Jl)._uiManager.editAltText(Ct(this,Jl))};return $.addEventListener("click",vt,{capture:!0}),$.addEventListener("keydown",bt=>{bt.target===$&&bt.key==="Enter"&&(Gt(this,gm,!0),vt(bt))}),await zt(this,Zy,U_).call(this),$}finish(){Ct(this,Go)&&(Ct(this,Go).focus({focusVisible:Ct(this,gm)}),Gt(this,gm,!1))}isEmpty(){return!Ct(this,Yl)&&!Ct(this,Zl)}get data(){return{altText:Ct(this,Yl),decorative:Ct(this,Zl)}}set data({altText:$,decorative:ht}){Ct(this,Yl)===$&&Ct(this,Zl)===ht||(Gt(this,Yl,$),Gt(this,Zl,ht),zt(this,Zy,U_).call(this))}toggle($=!1){Ct(this,Go)&&(!$&&Ct(this,Ko)&&(clearTimeout(Ct(this,Ko)),Gt(this,Ko,null)),Ct(this,Go).disabled=!$)}destroy(){var $;($=Ct(this,Go))==null||$.remove(),Gt(this,Go,null),Gt(this,Ql,null)}};Yl=new WeakMap,Zl=new WeakMap,Go=new WeakMap,Ql=new WeakMap,Ko=new WeakMap,gm=new WeakMap,Jl=new WeakMap,Zy=new WeakSet,U_=async function(){var bt;const $=Ct(this,Go);if(!$)return;if(!Ct(this,Yl)&&!Ct(this,Zl)){$.classList.remove("done"),(bt=Ct(this,Ql))==null||bt.remove();return}$.classList.add("done"),Hl._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(_t=>{$.setAttribute("aria-label",_t)});let ht=Ct(this,Ql);if(!ht){Gt(this,Ql,ht=document.createElement("span")),ht.className="tooltip",ht.setAttribute("role","tooltip");const _t=ht.id=`alt-text-tooltip-${Ct(this,Jl).id}`;$.setAttribute("aria-describedby",_t);const wt=100;$.addEventListener("mouseenter",()=>{Gt(this,Ko,setTimeout(()=>{Gt(this,Ko,null),Ct(this,Ql).classList.add("show"),Ct(this,Jl)._reportTelemetry({action:"alt_text_tooltip"})},wt))}),$.addEventListener("mouseleave",()=>{var At;Ct(this,Ko)&&(clearTimeout(Ct(this,Ko)),Gt(this,Ko,null)),(At=Ct(this,Ql))==null||At.classList.remove("show")})}ht.innerText=Ct(this,Zl)?await Hl._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):Ct(this,Yl),ht.parentNode||$.append(ht);const vt=Ct(this,Jl).getImageForAltText();vt==null||vt.setAttribute("aria-describedby",ht.id)},Tr(Hl,"_l10nPromise",null);let AltText=Hl;var Xo,go,ym,cp,ao,up,vm,bm,po,Qy,dp,$u,Jy,hp,_c,xl,_m,wm,Fo,ev,a_,ls,W_,tv,z_,q_,XA,YA,G_,K_,X_,ZA,QA,JA,e1,Y_,cy;const ks=class ks{constructor($){Xt(this,ls);Xt(this,Xo,null);Xt(this,go,null);Xt(this,ym,!1);Xt(this,cp,!1);Xt(this,ao,null);Xt(this,up,null);Xt(this,vm,this.focusin.bind(this));Xt(this,bm,this.focusout.bind(this));Xt(this,po,null);Xt(this,Qy,"");Xt(this,dp,!1);Xt(this,$u,null);Xt(this,Jy,!1);Xt(this,hp,!1);Xt(this,_c,!1);Xt(this,xl,null);Xt(this,_m,0);Xt(this,wm,0);Xt(this,Fo,null);Tr(this,"_initialOptions",Object.create(null));Tr(this,"_isVisible",!0);Tr(this,"_uiManager",null);Tr(this,"_focusEventsAllowed",!0);Tr(this,"_l10nPromise",null);Xt(this,ev,!1);Xt(this,a_,ks._zIndex++);this.constructor===ks&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:ht,rawDims:{pageWidth:vt,pageHeight:bt,pageX:_t,pageY:wt}}=this.parent.viewport;this.rotation=ht,this.pageRotation=(360+ht-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[vt,bt],this.pageTranslation=[_t,wt];const[At,St]=this.parentDimensions;this.x=$.x/At,this.y=$.y/St,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=ks.prototype._resizeWithKeyboard,ht=AnnotationEditorUIManager.TRANSLATE_SMALL,vt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-ht,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-vt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[ht,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[vt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-ht]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-vt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,ht]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,vt]}],[["Escape","mac+Escape"],ks.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const ht=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});ht.annotationElementId=$.annotationElementId,ht.deleted=!0,ht._uiManager.addToAnnotationStorage(ht)}static initialize($,ht,vt){if(ks._l10nPromise||(ks._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(_t=>[_t,$.get(_t.replaceAll(/([A-Z])/g,wt=>`-${wt.toLowerCase()}`))]))),vt!=null&&vt.strings)for(const _t of vt.strings)ks._l10nPromise.set(_t,$.get(_t));if(ks._borderLineWidth!==-1)return;const bt=getComputedStyle(document.documentElement);ks._borderLineWidth=parseFloat(bt.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,ht){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,ht){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ct(this,ev)}set _isDraggable($){var ht;Gt(this,ev,$),(ht=this.div)==null||ht.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,ht]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ht/($*2),this.y+=this.width*$/(ht*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ht/($*2),this.y-=this.width*$/(ht*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ct(this,a_)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):zt(this,ls,cy).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(Ct(this,dp)?Gt(this,dp,!1):this.parent.setSelected(this))}focusout($){var vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ht=$.relatedTarget;ht!=null&&ht.closest(`#${this.id}`)||($.preventDefault(),(vt=this.parent)!=null&&vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,ht,vt,bt){const[_t,wt]=this.parentDimensions;[vt,bt]=this.screenToPageTranslation(vt,bt),this.x=($+vt)/_t,this.y=(ht+bt)/wt,this.fixAndSetPosition()}translate($,ht){zt(this,ls,W_).call(this,this.parentDimensions,$,ht)}translateInPage($,ht){Ct(this,$u)||Gt(this,$u,[this.x,this.y]),zt(this,ls,W_).call(this,this.pageDimensions,$,ht),this.div.scrollIntoView({block:"nearest"})}drag($,ht){Ct(this,$u)||Gt(this,$u,[this.x,this.y]);const[vt,bt]=this.parentDimensions;if(this.x+=$/vt,this.y+=ht/bt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Et,y:xt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Et,xt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:_t,y:wt}=this;const[At,St]=this.getBaseTranslation();_t+=At,wt+=St,this.div.style.left=`${(100*_t).toFixed(2)}%`,this.div.style.top=`${(100*wt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!Ct(this,$u)&&(Ct(this,$u)[0]!==this.x||Ct(this,$u)[1]!==this.y)}getBaseTranslation(){const[$,ht]=this.parentDimensions,{_borderLineWidth:vt}=ks,bt=vt/$,_t=vt/ht;switch(this.rotation){case 90:return[-bt,_t];case 180:return[bt,_t];case 270:return[bt,-_t];default:return[-bt,-_t]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[ht,vt]=this.pageDimensions;let{x:bt,y:_t,width:wt,height:At}=this;if(wt*=ht,At*=vt,bt*=ht,_t*=vt,this._mustFixPosition)switch($){case 0:bt=Math.max(0,Math.min(ht-wt,bt)),_t=Math.max(0,Math.min(vt-At,_t));break;case 90:bt=Math.max(0,Math.min(ht-At,bt)),_t=Math.min(vt,Math.max(wt,_t));break;case 180:bt=Math.min(ht,Math.max(wt,bt)),_t=Math.min(vt,Math.max(At,_t));break;case 270:bt=Math.min(ht,Math.max(At,bt)),_t=Math.max(0,Math.min(vt-wt,_t));break}this.x=bt/=ht,this.y=_t/=vt;const[St,Et]=this.getBaseTranslation();bt+=St,_t+=Et;const{style:xt}=this.div;xt.left=`${(100*bt).toFixed(2)}%`,xt.top=`${(100*_t).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,ht){var vt;return zt(vt=ks,tv,z_).call(vt,$,ht,this.parentRotation)}pageTranslationToScreen($,ht){var vt;return zt(vt=ks,tv,z_).call(vt,$,ht,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[ht,vt]}=this,bt=ht*$,_t=vt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(bt),Math.round(_t)]:[bt,_t]}setDims($,ht){const[vt,bt]=this.parentDimensions;this.div.style.width=`${(100*$/vt).toFixed(2)}%`,Ct(this,cp)||(this.div.style.height=`${(100*ht/bt).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:ht,width:vt}=$,bt=vt.endsWith("%"),_t=!Ct(this,cp)&&ht.endsWith("%");if(bt&&_t)return;const[wt,At]=this.parentDimensions;bt||($.width=`${(100*parseFloat(vt)/wt).toFixed(2)}%`),!Ct(this,cp)&&!_t&&($.height=`${(100*parseFloat(ht)/At).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=Ct(this,go))==null||$.finish()}async addEditToolbar(){return Ct(this,po)||Ct(this,hp)?Ct(this,po):(Gt(this,po,new EditorToolbar(this)),this.div.append(Ct(this,po).render()),Ct(this,go)&&Ct(this,po).addAltTextButton(await Ct(this,go).render()),Ct(this,po))}removeEditToolbar(){var $;Ct(this,po)&&(Ct(this,po).remove(),Gt(this,po,null),($=Ct(this,go))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){Ct(this,go)||(AltText.initialize(ks._l10nPromise),Gt(this,go,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=Ct(this,go))==null?void 0:$.data}set altTextData($){Ct(this,go)&&(Ct(this,go).data=$)}hasAltText(){var $;return!(($=Ct(this,go))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=Ct(this,ym)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",Ct(this,vm)),this.div.addEventListener("focusout",Ct(this,bm));const[$,ht]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ht/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/ht).toFixed(2)}%`);const[vt,bt]=this.getInitialTranslation();return this.translate(vt,bt),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht){$.preventDefault();return}if(Gt(this,dp,!0),this._isDraggable){zt(this,ls,ZA).call(this,$);return}zt(this,ls,X_).call(this,$)}moveInDOM(){Ct(this,xl)&&clearTimeout(Ct(this,xl)),Gt(this,xl,setTimeout(()=>{var $;Gt(this,xl,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,ht,vt){$.changeParent(this),this.x=ht,this.y=vt,this.fixAndSetPosition()}getRect($,ht,vt=this.rotation){const bt=this.parentScale,[_t,wt]=this.pageDimensions,[At,St]=this.pageTranslation,Et=$/bt,xt=ht/bt,Pt=this.x*_t,$t=this.y*wt,kt=this.width*_t,Rt=this.height*wt;switch(vt){case 0:return[Pt+Et+At,wt-$t-xt-Rt+St,Pt+Et+kt+At,wt-$t-xt+St];case 90:return[Pt+xt+At,wt-$t+Et+St,Pt+xt+Rt+At,wt-$t+Et+kt+St];case 180:return[Pt-Et-kt+At,wt-$t+xt+St,Pt-Et+At,wt-$t+xt+Rt+St];case 270:return[Pt-xt-Rt+At,wt-$t-Et-kt+St,Pt-xt+At,wt-$t-Et+St];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,ht){const[vt,bt,_t,wt]=$,At=_t-vt,St=wt-bt;switch(this.rotation){case 0:return[vt,ht-wt,At,St];case 90:return[vt,ht-bt,St,At];case 180:return[_t,ht-bt,At,St];case 270:return[_t,ht-wt,St,At];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Gt(this,hp,!0)}disableEditMode(){Gt(this,hp,!1)}isInEditMode(){return Ct(this,hp)}shouldGetKeyboardEvents(){return Ct(this,_c)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,ht;($=this.div)==null||$.addEventListener("focusin",Ct(this,vm)),(ht=this.div)==null||ht.addEventListener("focusout",Ct(this,bm))}rotate($){}serialize($=!1,ht=null){unreachable("An editor must be serializable")}static deserialize($,ht,vt){const bt=new this.prototype.constructor({parent:ht,id:ht.getNextId(),uiManager:vt});bt.rotation=$.rotation;const[_t,wt]=bt.pageDimensions,[At,St,Et,xt]=bt.getRectInCurrentCoords($.rect,wt);return bt.x=At/_t,bt.y=St/wt,bt.width=Et/_t,bt.height=xt/wt,bt}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",Ct(this,vm)),this.div.removeEventListener("focusout",Ct(this,bm)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Ct(this,xl)&&(clearTimeout(Ct(this,xl)),Gt(this,xl,null)),zt(this,ls,cy).call(this),this.removeEditToolbar(),Ct(this,Fo)){for(const $ of Ct(this,Fo).values())clearTimeout($);Gt(this,Fo,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(zt(this,ls,XA).call(this),Ct(this,ao).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),Gt(this,up,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const ht=Ct(this,ao).children;if(!Ct(this,Xo)){Gt(this,Xo,Array.from(ht));const wt=zt(this,ls,QA).bind(this),At=zt(this,ls,JA).bind(this);for(const St of Ct(this,Xo)){const Et=St.getAttribute("data-resizer-name");St.setAttribute("role","spinbutton"),St.addEventListener("keydown",wt),St.addEventListener("blur",At),St.addEventListener("focus",zt(this,ls,e1).bind(this,Et)),ks._l10nPromise.get(`pdfjs-editor-resizer-label-${Et}`).then(xt=>St.setAttribute("aria-label",xt))}}const vt=Ct(this,Xo)[0];let bt=0;for(const wt of ht){if(wt===vt)break;bt++}const _t=(360-this.rotation+this.parentRotation)%360/90*(Ct(this,Xo).length/4);if(_t!==bt){if(_t<bt)for(let At=0;At<bt-_t;At++)Ct(this,ao).append(Ct(this,ao).firstChild);else if(_t>bt)for(let At=0;At<_t-bt;At++)Ct(this,ao).firstChild.before(Ct(this,ao).lastChild);let wt=0;for(const At of ht){const Et=Ct(this,Xo)[wt++].getAttribute("data-resizer-name");ks._l10nPromise.get(`pdfjs-editor-resizer-label-${Et}`).then(xt=>At.setAttribute("aria-label",xt))}}zt(this,ls,Y_).call(this,0),Gt(this,_c,!0),Ct(this,ao).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,ht){Ct(this,_c)&&zt(this,ls,K_).call(this,Ct(this,Qy),{movementX:$,movementY:ht})}_stopResizingWithKeyboard(){zt(this,ls,cy).call(this),this.div.focus()}select(){var $,ht;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!Ct(this,po)){this.addEditToolbar().then(()=>{var vt,bt;(vt=this.div)!=null&&vt.classList.contains("selectedEditor")&&((bt=Ct(this,po))==null||bt.show())});return}(ht=Ct(this,po))==null||ht.show()}unselect(){var $,ht,vt,bt;($=Ct(this,ao))==null||$.classList.add("hidden"),(ht=this.div)==null||ht.classList.remove("selectedEditor"),(vt=this.div)!=null&&vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(bt=Ct(this,po))==null||bt.hide()}updateParams($,ht){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return Ct(this,Jy)}set isEditing($){Gt(this,Jy,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,ht){Gt(this,cp,!0);const vt=$/ht,{style:bt}=this.div;bt.aspectRatio=vt,bt.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,ht=!1){if(ht){Ct(this,Fo)||Gt(this,Fo,new Map);const{action:vt}=$;let bt=Ct(this,Fo).get(vt);bt&&clearTimeout(bt),bt=setTimeout(()=>{this._reportTelemetry($),Ct(this,Fo).delete(vt),Ct(this,Fo).size===0&&Gt(this,Fo,null)},ks._telemetryTimeout),Ct(this,Fo).set(vt,bt);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),Gt(this,ym,!1)}disable(){this.div&&(this.div.tabIndex=-1),Gt(this,ym,!0)}renderAnnotationElement($){let ht=$.container.querySelector(".annotationContent");if(!ht)ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),$.container.prepend(ht);else if(ht.nodeName==="CANVAS"){const vt=ht;ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),vt.before(ht)}return ht}resetAnnotationElement($){const{firstChild:ht}=$.container;ht.nodeName==="DIV"&&ht.classList.contains("annotationContent")&&ht.remove()}};Xo=new WeakMap,go=new WeakMap,ym=new WeakMap,cp=new WeakMap,ao=new WeakMap,up=new WeakMap,vm=new WeakMap,bm=new WeakMap,po=new WeakMap,Qy=new WeakMap,dp=new WeakMap,$u=new WeakMap,Jy=new WeakMap,hp=new WeakMap,_c=new WeakMap,xl=new WeakMap,_m=new WeakMap,wm=new WeakMap,Fo=new WeakMap,ev=new WeakMap,a_=new WeakMap,ls=new WeakSet,W_=function([$,ht],vt,bt){[vt,bt]=this.screenToPageTranslation(vt,bt),this.x+=vt/$,this.y+=bt/ht,this.fixAndSetPosition()},tv=new WeakSet,z_=function($,ht,vt){switch(vt){case 90:return[ht,-$];case 180:return[-$,-ht];case 270:return[-ht,$];default:return[$,ht]}},q_=function($){switch($){case 90:{const[ht,vt]=this.pageDimensions;return[0,-ht/vt,vt/ht,0]}case 180:return[-1,0,0,-1];case 270:{const[ht,vt]=this.pageDimensions;return[0,ht/vt,-vt/ht,0]}default:return[1,0,0,1]}},XA=function(){if(Ct(this,ao))return;Gt(this,ao,document.createElement("div")),Ct(this,ao).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const ht of $){const vt=document.createElement("div");Ct(this,ao).append(vt),vt.classList.add("resizer",ht),vt.setAttribute("data-resizer-name",ht),vt.addEventListener("pointerdown",zt(this,ls,YA).bind(this,ht)),vt.addEventListener("contextmenu",noContextMenu),vt.tabIndex=-1}this.div.prepend(Ct(this,ao))},YA=function($,ht){var Rt;ht.preventDefault();const{isMac:vt}=util_FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&vt)return;(Rt=Ct(this,go))==null||Rt.toggle(!1);const bt=zt(this,ls,K_).bind(this,$),_t=this._isDraggable;this._isDraggable=!1;const wt={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",bt,wt),window.addEventListener("contextmenu",noContextMenu);const At=this.x,St=this.y,Et=this.width,xt=this.height,Pt=this.parent.div.style.cursor,$t=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ht.target).cursor;const kt=()=>{var Mt;this.parent.togglePointerEvents(!0),(Mt=Ct(this,go))==null||Mt.toggle(!0),this._isDraggable=_t,window.removeEventListener("pointerup",kt),window.removeEventListener("blur",kt),window.removeEventListener("pointermove",bt,wt),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Pt,this.div.style.cursor=$t,zt(this,ls,G_).call(this,At,St,Et,xt)};window.addEventListener("pointerup",kt),window.addEventListener("blur",kt)},G_=function($,ht,vt,bt){const _t=this.x,wt=this.y,At=this.width,St=this.height;_t===$&&wt===ht&&At===vt&&St===bt||this.addCommands({cmd:()=>{this.width=At,this.height=St,this.x=_t,this.y=wt;const[Et,xt]=this.parentDimensions;this.setDims(Et*At,xt*St),this.fixAndSetPosition()},undo:()=>{this.width=vt,this.height=bt,this.x=$,this.y=ht;const[Et,xt]=this.parentDimensions;this.setDims(Et*vt,xt*bt),this.fixAndSetPosition()},mustExec:!0})},K_=function($,ht){const[vt,bt]=this.parentDimensions,_t=this.x,wt=this.y,At=this.width,St=this.height,Et=ks.MIN_SIZE/vt,xt=ks.MIN_SIZE/bt,Pt=sn=>Math.round(sn*1e4)/1e4,$t=zt(this,ls,q_).call(this,this.rotation),kt=(sn,un)=>[$t[0]*sn+$t[2]*un,$t[1]*sn+$t[3]*un],Rt=zt(this,ls,q_).call(this,360-this.rotation),Mt=(sn,un)=>[Rt[0]*sn+Rt[2]*un,Rt[1]*sn+Rt[3]*un];let Dt,Ot,Lt=!1,Nt=!1;switch($){case"topLeft":Lt=!0,Dt=(sn,un)=>[0,0],Ot=(sn,un)=>[sn,un];break;case"topMiddle":Dt=(sn,un)=>[sn/2,0],Ot=(sn,un)=>[sn/2,un];break;case"topRight":Lt=!0,Dt=(sn,un)=>[sn,0],Ot=(sn,un)=>[0,un];break;case"middleRight":Nt=!0,Dt=(sn,un)=>[sn,un/2],Ot=(sn,un)=>[0,un/2];break;case"bottomRight":Lt=!0,Dt=(sn,un)=>[sn,un],Ot=(sn,un)=>[0,0];break;case"bottomMiddle":Dt=(sn,un)=>[sn/2,un],Ot=(sn,un)=>[sn/2,0];break;case"bottomLeft":Lt=!0,Dt=(sn,un)=>[0,un],Ot=(sn,un)=>[sn,0];break;case"middleLeft":Nt=!0,Dt=(sn,un)=>[0,un/2],Ot=(sn,un)=>[sn,un/2];break}const Ht=Dt(At,St),Ft=Ot(At,St);let jt=kt(...Ft);const Bt=Pt(_t+jt[0]),Vt=Pt(wt+jt[1]);let Ut=1,Jt=1,[Wt,Qt]=this.screenToPageTranslation(ht.movementX,ht.movementY);if([Wt,Qt]=Mt(Wt/vt,Qt/bt),Lt){const sn=Math.hypot(At,St);Ut=Jt=Math.max(Math.min(Math.hypot(Ft[0]-Ht[0]-Wt,Ft[1]-Ht[1]-Qt)/sn,1/At,1/St),Et/At,xt/St)}else Nt?Ut=Math.max(Et,Math.min(1,Math.abs(Ft[0]-Ht[0]-Wt)))/At:Jt=Math.max(xt,Math.min(1,Math.abs(Ft[1]-Ht[1]-Qt)))/St;const tn=Pt(At*Ut),pn=Pt(St*Jt);jt=kt(...Ot(tn,pn));const nn=Bt-jt[0],hn=Vt-jt[1];this.width=tn,this.height=pn,this.x=nn,this.y=hn,this.setDims(vt*tn,bt*pn),this.fixAndSetPosition()},X_=function($){const{isMac:ht}=util_FeatureTest.platform;$.ctrlKey&&!ht||$.shiftKey||$.metaKey&&ht?this.parent.toggleSelected(this):this.parent.setSelected(this)},ZA=function($){const ht=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let vt,bt;ht&&(this.div.classList.add("moving"),vt={passive:!0,capture:!0},Gt(this,_m,$.clientX),Gt(this,wm,$.clientY),bt=wt=>{const{clientX:At,clientY:St}=wt,[Et,xt]=this.screenToPageTranslation(At-Ct(this,_m),St-Ct(this,wm));Gt(this,_m,At),Gt(this,wm,St),this._uiManager.dragSelectedEditors(Et,xt)},window.addEventListener("pointermove",bt,vt));const _t=()=>{window.removeEventListener("pointerup",_t),window.removeEventListener("blur",_t),ht&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",bt,vt)),Gt(this,dp,!1),this._uiManager.endDragSession()||zt(this,ls,X_).call(this,$)};window.addEventListener("pointerup",_t),window.addEventListener("blur",_t)},QA=function($){ks._resizerKeyboardManager.exec(this,$)},JA=function($){var ht;Ct(this,_c)&&((ht=$.relatedTarget)==null?void 0:ht.parentNode)!==Ct(this,ao)&&zt(this,ls,cy).call(this)},e1=function($){Gt(this,Qy,Ct(this,_c)?$:"")},Y_=function($){if(Ct(this,Xo))for(const ht of Ct(this,Xo))ht.tabIndex=$},cy=function(){if(Gt(this,_c,!1),zt(this,ls,Y_).call(this,-1),Ct(this,up)){const{savedX:$,savedY:ht,savedWidth:vt,savedHeight:bt}=Ct(this,up);zt(this,ls,G_).call(this,$,ht,vt,bt),Gt(this,up,null)}},Xt(ks,tv),Tr(ks,"_borderLineWidth",-1),Tr(ks,"_colorManager",new ColorManager),Tr(ks,"_zIndex",1),Tr(ks,"_telemetryTimeout",1e3);let AnnotationEditor=ks;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let ht,vt;if(typeof $=="string"){ht=new Uint8Array($.length*2),vt=0;for(let Mt=0,Dt=$.length;Mt<Dt;Mt++){const Ot=$.charCodeAt(Mt);Ot<=255?ht[vt++]=Ot:(ht[vt++]=Ot>>>8,ht[vt++]=Ot&255)}}else if(ArrayBuffer.isView($))ht=$.slice(),vt=ht.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const bt=vt>>2,_t=vt-bt*4,wt=new Uint32Array(ht.buffer,0,bt);let At=0,St=0,Et=this.h1,xt=this.h2;const Pt=3432918353,$t=461845907,kt=Pt&MASK_LOW,Rt=$t&MASK_LOW;for(let Mt=0;Mt<bt;Mt++)Mt&1?(At=wt[Mt],At=At*Pt&MASK_HIGH|At*kt&MASK_LOW,At=At<<15|At>>>17,At=At*$t&MASK_HIGH|At*Rt&MASK_LOW,Et^=At,Et=Et<<13|Et>>>19,Et=Et*5+3864292196):(St=wt[Mt],St=St*Pt&MASK_HIGH|St*kt&MASK_LOW,St=St<<15|St>>>17,St=St*$t&MASK_HIGH|St*Rt&MASK_LOW,xt^=St,xt=xt<<13|xt>>>19,xt=xt*5+3864292196);switch(At=0,_t){case 3:At^=ht[bt*4+2]<<16;case 2:At^=ht[bt*4+1]<<8;case 1:At^=ht[bt*4],At=At*Pt&MASK_HIGH|At*kt&MASK_LOW,At=At<<15|At>>>17,At=At*$t&MASK_HIGH|At*Rt&MASK_LOW,bt&1?Et^=At:xt^=At}this.h1=Et,this.h2=xt}hexdigest(){let $=this.h1,ht=this.h2;return $^=ht>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,ht=ht*4283543511&MASK_HIGH|((ht<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=ht>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,ht=ht*3301882366&MASK_HIGH|((ht<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=ht>>>1,($>>>0).toString(16).padStart(8,"0")+(ht>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var fp,lo,l_,n1;class AnnotationStorage{constructor(){Xt(this,l_);Xt(this,fp,!1);Xt(this,lo,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,ht){const vt=Ct(this,lo).get($);return vt===void 0?ht:Object.assign(ht,vt)}getRawValue($){return Ct(this,lo).get($)}remove($){if(Ct(this,lo).delete($),Ct(this,lo).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ht of Ct(this,lo).values())if(ht instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,ht){const vt=Ct(this,lo).get($);let bt=!1;if(vt!==void 0)for(const[_t,wt]of Object.entries(ht))vt[_t]!==wt&&(bt=!0,vt[_t]=wt);else bt=!0,Ct(this,lo).set($,ht);bt&&zt(this,l_,n1).call(this),ht instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ht.constructor._type)}has($){return Ct(this,lo).has($)}getAll(){return Ct(this,lo).size>0?objectFromMap(Ct(this,lo)):null}setAll($){for(const[ht,vt]of Object.entries($))this.setValue(ht,vt)}get size(){return Ct(this,lo).size}resetModified(){Ct(this,fp)&&(Gt(this,fp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(Ct(this,lo).size===0)return SerializableEmpty;const $=new Map,ht=new MurmurHash3_64,vt=[],bt=Object.create(null);let _t=!1;for(const[wt,At]of Ct(this,lo)){const St=At instanceof AnnotationEditor?At.serialize(!1,bt):At;St&&($.set(wt,St),ht.update(`${wt}:${JSON.stringify(St)}`),_t||(_t=!!St.bitmap))}if(_t)for(const wt of $.values())wt.bitmap&&vt.push(wt.bitmap);return $.size>0?{map:$,hash:ht.hexdigest(),transfer:vt}:SerializableEmpty}get editorStats(){let $=null;const ht=new Map;for(const vt of Ct(this,lo).values()){if(!(vt instanceof AnnotationEditor))continue;const bt=vt.telemetryFinalData;if(!bt)continue;const{type:_t}=bt;ht.has(_t)||ht.set(_t,Object.getPrototypeOf(vt).constructor),$||($=Object.create(null));const wt=$[_t]||($[_t]=new Map);for(const[At,St]of Object.entries(bt)){if(At==="type")continue;let Et=wt.get(At);Et||(Et=new Map,wt.set(At,Et));const xt=Et.get(St)??0;Et.set(St,xt+1)}}for(const[vt,bt]of ht)$[vt]=bt.computeTelemetryFinalData($[vt]);return $}}fp=new WeakMap,lo=new WeakMap,l_=new WeakSet,n1=function(){Ct(this,fp)||(Gt(this,fp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var nv;class PrintAnnotationStorage extends AnnotationStorage{constructor(ht){super();Xt(this,nv);const{map:vt,hash:bt,transfer:_t}=ht.serializable,wt=structuredClone(vt,_t?{transfer:_t}:null);Gt(this,nv,{map:wt,hash:bt,transfer:_t})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return Ct(this,nv)}}nv=new WeakMap;var Am;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:ht=null}){Xt(this,Am,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ht=this.styleElement.sheet;ht.insertRule($,ht.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),Ct(this,Am).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:ht}){if(!(!$||Ct(this,Am).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:vt,src:bt,style:_t}=$,wt=new FontFace(vt,bt,_t);this.addNativeFontFace(wt);try{await wt.load(),Ct(this,Am).add(vt),ht==null||ht($)}catch{warn$1(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(wt)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const vt=$.createNativeFontFace();if(vt){this.addNativeFontFace(vt);try{await vt.loaded}catch(bt){throw warn$1(`Failed to load font '${vt.family}': '${bt}'.`),$.disableFontFace=!0,bt}}return}const ht=$.createFontFaceRule();if(ht){if(this.insertRule(ht),this.isSyncFontLoadingSupported)return;await new Promise(vt=>{const bt=this._queueLoadingCallback(vt);this._prepareFontLoadEvent($,bt)})}}get isFontLoadingAPISupported(){var ht;const $=!!((ht=this._document)!=null&&ht.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function ht(){for(assert(!bt.done,"completeRequest() cannot be called twice."),bt.done=!0;vt.length>0&&vt[0].done;){const _t=vt.shift();setTimeout(_t.callback,0)}}const{loadingRequests:vt}=this,bt={done:!1,complete:ht,callback:$};return vt.push(bt),bt}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,ht){function vt(Ht,Ft){return Ht.charCodeAt(Ft)<<24|Ht.charCodeAt(Ft+1)<<16|Ht.charCodeAt(Ft+2)<<8|Ht.charCodeAt(Ft+3)&255}function bt(Ht,Ft,jt,Bt){const Vt=Ht.substring(0,Ft),Ut=Ht.substring(Ft+jt);return Vt+Bt+Ut}let _t,wt;const At=this._document.createElement("canvas");At.width=1,At.height=1;const St=At.getContext("2d");let Et=0;function xt(Ht,Ft){if(++Et>30){warn$1("Load test font never loaded."),Ft();return}if(St.font="30px "+Ht,St.fillText(".",0,20),St.getImageData(0,0,1,1).data[3]>0){Ft();return}setTimeout(xt.bind(null,Ht,Ft))}const Pt=`lt${Date.now()}${this.loadTestFontId++}`;let $t=this._loadTestFont;$t=bt($t,976,Pt.length,Pt);const Rt=16,Mt=1482184792;let Dt=vt($t,Rt);for(_t=0,wt=Pt.length-3;_t<wt;_t+=4)Dt=Dt-Mt+vt(Pt,_t)|0;_t<Pt.length&&(Dt=Dt-Mt+vt(Pt+"XXX",_t)|0),$t=bt($t,Rt,4,string32(Dt));const Ot=`url(data:font/opentype;base64,${btoa($t)});`,Lt=`@font-face {font-family:"${Pt}";src:${Ot}}`;this.insertRule(Lt);const Nt=this._document.createElement("div");Nt.style.visibility="hidden",Nt.style.width=Nt.style.height="10px",Nt.style.position="absolute",Nt.style.top=Nt.style.left="0px";for(const Ht of[$.loadedName,Pt]){const Ft=this._document.createElement("span");Ft.textContent="Hi",Ft.style.fontFamily=Ht,Nt.append(Ft)}this._document.body.append(Nt),xt(Pt,()=>{Nt.remove(),ht.complete()})}}Am=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:ht=!1,inspectFont:vt=null}){this.compiledGlyphs=Object.create(null);for(const bt in $)this[bt]=$[bt];this.disableFontFace=ht===!0,this._inspectFont=vt}createNativeFontFace(){var ht;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const vt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(vt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,vt)}return(ht=this._inspectFont)==null||ht.call(this,this),$}createFontFaceRule(){var bt;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),ht=`url(data:${this.mimetype};base64,${btoa($)});`;let vt;if(!this.cssFontInfo)vt=`@font-face {font-family:"${this.loadedName}";src:${ht}}`;else{let _t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),vt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_t}src:${ht}}`}return(bt=this._inspectFont)==null||bt.call(this,this,ht),vt}getPathGenerator($,ht){if(this.compiledGlyphs[ht]!==void 0)return this.compiledGlyphs[ht];let vt;try{vt=$.get(this.loadedName+"_path_"+ht)}catch(_t){warn$1(`getPathGenerator - ignoring character: "${_t}".`)}if(!Array.isArray(vt)||vt.length===0)return this.compiledGlyphs[ht]=function(_t,wt){};const bt=[];for(let _t=0,wt=vt.length;_t<wt;)switch(vt[_t++]){case FontRenderOps.BEZIER_CURVE_TO:{const[At,St,Et,xt,Pt,$t]=vt.slice(_t,_t+6);bt.push(kt=>kt.bezierCurveTo(At,St,Et,xt,Pt,$t)),_t+=6}break;case FontRenderOps.MOVE_TO:{const[At,St]=vt.slice(_t,_t+2);bt.push(Et=>Et.moveTo(At,St)),_t+=2}break;case FontRenderOps.LINE_TO:{const[At,St]=vt.slice(_t,_t+2);bt.push(Et=>Et.lineTo(At,St)),_t+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[At,St,Et,xt]=vt.slice(_t,_t+4);bt.push(Pt=>Pt.quadraticCurveTo(At,St,Et,xt)),_t+=4}break;case FontRenderOps.RESTORE:bt.push(At=>At.restore());break;case FontRenderOps.SAVE:bt.push(At=>At.save());break;case FontRenderOps.SCALE:assert(bt.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[At,St,Et,xt,Pt,$t]=vt.slice(_t,_t+6);bt.push(kt=>kt.transform(At,St,Et,xt,Pt,$t)),_t+=6}break;case FontRenderOps.TRANSLATE:{const[At,St]=vt.slice(_t,_t+2);bt.push(Et=>Et.translate(At,St)),_t+=2}break}return this.compiledGlyphs[ht]=function(wt,At){bt[0](wt),bt[1](wt),wt.scale(At,-At);for(let St=2,Et=bt.length;St<Et;St++)bt[St](wt)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),ht=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),vt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),bt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let _t,wt;return new Map(Object.entries({fs:$,http:ht,https:vt,url:bt,canvas:_t,path2d:wt}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn$1(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(_e){return NodePackages.get("fs").promises.readFile(_e).then(ht=>new Uint8Array(ht))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,ht){return NodePackages.get("canvas").createCanvas($,ht)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return node_utils_fetchData($).then(vt=>({cMapData:vt,compressionType:ht}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(_e,$){if(!$)return;const ht=$[2]-$[0],vt=$[3]-$[1],bt=new Path2D;bt.rect($[0],$[1],ht,vt),_e.clip(bt)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let ht;this._type==="axial"?ht=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)ht.addColorStop(vt[0],vt[1]);return ht}getPattern($,ht,vt,bt){let _t;if(bt===PathType.STROKE||bt===PathType.FILL){const wt=ht.current.getClippedPathBoundingBox(bt,getCurrentTransform($))||[0,0,0,0],At=Math.ceil(wt[2]-wt[0])||1,St=Math.ceil(wt[3]-wt[1])||1,Et=ht.cachedCanvases.getCanvas("pattern",At,St,!0),xt=Et.context;xt.clearRect(0,0,xt.canvas.width,xt.canvas.height),xt.beginPath(),xt.rect(0,0,xt.canvas.width,xt.canvas.height),xt.translate(-wt[0],-wt[1]),vt=Util.transform(vt,[1,0,0,1,wt[0],wt[1]]),xt.transform(...ht.baseTransform),this.matrix&&xt.transform(...this.matrix),applyBoundingBox(xt,this._bbox),xt.fillStyle=this._createGradient(xt),xt.fill(),_t=$.createPattern(Et.canvas,"no-repeat");const Pt=new DOMMatrix(vt);_t.setTransform(Pt)}else applyBoundingBox($,this._bbox),_t=this._createGradient($);return _t}}function drawTriangle(_e,$,ht,vt,bt,_t,wt,At){const St=$.coords,Et=$.colors,xt=_e.data,Pt=_e.width*4;let $t;St[ht+1]>St[vt+1]&&($t=ht,ht=vt,vt=$t,$t=_t,_t=wt,wt=$t),St[vt+1]>St[bt+1]&&($t=vt,vt=bt,bt=$t,$t=wt,wt=At,At=$t),St[ht+1]>St[vt+1]&&($t=ht,ht=vt,vt=$t,$t=_t,_t=wt,wt=$t);const kt=(St[ht]+$.offsetX)*$.scaleX,Rt=(St[ht+1]+$.offsetY)*$.scaleY,Mt=(St[vt]+$.offsetX)*$.scaleX,Dt=(St[vt+1]+$.offsetY)*$.scaleY,Ot=(St[bt]+$.offsetX)*$.scaleX,Lt=(St[bt+1]+$.offsetY)*$.scaleY;if(Rt>=Lt)return;const Nt=Et[_t],Ht=Et[_t+1],Ft=Et[_t+2],jt=Et[wt],Bt=Et[wt+1],Vt=Et[wt+2],Ut=Et[At],Jt=Et[At+1],Wt=Et[At+2],Qt=Math.round(Rt),tn=Math.round(Lt);let pn,nn,hn,sn,un,en,fn,En;for(let rn=Qt;rn<=tn;rn++){if(rn<Dt){const mn=rn<Rt?0:(Rt-rn)/(Rt-Dt);pn=kt-(kt-Mt)*mn,nn=Nt-(Nt-jt)*mn,hn=Ht-(Ht-Bt)*mn,sn=Ft-(Ft-Vt)*mn}else{let mn;rn>Lt?mn=1:Dt===Lt?mn=0:mn=(Dt-rn)/(Dt-Lt),pn=Mt-(Mt-Ot)*mn,nn=jt-(jt-Ut)*mn,hn=Bt-(Bt-Jt)*mn,sn=Vt-(Vt-Wt)*mn}let qt;rn<Rt?qt=0:rn>Lt?qt=1:qt=(Rt-rn)/(Rt-Lt),un=kt-(kt-Ot)*qt,en=Nt-(Nt-Ut)*qt,fn=Ht-(Ht-Jt)*qt,En=Ft-(Ft-Wt)*qt;const Yt=Math.round(Math.min(pn,un)),an=Math.round(Math.max(pn,un));let yn=Pt*rn+Yt*4;for(let mn=Yt;mn<=an;mn++)qt=(pn-mn)/(pn-un),qt<0?qt=0:qt>1&&(qt=1),xt[yn++]=nn-(nn-en)*qt|0,xt[yn++]=hn-(hn-fn)*qt|0,xt[yn++]=sn-(sn-En)*qt|0,xt[yn++]=255}}function drawFigure(_e,$,ht){const vt=$.coords,bt=$.colors;let _t,wt;switch($.type){case"lattice":const At=$.verticesPerRow,St=Math.floor(vt.length/At)-1,Et=At-1;for(_t=0;_t<St;_t++){let xt=_t*At;for(let Pt=0;Pt<Et;Pt++,xt++)drawTriangle(_e,ht,vt[xt],vt[xt+1],vt[xt+At],bt[xt],bt[xt+1],bt[xt+At]),drawTriangle(_e,ht,vt[xt+At+1],vt[xt+1],vt[xt+At],bt[xt+At+1],bt[xt+1],bt[xt+At])}break;case"triangles":for(_t=0,wt=vt.length;_t<wt;_t+=3)drawTriangle(_e,ht,vt[_t],vt[_t+1],vt[_t+2],bt[_t],bt[_t+1],bt[_t+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,ht,vt){const At=Math.floor(this._bounds[0]),St=Math.floor(this._bounds[1]),Et=Math.ceil(this._bounds[2])-At,xt=Math.ceil(this._bounds[3])-St,Pt=Math.min(Math.ceil(Math.abs(Et*$[0]*1.1)),3e3),$t=Math.min(Math.ceil(Math.abs(xt*$[1]*1.1)),3e3),kt=Et/Pt,Rt=xt/$t,Mt={coords:this._coords,colors:this._colors,offsetX:-At,offsetY:-St,scaleX:1/kt,scaleY:1/Rt},Dt=Pt+2*2,Ot=$t+2*2,Lt=vt.getCanvas("mesh",Dt,Ot,!1),Nt=Lt.context,Ht=Nt.createImageData(Pt,$t);if(ht){const jt=Ht.data;for(let Bt=0,Vt=jt.length;Bt<Vt;Bt+=4)jt[Bt]=ht[0],jt[Bt+1]=ht[1],jt[Bt+2]=ht[2],jt[Bt+3]=255}for(const jt of this._figures)drawFigure(Ht,jt,Mt);return Nt.putImageData(Ht,2,2),{canvas:Lt.canvas,offsetX:At-2*kt,offsetY:St-2*Rt,scaleX:kt,scaleY:Rt}}getPattern($,ht,vt,bt){applyBoundingBox($,this._bbox);let _t;if(bt===PathType.SHADING)_t=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(_t=Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const At=Util.singularValueDecompose2dScale(this.matrix);_t=[_t[0]*At[0],_t[1]*At[1]]}const wt=this._createMeshCanvas(_t,bt===PathType.SHADING?null:this._background,ht.cachedCanvases);return bt!==PathType.SHADING&&($.setTransform(...ht.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(wt.offsetX,wt.offsetY),$.scale(wt.scaleX,wt.scaleY),$.createPattern(wt.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(_e){switch(_e[0]){case"RadialAxial":return new RadialAxialShadingPattern(_e);case"Mesh":return new MeshShadingPattern(_e);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${_e[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},c_=class c_{constructor($,ht,vt,bt,_t){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=ht,this.ctx=vt,this.canvasGraphicsFactory=bt,this.baseTransform=_t}createPatternCanvas($){const ht=this.operatorList,vt=this.bbox,bt=this.xstep,_t=this.ystep,wt=this.paintType,At=this.tilingType,St=this.color,Et=this.canvasGraphicsFactory;info("TilingType: "+At);const xt=vt[0],Pt=vt[1],$t=vt[2],kt=vt[3],Rt=Util.singularValueDecompose2dScale(this.matrix),Mt=Util.singularValueDecompose2dScale(this.baseTransform),Dt=[Rt[0]*Mt[0],Rt[1]*Mt[1]],Ot=this.getSizeAndScale(bt,this.ctx.canvas.width,Dt[0]),Lt=this.getSizeAndScale(_t,this.ctx.canvas.height,Dt[1]),Nt=$.cachedCanvases.getCanvas("pattern",Ot.size,Lt.size,!0),Ht=Nt.context,Ft=Et.createCanvasGraphics(Ht);Ft.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(Ft,wt,St);let jt=xt,Bt=Pt,Vt=$t,Ut=kt;return xt<0&&(jt=0,Vt+=Math.abs(xt)),Pt<0&&(Bt=0,Ut+=Math.abs(Pt)),Ht.translate(-(Ot.scale*jt),-(Lt.scale*Bt)),Ft.transform(Ot.scale,0,0,Lt.scale,0,0),Ht.save(),this.clipBbox(Ft,jt,Bt,Vt,Ut),Ft.baseTransform=getCurrentTransform(Ft.ctx),Ft.executeOperatorList(ht),Ft.endDrawing(),{canvas:Nt.canvas,scaleX:Ot.scale,scaleY:Lt.scale,offsetX:jt,offsetY:Bt}}getSizeAndScale($,ht,vt){$=Math.abs($);const bt=Math.max(c_.MAX_PATTERN_SIZE,ht);let _t=Math.ceil($*vt);return _t>=bt?_t=bt:vt=_t/$,{scale:vt,size:_t}}clipBbox($,ht,vt,bt,_t){const wt=bt-ht,At=_t-vt;$.ctx.rect(ht,vt,wt,At),$.current.updateRectMinMax(getCurrentTransform($.ctx),[ht,vt,bt,_t]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,ht,vt){const bt=$.ctx,_t=$.current;switch(ht){case PaintType.COLORED:const wt=this.ctx;bt.fillStyle=wt.fillStyle,bt.strokeStyle=wt.strokeStyle,_t.fillColor=wt.fillStyle,_t.strokeColor=wt.strokeStyle;break;case PaintType.UNCOLORED:const At=Util.makeHexColor(vt[0],vt[1],vt[2]);bt.fillStyle=At,bt.strokeStyle=At,_t.fillColor=At,_t.strokeColor=At;break;default:throw new FormatError(`Unsupported paint type: ${ht}`)}}getPattern($,ht,vt,bt){let _t=vt;bt!==PathType.SHADING&&(_t=Util.transform(_t,ht.baseTransform),this.matrix&&(_t=Util.transform(_t,this.matrix)));const wt=this.createPatternCanvas(ht);let At=new DOMMatrix(_t);At=At.translate(wt.offsetX,wt.offsetY),At=At.scale(1/wt.scaleX,1/wt.scaleY);const St=$.createPattern(wt.canvas,"repeat");return St.setTransform(At),St}};Tr(c_,"MAX_PATTERN_SIZE",3e3);let TilingPattern=c_;function convertBlackAndWhiteToRGBA({src:_e,srcPos:$=0,dest:ht,width:vt,height:bt,nonBlackColor:_t=4294967295,inverseDecode:wt=!1}){const At=util_FeatureTest.isLittleEndian?4278190080:255,[St,Et]=wt?[_t,At]:[At,_t],xt=vt>>3,Pt=vt&7,$t=_e.length;ht=new Uint32Array(ht.buffer);let kt=0;for(let Rt=0;Rt<bt;Rt++){for(const Dt=$+xt;$<Dt;$++){const Ot=$<$t?_e[$]:255;ht[kt++]=Ot&128?Et:St,ht[kt++]=Ot&64?Et:St,ht[kt++]=Ot&32?Et:St,ht[kt++]=Ot&16?Et:St,ht[kt++]=Ot&8?Et:St,ht[kt++]=Ot&4?Et:St,ht[kt++]=Ot&2?Et:St,ht[kt++]=Ot&1?Et:St}if(Pt===0)continue;const Mt=$<$t?_e[$++]:255;for(let Dt=0;Dt<Pt;Dt++)ht[kt++]=Mt&1<<7-Dt?Et:St}return{srcPos:$,destPos:kt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(_e,$){if(_e._removeMirroring)throw new Error("Context is already forwarding operations.");_e.__originalSave=_e.save,_e.__originalRestore=_e.restore,_e.__originalRotate=_e.rotate,_e.__originalScale=_e.scale,_e.__originalTranslate=_e.translate,_e.__originalTransform=_e.transform,_e.__originalSetTransform=_e.setTransform,_e.__originalResetTransform=_e.resetTransform,_e.__originalClip=_e.clip,_e.__originalMoveTo=_e.moveTo,_e.__originalLineTo=_e.lineTo,_e.__originalBezierCurveTo=_e.bezierCurveTo,_e.__originalRect=_e.rect,_e.__originalClosePath=_e.closePath,_e.__originalBeginPath=_e.beginPath,_e._removeMirroring=()=>{_e.save=_e.__originalSave,_e.restore=_e.__originalRestore,_e.rotate=_e.__originalRotate,_e.scale=_e.__originalScale,_e.translate=_e.__originalTranslate,_e.transform=_e.__originalTransform,_e.setTransform=_e.__originalSetTransform,_e.resetTransform=_e.__originalResetTransform,_e.clip=_e.__originalClip,_e.moveTo=_e.__originalMoveTo,_e.lineTo=_e.__originalLineTo,_e.bezierCurveTo=_e.__originalBezierCurveTo,_e.rect=_e.__originalRect,_e.closePath=_e.__originalClosePath,_e.beginPath=_e.__originalBeginPath,delete _e._removeMirroring},_e.save=function(){$.save(),this.__originalSave()},_e.restore=function(){$.restore(),this.__originalRestore()},_e.translate=function(vt,bt){$.translate(vt,bt),this.__originalTranslate(vt,bt)},_e.scale=function(vt,bt){$.scale(vt,bt),this.__originalScale(vt,bt)},_e.transform=function(vt,bt,_t,wt,At,St){$.transform(vt,bt,_t,wt,At,St),this.__originalTransform(vt,bt,_t,wt,At,St)},_e.setTransform=function(vt,bt,_t,wt,At,St){$.setTransform(vt,bt,_t,wt,At,St),this.__originalSetTransform(vt,bt,_t,wt,At,St)},_e.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},_e.rotate=function(vt){$.rotate(vt),this.__originalRotate(vt)},_e.clip=function(vt){$.clip(vt),this.__originalClip(vt)},_e.moveTo=function(ht,vt){$.moveTo(ht,vt),this.__originalMoveTo(ht,vt)},_e.lineTo=function(ht,vt){$.lineTo(ht,vt),this.__originalLineTo(ht,vt)},_e.bezierCurveTo=function(ht,vt,bt,_t,wt,At){$.bezierCurveTo(ht,vt,bt,_t,wt,At),this.__originalBezierCurveTo(ht,vt,bt,_t,wt,At)},_e.rect=function(ht,vt,bt,_t){$.rect(ht,vt,bt,_t),this.__originalRect(ht,vt,bt,_t)},_e.closePath=function(){$.closePath(),this.__originalClosePath()},_e.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,ht,vt){let bt;return this.cache[$]!==void 0?(bt=this.cache[$],this.canvasFactory.reset(bt,ht,vt)):(bt=this.canvasFactory.create(ht,vt),this.cache[$]=bt),bt}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const ht=this.cache[$];this.canvasFactory.destroy(ht),delete this.cache[$]}}}function drawImageAtIntegerCoords(_e,$,ht,vt,bt,_t,wt,At,St,Et){const[xt,Pt,$t,kt,Rt,Mt]=getCurrentTransform(_e);if(Pt===0&&$t===0){const Lt=wt*xt+Rt,Nt=Math.round(Lt),Ht=At*kt+Mt,Ft=Math.round(Ht),jt=(wt+St)*xt+Rt,Bt=Math.abs(Math.round(jt)-Nt)||1,Vt=(At+Et)*kt+Mt,Ut=Math.abs(Math.round(Vt)-Ft)||1;return _e.setTransform(Math.sign(xt),0,0,Math.sign(kt),Nt,Ft),_e.drawImage($,ht,vt,bt,_t,0,0,Bt,Ut),_e.setTransform(xt,Pt,$t,kt,Rt,Mt),[Bt,Ut]}if(xt===0&&kt===0){const Lt=At*$t+Rt,Nt=Math.round(Lt),Ht=wt*Pt+Mt,Ft=Math.round(Ht),jt=(At+Et)*$t+Rt,Bt=Math.abs(Math.round(jt)-Nt)||1,Vt=(wt+St)*Pt+Mt,Ut=Math.abs(Math.round(Vt)-Ft)||1;return _e.setTransform(0,Math.sign(Pt),Math.sign($t),0,Nt,Ft),_e.drawImage($,ht,vt,bt,_t,0,0,Ut,Bt),_e.setTransform(xt,Pt,$t,kt,Rt,Mt),[Ut,Bt]}_e.drawImage($,ht,vt,bt,_t,wt,At,St,Et);const Dt=Math.hypot(xt,Pt),Ot=Math.hypot($t,kt);return[Dt*St,Ot*Et]}function compileType3Glyph(_e){const{width:$,height:ht}=_e;if($>MAX_SIZE_TO_COMPILE||ht>MAX_SIZE_TO_COMPILE)return null;const vt=1e3,bt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),_t=$+1;let wt=new Uint8Array(_t*(ht+1)),At,St,Et;const xt=$+7&-8;let Pt=new Uint8Array(xt*ht),$t=0;for(const Ot of _e.data){let Lt=128;for(;Lt>0;)Pt[$t++]=Ot&Lt?0:255,Lt>>=1}let kt=0;for($t=0,Pt[$t]!==0&&(wt[0]=1,++kt),St=1;St<$;St++)Pt[$t]!==Pt[$t+1]&&(wt[St]=Pt[$t]?2:1,++kt),$t++;for(Pt[$t]!==0&&(wt[St]=2,++kt),At=1;At<ht;At++){$t=At*xt,Et=At*_t,Pt[$t-xt]!==Pt[$t]&&(wt[Et]=Pt[$t]?1:8,++kt);let Ot=(Pt[$t]?4:0)+(Pt[$t-xt]?8:0);for(St=1;St<$;St++)Ot=(Ot>>2)+(Pt[$t+1]?4:0)+(Pt[$t-xt+1]?8:0),bt[Ot]&&(wt[Et+St]=bt[Ot],++kt),$t++;if(Pt[$t-xt]!==Pt[$t]&&(wt[Et+St]=Pt[$t]?2:4,++kt),kt>vt)return null}for($t=xt*(ht-1),Et=At*_t,Pt[$t]!==0&&(wt[Et]=8,++kt),St=1;St<$;St++)Pt[$t]!==Pt[$t+1]&&(wt[Et+St]=Pt[$t]?4:8,++kt),$t++;if(Pt[$t]!==0&&(wt[Et+St]=4,++kt),kt>vt)return null;const Rt=new Int32Array([0,_t,-1,0,-_t,0,0,0,1]),Mt=new Path2D;for(At=0;kt&&At<=ht;At++){let Ot=At*_t;const Lt=Ot+$;for(;Ot<Lt&&!wt[Ot];)Ot++;if(Ot===Lt)continue;Mt.moveTo(Ot%_t,At);const Nt=Ot;let Ht=wt[Ot];do{const Ft=Rt[Ht];do Ot+=Ft;while(!wt[Ot]);const jt=wt[Ot];jt!==5&&jt!==10?(Ht=jt,wt[Ot]=0):(Ht=jt&51*Ht>>4,wt[Ot]&=Ht>>2|Ht<<2),Mt.lineTo(Ot%_t,Ot/_t|0),wt[Ot]||--kt}while(Nt!==Ot);--At}return Pt=null,wt=null,function(Ot){Ot.save(),Ot.scale(1/$,-1/ht),Ot.translate(0,-ht),Ot.fill(Mt),Ot.beginPath(),Ot.restore()}}class CanvasExtraState{constructor($,ht){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,ht])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,ht){this.x=$,this.y=ht}updatePathMinMax($,ht,vt){[ht,vt]=Util.applyTransform([ht,vt],$),this.minX=Math.min(this.minX,ht),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,ht),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax($,ht){const vt=Util.applyTransform(ht,$),bt=Util.applyTransform(ht.slice(2),$),_t=Util.applyTransform([ht[0],ht[3]],$),wt=Util.applyTransform([ht[2],ht[1]],$);this.minX=Math.min(this.minX,vt[0],bt[0],_t[0],wt[0]),this.minY=Math.min(this.minY,vt[1],bt[1],_t[1],wt[1]),this.maxX=Math.max(this.maxX,vt[0],bt[0],_t[0],wt[0]),this.maxY=Math.max(this.maxY,vt[1],bt[1],_t[1],wt[1])}updateScalingPathMinMax($,ht){Util.scaleMinMax($,ht),this.minX=Math.min(this.minX,ht[0]),this.minY=Math.min(this.minY,ht[1]),this.maxX=Math.max(this.maxX,ht[2]),this.maxY=Math.max(this.maxY,ht[3])}updateCurvePathMinMax($,ht,vt,bt,_t,wt,At,St,Et,xt){const Pt=Util.bezierBoundingBox(ht,vt,bt,_t,wt,At,St,Et,xt);xt||this.updateRectMinMax($,Pt)}getPathBoundingBox($=PathType.FILL,ht=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){ht||unreachable("Stroke bounding box must include transform.");const bt=Util.singularValueDecompose2dScale(ht),_t=bt[0]*this.lineWidth/2,wt=bt[1]*this.lineWidth/2;vt[0]-=_t,vt[1]-=wt,vt[2]+=_t,vt[3]+=wt}return vt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,ht=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,ht))}}function putBinaryImageData(_e,$){if(typeof ImageData<"u"&&$ instanceof ImageData){_e.putImageData($,0,0);return}const ht=$.height,vt=$.width,bt=ht%FULL_CHUNK_HEIGHT,_t=(ht-bt)/FULL_CHUNK_HEIGHT,wt=bt===0?_t:_t+1,At=_e.createImageData(vt,FULL_CHUNK_HEIGHT);let St=0,Et;const xt=$.data,Pt=At.data;let $t,kt,Rt,Mt;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const Dt=xt.byteLength,Ot=new Uint32Array(Pt.buffer,0,Pt.byteLength>>2),Lt=Ot.length,Nt=vt+7>>3,Ht=4294967295,Ft=util_FeatureTest.isLittleEndian?4278190080:255;for($t=0;$t<wt;$t++){for(Rt=$t<_t?FULL_CHUNK_HEIGHT:bt,Et=0,kt=0;kt<Rt;kt++){const jt=Dt-St;let Bt=0;const Vt=jt>Nt?vt:jt*8-7,Ut=Vt&-8;let Jt=0,Wt=0;for(;Bt<Ut;Bt+=8)Wt=xt[St++],Ot[Et++]=Wt&128?Ht:Ft,Ot[Et++]=Wt&64?Ht:Ft,Ot[Et++]=Wt&32?Ht:Ft,Ot[Et++]=Wt&16?Ht:Ft,Ot[Et++]=Wt&8?Ht:Ft,Ot[Et++]=Wt&4?Ht:Ft,Ot[Et++]=Wt&2?Ht:Ft,Ot[Et++]=Wt&1?Ht:Ft;for(;Bt<Vt;Bt++)Jt===0&&(Wt=xt[St++],Jt=128),Ot[Et++]=Wt&Jt?Ht:Ft,Jt>>=1}for(;Et<Lt;)Ot[Et++]=0;_e.putImageData(At,0,$t*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(kt=0,Mt=vt*FULL_CHUNK_HEIGHT*4,$t=0;$t<_t;$t++)Pt.set(xt.subarray(St,St+Mt)),St+=Mt,_e.putImageData(At,0,kt),kt+=FULL_CHUNK_HEIGHT;$t<wt&&(Mt=vt*bt*4,Pt.set(xt.subarray(St,St+Mt)),_e.putImageData(At,0,kt))}else if($.kind===util_ImageKind.RGB_24BPP)for(Rt=FULL_CHUNK_HEIGHT,Mt=vt*Rt,$t=0;$t<wt;$t++){for($t>=_t&&(Rt=bt,Mt=vt*Rt),Et=0,kt=Mt;kt--;)Pt[Et++]=xt[St++],Pt[Et++]=xt[St++],Pt[Et++]=xt[St++],Pt[Et++]=255;_e.putImageData(At,0,$t*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(_e,$){if($.bitmap){_e.drawImage($.bitmap,0,0);return}const ht=$.height,vt=$.width,bt=ht%FULL_CHUNK_HEIGHT,_t=(ht-bt)/FULL_CHUNK_HEIGHT,wt=bt===0?_t:_t+1,At=_e.createImageData(vt,FULL_CHUNK_HEIGHT);let St=0;const Et=$.data,xt=At.data;for(let Pt=0;Pt<wt;Pt++){const $t=Pt<_t?FULL_CHUNK_HEIGHT:bt;({srcPos:St}=convertBlackAndWhiteToRGBA({src:Et,srcPos:St,dest:xt,width:vt,height:$t,nonBlackColor:0})),_e.putImageData(At,0,Pt*FULL_CHUNK_HEIGHT)}}function copyCtxState(_e,$){const ht=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of ht)_e[vt]!==void 0&&($[vt]=_e[vt]);_e.setLineDash!==void 0&&($.setLineDash(_e.getLineDash()),$.lineDashOffset=_e.lineDashOffset)}function resetCtxToDefault(_e){if(_e.strokeStyle=_e.fillStyle="#000000",_e.fillRule="nonzero",_e.globalAlpha=1,_e.lineWidth=1,_e.lineCap="butt",_e.lineJoin="miter",_e.miterLimit=10,_e.globalCompositeOperation="source-over",_e.font="10px sans-serif",_e.setLineDash!==void 0&&(_e.setLineDash([]),_e.lineDashOffset=0),!isNodeJS){const{filter:$}=_e;$!=="none"&&$!==""&&(_e.filter="none")}}function getImageSmoothingEnabled(_e,$){if($)return!0;const ht=Util.singularValueDecompose2dScale(_e);ht[0]=Math.fround(ht[0]),ht[1]=Math.fround(ht[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return ht[0]<=vt&&ht[1]<=vt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Gu,Z_,Q_;const uA=class uA{constructor($,ht,vt,bt,_t,{optionalContentConfig:wt,markedContentStack:At=null},St,Et){Xt(this,Gu);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ht,this.objs=vt,this.canvasFactory=bt,this.filterFactory=_t,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=At||[],this.optionalContentConfig=wt,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=St,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Et,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,ht=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):ht}beginDrawing({transform:$,viewport:ht,transparency:vt=!1,background:bt=null}){const _t=this.ctx.canvas.width,wt=this.ctx.canvas.height,At=this.ctx.fillStyle;if(this.ctx.fillStyle=bt||"#ffffff",this.ctx.fillRect(0,0,_t,wt),this.ctx.fillStyle=At,vt){const St=this.cachedCanvases.getCanvas("transparent",_t,wt);this.compositeCtx=this.ctx,this.transparentCanvas=St.canvas,this.ctx=St.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(...ht.transform),this.viewportScale=ht.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,ht,vt,bt){const _t=$.argsArray,wt=$.fnArray;let At=ht||0;const St=_t.length;if(St===At)return At;const Et=St-At>EXECUTION_STEPS&&typeof vt=="function",xt=Et?Date.now()+EXECUTION_TIME:0;let Pt=0;const $t=this.commonObjs,kt=this.objs;let Rt;for(;;){if(bt!==void 0&&At===bt.nextBreakPoint)return bt.breakIt(At,vt),At;if(Rt=wt[At],Rt!==OPS.dependency)this[Rt].apply(this,_t[At]);else for(const Mt of _t[At]){const Dt=Mt.startsWith("g_")?$t:kt;if(!Dt.has(Mt))return Dt.get(Mt,vt),At}if(At++,At===St)return At;if(Et&&++Pt>EXECUTION_STEPS){if(Date.now()>xt)return vt(),At;Pt=0}}}endDrawing(){zt(this,Gu,Z_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const ht of $.values())typeof HTMLCanvasElement<"u"&&ht instanceof HTMLCanvasElement&&(ht.width=ht.height=0);$.clear()}this._cachedBitmapsMap.clear(),zt(this,Gu,Q_).call(this)}_scaleImage($,ht){const vt=$.width,bt=$.height;let _t=Math.max(Math.hypot(ht[0],ht[1]),1),wt=Math.max(Math.hypot(ht[2],ht[3]),1),At=vt,St=bt,Et="prescale1",xt,Pt;for(;_t>2&&At>1||wt>2&&St>1;){let $t=At,kt=St;_t>2&&At>1&&($t=At>=16384?Math.floor(At/2)-1||1:Math.ceil(At/2),_t/=At/$t),wt>2&&St>1&&(kt=St>=16384?Math.floor(St/2)-1||1:Math.ceil(St)/2,wt/=St/kt),xt=this.cachedCanvases.getCanvas(Et,$t,kt),Pt=xt.context,Pt.clearRect(0,0,$t,kt),Pt.drawImage($,0,0,At,St,0,0,$t,kt),$=xt.canvas,At=$t,St=kt,Et=Et==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:At,paintHeight:St}}_createMaskCanvas($){const ht=this.ctx,{width:vt,height:bt}=$,_t=this.current.fillColor,wt=this.current.patternFill,At=getCurrentTransform(ht);let St,Et,xt,Pt;if(($.bitmap||$.data)&&$.count>1){const Vt=$.bitmap||$.data.buffer;Et=JSON.stringify(wt?At:[At.slice(0,4),_t]),St=this._cachedBitmapsMap.get(Vt),St||(St=new Map,this._cachedBitmapsMap.set(Vt,St));const Ut=St.get(Et);if(Ut&&!wt){const Jt=Math.round(Math.min(At[0],At[2])+At[4]),Wt=Math.round(Math.min(At[1],At[3])+At[5]);return{canvas:Ut,offsetX:Jt,offsetY:Wt}}xt=Ut}xt||(Pt=this.cachedCanvases.getCanvas("maskCanvas",vt,bt),putBinaryImageMask(Pt.context,$));let $t=Util.transform(At,[1/vt,0,0,-1/bt,0,0]);$t=Util.transform($t,[1,0,0,1,0,-bt]);const[kt,Rt,Mt,Dt]=Util.getAxialAlignedBoundingBox([0,0,vt,bt],$t),Ot=Math.round(Mt-kt)||1,Lt=Math.round(Dt-Rt)||1,Nt=this.cachedCanvases.getCanvas("fillCanvas",Ot,Lt),Ht=Nt.context,Ft=kt,jt=Rt;Ht.translate(-Ft,-jt),Ht.transform(...$t),xt||(xt=this._scaleImage(Pt.canvas,getCurrentTransformInverse(Ht)),xt=xt.img,St&&wt&&St.set(Et,xt)),Ht.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Ht),$.interpolate),drawImageAtIntegerCoords(Ht,xt,0,0,xt.width,xt.height,0,0,vt,bt),Ht.globalCompositeOperation="source-in";const Bt=Util.transform(getCurrentTransformInverse(Ht),[1,0,0,1,-Ft,-jt]);return Ht.fillStyle=wt?_t.getPattern(ht,this,Bt,PathType.FILL):_t,Ht.fillRect(0,0,vt,bt),St&&!wt&&(this.cachedCanvases.delete("fillCanvas"),St.set(Et,Nt.canvas)),{canvas:Nt.canvas,offsetX:Math.round(Ft),offsetY:Math.round(jt)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,ht){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash($),vt.lineDashOffset=ht)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[ht,vt]of $)switch(ht){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,ht=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,bt=this.cachedCanvases.getCanvas(vt,$,ht);this.suspendedCtx=this.ctx,this.ctx=bt.context;const _t=this.ctx;_t.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,_t),mirrorContextOperations(_t,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ht=this.current.activeSMask,vt=this.suspendedCtx;this.composeSMask(vt,ht,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,ht,vt,bt){const _t=bt[0],wt=bt[1],At=bt[2]-_t,St=bt[3]-wt;At===0||St===0||(this.genericComposeSMask(ht.context,vt,At,St,ht.subtype,ht.backdrop,ht.transferMap,_t,wt,ht.offsetX,ht.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(vt.canvas,0,0),$.restore())}genericComposeSMask($,ht,vt,bt,_t,wt,At,St,Et,xt,Pt){let $t=$.canvas,kt=St-xt,Rt=Et-Pt;if(wt){if(kt<0||Rt<0||kt+vt>$t.width||Rt+bt>$t.height){const Dt=this.cachedCanvases.getCanvas("maskExtension",vt,bt),Ot=Dt.context;Ot.drawImage($t,-kt,-Rt),wt.some(Lt=>Lt!==0)&&(Ot.globalCompositeOperation="destination-atop",Ot.fillStyle=Util.makeHexColor(...wt),Ot.fillRect(0,0,vt,bt),Ot.globalCompositeOperation="source-over"),$t=Dt.canvas,kt=Rt=0}else if(wt.some(Dt=>Dt!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const Dt=new Path2D;Dt.rect(kt,Rt,vt,bt),$.clip(Dt),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...wt),$.fillRect(kt,Rt,vt,bt),$.restore()}}ht.save(),ht.globalAlpha=1,ht.setTransform(1,0,0,1,0,0),_t==="Alpha"&&At?ht.filter=this.filterFactory.addAlphaFilter(At):_t==="Luminosity"&&(ht.filter=this.filterFactory.addLuminosityFilter(At));const Mt=new Path2D;Mt.rect(St,Et,vt,bt),ht.clip(Mt),ht.globalCompositeOperation="destination-in",ht.drawImage($t,kt,Rt,vt,bt,St,Et,vt,bt),ht.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,ht,vt,bt,_t,wt){this.ctx.transform($,ht,vt,bt,_t,wt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,ht,vt){const bt=this.ctx,_t=this.current;let wt=_t.x,At=_t.y,St,Et;const xt=getCurrentTransform(bt),Pt=xt[0]===0&&xt[3]===0||xt[1]===0&&xt[2]===0,$t=Pt?vt.slice(0):null;for(let kt=0,Rt=0,Mt=$.length;kt<Mt;kt++)switch($[kt]|0){case OPS.rectangle:wt=ht[Rt++],At=ht[Rt++];const Dt=ht[Rt++],Ot=ht[Rt++],Lt=wt+Dt,Nt=At+Ot;bt.moveTo(wt,At),Dt===0||Ot===0?bt.lineTo(Lt,Nt):(bt.lineTo(Lt,At),bt.lineTo(Lt,Nt),bt.lineTo(wt,Nt)),Pt||_t.updateRectMinMax(xt,[wt,At,Lt,Nt]),bt.closePath();break;case OPS.moveTo:wt=ht[Rt++],At=ht[Rt++],bt.moveTo(wt,At),Pt||_t.updatePathMinMax(xt,wt,At);break;case OPS.lineTo:wt=ht[Rt++],At=ht[Rt++],bt.lineTo(wt,At),Pt||_t.updatePathMinMax(xt,wt,At);break;case OPS.curveTo:St=wt,Et=At,wt=ht[Rt+4],At=ht[Rt+5],bt.bezierCurveTo(ht[Rt],ht[Rt+1],ht[Rt+2],ht[Rt+3],wt,At),_t.updateCurvePathMinMax(xt,St,Et,ht[Rt],ht[Rt+1],ht[Rt+2],ht[Rt+3],wt,At,$t),Rt+=6;break;case OPS.curveTo2:St=wt,Et=At,bt.bezierCurveTo(wt,At,ht[Rt],ht[Rt+1],ht[Rt+2],ht[Rt+3]),_t.updateCurvePathMinMax(xt,St,Et,wt,At,ht[Rt],ht[Rt+1],ht[Rt+2],ht[Rt+3],$t),wt=ht[Rt+2],At=ht[Rt+3],Rt+=4;break;case OPS.curveTo3:St=wt,Et=At,wt=ht[Rt+2],At=ht[Rt+3],bt.bezierCurveTo(ht[Rt],ht[Rt+1],wt,At,wt,At),_t.updateCurvePathMinMax(xt,St,Et,ht[Rt],ht[Rt+1],wt,At,wt,At,$t),Rt+=4;break;case OPS.closePath:bt.closePath();break}Pt&&_t.updateScalingPathMinMax(xt,$t),_t.setCurrentPoint(wt,At)}closePath(){this.ctx.closePath()}stroke($=!0){const ht=this.ctx,vt=this.current.strokeColor;ht.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(ht.save(),ht.strokeStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.STROKE),this.rescaleAndStroke(!1),ht.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),ht.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const ht=this.ctx,vt=this.current.fillColor,bt=this.current.patternFill;let _t=!1;bt&&(ht.save(),ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.FILL),_t=!0);const wt=this.current.getClippedPathBoundingBox();this.contentVisible&&wt!==null&&(this.pendingEOFill?(ht.fill("evenodd"),this.pendingEOFill=!1):ht.fill()),_t&&ht.restore(),$&&this.consumePath(wt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,ht=this.ctx;if($===void 0){ht.beginPath();return}ht.save(),ht.beginPath();for(const vt of $)ht.setTransform(...vt.transform),ht.translate(vt.x,vt.y),vt.addToPath(ht,vt.fontSize);ht.restore(),ht.clip(),ht.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,ht){var xt;const vt=this.commonObjs.get($),bt=this.current;if(!vt)throw new Error(`Can't find font for ${$}`);if(bt.fontMatrix=vt.fontMatrix||FONT_IDENTITY_MATRIX,(bt.fontMatrix[0]===0||bt.fontMatrix[3]===0)&&warn$1("Invalid font matrix for font "+$),ht<0?(ht=-ht,bt.fontDirection=-1):bt.fontDirection=1,this.current.font=vt,this.current.fontSize=ht,vt.isType3Font)return;const _t=vt.loadedName||"sans-serif",wt=((xt=vt.systemFontInfo)==null?void 0:xt.css)||`"${_t}", ${vt.fallbackName}`;let At="normal";vt.black?At="900":vt.bold&&(At="bold");const St=vt.italic?"italic":"normal";let Et=ht;ht<MIN_FONT_SIZE?Et=MIN_FONT_SIZE:ht>MAX_FONT_SIZE&&(Et=MAX_FONT_SIZE),this.current.fontSizeScale=ht/Et,this.ctx.font=`${St} ${At} ${Et}px ${wt}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,ht){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=ht}setLeadingMoveText($,ht){this.setLeading(-ht),this.moveText($,ht)}setTextMatrix($,ht,vt,bt,_t,wt){this.current.textMatrix=[$,ht,vt,bt,_t,wt],this.current.textMatrixScale=Math.hypot($,ht),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,ht,vt,bt){const _t=this.ctx,wt=this.current,At=wt.font,St=wt.textRenderingMode,Et=wt.fontSize/wt.fontSizeScale,xt=St&TextRenderingMode.FILL_STROKE_MASK,Pt=!!(St&TextRenderingMode.ADD_TO_PATH_FLAG),$t=wt.patternFill&&!At.missingFile;let kt;(At.disableFontFace||Pt||$t)&&(kt=At.getPathGenerator(this.commonObjs,$)),At.disableFontFace||$t?(_t.save(),_t.translate(ht,vt),_t.beginPath(),kt(_t,Et),bt&&_t.setTransform(...bt),(xt===TextRenderingMode.FILL||xt===TextRenderingMode.FILL_STROKE)&&_t.fill(),(xt===TextRenderingMode.STROKE||xt===TextRenderingMode.FILL_STROKE)&&_t.stroke(),_t.restore()):((xt===TextRenderingMode.FILL||xt===TextRenderingMode.FILL_STROKE)&&_t.fillText($,ht,vt),(xt===TextRenderingMode.STROKE||xt===TextRenderingMode.FILL_STROKE)&&_t.strokeText($,ht,vt)),Pt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(_t),x:ht,y:vt,fontSize:Et,addToPath:kt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const ht=$.getImageData(0,0,10,10).data;let vt=!1;for(let bt=3;bt<ht.length;bt+=4)if(ht[bt]>0&&ht[bt]<255){vt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",vt)}showText($){const ht=this.current,vt=ht.font;if(vt.isType3Font)return this.showType3Text($);const bt=ht.fontSize;if(bt===0)return;const _t=this.ctx,wt=ht.fontSizeScale,At=ht.charSpacing,St=ht.wordSpacing,Et=ht.fontDirection,xt=ht.textHScale*Et,Pt=$.length,$t=vt.vertical,kt=$t?1:-1,Rt=vt.defaultVMetrics,Mt=bt*ht.fontMatrix[0],Dt=ht.textRenderingMode===TextRenderingMode.FILL&&!vt.disableFontFace&&!ht.patternFill;_t.save(),_t.transform(...ht.textMatrix),_t.translate(ht.x,ht.y+ht.textRise),Et>0?_t.scale(xt,-1):_t.scale(xt,1);let Ot;if(ht.patternFill){_t.save();const jt=ht.fillColor.getPattern(_t,this,getCurrentTransformInverse(_t),PathType.FILL);Ot=getCurrentTransform(_t),_t.restore(),_t.fillStyle=jt}let Lt=ht.lineWidth;const Nt=ht.textMatrixScale;if(Nt===0||Lt===0){const jt=ht.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(jt===TextRenderingMode.STROKE||jt===TextRenderingMode.FILL_STROKE)&&(Lt=this.getSinglePixelWidth())}else Lt/=Nt;if(wt!==1&&(_t.scale(wt,wt),Lt/=wt),_t.lineWidth=Lt,vt.isInvalidPDFjsFont){const jt=[];let Bt=0;for(const Vt of $)jt.push(Vt.unicode),Bt+=Vt.width;_t.fillText(jt.join(""),0,0),ht.x+=Bt*Mt*xt,_t.restore(),this.compose();return}let Ht=0,Ft;for(Ft=0;Ft<Pt;++Ft){const jt=$[Ft];if(typeof jt=="number"){Ht+=kt*jt*bt/1e3;continue}let Bt=!1;const Vt=(jt.isSpace?St:0)+At,Ut=jt.fontChar,Jt=jt.accent;let Wt,Qt,tn=jt.width;if($t){const nn=jt.vmetric||Rt,hn=-(jt.vmetric?nn[1]:tn*.5)*Mt,sn=nn[2]*Mt;tn=nn?-nn[0]:tn,Wt=hn/wt,Qt=(Ht+sn)/wt}else Wt=Ht/wt,Qt=0;if(vt.remeasure&&tn>0){const nn=_t.measureText(Ut).width*1e3/bt*wt;if(tn<nn&&this.isFontSubpixelAAEnabled){const hn=tn/nn;Bt=!0,_t.save(),_t.scale(hn,1),Wt/=hn}else tn!==nn&&(Wt+=(tn-nn)/2e3*bt/wt)}if(this.contentVisible&&(jt.isInFont||vt.missingFile)){if(Dt&&!Jt)_t.fillText(Ut,Wt,Qt);else if(this.paintChar(Ut,Wt,Qt,Ot),Jt){const nn=Wt+bt*Jt.offset.x/wt,hn=Qt-bt*Jt.offset.y/wt;this.paintChar(Jt.fontChar,nn,hn,Ot)}}const pn=$t?tn*Mt-Vt*Et:tn*Mt+Vt*Et;Ht+=pn,Bt&&_t.restore()}$t?ht.y-=Ht:ht.x+=Ht*xt,_t.restore(),this.compose()}showType3Text($){const ht=this.ctx,vt=this.current,bt=vt.font,_t=vt.fontSize,wt=vt.fontDirection,At=bt.vertical?1:-1,St=vt.charSpacing,Et=vt.wordSpacing,xt=vt.textHScale*wt,Pt=vt.fontMatrix||FONT_IDENTITY_MATRIX,$t=$.length,kt=vt.textRenderingMode===TextRenderingMode.INVISIBLE;let Rt,Mt,Dt,Ot;if(!(kt||_t===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ht.save(),ht.transform(...vt.textMatrix),ht.translate(vt.x,vt.y),ht.scale(xt,wt),Rt=0;Rt<$t;++Rt){if(Mt=$[Rt],typeof Mt=="number"){Ot=At*Mt*_t/1e3,this.ctx.translate(Ot,0),vt.x+=Ot*xt;continue}const Lt=(Mt.isSpace?Et:0)+St,Nt=bt.charProcOperatorList[Mt.operatorListId];if(!Nt){warn$1(`Type3 character "${Mt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Mt,this.save(),ht.scale(_t,_t),ht.transform(...Pt),this.executeOperatorList(Nt),this.restore()),Dt=Util.applyTransform([Mt.width,0],Pt)[0]*_t+Lt,ht.translate(Dt,0),vt.x+=Dt*xt}ht.restore(),this.processingType3=null}}setCharWidth($,ht){}setCharWidthAndBounds($,ht,vt,bt,_t,wt){this.ctx.rect(vt,bt,_t-vt,wt-bt),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let ht;if($[0]==="TilingPattern"){const vt=$[1],bt=this.baseTransform||getCurrentTransform(this.ctx),_t={createCanvasGraphics:wt=>new uA(wt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ht=new TilingPattern($,vt,this.ctx,_t,bt)}else ht=this._getPattern($[1],$[2]);return ht}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,ht,vt){const bt=Util.makeHexColor($,ht,vt);this.ctx.strokeStyle=bt,this.current.strokeColor=bt}setFillRGBColor($,ht,vt){const bt=Util.makeHexColor($,ht,vt);this.ctx.fillStyle=bt,this.current.fillColor=bt,this.current.patternFill=!1}_getPattern($,ht=null){let vt;return this.cachedPatterns.has($)?vt=this.cachedPatterns.get($):(vt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,vt)),ht&&(vt.matrix=ht),vt}shadingFill($){if(!this.contentVisible)return;const ht=this.ctx;this.save();const vt=this._getPattern($);ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.SHADING);const bt=getCurrentTransformInverse(ht);if(bt){const{width:_t,height:wt}=ht.canvas,[At,St,Et,xt]=Util.getAxialAlignedBoundingBox([0,0,_t,wt],bt);this.ctx.fillRect(At,St,Et-At,xt-St)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,ht){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),ht)){const vt=ht[2]-ht[0],bt=ht[3]-ht[1];this.ctx.rect(ht[0],ht[1],vt,bt),this.current.updateRectMinMax(getCurrentTransform(this.ctx),ht),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ht=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn$1("Knockout groups not supported.");const vt=getCurrentTransform(ht);if($.matrix&&ht.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let bt=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(ht));const _t=[0,0,ht.canvas.width,ht.canvas.height];bt=Util.intersect(bt,_t)||[0,0,0,0];const wt=Math.floor(bt[0]),At=Math.floor(bt[1]),St=Math.max(Math.ceil(bt[2])-wt,1),Et=Math.max(Math.ceil(bt[3])-At,1);this.current.startNewPathAndClipBox([0,0,St,Et]);let xt="groupAt"+this.groupLevel;$.smask&&(xt+="_smask_"+this.smaskCounter++%2);const Pt=this.cachedCanvases.getCanvas(xt,St,Et),$t=Pt.context;$t.translate(-wt,-At),$t.transform(...vt),$.smask?this.smaskStack.push({canvas:Pt.canvas,context:$t,offsetX:wt,offsetY:At,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(ht.setTransform(1,0,0,1,0,0),ht.translate(wt,At),ht.save()),copyCtxState(ht,$t),this.ctx=$t,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ht),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const ht=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const bt=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...bt);const _t=Util.getAxialAlignedBoundingBox([0,0,ht.canvas.width,ht.canvas.height],bt);this.ctx.drawImage(ht.canvas,0,0),this.ctx.restore(),this.compose(_t)}}beginAnnotation($,ht,vt,bt,_t){if(zt(this,Gu,Z_).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),ht){const wt=ht[2]-ht[0],At=ht[3]-ht[1];if(_t&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=ht[0],vt[5]-=ht[1],ht=ht.slice(),ht[0]=ht[1]=0,ht[2]=wt,ht[3]=At;const[St,Et]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:xt}=this,Pt=Math.ceil(wt*this.outputScaleX*xt),$t=Math.ceil(At*this.outputScaleY*xt);this.annotationCanvas=this.canvasFactory.create(Pt,$t);const{canvas:kt,context:Rt}=this.annotationCanvas;this.annotationCanvasMap.set($,kt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Rt,this.ctx.save(),this.ctx.setTransform(St,0,0,-Et,0,At*Et),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(ht[0],ht[1],wt,At),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...bt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),zt(this,Gu,Q_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const ht=$.count;$=this.getObject($.data,$),$.count=ht;const vt=this.ctx,bt=this.processingType3;if(bt&&(bt.compiled===void 0&&(bt.compiled=compileType3Glyph($)),bt.compiled)){bt.compiled(vt);return}const _t=this._createMaskCanvas($),wt=_t.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(wt,_t.offsetX,_t.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat($,ht,vt=0,bt=0,_t,wt){if(!this.contentVisible)return;$=this.getObject($.data,$);const At=this.ctx;At.save();const St=getCurrentTransform(At);At.transform(ht,vt,bt,_t,0,0);const Et=this._createMaskCanvas($);At.setTransform(1,0,0,1,Et.offsetX-St[4],Et.offsetY-St[5]);for(let xt=0,Pt=wt.length;xt<Pt;xt+=2){const $t=Util.transform(St,[ht,vt,bt,_t,wt[xt],wt[xt+1]]),[kt,Rt]=Util.applyTransform([0,0],$t);At.drawImage(Et.canvas,kt,Rt)}At.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const ht=this.ctx,vt=this.current.fillColor,bt=this.current.patternFill;for(const _t of $){const{data:wt,width:At,height:St,transform:Et}=_t,xt=this.cachedCanvases.getCanvas("maskCanvas",At,St),Pt=xt.context;Pt.save();const $t=this.getObject(wt,_t);putBinaryImageMask(Pt,$t),Pt.globalCompositeOperation="source-in",Pt.fillStyle=bt?vt.getPattern(Pt,this,getCurrentTransformInverse(ht),PathType.FILL):vt,Pt.fillRect(0,0,At,St),Pt.restore(),ht.save(),ht.transform(...Et),ht.scale(1,-1),drawImageAtIntegerCoords(ht,xt.canvas,0,0,At,St,0,-1,1,1),ht.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const ht=this.getObject($);if(!ht){warn$1("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ht)}paintImageXObjectRepeat($,ht,vt,bt){if(!this.contentVisible)return;const _t=this.getObject($);if(!_t){warn$1("Dependent image isn't ready yet");return}const wt=_t.width,At=_t.height,St=[];for(let Et=0,xt=bt.length;Et<xt;Et+=2)St.push({transform:[ht,0,0,vt,bt[Et],bt[Et+1]],x:0,y:0,w:wt,h:At});this.paintInlineImageXObjectGroup(_t,St)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:ht,width:vt,height:bt}=$,_t=this.cachedCanvases.getCanvas("inlineImage",vt,bt),wt=_t.context;return wt.filter=this.current.transferMaps,wt.drawImage(ht,0,0),wt.filter="none",_t.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const ht=$.width,vt=$.height,bt=this.ctx;if(this.save(),!isNodeJS){const{filter:At}=bt;At!=="none"&&At!==""&&(bt.filter="none")}bt.scale(1/ht,-1/vt);let _t;if($.bitmap)_t=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)_t=$;else{const St=this.cachedCanvases.getCanvas("inlineImage",ht,vt).context;putBinaryImageData(St,$),_t=this.applyTransferMapsToCanvas(St)}const wt=this._scaleImage(_t,getCurrentTransformInverse(bt));bt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(bt),$.interpolate),drawImageAtIntegerCoords(bt,wt.img,0,0,wt.paintWidth,wt.paintHeight,0,-vt,ht,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,ht){if(!this.contentVisible)return;const vt=this.ctx;let bt;if($.bitmap)bt=$.bitmap;else{const _t=$.width,wt=$.height,St=this.cachedCanvases.getCanvas("inlineImage",_t,wt).context;putBinaryImageData(St,$),bt=this.applyTransferMapsToCanvas(St)}for(const _t of ht)vt.save(),vt.transform(..._t.transform),vt.scale(1,-1),drawImageAtIntegerCoords(vt,bt,_t.x,_t.y,_t.w,_t.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,ht){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,ht){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ht)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const ht=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const vt=this.ctx;this.pendingClip&&(ht||(this.pendingClip===EO_CLIP?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const ht=Math.abs($[0]*$[3]-$[2]*$[1]),vt=Math.hypot($[0],$[2]),bt=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(vt,bt)/ht}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:ht,b:vt,c:bt,d:_t}=this.ctx.getTransform();let wt,At;if(vt===0&&bt===0){const St=Math.abs(ht),Et=Math.abs(_t);if(St===Et)if($===0)wt=At=1/St;else{const xt=St*$;wt=At=xt<1?1/xt:1}else if($===0)wt=1/St,At=1/Et;else{const xt=St*$,Pt=Et*$;wt=xt<1?1/xt:1,At=Pt<1?1/Pt:1}}else{const St=Math.abs(ht*_t-vt*bt),Et=Math.hypot(ht,vt),xt=Math.hypot(bt,_t);if($===0)wt=xt/St,At=Et/St;else{const Pt=$*St;wt=xt>Pt?xt/Pt:1,At=Et>Pt?Et/Pt:1}}this._cachedScaleForStroking[0]=wt,this._cachedScaleForStroking[1]=At}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:ht}=this,{lineWidth:vt}=this.current,[bt,_t]=this.getScaleForStroking();if(ht.lineWidth=vt||1,bt===1&&_t===1){ht.stroke();return}const wt=ht.getLineDash();if($&&ht.save(),ht.scale(bt,_t),wt.length>0){const At=Math.max(bt,_t);ht.setLineDash(wt.map(St=>St/At)),ht.lineDashOffset/=At}ht.stroke(),$&&ht.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};Gu=new WeakSet,Z_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Q_=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const ht=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ht}}};let CanvasGraphics=uA;for(const _e in OPS)CanvasGraphics.prototype[_e]!==void 0&&(CanvasGraphics.prototype[OPS[_e]]=CanvasGraphics.prototype[_e]);var rv,iv;class GlobalWorkerOptions{static get workerPort(){return Ct(this,rv)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");Gt(this,rv,$)}static get workerSrc(){return Ct(this,iv)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");Gt(this,iv,$)}}rv=new WeakMap,iv=new WeakMap,Xt(GlobalWorkerOptions,rv,null),Xt(GlobalWorkerOptions,iv,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new AbortException(_e.message);case"MissingPDFException":return new MissingPDFException(_e.message);case"PasswordException":return new PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new UnknownErrorException(_e.message,_e.details);default:return new UnknownErrorException(_e.message,_e.toString())}}var Fl,r1,i1,_0;class MessageHandler{constructor($,ht,vt){Xt(this,Fl);this.sourceName=$,this.targetName=ht,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=bt=>{const _t=bt.data;if(_t.targetName!==this.sourceName)return;if(_t.stream){zt(this,Fl,i1).call(this,_t);return}if(_t.callback){const At=_t.callbackId,St=this.callbackCapabilities[At];if(!St)throw new Error(`Cannot resolve callback ${At}`);if(delete this.callbackCapabilities[At],_t.callback===CallbackKind.DATA)St.resolve(_t.data);else if(_t.callback===CallbackKind.ERROR)St.reject(wrapReason(_t.reason));else throw new Error("Unexpected callback case");return}const wt=this.actionHandler[_t.action];if(!wt)throw new Error(`Unknown action from worker: ${_t.action}`);if(_t.callbackId){const At=this.sourceName,St=_t.sourceName;new Promise(function(Et){Et(wt(_t.data))}).then(function(Et){vt.postMessage({sourceName:At,targetName:St,callback:CallbackKind.DATA,callbackId:_t.callbackId,data:Et})},function(Et){vt.postMessage({sourceName:At,targetName:St,callback:CallbackKind.ERROR,callbackId:_t.callbackId,reason:wrapReason(Et)})});return}if(_t.streamId){zt(this,Fl,r1).call(this,_t);return}wt(_t.data)},vt.addEventListener("message",this._onComObjOnMessage)}on($,ht){const vt=this.actionHandler;if(vt[$])throw new Error(`There is already an actionName called "${$}"`);vt[$]=ht}send($,ht,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:ht},vt)}sendWithPromise($,ht,vt){const bt=this.callbackId++,_t=Promise.withResolvers();this.callbackCapabilities[bt]=_t;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:bt,data:ht},vt)}catch(wt){_t.reject(wt)}return _t.promise}sendWithStream($,ht,vt,bt){const _t=this.streamId++,wt=this.sourceName,At=this.targetName,St=this.comObj;return new ReadableStream({start:Et=>{const xt=Promise.withResolvers();return this.streamControllers[_t]={controller:Et,startCall:xt,pullCall:null,cancelCall:null,isClosed:!1},St.postMessage({sourceName:wt,targetName:At,action:$,streamId:_t,data:ht,desiredSize:Et.desiredSize},bt),xt.promise},pull:Et=>{const xt=Promise.withResolvers();return this.streamControllers[_t].pullCall=xt,St.postMessage({sourceName:wt,targetName:At,stream:StreamKind.PULL,streamId:_t,desiredSize:Et.desiredSize}),xt.promise},cancel:Et=>{assert(Et instanceof Error,"cancel must have a valid reason");const xt=Promise.withResolvers();return this.streamControllers[_t].cancelCall=xt,this.streamControllers[_t].isClosed=!0,St.postMessage({sourceName:wt,targetName:At,stream:StreamKind.CANCEL,streamId:_t,reason:wrapReason(Et)}),xt.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Fl=new WeakSet,r1=function($){const ht=$.streamId,vt=this.sourceName,bt=$.sourceName,_t=this.comObj,wt=this,At=this.actionHandler[$.action],St={enqueue(Et,xt=1,Pt){if(this.isCancelled)return;const $t=this.desiredSize;this.desiredSize-=xt,$t>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.ENQUEUE,streamId:ht,chunk:Et},Pt)},close(){this.isCancelled||(this.isCancelled=!0,_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.CLOSE,streamId:ht}),delete wt.streamSinks[ht])},error(Et){assert(Et instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.ERROR,streamId:ht,reason:wrapReason(Et)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};St.sinkCapability.resolve(),St.ready=St.sinkCapability.promise,this.streamSinks[ht]=St,new Promise(function(Et){Et(At($.data,St))}).then(function(){_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.START_COMPLETE,streamId:ht,success:!0})},function(Et){_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.START_COMPLETE,streamId:ht,reason:wrapReason(Et)})})},i1=function($){const ht=$.streamId,vt=this.sourceName,bt=$.sourceName,_t=this.comObj,wt=this.streamControllers[ht],At=this.streamSinks[ht];switch($.stream){case StreamKind.START_COMPLETE:$.success?wt.startCall.resolve():wt.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?wt.pullCall.resolve():wt.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!At){_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0});break}At.desiredSize<=0&&$.desiredSize>0&&At.sinkCapability.resolve(),At.desiredSize=$.desiredSize,new Promise(function(St){var Et;St((Et=At.onPull)==null?void 0:Et.call(At))}).then(function(){_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0})},function(St){_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.PULL_COMPLETE,streamId:ht,reason:wrapReason(St)})});break;case StreamKind.ENQUEUE:if(assert(wt,"enqueue should have stream controller"),wt.isClosed)break;wt.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(wt,"close should have stream controller"),wt.isClosed)break;wt.isClosed=!0,wt.controller.close(),zt(this,Fl,_0).call(this,wt,ht);break;case StreamKind.ERROR:assert(wt,"error should have stream controller"),wt.controller.error(wrapReason($.reason)),zt(this,Fl,_0).call(this,wt,ht);break;case StreamKind.CANCEL_COMPLETE:$.success?wt.cancelCall.resolve():wt.cancelCall.reject(wrapReason($.reason)),zt(this,Fl,_0).call(this,wt,ht);break;case StreamKind.CANCEL:if(!At)break;new Promise(function(St){var Et;St((Et=At.onCancel)==null?void 0:Et.call(At,wrapReason($.reason)))}).then(function(){_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,success:!0})},function(St){_t.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,reason:wrapReason(St)})}),At.sinkCapability.reject(wrapReason($.reason)),At.isCancelled=!0,delete this.streamSinks[ht];break;default:throw new Error("Unexpected stream case")}},_0=async function($,ht){var vt,bt,_t;await Promise.allSettled([(vt=$.startCall)==null?void 0:vt.promise,(bt=$.pullCall)==null?void 0:bt.promise,(_t=$.cancelCall)==null?void 0:_t.promise]),delete this.streamControllers[ht]};var pp,sv;class Metadata{constructor({parsedData:$,rawData:ht}){Xt(this,pp);Xt(this,sv);Gt(this,pp,$),Gt(this,sv,ht)}getRaw(){return Ct(this,sv)}get($){return Ct(this,pp).get($)??null}getAll(){return objectFromMap(Ct(this,pp))}has($){return Ct(this,pp).has($)}}pp=new WeakMap,sv=new WeakMap;const INTERNAL=Symbol("INTERNAL");var ov,av,lv,Sm;class OptionalContentGroup{constructor($,{name:ht,intent:vt,usage:bt}){Xt(this,ov,!1);Xt(this,av,!1);Xt(this,lv,!1);Xt(this,Sm,!0);Gt(this,ov,!!($&RenderingIntentFlag.DISPLAY)),Gt(this,av,!!($&RenderingIntentFlag.PRINT)),this.name=ht,this.intent=vt,this.usage=bt}get visible(){if(Ct(this,lv))return Ct(this,Sm);if(!Ct(this,Sm))return!1;const{print:$,view:ht}=this.usage;return Ct(this,ov)?(ht==null?void 0:ht.viewState)!=="OFF":Ct(this,av)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,ht,vt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),Gt(this,lv,vt),Gt(this,Sm,ht)}}ov=new WeakMap,av=new WeakMap,lv=new WeakMap,Sm=new WeakMap;var ku,Ps,Em,xm,cv,J_;class OptionalContentConfig{constructor($,ht=RenderingIntentFlag.DISPLAY){Xt(this,cv);Xt(this,ku,null);Xt(this,Ps,new Map);Xt(this,Em,null);Xt(this,xm,null);if(this.renderingIntent=ht,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,Gt(this,xm,$.order);for(const vt of $.groups)Ct(this,Ps).set(vt.id,new OptionalContentGroup(ht,vt));if($.baseState==="OFF")for(const vt of Ct(this,Ps).values())vt._setVisible(INTERNAL,!1);for(const vt of $.on)Ct(this,Ps).get(vt)._setVisible(INTERNAL,!0);for(const vt of $.off)Ct(this,Ps).get(vt)._setVisible(INTERNAL,!1);Gt(this,Em,this.getHash())}}isVisible($){if(Ct(this,Ps).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return Ct(this,Ps).has($.id)?Ct(this,Ps).get($.id).visible:(warn$1(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return zt(this,cv,J_).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const ht of $.ids){if(!Ct(this,Ps).has(ht))return warn$1(`Optional content group not found: ${ht}`),!0;if(Ct(this,Ps).get(ht).visible)return!0}return!1}else if($.policy==="AllOn"){for(const ht of $.ids){if(!Ct(this,Ps).has(ht))return warn$1(`Optional content group not found: ${ht}`),!0;if(!Ct(this,Ps).get(ht).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const ht of $.ids){if(!Ct(this,Ps).has(ht))return warn$1(`Optional content group not found: ${ht}`),!0;if(!Ct(this,Ps).get(ht).visible)return!0}return!1}else if($.policy==="AllOff"){for(const ht of $.ids){if(!Ct(this,Ps).has(ht))return warn$1(`Optional content group not found: ${ht}`),!0;if(Ct(this,Ps).get(ht).visible)return!1}return!0}return warn$1(`Unknown optional content policy ${$.policy}.`),!0}return warn$1(`Unknown group type ${$.type}.`),!0}setVisibility($,ht=!0){const vt=Ct(this,Ps).get($);if(!vt){warn$1(`Optional content group not found: ${$}`);return}vt._setVisible(INTERNAL,!!ht,!0),Gt(this,ku,null)}setOCGState({state:$,preserveRB:ht}){let vt;for(const bt of $){switch(bt){case"ON":case"OFF":case"Toggle":vt=bt;continue}const _t=Ct(this,Ps).get(bt);if(_t)switch(vt){case"ON":_t._setVisible(INTERNAL,!0);break;case"OFF":_t._setVisible(INTERNAL,!1);break;case"Toggle":_t._setVisible(INTERNAL,!_t.visible);break}}Gt(this,ku,null)}get hasInitialVisibility(){return Ct(this,Em)===null||this.getHash()===Ct(this,Em)}getOrder(){return Ct(this,Ps).size?Ct(this,xm)?Ct(this,xm).slice():[...Ct(this,Ps).keys()]:null}getGroups(){return Ct(this,Ps).size>0?objectFromMap(Ct(this,Ps)):null}getGroup($){return Ct(this,Ps).get($)||null}getHash(){if(Ct(this,ku)!==null)return Ct(this,ku);const $=new MurmurHash3_64;for(const[ht,vt]of Ct(this,Ps))$.update(`${ht}:${vt.visible}`);return Gt(this,ku,$.hexdigest())}}ku=new WeakMap,Ps=new WeakMap,Em=new WeakMap,xm=new WeakMap,cv=new WeakSet,J_=function($){const ht=$.length;if(ht<2)return!0;const vt=$[0];for(let bt=1;bt<ht;bt++){const _t=$[bt];let wt;if(Array.isArray(_t))wt=zt(this,cv,J_).call(this,_t);else if(Ct(this,Ps).has(_t))wt=Ct(this,Ps).get(_t).visible;else return warn$1(`Optional content group not found: ${_t}`),!0;switch(vt){case"And":if(!wt)return!1;break;case"Or":if(wt)return!0;break;case"Not":return!wt;default:return!0}}return vt==="And"};class PDFDataTransportStream{constructor($,{disableRange:ht=!1,disableStream:vt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:bt,initialData:_t,progressiveDone:wt,contentDispositionFilename:At}=$;if(this._queuedChunks=[],this._progressiveDone=wt,this._contentDispositionFilename=At,(_t==null?void 0:_t.length)>0){const St=_t instanceof Uint8Array&&_t.byteLength===_t.buffer.byteLength?_t.buffer:new Uint8Array(_t).buffer;this._queuedChunks.push(St)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!vt,this._isRangeSupported=!ht,this._contentLength=bt,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((St,Et)=>{this._onReceiveData({begin:St,chunk:Et})}),$.addProgressListener((St,Et)=>{this._onProgress({loaded:St,total:Et})}),$.addProgressiveReadListener(St=>{this._onReceiveData({chunk:St})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:ht}){const vt=ht instanceof Uint8Array&&ht.byteLength===ht.buffer.byteLength?ht.buffer:new Uint8Array(ht).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(vt):this._queuedChunks.push(vt);else{const bt=this._rangeReaders.some(function(_t){return _t._begin!==$?!1:(_t._enqueue(vt),!0)});assert(bt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var ht,vt,bt,_t;$.total===void 0?(vt=(ht=this._rangeReaders[0])==null?void 0:ht.onProgress)==null||vt.call(ht,{loaded:$.loaded}):(_t=(bt=this._fullRequestReader)==null?void 0:bt.onProgress)==null||_t.call(bt,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const ht=this._rangeReaders.indexOf($);ht>=0&&this._rangeReaders.splice(ht,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFDataTransportStreamRangeReader(this,$,ht);return this._pdfDataRangeTransport.requestDataRange($,ht),this._rangeReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeReaders.slice(0))vt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,ht,vt=!1,bt=null){this._stream=$,this._done=vt||!1,this._filename=isPdfFile(bt)?bt:null,this._queuedChunks=ht||[],this._loaded=0;for(const _t of this._queuedChunks)this._loaded+=_t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,ht,vt){this._stream=$,this._begin=ht,this._end=vt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(_e){let $=!0,ht=vt("filename\\*","i").exec(_e);if(ht){ht=ht[1];let xt=At(ht);return xt=unescape(xt),xt=St(xt),xt=Et(xt),_t(xt)}if(ht=wt(_e),ht){const xt=Et(ht);return _t(xt)}if(ht=vt("filename","i").exec(_e),ht){ht=ht[1];let xt=At(ht);return xt=Et(xt),_t(xt)}function vt(xt,Pt){return new RegExp("(?:^|;)\\s*"+xt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Pt)}function bt(xt,Pt){if(xt){if(!/^[\x00-\xFF]+$/.test(Pt))return Pt;try{const $t=new TextDecoder(xt,{fatal:!0}),kt=stringToBytes(Pt);Pt=$t.decode(kt),$=!1}catch{}}return Pt}function _t(xt){return $&&/[\x80-\xff]/.test(xt)&&(xt=bt("utf-8",xt),$&&(xt=bt("iso-8859-1",xt))),xt}function wt(xt){const Pt=[];let $t;const kt=vt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;($t=kt.exec(xt))!==null;){let[,Mt,Dt,Ot]=$t;if(Mt=parseInt(Mt,10),Mt in Pt){if(Mt===0)break;continue}Pt[Mt]=[Dt,Ot]}const Rt=[];for(let Mt=0;Mt<Pt.length&&Mt in Pt;++Mt){let[Dt,Ot]=Pt[Mt];Ot=At(Ot),Dt&&(Ot=unescape(Ot),Mt===0&&(Ot=St(Ot))),Rt.push(Ot)}return Rt.join("")}function At(xt){if(xt.startsWith('"')){const Pt=xt.slice(1).split('\\"');for(let $t=0;$t<Pt.length;++$t){const kt=Pt[$t].indexOf('"');kt!==-1&&(Pt[$t]=Pt[$t].slice(0,kt),Pt.length=$t+1),Pt[$t]=Pt[$t].replaceAll(/\\(.)/g,"$1")}xt=Pt.join('"')}return xt}function St(xt){const Pt=xt.indexOf("'");if(Pt===-1)return xt;const $t=xt.slice(0,Pt),Rt=xt.slice(Pt+1).replace(/^[^']*'/,"");return bt($t,Rt)}function Et(xt){return!xt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(xt)?xt:xt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Pt,$t,kt,Rt){if(kt==="q"||kt==="Q")return Rt=Rt.replaceAll("_"," "),Rt=Rt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Mt,Dt){return String.fromCharCode(parseInt(Dt,16))}),bt($t,Rt);try{Rt=atob(Rt)}catch{}return bt($t,Rt)})}return""}function validateRangeRequestCapabilities({getResponseHeader:_e,isHttp:$,rangeChunkSize:ht,disableRange:vt}){const bt={allowRangeRequests:!1,suggestedLength:void 0},_t=parseInt(_e("Content-Length"),10);return!Number.isInteger(_t)||(bt.suggestedLength=_t,_t<=2*ht)||vt||!$||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(bt.allowRangeRequests=!0),bt}function extractFilenameFromHeader(_e){const $=_e("Content-Disposition");if($){let ht=getFilenameFromContentDispositionHeader($);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if(isPdfFile(ht))return ht}return null}function createResponseStatusError(_e,$){return _e===404||_e===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${$}".`,_e)}function validateResponseStatus(_e){return _e===200||_e===206}function createFetchOptions(_e,$,ht){return{method:"GET",headers:_e,signal:ht.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(_e){const $=new Headers;for(const ht in _e){const vt=_e[ht];vt!==void 0&&$.append(ht,vt)}return $}function getArrayBuffer(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:(warn$1(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFFetchStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const ht=$.source;this._withCredentials=ht.withCredentials||!1,this._contentLength=ht.length,this._headersCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const vt=ht.url;fetch(vt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(bt=>{if(!validateResponseStatus(bt.status))throw createResponseStatusError(bt.status,vt);this._reader=bt.body.getReader(),this._headersCapability.resolve();const _t=St=>bt.headers.get(St),{allowRangeRequests:wt,suggestedLength:At}=validateRangeRequestCapabilities({getResponseHeader:_t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=wt,this._contentLength=At||this._contentLength,this._filename=extractFilenameFromHeader(_t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._headersCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,ht,vt){this._stream=$,this._reader=null,this._loaded=0;const bt=$.source;this._withCredentials=bt.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!bt.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ht}-${vt-1}`);const _t=bt.url;fetch(_t,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(wt=>{if(!validateResponseStatus(wt.status))throw createResponseStatusError(wt.status,_t);this._readCapability.resolve(),this._reader=wt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._readCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(_e){const $=_e.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,ht={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&ht.httpHeaders||Object.create(null),this.withCredentials=ht.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,ht,vt){const bt={begin:$,end:ht};for(const _t in vt)bt[_t]=vt[_t];return this.request(bt)}requestFull($){return this.request($)}request($){const ht=new XMLHttpRequest,vt=this.currXhrId++,bt=this.pendingRequests[vt]={xhr:ht};ht.open("GET",this.url),ht.withCredentials=this.withCredentials;for(const _t in this.httpHeaders){const wt=this.httpHeaders[_t];wt!==void 0&&ht.setRequestHeader(_t,wt)}return this.isHttp&&"begin"in $&&"end"in $?(ht.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),bt.expectedStatus=PARTIAL_CONTENT_RESPONSE):bt.expectedStatus=OK_RESPONSE,ht.responseType="arraybuffer",$.onError&&(ht.onerror=function(_t){$.onError(ht.status)}),ht.onreadystatechange=this.onStateChange.bind(this,vt),ht.onprogress=this.onProgress.bind(this,vt),bt.onHeadersReceived=$.onHeadersReceived,bt.onDone=$.onDone,bt.onError=$.onError,bt.onProgress=$.onProgress,ht.send(null),vt}onProgress($,ht){var bt;const vt=this.pendingRequests[$];vt&&((bt=vt.onProgress)==null||bt.call(vt,ht))}onStateChange($,ht){var St,Et,xt;const vt=this.pendingRequests[$];if(!vt)return;const bt=vt.xhr;if(bt.readyState>=2&&vt.onHeadersReceived&&(vt.onHeadersReceived(),delete vt.onHeadersReceived),bt.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],bt.status===0&&this.isHttp){(St=vt.onError)==null||St.call(vt,bt.status);return}const _t=bt.status||OK_RESPONSE;if(!(_t===OK_RESPONSE&&vt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&_t!==vt.expectedStatus){(Et=vt.onError)==null||Et.call(vt,bt.status);return}const At=network_getArrayBuffer(bt);if(_t===PARTIAL_CONTENT_RESPONSE){const Pt=bt.getResponseHeader("Content-Range"),$t=/bytes (\d+)-(\d+)\/(\d+)/.exec(Pt);vt.onDone({begin:parseInt($t[1],10),chunk:At})}else At?vt.onDone({begin:0,chunk:At}):(xt=vt.onError)==null||xt.call(vt,bt.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const ht=this.pendingRequests[$].xhr;delete this.pendingRequests[$],ht.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const ht=this._rangeRequestReaders.indexOf($);ht>=0&&this._rangeRequestReaders.splice(ht,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,ht){const vt=new PDFNetworkStreamRangeRequestReader(this._manager,$,ht);return vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,ht){this._manager=$;const vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ht.url,this._fullRequestId=$.requestFull(vt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._contentLength=ht.length,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,ht=this._manager.getRequestXhr($),vt=wt=>ht.getResponseHeader(wt),{allowRangeRequests:bt,suggestedLength:_t}=validateRangeRequestCapabilities({getResponseHeader:vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});bt&&(this._isRangeSupported=!0),this._contentLength=_t||this._contentLength,this._filename=extractFilenameFromHeader(vt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var ht;(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,ht,vt){this._manager=$;const bt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(ht,vt,bt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const ht=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:ht,done:!1}):this._queuedChunk=ht,this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var ht;this.isStreamingSupported||(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(_e){const $=NodePackages.get("url"),ht=$.parse(_e);return ht.protocol==="file:"||ht.host?ht:/^[a-z]:[/\\]/i.test(_e)?$.parse(`file:///${_e}`):(ht.host||(ht.protocol="file:"),ht)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,ht):new PDFNodeStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const ht=$.source;this._contentLength=ht.length,this._loaded=0,this._filename=null,this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const ht=$.source;this._isStreamingSupported=!ht.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(_e,$){return{protocol:_e.protocol,auth:_e.auth,host:_e.hostname,port:_e.port,path:_e.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const ht=vt=>{if(vt.statusCode===404){const At=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=At,this._headersCapability.reject(At);return}this._headersCapability.resolve(),this._setReadableStream(vt);const bt=At=>this._readableStream.headers[At.toLowerCase()],{allowRangeRequests:_t,suggestedLength:wt}=validateRangeRequestCapabilities({getResponseHeader:bt,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_t,this._contentLength=wt||this._contentLength,this._filename=extractFilenameFromHeader(bt)};if(this._request=null,this._url.protocol==="http:"){const vt=NodePackages.get("http");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}else{const vt=NodePackages.get("https");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}this._request.on("error",vt=>{this._storedError=vt,this._headersCapability.reject(vt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,ht,vt){super($),this._httpHeaders={};for(const _t in $.httpHeaders){const wt=$.httpHeaders[_t];wt!==void 0&&(this._httpHeaders[_t]=wt)}this._httpHeaders.Range=`bytes=${ht}-${vt-1}`;const bt=_t=>{if(_t.statusCode===404){const wt=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=wt;return}this._setReadableStream(_t)};if(this._request=null,this._url.protocol==="http:"){const _t=NodePackages.get("http");this._request=_t.request(createRequestOptions(this._url,this._httpHeaders),bt)}else{const _t=NodePackages.get("https");this._request=_t.request(createRequestOptions(this._url,this._httpHeaders),bt)}this._request.on("error",_t=>{this._storedError=_t}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let ht=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(ht=ht.replace(/^\//,""));const vt=NodePackages.get("fs");vt.promises.lstat(ht).then(bt=>{this._contentLength=bt.size,this._setReadableStream(vt.createReadStream(ht)),this._headersCapability.resolve()},bt=>{bt.code==="ENOENT"&&(bt=new MissingPDFException(`Missing PDF "${ht}".`)),this._storedError=bt,this._headersCapability.reject(bt)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,ht,vt){super($);let bt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(bt=bt.replace(/^\//,""));const _t=NodePackages.get("fs");this._setReadableStream(_t.createReadStream(bt,{start:ht,end:vt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var RA,Ru,So,uv,dv,mp,eu,hv,fv,gp,Pm,Tm,Ou,Cm,pv,$m,yp,mv,gv,vp,bp,km,gu,s1,o1,ew,zu,w0,a1;const Wo=class Wo{constructor({textContentSource:$,container:ht,viewport:vt}){Xt(this,gu);Xt(this,Ru,Promise.withResolvers());Xt(this,So,null);Xt(this,uv,!1);Xt(this,dv,!!((RA=globalThis.FontInspector)!=null&&RA.enabled));Xt(this,mp,null);Xt(this,eu,null);Xt(this,hv,0);Xt(this,fv,0);Xt(this,gp,null);Xt(this,Pm,null);Xt(this,Tm,0);Xt(this,Ou,0);Xt(this,Cm,Object.create(null));Xt(this,pv,[]);Xt(this,$m,null);Xt(this,yp,[]);Xt(this,mv,new WeakMap);Xt(this,gv,null);if($ instanceof ReadableStream)Gt(this,$m,$);else if(typeof $=="object")Gt(this,$m,new ReadableStream({start(St){St.enqueue($),St.close()}}));else throw new Error('No "textContentSource" parameter specified.');Gt(this,So,Gt(this,Pm,ht)),Gt(this,Ou,vt.scale*(globalThis.devicePixelRatio||1)),Gt(this,Tm,vt.rotation),Gt(this,eu,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:bt,pageHeight:_t,pageX:wt,pageY:At}=vt.rawDims;Gt(this,gv,[1,0,0,-1,-wt,At+_t]),Gt(this,fv,bt),Gt(this,hv,_t),setLayerDimensions(ht,vt),Ct(this,Ru).promise.catch(()=>{}).then(()=>{Ct(Wo,km).delete(this),Gt(this,eu,null),Gt(this,Cm,null)})}render(){const $=()=>{Ct(this,gp).read().then(({value:ht,done:vt})=>{if(vt){Ct(this,Ru).resolve();return}Ct(this,mp)??Gt(this,mp,ht.lang),Object.assign(Ct(this,Cm),ht.styles),zt(this,gu,s1).call(this,ht.items),$()},Ct(this,Ru).reject)};return Gt(this,gp,Ct(this,$m).getReader()),Ct(Wo,km).add(this),$(),Ct(this,Ru).promise}update({viewport:$,onBefore:ht=null}){var _t;const vt=$.scale*(globalThis.devicePixelRatio||1),bt=$.rotation;if(bt!==Ct(this,Tm)&&(ht==null||ht(),Gt(this,Tm,bt),setLayerDimensions(Ct(this,Pm),{rotation:bt})),vt!==Ct(this,Ou)){ht==null||ht(),Gt(this,Ou,vt);const wt={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:zt(_t=Wo,zu,w0).call(_t,Ct(this,mp))};for(const At of Ct(this,yp))wt.properties=Ct(this,mv).get(At),wt.div=At,zt(this,gu,ew).call(this,wt)}}cancel(){var ht;const $=new AbortException("TextLayer task cancelled.");(ht=Ct(this,gp))==null||ht.cancel($).catch(()=>{}),Gt(this,gp,null),Ct(this,Ru).reject($)}get textDivs(){return Ct(this,yp)}get textContentItemsStr(){return Ct(this,pv)}static cleanup(){if(!(Ct(this,km).size>0)){Ct(this,vp).clear();for(const{canvas:$}of Ct(this,bp).values())$.remove();Ct(this,bp).clear()}}};Ru=new WeakMap,So=new WeakMap,uv=new WeakMap,dv=new WeakMap,mp=new WeakMap,eu=new WeakMap,hv=new WeakMap,fv=new WeakMap,gp=new WeakMap,Pm=new WeakMap,Tm=new WeakMap,Ou=new WeakMap,Cm=new WeakMap,pv=new WeakMap,$m=new WeakMap,yp=new WeakMap,mv=new WeakMap,gv=new WeakMap,vp=new WeakMap,bp=new WeakMap,km=new WeakMap,gu=new WeakSet,s1=function($){var bt,_t;if(Ct(this,uv))return;(_t=Ct(this,eu)).ctx||(_t.ctx=zt(bt=Wo,zu,w0).call(bt,Ct(this,mp)));const ht=Ct(this,yp),vt=Ct(this,pv);for(const wt of $){if(ht.length>MAX_TEXT_DIVS_TO_RENDER){warn$1("Ignoring additional textDivs for performance reasons."),Gt(this,uv,!0);return}if(wt.str===void 0){if(wt.type==="beginMarkedContentProps"||wt.type==="beginMarkedContent"){const At=Ct(this,So);Gt(this,So,document.createElement("span")),Ct(this,So).classList.add("markedContent"),wt.id!==null&&Ct(this,So).setAttribute("id",`${wt.id}`),At.append(Ct(this,So))}else wt.type==="endMarkedContent"&&Gt(this,So,Ct(this,So).parentNode);continue}vt.push(wt.str),zt(this,gu,o1).call(this,wt)}},o1=function($){var Mt;const ht=document.createElement("span"),vt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};Ct(this,yp).push(ht);const bt=Util.transform(Ct(this,gv),$.transform);let _t=Math.atan2(bt[1],bt[0]);const wt=Ct(this,Cm)[$.fontName];wt.vertical&&(_t+=Math.PI/2);const At=Ct(this,dv)&&wt.fontSubstitution||wt.fontFamily,St=Math.hypot(bt[2],bt[3]),Et=St*zt(Mt=Wo,zu,a1).call(Mt,At,Ct(this,mp));let xt,Pt;_t===0?(xt=bt[4],Pt=bt[5]-Et):(xt=bt[4]+Et*Math.sin(_t),Pt=bt[5]-Et*Math.cos(_t));const $t="calc(var(--scale-factor)*",kt=ht.style;Ct(this,So)===Ct(this,Pm)?(kt.left=`${(100*xt/Ct(this,fv)).toFixed(2)}%`,kt.top=`${(100*Pt/Ct(this,hv)).toFixed(2)}%`):(kt.left=`${$t}${xt.toFixed(2)}px)`,kt.top=`${$t}${Pt.toFixed(2)}px)`),kt.fontSize=`${$t}${St.toFixed(2)}px)`,kt.fontFamily=At,vt.fontSize=St,ht.setAttribute("role","presentation"),ht.textContent=$.str,ht.dir=$.dir,Ct(this,dv)&&(ht.dataset.fontName=wt.fontSubstitutionLoadedName||$.fontName),_t!==0&&(vt.angle=_t*(180/Math.PI));let Rt=!1;if($.str.length>1)Rt=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const Dt=Math.abs($.transform[0]),Ot=Math.abs($.transform[3]);Dt!==Ot&&Math.max(Dt,Ot)/Math.min(Dt,Ot)>1.5&&(Rt=!0)}if(Rt&&(vt.canvasWidth=wt.vertical?$.height:$.width),Ct(this,mv).set(ht,vt),Ct(this,eu).div=ht,Ct(this,eu).properties=vt,zt(this,gu,ew).call(this,Ct(this,eu)),vt.hasText&&Ct(this,So).append(ht),vt.hasEOL){const Dt=document.createElement("br");Dt.setAttribute("role","presentation"),Ct(this,So).append(Dt)}},ew=function($){const{div:ht,properties:vt,ctx:bt,prevFontSize:_t,prevFontFamily:wt}=$,{style:At}=ht;let St="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:Et}=At,{canvasWidth:xt,fontSize:Pt}=vt;(_t!==Pt||wt!==Et)&&(bt.font=`${Pt*Ct(this,Ou)}px ${Et}`,$.prevFontSize=Pt,$.prevFontFamily=Et);const{width:$t}=bt.measureText(ht.textContent);$t>0&&(St=`scaleX(${xt*Ct(this,Ou)/$t})`)}vt.angle!==0&&(St=`rotate(${vt.angle}deg) ${St}`),St.length>0&&(At.transform=St)},zu=new WeakSet,w0=function($=null){let ht=Ct(this,bp).get($||($=""));if(!ht){const vt=document.createElement("canvas");vt.className="hiddenCanvasElement",vt.lang=$,document.body.append(vt),ht=vt.getContext("2d",{alpha:!1}),Ct(this,bp).set($,ht)}return ht},a1=function($,ht){const vt=Ct(this,vp).get($);if(vt)return vt;const bt=zt(this,zu,w0).call(this,ht),_t=bt.font;bt.canvas.width=bt.canvas.height=DEFAULT_FONT_SIZE,bt.font=`${DEFAULT_FONT_SIZE}px ${$}`;const wt=bt.measureText("");let At=wt.fontBoundingBoxAscent,St=Math.abs(wt.fontBoundingBoxDescent);if(At){const Pt=At/(At+St);return Ct(this,vp).set($,Pt),bt.canvas.width=bt.canvas.height=0,bt.font=_t,Pt}bt.strokeStyle="red",bt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),bt.strokeText("g",0,0);let Et=bt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;St=0;for(let Pt=Et.length-1-3;Pt>=0;Pt-=4)if(Et[Pt]>0){St=Math.ceil(Pt/4/DEFAULT_FONT_SIZE);break}bt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),bt.strokeText("A",0,DEFAULT_FONT_SIZE),Et=bt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,At=0;for(let Pt=0,$t=Et.length;Pt<$t;Pt+=4)if(Et[Pt]>0){At=DEFAULT_FONT_SIZE-Math.floor(Pt/4/DEFAULT_FONT_SIZE);break}bt.canvas.width=bt.canvas.height=0,bt.font=_t;const xt=At?At/(At+St):DEFAULT_FONT_ASCENT;return Ct(this,vp).set($,xt),xt},Xt(Wo,zu),Xt(Wo,vp,new Map),Xt(Wo,bp,new Map),Xt(Wo,km,new Set);let TextLayer=Wo;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:_e,container:$,viewport:ht,...vt}=arguments[0],bt=Object.keys(vt);bt.length>0&&warn$1("Ignoring `renderTextLayer` parameters: "+bt.join(", "));const _t=new TextLayer({textContentSource:_e,container:$,viewport:ht}),{textDivs:wt,textContentItemsStr:At}=_t;return{promise:_t.render(),textDivs:wt,textContentItemsStr:At}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const ht=[],vt={items:ht,styles:Object.create(null)};function bt(_t){var St;if(!_t)return;let wt=null;const At=_t.name;if(At==="#text")wt=_t.value;else if(XfaText.shouldBuildText(At))(St=_t==null?void 0:_t.attributes)!=null&&St.textContent?wt=_t.attributes.textContent:_t.value&&(wt=_t.value);else return;if(wt!==null&&ht.push({str:wt}),!!_t.children)for(const Et of _t.children)bt(Et)}return bt($),vt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(_e){if(typeof _e=="string"||_e instanceof URL?_e={url:_e}:(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e))&&(_e={data:_e}),typeof _e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_e.url&&!_e.data&&!_e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:ht}=$,vt=_e.url?getUrlProp(_e.url):null,bt=_e.data?getDataProp(_e.data):null,_t=_e.httpHeaders||null,wt=_e.withCredentials===!0,At=_e.password??null,St=_e.range instanceof PDFDataRangeTransport?_e.range:null,Et=Number.isInteger(_e.rangeChunkSize)&&_e.rangeChunkSize>0?_e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let xt=_e.worker instanceof PDFWorker?_e.worker:null;const Pt=_e.verbosity,$t=typeof _e.docBaseUrl=="string"&&!isDataScheme(_e.docBaseUrl)?_e.docBaseUrl:null,kt=typeof _e.cMapUrl=="string"?_e.cMapUrl:null,Rt=_e.cMapPacked!==!1,Mt=_e.CMapReaderFactory||DefaultCMapReaderFactory,Dt=typeof _e.standardFontDataUrl=="string"?_e.standardFontDataUrl:null,Ot=_e.StandardFontDataFactory||DefaultStandardFontDataFactory,Lt=_e.stopAtErrors!==!0,Nt=Number.isInteger(_e.maxImageSize)&&_e.maxImageSize>-1?_e.maxImageSize:-1,Ht=_e.isEvalSupported!==!1,Ft=typeof _e.isOffscreenCanvasSupported=="boolean"?_e.isOffscreenCanvasSupported:!isNodeJS,jt=Number.isInteger(_e.canvasMaxAreaInBytes)?_e.canvasMaxAreaInBytes:-1,Bt=typeof _e.disableFontFace=="boolean"?_e.disableFontFace:isNodeJS,Vt=_e.fontExtraProperties===!0,Ut=_e.enableXfa===!0,Jt=_e.ownerDocument||globalThis.document,Wt=_e.disableRange===!0,Qt=_e.disableStream===!0,tn=_e.disableAutoFetch===!0,pn=_e.pdfBug===!0,nn=St?St.length:_e.length??NaN,hn=typeof _e.useSystemFonts=="boolean"?_e.useSystemFonts:!isNodeJS&&!Bt,sn=typeof _e.useWorkerFetch=="boolean"?_e.useWorkerFetch:Mt===DOMCMapReaderFactory&&Ot===DOMStandardFontDataFactory&&kt&&Dt&&isValidFetchUrl(kt,document.baseURI)&&isValidFetchUrl(Dt,document.baseURI),un=_e.canvasFactory||new DefaultCanvasFactory({ownerDocument:Jt}),en=_e.filterFactory||new DefaultFilterFactory({docId:ht,ownerDocument:Jt}),fn=null;setVerbosityLevel(Pt);const En={canvasFactory:un,filterFactory:en};if(sn||(En.cMapReaderFactory=new Mt({baseUrl:kt,isCompressed:Rt}),En.standardFontDataFactory=new Ot({baseUrl:Dt})),!xt){const Yt={verbosity:Pt,port:GlobalWorkerOptions.workerPort};xt=Yt.port?PDFWorker.fromPort(Yt):new PDFWorker(Yt),$._worker=xt}const rn={docId:ht,apiVersion:"4.3.136",data:bt,password:At,disableAutoFetch:tn,rangeChunkSize:Et,length:nn,docBaseUrl:$t,enableXfa:Ut,evaluatorOptions:{maxImageSize:Nt,disableFontFace:Bt,ignoreErrors:Lt,isEvalSupported:Ht,isOffscreenCanvasSupported:Ft,canvasMaxAreaInBytes:jt,fontExtraProperties:Vt,useSystemFonts:hn,cMapUrl:sn?kt:null,standardFontDataUrl:sn?Dt:null}},qt={disableFontFace:Bt,fontExtraProperties:Vt,ownerDocument:Jt,pdfBug:pn,styleElement:fn,loadingParams:{disableAutoFetch:tn,enableXfa:Ut}};return xt.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(xt.destroyed)throw new Error("Worker was destroyed");const Yt=xt.messageHandler.sendWithPromise("GetDocRequest",rn,bt?[bt.buffer]:null);let an;return St?an=new PDFDataTransportStream(St,{disableRange:Wt,disableStream:Qt}):bt||(an=(mn=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(mn.url)?new PDFFetchStream(mn):new PDFNodeStream(mn):isValidFetchUrl(mn.url)?new PDFFetchStream(mn):new PDFNetworkStream(mn))({url:vt,length:nn,httpHeaders:_t,withCredentials:wt,rangeChunkSize:Et,disableRange:Wt,disableStream:Qt})),Yt.then(yn=>{if($.destroyed)throw new Error("Loading aborted");if(xt.destroyed)throw new Error("Worker was destroyed");const mn=new MessageHandler(ht,yn,xt.port),vn=new WorkerTransport(mn,$,an,qt,En);$._transport=vn,mn.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(_e){if(_e instanceof URL)return _e.href;try{return new URL(_e,window.location).href}catch{if(isNodeJS&&typeof _e=="string")return _e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_e){if(isNodeJS&&typeof Buffer<"u"&&_e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength)return _e;if(typeof _e=="string")return stringToBytes(_e);if(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e)||typeof _e=="object"&&!isNaN(_e==null?void 0:_e.length))return new Uint8Array(_e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(_e){return typeof _e=="object"&&Number.isInteger(_e==null?void 0:_e.num)&&_e.num>=0&&Number.isInteger(_e==null?void 0:_e.gen)&&_e.gen>=0}var u_;const d_=class d_{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ro(d_,u_)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,ht,vt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((ht=this._transport)==null?void 0:ht.destroy())}catch(bt){throw(vt=this._worker)!=null&&vt.port&&delete this._worker._pendingDestroy,bt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};u_=new WeakMap,Xt(d_,u_,0);let PDFDocumentLoadingTask=d_;class PDFDataRangeTransport{constructor($,ht,vt=!1,bt=null){this.length=$,this.initialData=ht,this.progressiveDone=vt,this.contentDispositionFilename=bt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,ht){for(const vt of this._rangeListeners)vt($,ht)}onDataProgress($,ht){this._readyCapability.promise.then(()=>{for(const vt of this._progressListeners)vt($,ht)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveReadListeners)ht($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,ht){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor($,ht){this._pdfInfo=$,this._transport=ht}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(ht)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Mu,tu,Bo,nm,A0;class PDFPageProxy{constructor($,ht,vt,bt=!1){Xt(this,Bo);Xt(this,Mu,null);Xt(this,tu,!1);this._pageIndex=$,this._pageInfo=ht,this._transport=vt,this._stats=bt?new StatTimer:null,this._pdfBug=bt,this.commonObjs=vt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:ht=this.rotate,offsetX:vt=0,offsetY:bt=0,dontFlip:_t=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:ht,offsetX:vt,offsetY:bt,dontFlip:_t})}getAnnotations({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,ht)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:ht,intent:vt="display",annotationMode:bt=AnnotationMode.ENABLE,transform:_t=null,background:wt=null,optionalContentConfigPromise:At=null,annotationCanvasMap:St=null,pageColors:Et=null,printAnnotationStorage:xt=null}){var Nt,Ht;(Nt=this._stats)==null||Nt.time("Overall");const Pt=this._transport.getRenderingIntent(vt,bt,xt),{renderingIntent:$t,cacheKey:kt}=Pt;Gt(this,tu,!1),zt(this,Bo,A0).call(this),At||(At=this._transport.getOptionalContentConfig($t));let Rt=this._intentStates.get(kt);Rt||(Rt=Object.create(null),this._intentStates.set(kt,Rt)),Rt.streamReaderCancelTimeout&&(clearTimeout(Rt.streamReaderCancelTimeout),Rt.streamReaderCancelTimeout=null);const Mt=!!($t&RenderingIntentFlag.PRINT);Rt.displayReadyCapability||(Rt.displayReadyCapability=Promise.withResolvers(),Rt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ht=this._stats)==null||Ht.time("Page Request"),this._pumpOperatorList(Pt));const Dt=Ft=>{var jt;Rt.renderTasks.delete(Ot),(this._maybeCleanupAfterRender||Mt)&&Gt(this,tu,!0),zt(this,Bo,nm).call(this,!Mt),Ft?(Ot.capability.reject(Ft),this._abortOperatorList({intentState:Rt,reason:Ft instanceof Error?Ft:new Error(Ft)})):Ot.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(jt=globalThis.Stats)!=null&&jt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Ot=new InternalRenderTask({callback:Dt,params:{canvasContext:$,viewport:ht,transform:_t,background:wt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:St,operatorList:Rt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Mt,pdfBug:this._pdfBug,pageColors:Et});(Rt.renderTasks||(Rt.renderTasks=new Set)).add(Ot);const Lt=Ot.task;return Promise.all([Rt.displayReadyCapability.promise,At]).then(([Ft,jt])=>{var Bt;if(this.destroyed){Dt();return}if((Bt=this._stats)==null||Bt.time("Rendering"),!(jt.renderingIntent&$t))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Ot.initializeGraphics({transparency:Ft,optionalContentConfig:jt}),Ot.operatorListChanged()}).catch(Dt),Lt}getOperatorList({intent:$="display",annotationMode:ht=AnnotationMode.ENABLE,printAnnotationStorage:vt=null}={}){var St;function bt(){wt.operatorList.lastChunk&&(wt.opListReadCapability.resolve(wt.operatorList),wt.renderTasks.delete(At))}const _t=this._transport.getRenderingIntent($,ht,vt,!0);let wt=this._intentStates.get(_t.cacheKey);wt||(wt=Object.create(null),this._intentStates.set(_t.cacheKey,wt));let At;return wt.opListReadCapability||(At=Object.create(null),At.operatorListChanged=bt,wt.opListReadCapability=Promise.withResolvers(),(wt.renderTasks||(wt.renderTasks=new Set)).add(At),wt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(St=this._stats)==null||St.time("Page Request"),this._pumpOperatorList(_t)),wt.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:ht=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:ht===!0},{highWaterMark:100,size(bt){return bt.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(vt=>XfaText.textContent(vt));const ht=this.streamTextContent($);return new Promise(function(vt,bt){function _t(){wt.read().then(function({value:St,done:Et}){if(Et){vt(At);return}At.lang??(At.lang=St.lang),Object.assign(At.styles,St.styles),At.items.push(...St.items),_t()},bt)}const wt=ht.getReader(),At={items:[],styles:Object.create(null),lang:null};_t()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const ht of this._intentStates.values())if(this._abortOperatorList({intentState:ht,reason:new Error("Page was destroyed."),force:!0}),!ht.opListReadCapability)for(const vt of ht.renderTasks)$.push(vt.completed),vt.cancel();return this.objs.clear(),Gt(this,tu,!1),zt(this,Bo,A0).call(this),Promise.all($)}cleanup($=!1){Gt(this,tu,!0);const ht=zt(this,Bo,nm).call(this,!1);return $&&ht&&this._stats&&(this._stats=new StatTimer),ht}_startRenderPage($,ht){var bt,_t;const vt=this._intentStates.get(ht);vt&&((bt=this._stats)==null||bt.timeEnd("Page Request"),(_t=vt.displayReadyCapability)==null||_t.resolve($))}_renderPageChunk($,ht){for(let vt=0,bt=$.length;vt<bt;vt++)ht.operatorList.fnArray.push($.fnArray[vt]),ht.operatorList.argsArray.push($.argsArray[vt]);ht.operatorList.lastChunk=$.lastChunk,ht.operatorList.separateAnnots=$.separateAnnots;for(const vt of ht.renderTasks)vt.operatorListChanged();$.lastChunk&&zt(this,Bo,nm).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:ht,annotationStorageSerializable:vt}){const{map:bt,transfer:_t}=vt,At=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:ht,annotationStorage:bt},_t).getReader(),St=this._intentStates.get(ht);St.streamReader=At;const Et=()=>{At.read().then(({value:xt,done:Pt})=>{if(Pt){St.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(xt,St),Et())},xt=>{if(St.streamReader=null,!this._transport.destroyed){if(St.operatorList){St.operatorList.lastChunk=!0;for(const Pt of St.renderTasks)Pt.operatorListChanged();zt(this,Bo,nm).call(this,!0)}if(St.displayReadyCapability)St.displayReadyCapability.reject(xt);else if(St.opListReadCapability)St.opListReadCapability.reject(xt);else throw xt}})};Et()}_abortOperatorList({intentState:$,reason:ht,force:vt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!vt){if($.renderTasks.size>0)return;if(ht instanceof RenderingCancelledException){let bt=RENDERING_CANCELLED_TIMEOUT;ht.extraDelay>0&&ht.extraDelay<1e3&&(bt+=ht.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:ht,force:!0})},bt);return}}if($.streamReader.cancel(new AbortException(ht.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[bt,_t]of this._intentStates)if(_t===$){this._intentStates.delete(bt);break}this.cleanup()}}}get stats(){return this._stats}}Mu=new WeakMap,tu=new WeakMap,Bo=new WeakSet,nm=function($=!1){if(zt(this,Bo,A0).call(this),!Ct(this,tu)||this.destroyed)return!1;if($)return Gt(this,Mu,setTimeout(()=>{Gt(this,Mu,null),zt(this,Bo,nm).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ht,operatorList:vt}of this._intentStates.values())if(ht.size>0||!vt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Gt(this,tu,!1),!0},A0=function(){Ct(this,Mu)&&(clearTimeout(Ct(this,Mu)),Gt(this,Mu,null))};var _p,h_;class LoopbackPort{constructor(){Xt(this,_p,new Set);Xt(this,h_,Promise.resolve())}postMessage($,ht){const vt={data:structuredClone($,ht?{transfer:ht}:null)};Ct(this,h_).then(()=>{for(const bt of Ct(this,_p))bt.call(this,vt)})}addEventListener($,ht){Ct(this,_p).add(ht)}removeEventListener($,ht){Ct(this,_p).delete(ht)}terminate(){Ct(this,_p).clear()}}_p=new WeakMap,h_=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(_e,$){let ht;try{if(ht=new URL(_e),!ht.origin||ht.origin==="null")return!1}catch{return!1}const vt=new URL($,ht);return ht.origin===vt.origin},PDFWorkerUtil.createCDNWrapper=function(_e){const $=`await import("${_e}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var wp,Rm,S0;const To=class To{constructor({name:$=null,port:ht=null,verbosity:vt=getVerbosityLevel()}={}){var bt;if(this.name=$,this.destroyed=!1,this.verbosity=vt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,ht){if((bt=Ct(To,wp))!=null&&bt.has(ht))throw new Error("Cannot use more than one PDFWorker per port.");(Ct(To,wp)||Gt(To,wp,new WeakMap)).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!Ct(To,Rm,S0)){let{workerSrc:$}=To;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const ht=new Worker($,{type:"module"}),vt=new MessageHandler("main","worker",ht),bt=()=>{ht.removeEventListener("error",_t),vt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},_t=()=>{this._webWorker||bt()};ht.addEventListener("error",_t),vt.on("test",At=>{if(ht.removeEventListener("error",_t),this.destroyed){bt();return}At?(this._messageHandler=vt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),vt.destroy(),ht.terminate())}),vt.on("ready",At=>{if(ht.removeEventListener("error",_t),this.destroyed){bt();return}try{wt()}catch{this._setupFakeWorker()}});const wt=()=>{const At=new Uint8Array;vt.send("test",At,[At.buffer])};wt();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn$1("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),To._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const vt=`fake${PDFWorkerUtil.fakeWorkerId++}`,bt=new MessageHandler(vt+"_worker",vt,ht);$.setup(bt,ht);const _t=new MessageHandler(vt,vt+"_worker",ht);this._messageHandler=_t,this._readyCapability.resolve(),_t.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=Ct(To,wp))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var vt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ht=(vt=Ct(this,wp))==null?void 0:vt.get($.port);if(ht){if(ht._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ht}return new To($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>Ct(this,Rm,S0)?Ct(this,Rm,S0):(await import(this.workerSrc)).WorkerMessageHandler)())}};wp=new WeakMap,Rm=new WeakSet,S0=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},Xt(To,Rm),Xt(To,wp);let PDFWorker=To;var nu,Pl,Om,Mm,Tl,Ap,uy;class WorkerTransport{constructor($,ht,vt,bt,_t){Xt(this,Ap);Xt(this,nu,new Map);Xt(this,Pl,new Map);Xt(this,Om,new Map);Xt(this,Mm,new Map);Xt(this,Tl,null);this.messageHandler=$,this.loadingTask=ht,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:bt.ownerDocument,styleElement:bt.styleElement}),this.loadingParams=bt.loadingParams,this._params=bt,this.canvasFactory=_t.canvasFactory,this.filterFactory=_t.filterFactory,this.cMapReaderFactory=_t.cMapReaderFactory,this.standardFontDataFactory=_t.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=vt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,ht=AnnotationMode.ENABLE,vt=null,bt=!1){let _t=RenderingIntentFlag.DISPLAY,wt=SerializableEmpty;switch($){case"any":_t=RenderingIntentFlag.ANY;break;case"display":break;case"print":_t=RenderingIntentFlag.PRINT;break;default:warn$1(`getRenderingIntent - invalid intent: ${$}`)}switch(ht){case AnnotationMode.DISABLE:_t+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:_t+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:_t+=RenderingIntentFlag.ANNOTATIONS_STORAGE,wt=(_t&RenderingIntentFlag.PRINT&&vt instanceof PrintAnnotationStorage?vt:this.annotationStorage).serializable;break;default:warn$1(`getRenderingIntent - invalid annotationMode: ${ht}`)}return bt&&(_t+=RenderingIntentFlag.OPLIST),{renderingIntent:_t,cacheKey:`${_t}_${wt.hash}`,annotationStorageSerializable:wt}}destroy(){var vt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(vt=Ct(this,Tl))==null||vt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const bt of Ct(this,Pl).values())$.push(bt._destroy());Ct(this,Pl).clear(),Ct(this,Om).clear(),Ct(this,Mm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ht=this.messageHandler.sendWithPromise("Terminate",null);return $.push(ht),Promise.all($).then(()=>{var bt;this.commonObjs.clear(),this.fontLoader.clear(),Ct(this,nu).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(bt=this._networkStream)==null||bt.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:ht}=this;$.on("GetReader",(vt,bt)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=_t=>{this._lastProgress={loaded:_t.loaded,total:_t.total}},bt.onPull=()=>{this._fullReader.read().then(function({value:_t,done:wt}){if(wt){bt.close();return}assert(_t instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array(_t),1,[_t])}).catch(_t=>{bt.error(_t)})},bt.onCancel=_t=>{this._fullReader.cancel(_t),bt.ready.catch(wt=>{if(!this.destroyed)throw wt})}}),$.on("ReaderHeadersReady",vt=>{const bt=Promise.withResolvers(),_t=this._fullReader;return _t.headersReady.then(()=>{var wt;(!_t.isStreamingSupported||!_t.isRangeSupported)&&(this._lastProgress&&((wt=ht.onProgress)==null||wt.call(ht,this._lastProgress)),_t.onProgress=At=>{var St;(St=ht.onProgress)==null||St.call(ht,{loaded:At.loaded,total:At.total})}),bt.resolve({isStreamingSupported:_t.isStreamingSupported,isRangeSupported:_t.isRangeSupported,contentLength:_t.contentLength})},bt.reject),bt.promise}),$.on("GetRangeReader",(vt,bt)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const _t=this._networkStream.getRangeReader(vt.begin,vt.end);if(!_t){bt.close();return}bt.onPull=()=>{_t.read().then(function({value:wt,done:At}){if(At){bt.close();return}assert(wt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array(wt),1,[wt])}).catch(wt=>{bt.error(wt)})},bt.onCancel=wt=>{_t.cancel(wt),bt.ready.catch(At=>{if(!this.destroyed)throw At})}}),$.on("GetDoc",({pdfInfo:vt})=>{this._numPages=vt.numPages,this._htmlForXfa=vt.htmlForXfa,delete vt.htmlForXfa,ht._capability.resolve(new PDFDocumentProxy(vt,this))}),$.on("DocException",function(vt){let bt;switch(vt.name){case"PasswordException":bt=new PasswordException(vt.message,vt.code);break;case"InvalidPDFException":bt=new InvalidPDFException(vt.message);break;case"MissingPDFException":bt=new MissingPDFException(vt.message);break;case"UnexpectedResponseException":bt=new UnexpectedResponseException(vt.message,vt.status);break;case"UnknownErrorException":bt=new UnknownErrorException(vt.message,vt.details);break;default:unreachable("DocException - expected a valid Error.")}ht._capability.reject(bt)}),$.on("PasswordRequest",vt=>{if(Gt(this,Tl,Promise.withResolvers()),ht.onPassword){const bt=_t=>{_t instanceof Error?Ct(this,Tl).reject(_t):Ct(this,Tl).resolve({password:_t})};try{ht.onPassword(bt,vt.code)}catch(_t){Ct(this,Tl).reject(_t)}}else Ct(this,Tl).reject(new PasswordException(vt.message,vt.code));return Ct(this,Tl).promise}),$.on("DataLoaded",vt=>{var bt;(bt=ht.onProgress)==null||bt.call(ht,{loaded:vt.length,total:vt.length}),this.downloadInfoCapability.resolve(vt)}),$.on("StartRenderPage",vt=>{if(this.destroyed)return;Ct(this,Pl).get(vt.pageIndex)._startRenderPage(vt.transparency,vt.cacheKey)}),$.on("commonobj",([vt,bt,_t])=>{var wt;if(this.destroyed||this.commonObjs.has(vt))return null;switch(bt){case"Font":const{disableFontFace:At,fontExtraProperties:St,pdfBug:Et}=this._params;if("error"in _t){const kt=_t.error;warn$1(`Error during font loading: ${kt}`),this.commonObjs.resolve(vt,kt);break}const xt=Et&&((wt=globalThis.FontInspector)!=null&&wt.enabled)?(kt,Rt)=>globalThis.FontInspector.fontAdded(kt,Rt):null,Pt=new FontFaceObject(_t,{disableFontFace:At,inspectFont:xt});this.fontLoader.bind(Pt).catch(()=>$.sendWithPromise("FontFallback",{id:vt})).finally(()=>{!St&&Pt.data&&(Pt.data=null),this.commonObjs.resolve(vt,Pt)});break;case"CopyLocalImage":const{imageRef:$t}=_t;assert($t,"The imageRef must be defined.");for(const kt of Ct(this,Pl).values())for(const[,Rt]of kt.objs)if((Rt==null?void 0:Rt.ref)===$t)return Rt.dataLen?(this.commonObjs.resolve(vt,structuredClone(Rt)),Rt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(vt,_t);break;default:throw new Error(`Got unknown common object type ${bt}`)}return null}),$.on("obj",([vt,bt,_t,wt])=>{var St;if(this.destroyed)return;const At=Ct(this,Pl).get(bt);if(!At.objs.has(vt)){if(At._intentStates.size===0){(St=wt==null?void 0:wt.bitmap)==null||St.close();return}switch(_t){case"Image":At.objs.resolve(vt,wt),(wt==null?void 0:wt.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(At._maybeCleanupAfterRender=!0);break;case"Pattern":At.objs.resolve(vt,wt);break;default:throw new Error(`Got unknown object type ${_t}`)}}}),$.on("DocProgress",vt=>{var bt;this.destroyed||(bt=ht.onProgress)==null||bt.call(ht,{loaded:vt.loaded,total:vt.total})}),$.on("FetchBuiltInCMap",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(vt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(vt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var vt;this.annotationStorage.size<=0&&warn$1("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:ht}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((vt=this._fullReader)==null?void 0:vt.filename)??null},ht).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const ht=$-1,vt=Ct(this,Om).get(ht);if(vt)return vt;const bt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ht}).then(_t=>{if(this.destroyed)throw new Error("Transport destroyed");_t.refStr&&Ct(this,Mm).set(_t.refStr,$);const wt=new PDFPageProxy(ht,_t,this,this._params.pdfBug);return Ct(this,Pl).set(ht,wt),wt});return Ct(this,Om).set(ht,bt),bt}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,ht){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:ht})}getFieldObjects(){return zt(this,Ap,uy).call(this,"GetFieldObjects")}hasJSActions(){return zt(this,Ap,uy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return zt(this,Ap,uy).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return zt(this,Ap,uy).call(this,"GetOptionalContentConfig").then(ht=>new OptionalContentConfig(ht,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",ht=Ct(this,nu).get($);if(ht)return ht;const vt=this.messageHandler.sendWithPromise($,null).then(bt=>{var _t,wt;return{info:bt[0],metadata:bt[1]?new Metadata(bt[1]):null,contentDispositionFilename:((_t=this._fullReader)==null?void 0:_t.filename)??null,contentLength:((wt=this._fullReader)==null?void 0:wt.contentLength)??null}});return Ct(this,nu).set($,vt),vt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ht of Ct(this,Pl).values())if(!ht.cleanup())throw new Error(`startCleanup: Page ${ht.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),Ct(this,nu).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const ht=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return Ct(this,Mm).get(ht)??null}}nu=new WeakMap,Pl=new WeakMap,Om=new WeakMap,Mm=new WeakMap,Tl=new WeakMap,Ap=new WeakSet,uy=function($,ht=null){const vt=Ct(this,nu).get($);if(vt)return vt;const bt=this.messageHandler.sendWithPromise($,ht);return Ct(this,nu).set($,bt),bt};const INITIAL_DATA=Symbol("INITIAL_DATA");var Yo,yv,tw;class PDFObjects{constructor(){Xt(this,yv);Xt(this,Yo,Object.create(null))}get($,ht=null){if(ht){const bt=zt(this,yv,tw).call(this,$);return bt.promise.then(()=>ht(bt.data)),null}const vt=Ct(this,Yo)[$];if(!vt||vt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return vt.data}has($){const ht=Ct(this,Yo)[$];return!!ht&&ht.data!==INITIAL_DATA}resolve($,ht=null){const vt=zt(this,yv,tw).call(this,$);vt.data=ht,vt.resolve()}clear(){var $;for(const ht in Ct(this,Yo)){const{data:vt}=Ct(this,Yo)[ht];($=vt==null?void 0:vt.bitmap)==null||$.close()}Gt(this,Yo,Object.create(null))}*[Symbol.iterator](){for(const $ in Ct(this,Yo)){const{data:ht}=Ct(this,Yo)[$];ht!==INITIAL_DATA&&(yield[$,ht])}}}Yo=new WeakMap,yv=new WeakSet,tw=function($){var ht;return(ht=Ct(this,Yo))[$]||(ht[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var Iu;class RenderTask{constructor($){Xt(this,Iu,null);Gt(this,Iu,$),this.onContinue=null}get promise(){return Ct(this,Iu).capability.promise}cancel($=0){Ct(this,Iu).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=Ct(this,Iu).operatorList;if(!$)return!1;const{annotationCanvasMap:ht}=Ct(this,Iu);return $.form||$.canvas&&(ht==null?void 0:ht.size)>0}}Iu=new WeakMap;var Sp;const _h=class _h{constructor({callback:$,params:ht,objs:vt,commonObjs:bt,annotationCanvasMap:_t,operatorList:wt,pageIndex:At,canvasFactory:St,filterFactory:Et,useRequestAnimationFrame:xt=!1,pdfBug:Pt=!1,pageColors:$t=null}){this.callback=$,this.params=ht,this.objs=vt,this.commonObjs=bt,this.annotationCanvasMap=_t,this.operatorListIdx=null,this.operatorList=wt,this._pageIndex=At,this.canvasFactory=St,this.filterFactory=Et,this._pdfBug=Pt,this.pageColors=$t,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=xt===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ht.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:ht}){var At,St;if(this.cancelled)return;if(this._canvas){if(Ct(_h,Sp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ct(_h,Sp).add(this._canvas)}this._pdfBug&&((At=globalThis.StepperManager)!=null&&At.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vt,viewport:bt,transform:_t,background:wt}=this.params;this.gfx=new CanvasGraphics(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ht},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:_t,viewport:bt,transparency:$,background:wt}),this.operatorListIdx=0,this.graphicsReady=!0,(St=this.graphicsReadyCallback)==null||St.call(this)}cancel($=null,ht=0){var vt;this.running=!1,this.cancelled=!0,(vt=this.gfx)==null||vt.endDrawing(),Ct(_h,Sp).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ht))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ct(_h,Sp).delete(this._canvas),this.callback())))}};Sp=new WeakMap,Xt(_h,Sp,new WeakSet);let InternalRenderTask=_h;const version="4.3.136",build="0cec64437";function makeColorComp(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}function scaleAndClamp(_e){return Math.max(0,Math.min(255,255*_e))}class ColorConverters{static CMYK_G([$,ht,vt,bt]){return["G",1-Math.min(1,.3*$+.59*vt+.11*ht+bt)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const ht=makeColorComp($);return`#${ht}${ht}${ht}`}static RGB_G([$,ht,vt]){return["G",.3*$+.59*ht+.11*vt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,ht,vt,bt]){return["RGB",1-Math.min(1,$+bt),1-Math.min(1,vt+bt),1-Math.min(1,ht+bt)]}static CMYK_rgb([$,ht,vt,bt]){return[scaleAndClamp(1-Math.min(1,$+bt)),scaleAndClamp(1-Math.min(1,vt+bt)),scaleAndClamp(1-Math.min(1,ht+bt))]}static CMYK_HTML($){const ht=this.CMYK_RGB($).slice(1);return this.RGB_HTML(ht)}static RGB_CMYK([$,ht,vt]){const bt=1-$,_t=1-ht,wt=1-vt,At=Math.min(bt,_t,wt);return["CMYK",bt,_t,wt,At]}}class XfaLayer{static setupStorage($,ht,vt,bt,_t){const wt=bt.getValue(ht,{value:null});switch(vt.name){case"textarea":if(wt.value!==null&&($.textContent=wt.value),_t==="print")break;$.addEventListener("input",At=>{bt.setValue(ht,{value:At.target.value})});break;case"input":if(vt.attributes.type==="radio"||vt.attributes.type==="checkbox"){if(wt.value===vt.attributes.xfaOn?$.setAttribute("checked",!0):wt.value===vt.attributes.xfaOff&&$.removeAttribute("checked"),_t==="print")break;$.addEventListener("change",At=>{bt.setValue(ht,{value:At.target.checked?At.target.getAttribute("xfaOn"):At.target.getAttribute("xfaOff")})})}else{if(wt.value!==null&&$.setAttribute("value",wt.value),_t==="print")break;$.addEventListener("input",At=>{bt.setValue(ht,{value:At.target.value})})}break;case"select":if(wt.value!==null){$.setAttribute("value",wt.value);for(const At of vt.children)At.attributes.value===wt.value?At.attributes.selected=!0:At.attributes.hasOwnProperty("selected")&&delete At.attributes.selected}$.addEventListener("input",At=>{const St=At.target.options,Et=St.selectedIndex===-1?"":St[St.selectedIndex].value;bt.setValue(ht,{value:Et})});break}}static setAttributes({html:$,element:ht,storage:vt=null,intent:bt,linkService:_t}){const{attributes:wt}=ht,At=$ instanceof HTMLAnchorElement;wt.type==="radio"&&(wt.name=`${wt.name}-${bt}`);for(const[St,Et]of Object.entries(wt))if(Et!=null)switch(St){case"class":Et.length&&$.setAttribute(St,Et.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",Et);break;case"style":Object.assign($.style,Et);break;case"textContent":$.textContent=Et;break;default:(!At||St!=="href"&&St!=="newWindow")&&$.setAttribute(St,Et)}At&&_t.addLinkAttributes($,wt.href,wt.newWindow),vt&&wt.dataId&&this.setupStorage($,wt.dataId,ht,vt)}static render($){var Pt,$t;const ht=$.annotationStorage,vt=$.linkService,bt=$.xfaHtml,_t=$.intent||"display",wt=document.createElement(bt.name);bt.attributes&&this.setAttributes({html:wt,element:bt,intent:_t,linkService:vt});const At=_t!=="richText",St=$.div;if(St.append(wt),$.viewport){const kt=`matrix(${$.viewport.transform.join(",")})`;St.style.transform=kt}At&&St.setAttribute("class","xfaLayer xfaFont");const Et=[];if(bt.children.length===0){if(bt.value){const kt=document.createTextNode(bt.value);wt.append(kt),At&&XfaText.shouldBuildText(bt.name)&&Et.push(kt)}return{textDivs:Et}}const xt=[[bt,-1,wt]];for(;xt.length>0;){const[kt,Rt,Mt]=xt.at(-1);if(Rt+1===kt.children.length){xt.pop();continue}const Dt=kt.children[++xt.at(-1)[1]];if(Dt===null)continue;const{name:Ot}=Dt;if(Ot==="#text"){const Nt=document.createTextNode(Dt.value);Et.push(Nt),Mt.append(Nt);continue}const Lt=(Pt=Dt==null?void 0:Dt.attributes)!=null&&Pt.xmlns?document.createElementNS(Dt.attributes.xmlns,Ot):document.createElement(Ot);if(Mt.append(Lt),Dt.attributes&&this.setAttributes({html:Lt,element:Dt,storage:ht,intent:_t,linkService:vt}),(($t=Dt.children)==null?void 0:$t.length)>0)xt.push([Dt,-1,Lt]);else if(Dt.value){const Nt=document.createTextNode(Dt.value);At&&XfaText.shouldBuildText(Ot)&&Et.push(Nt),Lt.append(Nt)}}for(const kt of St.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))kt.setAttribute("readOnly",!0);return{textDivs:Et}}static update($){const ht=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=ht,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(_e){return{width:_e[2]-_e[0],height:_e[3]-_e[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var Ep,Im,Lm,vv,nw;const dA=class dA{constructor($,{isRenderable:ht=!1,ignoreBorder:vt=!1,createQuadrilaterals:bt=!1}={}){Xt(this,vv);Xt(this,Ep,null);Xt(this,Im,!1);Xt(this,Lm,null);this.isRenderable=ht,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,ht&&(this.container=this._createContainer(vt)),bt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:ht,richText:vt}){return!!($!=null&&$.str||ht!=null&&ht.str||vt!=null&&vt.str)}get hasPopupData(){return dA._hasPopupData(this.data)}updateEdited($){var vt;if(!this.container)return;Ct(this,Ep)||Gt(this,Ep,{rect:this.data.rect.slice(0)});const{rect:ht}=$;ht&&zt(this,vv,nw).call(this,ht),(vt=Ct(this,Lm))==null||vt.popup.updateEdited($)}resetEdited(){var $;Ct(this,Ep)&&(zt(this,vv,nw).call(this,Ct(this,Ep).rect),($=Ct(this,Lm))==null||$.popup.resetEdited(),Gt(this,Ep,null))}_createContainer($){const{data:ht,parent:{page:vt,viewport:bt}}=this,_t=document.createElement("section");_t.setAttribute("data-annotation-id",ht.id),this instanceof WidgetAnnotationElement||(_t.tabIndex=DEFAULT_TAB_INDEX);const{style:wt}=_t;if(wt.zIndex=this.parent.zIndex++,ht.popupRef&&_t.setAttribute("aria-haspopup","dialog"),ht.alternativeText&&(_t.title=ht.alternativeText),ht.noRotate&&_t.classList.add("norotate"),!ht.rect||this instanceof PopupAnnotationElement){const{rotation:Mt}=ht;return!ht.hasOwnCanvas&&Mt!==0&&this.setRotation(Mt,_t),_t}const{width:At,height:St}=getRectDims(ht.rect);if(!$&&ht.borderStyle.width>0){wt.borderWidth=`${ht.borderStyle.width}px`;const Mt=ht.borderStyle.horizontalCornerRadius,Dt=ht.borderStyle.verticalCornerRadius;if(Mt>0||Dt>0){const Lt=`calc(${Mt}px * var(--scale-factor)) / calc(${Dt}px * var(--scale-factor))`;wt.borderRadius=Lt}else if(this instanceof RadioButtonWidgetAnnotationElement){const Lt=`calc(${At}px * var(--scale-factor)) / calc(${St}px * var(--scale-factor))`;wt.borderRadius=Lt}switch(ht.borderStyle.style){case AnnotationBorderStyleType.SOLID:wt.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:wt.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn$1("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn$1("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:wt.borderBottomStyle="solid";break}const Ot=ht.borderColor||null;Ot?(Gt(this,Im,!0),wt.borderColor=Util.makeHexColor(Ot[0]|0,Ot[1]|0,Ot[2]|0)):wt.borderWidth=0}const Et=Util.normalizeRect([ht.rect[0],vt.view[3]-ht.rect[1]+vt.view[1],ht.rect[2],vt.view[3]-ht.rect[3]+vt.view[1]]),{pageWidth:xt,pageHeight:Pt,pageX:$t,pageY:kt}=bt.rawDims;wt.left=`${100*(Et[0]-$t)/xt}%`,wt.top=`${100*(Et[1]-kt)/Pt}%`;const{rotation:Rt}=ht;return ht.hasOwnCanvas||Rt===0?(wt.width=`${100*At/xt}%`,wt.height=`${100*St/Pt}%`):this.setRotation(Rt,_t),_t}setRotation($,ht=this.container){if(!this.data.rect)return;const{pageWidth:vt,pageHeight:bt}=this.parent.viewport.rawDims,{width:_t,height:wt}=getRectDims(this.data.rect);let At,St;$%180===0?(At=100*_t/vt,St=100*wt/bt):(At=100*wt/vt,St=100*_t/bt),ht.style.width=`${At}%`,ht.style.height=`${St}%`,ht.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(ht,vt,bt)=>{const _t=bt.detail[ht],wt=_t[0],At=_t.slice(1);bt.target.style[vt]=ColorConverters[`${wt}_HTML`](At),this.annotationStorage.setValue(this.data.id,{[vt]:ColorConverters[`${wt}_rgb`](At)})};return shadow(this,"_commonActions",{display:ht=>{const{display:vt}=ht.detail,bt=vt%2===1;this.container.style.visibility=bt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:bt,noPrint:vt===1||vt===2})},print:ht=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ht.detail.print})},hidden:ht=>{const{hidden:vt}=ht.detail;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:vt,noView:vt})},focus:ht=>{setTimeout(()=>ht.target.focus({preventScroll:!1}),0)},userName:ht=>{ht.target.title=ht.detail.userName},readonly:ht=>{ht.target.disabled=ht.detail.readonly},required:ht=>{this._setRequired(ht.target,ht.detail.required)},bgColor:ht=>{$("bgColor","backgroundColor",ht)},fillColor:ht=>{$("fillColor","backgroundColor",ht)},fgColor:ht=>{$("fgColor","color",ht)},textColor:ht=>{$("textColor","color",ht)},borderColor:ht=>{$("borderColor","borderColor",ht)},strokeColor:ht=>{$("strokeColor","borderColor",ht)},rotation:ht=>{const vt=ht.detail.rotation;this.setRotation(vt),this.annotationStorage.setValue(this.data.id,{rotation:vt})}})}_dispatchEventFromSandbox($,ht){const vt=this._commonActions;for(const bt of Object.keys(ht.detail)){const _t=$[bt]||vt[bt];_t==null||_t(ht)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const ht=this.annotationStorage.getRawValue(this.data.id);if(!ht)return;const vt=this._commonActions;for(const[bt,_t]of Object.entries(ht)){const wt=vt[bt];if(wt){const At={detail:{[bt]:_t},target:$};wt(At),delete ht[bt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[ht,vt,bt,_t]=this.data.rect;if($.length===1){const[,{x:Mt,y:Dt},{x:Ot,y:Lt}]=$[0];if(bt===Mt&&_t===Dt&&ht===Ot&&vt===Lt)return}const{style:wt}=this.container;let At;if(Ct(this,Im)){const{borderColor:Mt,borderWidth:Dt}=wt;wt.borderWidth=0,At=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Mt}" stroke-width="${Dt}">`],this.container.classList.add("hasBorder")}const St=bt-ht,Et=_t-vt,{svgFactory:xt}=this,Pt=xt.createElement("svg");Pt.classList.add("quadrilateralsContainer"),Pt.setAttribute("width",0),Pt.setAttribute("height",0);const $t=xt.createElement("defs");Pt.append($t);const kt=xt.createElement("clipPath"),Rt=`clippath_${this.data.id}`;kt.setAttribute("id",Rt),kt.setAttribute("clipPathUnits","objectBoundingBox"),$t.append(kt);for(const[,{x:Mt,y:Dt},{x:Ot,y:Lt}]of $){const Nt=xt.createElement("rect"),Ht=(Ot-ht)/St,Ft=(_t-Dt)/Et,jt=(Mt-Ot)/St,Bt=(Dt-Lt)/Et;Nt.setAttribute("x",Ht),Nt.setAttribute("y",Ft),Nt.setAttribute("width",jt),Nt.setAttribute("height",Bt),kt.append(Nt),At==null||At.push(`<rect vector-effect="non-scaling-stroke" x="${Ht}" y="${Ft}" width="${jt}" height="${Bt}"/>`)}Ct(this,Im)&&(At.push("</g></svg>')"),wt.backgroundImage=At.join("")),this.container.append(Pt),this.container.style.clipPath=`url(#${Rt})`}_createPopup(){const{container:$,data:ht}=this;$.setAttribute("aria-haspopup","dialog");const vt=Gt(this,Lm,new PopupAnnotationElement({data:{color:ht.color,titleObj:ht.titleObj,modificationDate:ht.modificationDate,contentsObj:ht.contentsObj,richText:ht.richText,parentRect:ht.rect,borderStyle:0,id:`popup_${ht.id}`,rotation:ht.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(vt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,ht=null){const vt=[];if(this._fieldObjects){const bt=this._fieldObjects[$];if(bt)for(const{page:_t,id:wt,exportValues:At}of bt){if(_t===-1||wt===ht)continue;const St=typeof At=="string"?At:null,Et=document.querySelector(`[data-element-id="${wt}"]`);if(Et&&!GetElementsByNameSet.has(Et)){warn$1(`_getElementsByName - element not allowed: ${wt}`);continue}vt.push({id:wt,exportValue:St,domElement:Et})}return vt}for(const bt of document.getElementsByName($)){const{exportValue:_t}=bt,wt=bt.getAttribute("data-element-id");wt!==ht&&GetElementsByNameSet.has(bt)&&vt.push({id:wt,exportValue:_t,domElement:bt})}return vt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const ht of $)ht.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:ht}}=this;this.container.addEventListener("dblclick",()=>{var vt;(vt=this.linkService.eventBus)==null||vt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:ht})})}};Ep=new WeakMap,Im=new WeakMap,Lm=new WeakMap,vv=new WeakSet,nw=function($){const{container:{style:ht},data:{rect:vt,rotation:bt},parent:{viewport:{rawDims:{pageWidth:_t,pageHeight:wt,pageX:At,pageY:St}}}}=this;vt==null||vt.splice(0,4,...$);const{width:Et,height:xt}=getRectDims($);ht.left=`${100*($[0]-At)/_t}%`,ht.top=`${100*(wt-$[3]+St)/wt}%`,bt===0?(ht.width=`${100*Et/_t}%`,ht.height=`${100*xt/wt}%`):this.setRotation(bt)};let AnnotationElement=dA;var Io,Yu,l1,c1;class LinkAnnotationElement extends AnnotationElement{constructor(ht,vt=null){super(ht,{isRenderable:!0,ignoreBorder:!!(vt!=null&&vt.ignoreBorder),createQuadrilaterals:!0});Xt(this,Io);this.isTooltipOnly=ht.data.isTooltipOnly}render(){const{data:ht,linkService:vt}=this,bt=document.createElement("a");bt.setAttribute("data-element-id",ht.id);let _t=!1;return ht.url?(vt.addLinkAttributes(bt,ht.url,ht.newWindow),_t=!0):ht.action?(this._bindNamedAction(bt,ht.action),_t=!0):ht.attachment?(zt(this,Io,l1).call(this,bt,ht.attachment,ht.attachmentDest),_t=!0):ht.setOCGState?(zt(this,Io,c1).call(this,bt,ht.setOCGState),_t=!0):ht.dest?(this._bindLink(bt,ht.dest),_t=!0):(ht.actions&&(ht.actions.Action||ht.actions["Mouse Up"]||ht.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(bt,ht),_t=!0),ht.resetForm?(this._bindResetFormAction(bt,ht.resetForm),_t=!0):this.isTooltipOnly&&!_t&&(this._bindLink(bt,""),_t=!0)),this.container.classList.add("linkAnnotation"),_t&&this.container.append(bt),this.container}_bindLink(ht,vt){ht.href=this.linkService.getDestinationHash(vt),ht.onclick=()=>(vt&&this.linkService.goToDestination(vt),!1),(vt||vt==="")&&zt(this,Io,Yu).call(this)}_bindNamedAction(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeNamedAction(vt),!1),zt(this,Io,Yu).call(this)}_bindJSAction(ht,vt){ht.href=this.linkService.getAnchorUrl("");const bt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _t of Object.keys(vt.actions)){const wt=bt.get(_t);wt&&(ht[wt]=()=>{var At;return(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt.id,name:_t}}),!1})}ht.onclick||(ht.onclick=()=>!1),zt(this,Io,Yu).call(this)}_bindResetFormAction(ht,vt){const bt=ht.onclick;if(bt||(ht.href=this.linkService.getAnchorUrl("")),zt(this,Io,Yu).call(this),!this._fieldObjects){warn$1('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),bt||(ht.onclick=()=>!1);return}ht.onclick=()=>{var Pt;bt==null||bt();const{fields:_t,refs:wt,include:At}=vt,St=[];if(_t.length!==0||wt.length!==0){const $t=new Set(wt);for(const kt of _t){const Rt=this._fieldObjects[kt]||[];for(const{id:Mt}of Rt)$t.add(Mt)}for(const kt of Object.values(this._fieldObjects))for(const Rt of kt)$t.has(Rt.id)===At&&St.push(Rt)}else for(const $t of Object.values(this._fieldObjects))St.push(...$t);const Et=this.annotationStorage,xt=[];for(const $t of St){const{id:kt}=$t;switch(xt.push(kt),$t.type){case"text":{const Mt=$t.defaultValue||"";Et.setValue(kt,{value:Mt});break}case"checkbox":case"radiobutton":{const Mt=$t.defaultValue===$t.exportValues;Et.setValue(kt,{value:Mt});break}case"combobox":case"listbox":{const Mt=$t.defaultValue||"";Et.setValue(kt,{value:Mt});break}default:continue}const Rt=document.querySelector(`[data-element-id="${kt}"]`);if(Rt){if(!GetElementsByNameSet.has(Rt)){warn$1(`_bindResetFormAction - element not allowed: ${kt}`);continue}}else continue;Rt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:xt,name:"ResetForm"}})),!1}}}Io=new WeakSet,Yu=function(){this.container.setAttribute("data-internal-link","")},l1=function(ht,vt,bt=null){ht.href=this.linkService.getAnchorUrl(""),vt.description&&(ht.title=vt.description),ht.onclick=()=>{var _t;return(_t=this.downloadManager)==null||_t.openOrDownloadData(vt.content,vt.filename,bt),!1},zt(this,Io,Yu).call(this)},c1=function(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeSetOCGState(vt),!1),zt(this,Io,Yu).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var ht;this.data.hasOwnCanvas&&(((ht=$.previousSibling)==null?void 0:ht.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,ht,vt,bt,_t){vt.includes("mouse")?$.addEventListener(vt,wt=>{var At;(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:bt,value:_t(wt),shift:wt.shiftKey,modifier:this._getKeyModifier(wt)}})}):$.addEventListener(vt,wt=>{var At;if(vt==="blur"){if(!ht.focused||!wt.relatedTarget)return;ht.focused=!1}else if(vt==="focus"){if(ht.focused)return;ht.focused=!0}_t&&((At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:bt,value:_t(wt)}}))})}_setEventListeners($,ht,vt,bt){var _t,wt,At;for(const[St,Et]of vt)(Et==="Action"||(_t=this.data.actions)!=null&&_t[Et])&&((Et==="Focus"||Et==="Blur")&&(ht||(ht={focused:!1})),this._setEventListener($,ht,St,Et,bt),Et==="Focus"&&!((wt=this.data.actions)!=null&&wt.Blur)?this._setEventListener($,ht,"blur","Blur",null):Et==="Blur"&&!((At=this.data.actions)!=null&&At.Focus)&&this._setEventListener($,ht,"focus","Focus",null))}_setBackgroundColor($){const ht=this.data.backgroundColor||null;$.style.backgroundColor=ht===null?"transparent":Util.makeHexColor(ht[0],ht[1],ht[2])}_setTextStyle($){const ht=["left","center","right"],{fontColor:vt}=this.data.defaultAppearanceData,bt=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,_t=$.style;let wt;const At=2,St=Et=>Math.round(10*Et)/10;if(this.data.multiLine){const Et=Math.abs(this.data.rect[3]-this.data.rect[1]-At),xt=Math.round(Et/(LINE_FACTOR*bt))||1,Pt=Et/xt;wt=Math.min(bt,St(Pt/LINE_FACTOR))}else{const Et=Math.abs(this.data.rect[3]-this.data.rect[1]-At);wt=Math.min(bt,St(Et/LINE_FACTOR))}_t.fontSize=`calc(${wt}px * var(--scale-factor))`,_t.color=Util.makeHexColor(vt[0],vt[1],vt[2]),this.data.textAlignment!==null&&(_t.textAlign=ht[this.data.textAlignment])}_setRequired($,ht){ht?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",ht)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const ht=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:ht})}setPropertyOnSiblings($,ht,vt,bt){const _t=this.annotationStorage;for(const wt of this._getElementsByName($.name,$.id))wt.domElement&&(wt.domElement[ht]=vt),_t.setValue(wt.id,{[bt]:vt})}render(){var bt,_t;const $=this.annotationStorage,ht=this.data.id;this.container.classList.add("textWidgetAnnotation");let vt=null;if(this.renderForms){const wt=$.getValue(ht,{value:this.data.fieldValue});let At=wt.value||"";const St=$.getValue(ht,{charLimit:this.data.maxLen}).charLimit;St&&At.length>St&&(At=At.slice(0,St));let Et=wt.formattedValue||((bt=this.data.textContent)==null?void 0:bt.join(`
`))||null;Et&&this.data.comb&&(Et=Et.replaceAll(/\s+/g,""));const xt={userValue:At,formattedValue:Et,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(vt=document.createElement("textarea"),vt.textContent=Et??At,this.data.doNotScroll&&(vt.style.overflowY="hidden")):(vt=document.createElement("input"),vt.type="text",vt.setAttribute("value",Et??At),this.data.doNotScroll&&(vt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(vt.hidden=!0),GetElementsByNameSet.add(vt),vt.setAttribute("data-element-id",ht),vt.disabled=this.data.readOnly,vt.name=this.data.fieldName,vt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(vt,this.data.required),St&&(vt.maxLength=St),vt.addEventListener("input",$t=>{$.setValue(ht,{value:$t.target.value}),this.setPropertyOnSiblings(vt,"value",$t.target.value,"value"),xt.formattedValue=null}),vt.addEventListener("resetform",$t=>{const kt=this.data.defaultFieldValue??"";vt.value=xt.userValue=kt,xt.formattedValue=null});let Pt=$t=>{const{formattedValue:kt}=xt;kt!=null&&($t.target.value=kt),$t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){vt.addEventListener("focus",kt=>{var Mt;if(xt.focused)return;const{target:Rt}=kt;xt.userValue&&(Rt.value=xt.userValue),xt.lastCommittedValue=Rt.value,xt.commitKey=1,(Mt=this.data.actions)!=null&&Mt.Focus||(xt.focused=!0)}),vt.addEventListener("updatefromsandbox",kt=>{this.showElementAndHideCanvas(kt.target);const Rt={value(Mt){xt.userValue=Mt.detail.value??"",$.setValue(ht,{value:xt.userValue.toString()}),Mt.target.value=xt.userValue},formattedValue(Mt){const{formattedValue:Dt}=Mt.detail;xt.formattedValue=Dt,Dt!=null&&Mt.target!==document.activeElement&&(Mt.target.value=Dt),$.setValue(ht,{formattedValue:Dt})},selRange(Mt){Mt.target.setSelectionRange(...Mt.detail.selRange)},charLimit:Mt=>{var Nt;const{charLimit:Dt}=Mt.detail,{target:Ot}=Mt;if(Dt===0){Ot.removeAttribute("maxLength");return}Ot.setAttribute("maxLength",Dt);let Lt=xt.userValue;!Lt||Lt.length<=Dt||(Lt=Lt.slice(0,Dt),Ot.value=xt.userValue=Lt,$.setValue(ht,{value:Lt}),(Nt=this.linkService.eventBus)==null||Nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Lt,willCommit:!0,commitKey:1,selStart:Ot.selectionStart,selEnd:Ot.selectionEnd}}))}};this._dispatchEventFromSandbox(Rt,kt)}),vt.addEventListener("keydown",kt=>{var Dt;xt.commitKey=1;let Rt=-1;if(kt.key==="Escape"?Rt=0:kt.key==="Enter"&&!this.data.multiLine?Rt=2:kt.key==="Tab"&&(xt.commitKey=3),Rt===-1)return;const{value:Mt}=kt.target;xt.lastCommittedValue!==Mt&&(xt.lastCommittedValue=Mt,xt.userValue=Mt,(Dt=this.linkService.eventBus)==null||Dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Mt,willCommit:!0,commitKey:Rt,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}}))});const $t=Pt;Pt=null,vt.addEventListener("blur",kt=>{var Mt,Dt;if(!xt.focused||!kt.relatedTarget)return;(Mt=this.data.actions)!=null&&Mt.Blur||(xt.focused=!1);const{value:Rt}=kt.target;xt.userValue=Rt,xt.lastCommittedValue!==Rt&&((Dt=this.linkService.eventBus)==null||Dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Rt,willCommit:!0,commitKey:xt.commitKey,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}})),$t(kt)}),(_t=this.data.actions)!=null&&_t.Keystroke&&vt.addEventListener("beforeinput",kt=>{var Ft;xt.lastCommittedValue=null;const{data:Rt,target:Mt}=kt,{value:Dt,selectionStart:Ot,selectionEnd:Lt}=Mt;let Nt=Ot,Ht=Lt;switch(kt.inputType){case"deleteWordBackward":{const jt=Dt.substring(0,Ot).match(/\w*[^\w]*$/);jt&&(Nt-=jt[0].length);break}case"deleteWordForward":{const jt=Dt.substring(Ot).match(/^[^\w]*\w*/);jt&&(Ht+=jt[0].length);break}case"deleteContentBackward":Ot===Lt&&(Nt-=1);break;case"deleteContentForward":Ot===Lt&&(Ht+=1);break}kt.preventDefault(),(Ft=this.linkService.eventBus)==null||Ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Dt,change:Rt||"",willCommit:!1,selStart:Nt,selEnd:Ht}})}),this._setEventListeners(vt,xt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kt=>kt.target.value)}if(Pt&&vt.addEventListener("blur",Pt),this.data.comb){const kt=(this.data.rect[2]-this.data.rect[0])/St;vt.classList.add("comb"),vt.style.letterSpacing=`calc(${kt}px * var(--scale-factor) - 1ch)`}}else vt=document.createElement("div"),vt.textContent=this.data.fieldValue,vt.style.verticalAlign="middle",vt.style.display="table-cell",this.data.hasOwnCanvas&&(vt.hidden=!0);return this._setTextStyle(vt),this._setBackgroundColor(vt),this._setDefaultPropertiesFromJS(vt),this.container.append(vt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,ht=this.data,vt=ht.id;let bt=$.getValue(vt,{value:ht.exportValue===ht.fieldValue}).value;typeof bt=="string"&&(bt=bt!=="Off",$.setValue(vt,{value:bt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const _t=document.createElement("input");return GetElementsByNameSet.add(_t),_t.setAttribute("data-element-id",vt),_t.disabled=ht.readOnly,this._setRequired(_t,this.data.required),_t.type="checkbox",_t.name=ht.fieldName,bt&&_t.setAttribute("checked",!0),_t.setAttribute("exportValue",ht.exportValue),_t.tabIndex=DEFAULT_TAB_INDEX,_t.addEventListener("change",wt=>{const{name:At,checked:St}=wt.target;for(const Et of this._getElementsByName(At,vt)){const xt=St&&Et.exportValue===ht.exportValue;Et.domElement&&(Et.domElement.checked=xt),$.setValue(Et.id,{value:xt})}$.setValue(vt,{value:St})}),_t.addEventListener("resetform",wt=>{const At=ht.defaultFieldValue||"Off";wt.target.checked=At===ht.exportValue}),this.enableScripting&&this.hasJSActions&&(_t.addEventListener("updatefromsandbox",wt=>{const At={value(St){St.target.checked=St.detail.value!=="Off",$.setValue(vt,{value:St.target.checked})}};this._dispatchEventFromSandbox(At,wt)}),this._setEventListeners(_t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wt=>wt.target.checked)),this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,ht=this.data,vt=ht.id;let bt=$.getValue(vt,{value:ht.fieldValue===ht.buttonValue}).value;if(typeof bt=="string"&&(bt=bt!==ht.buttonValue,$.setValue(vt,{value:bt})),bt)for(const wt of this._getElementsByName(ht.fieldName,vt))$.setValue(wt.id,{value:!1});const _t=document.createElement("input");if(GetElementsByNameSet.add(_t),_t.setAttribute("data-element-id",vt),_t.disabled=ht.readOnly,this._setRequired(_t,this.data.required),_t.type="radio",_t.name=ht.fieldName,bt&&_t.setAttribute("checked",!0),_t.tabIndex=DEFAULT_TAB_INDEX,_t.addEventListener("change",wt=>{const{name:At,checked:St}=wt.target;for(const Et of this._getElementsByName(At,vt))$.setValue(Et.id,{value:!1});$.setValue(vt,{value:St})}),_t.addEventListener("resetform",wt=>{const At=ht.defaultFieldValue;wt.target.checked=At!=null&&At===ht.buttonValue}),this.enableScripting&&this.hasJSActions){const wt=ht.buttonValue;_t.addEventListener("updatefromsandbox",At=>{const St={value:Et=>{const xt=wt===Et.detail.value;for(const Pt of this._getElementsByName(Et.target.name)){const $t=xt&&Pt.id===vt;Pt.domElement&&(Pt.domElement.checked=$t),$.setValue(Pt.id,{value:$t})}}};this._dispatchEventFromSandbox(St,At)}),this._setEventListeners(_t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],At=>At.target.checked)}return this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const ht=$.lastChild;return this.enableScripting&&this.hasJSActions&&ht&&(this._setDefaultPropertiesFromJS(ht),ht.addEventListener("updatefromsandbox",vt=>{this._dispatchEventFromSandbox({},vt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,ht=this.data.id,vt=$.getValue(ht,{value:this.data.fieldValue}),bt=document.createElement("select");GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",ht),bt.disabled=this.data.readOnly,this._setRequired(bt,this.data.required),bt.name=this.data.fieldName,bt.tabIndex=DEFAULT_TAB_INDEX;let _t=this.data.combo&&this.data.options.length>0;this.data.combo||(bt.size=this.data.options.length,this.data.multiSelect&&(bt.multiple=!0)),bt.addEventListener("resetform",xt=>{const Pt=this.data.defaultFieldValue;for(const $t of bt.options)$t.selected=$t.value===Pt});for(const xt of this.data.options){const Pt=document.createElement("option");Pt.textContent=xt.displayValue,Pt.value=xt.exportValue,vt.value.includes(xt.exportValue)&&(Pt.setAttribute("selected",!0),_t=!1),bt.append(Pt)}let wt=null;if(_t){const xt=document.createElement("option");xt.value=" ",xt.setAttribute("hidden",!0),xt.setAttribute("selected",!0),bt.prepend(xt),wt=()=>{xt.remove(),bt.removeEventListener("input",wt),wt=null},bt.addEventListener("input",wt)}const At=xt=>{const Pt=xt?"value":"textContent",{options:$t,multiple:kt}=bt;return kt?Array.prototype.filter.call($t,Rt=>Rt.selected).map(Rt=>Rt[Pt]):$t.selectedIndex===-1?null:$t[$t.selectedIndex][Pt]};let St=At(!1);const Et=xt=>{const Pt=xt.target.options;return Array.prototype.map.call(Pt,$t=>({displayValue:$t.textContent,exportValue:$t.value}))};return this.enableScripting&&this.hasJSActions?(bt.addEventListener("updatefromsandbox",xt=>{const Pt={value($t){wt==null||wt();const kt=$t.detail.value,Rt=new Set(Array.isArray(kt)?kt:[kt]);for(const Mt of bt.options)Mt.selected=Rt.has(Mt.value);$.setValue(ht,{value:At(!0)}),St=At(!1)},multipleSelection($t){bt.multiple=!0},remove($t){const kt=bt.options,Rt=$t.detail.remove;kt[Rt].selected=!1,bt.remove(Rt),kt.length>0&&Array.prototype.findIndex.call(kt,Dt=>Dt.selected)===-1&&(kt[0].selected=!0),$.setValue(ht,{value:At(!0),items:Et($t)}),St=At(!1)},clear($t){for(;bt.length!==0;)bt.remove(0);$.setValue(ht,{value:null,items:[]}),St=At(!1)},insert($t){const{index:kt,displayValue:Rt,exportValue:Mt}=$t.detail.insert,Dt=bt.children[kt],Ot=document.createElement("option");Ot.textContent=Rt,Ot.value=Mt,Dt?Dt.before(Ot):bt.append(Ot),$.setValue(ht,{value:At(!0),items:Et($t)}),St=At(!1)},items($t){const{items:kt}=$t.detail;for(;bt.length!==0;)bt.remove(0);for(const Rt of kt){const{displayValue:Mt,exportValue:Dt}=Rt,Ot=document.createElement("option");Ot.textContent=Mt,Ot.value=Dt,bt.append(Ot)}bt.options.length>0&&(bt.options[0].selected=!0),$.setValue(ht,{value:At(!0),items:Et($t)}),St=At(!1)},indices($t){const kt=new Set($t.detail.indices);for(const Rt of $t.target.options)Rt.selected=kt.has(Rt.index);$.setValue(ht,{value:At(!0)}),St=At(!1)},editable($t){$t.target.disabled=!$t.detail.editable}};this._dispatchEventFromSandbox(Pt,xt)}),bt.addEventListener("input",xt=>{var kt;const Pt=At(!0),$t=At(!1);$.setValue(ht,{value:Pt}),xt.preventDefault(),(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:St,change:$t,changeEx:Pt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(bt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],xt=>xt.target.value)):bt.addEventListener("input",function(xt){$.setValue(ht,{value:At(!0)})}),this.data.combo&&this._setTextStyle(bt),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:ht,elements:vt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(ht)}),this.elements=vt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ht=[];for(const vt of this.elements)vt.popup=$,ht.push(vt.data.id),vt.addHighlightArea();return this.container.setAttribute("aria-controls",ht.map(vt=>`${AnnotationPrefix}${vt}`).join(",")),this.container}}var Dm,f_,p_,Fm,xp,Bs,ru,Pp,bv,_v,Nm,iu,Zo,su,wv,ou,Av,Tp,Cp,Ts,E0,rw,u1,d1,h1,f1,x0,P0,iw;class PopupElement{constructor({container:$,color:ht,elements:vt,titleObj:bt,modificationDate:_t,contentsObj:wt,richText:At,parent:St,rect:Et,parentRect:xt,open:Pt}){Xt(this,Ts);Xt(this,Dm,zt(this,Ts,h1).bind(this));Xt(this,f_,zt(this,Ts,iw).bind(this));Xt(this,p_,zt(this,Ts,P0).bind(this));Xt(this,Fm,zt(this,Ts,x0).bind(this));Xt(this,xp,null);Xt(this,Bs,null);Xt(this,ru,null);Xt(this,Pp,null);Xt(this,bv,null);Xt(this,_v,null);Xt(this,Nm,null);Xt(this,iu,!1);Xt(this,Zo,null);Xt(this,su,null);Xt(this,wv,null);Xt(this,ou,null);Xt(this,Av,null);Xt(this,Tp,null);Xt(this,Cp,!1);var $t;Gt(this,Bs,$),Gt(this,Av,bt),Gt(this,ru,wt),Gt(this,ou,At),Gt(this,_v,St),Gt(this,xp,ht),Gt(this,wv,Et),Gt(this,Nm,xt),Gt(this,bv,vt),Gt(this,Pp,PDFDateString.toDateObject(_t)),this.trigger=vt.flatMap(kt=>kt.getElementsToTriggerPopup());for(const kt of this.trigger)kt.addEventListener("click",Ct(this,Fm)),kt.addEventListener("mouseenter",Ct(this,p_)),kt.addEventListener("mouseleave",Ct(this,f_)),kt.classList.add("popupTriggerArea");for(const kt of vt)($t=kt.container)==null||$t.addEventListener("keydown",Ct(this,Dm));Ct(this,Bs).hidden=!0,Pt&&zt(this,Ts,x0).call(this)}render(){if(Ct(this,Zo))return;const $=Gt(this,Zo,document.createElement("div"));if($.className="popup",Ct(this,xp)){const _t=$.style.outlineColor=Util.makeHexColor(...Ct(this,xp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${_t} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(...Ct(this,xp).map(At=>Math.floor(.7*(255-At)+At)))}const ht=document.createElement("span");ht.className="header";const vt=document.createElement("h1");if(ht.append(vt),{dir:vt.dir,str:vt.textContent}=Ct(this,Av),$.append(ht),Ct(this,Pp)){const _t=document.createElement("span");_t.classList.add("popupDate"),_t.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),_t.setAttribute("data-l10n-args",JSON.stringify({date:Ct(this,Pp).toLocaleDateString(),time:Ct(this,Pp).toLocaleTimeString()})),ht.append(_t)}const bt=Ct(this,Ts,E0);if(bt)XfaLayer.render({xfaHtml:bt,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const _t=this._formatContents(Ct(this,ru));$.append(_t)}Ct(this,Bs).append($)}_formatContents({str:$,dir:ht}){const vt=document.createElement("p");vt.classList.add("popupContent"),vt.dir=ht;const bt=$.split(/(?:\r\n?|\n)/);for(let _t=0,wt=bt.length;_t<wt;++_t){const At=bt[_t];vt.append(document.createTextNode(At)),_t<wt-1&&vt.append(document.createElement("br"))}return vt}updateEdited({rect:$,popupContent:ht}){var vt;Ct(this,Tp)||Gt(this,Tp,{contentsObj:Ct(this,ru),richText:Ct(this,ou)}),$&&Gt(this,su,null),ht&&(Gt(this,ou,zt(this,Ts,d1).call(this,ht)),Gt(this,ru,null)),(vt=Ct(this,Zo))==null||vt.remove(),Gt(this,Zo,null)}resetEdited(){var $;Ct(this,Tp)&&({contentsObj:ro(this,ru)._,richText:ro(this,ou)._}=Ct(this,Tp),Gt(this,Tp,null),($=Ct(this,Zo))==null||$.remove(),Gt(this,Zo,null),Gt(this,su,null))}forceHide(){Gt(this,Cp,this.isVisible),Ct(this,Cp)&&(Ct(this,Bs).hidden=!0)}maybeShow(){Ct(this,Cp)&&(Ct(this,Zo)||zt(this,Ts,P0).call(this),Gt(this,Cp,!1),Ct(this,Bs).hidden=!1)}get isVisible(){return Ct(this,Bs).hidden===!1}}Dm=new WeakMap,f_=new WeakMap,p_=new WeakMap,Fm=new WeakMap,xp=new WeakMap,Bs=new WeakMap,ru=new WeakMap,Pp=new WeakMap,bv=new WeakMap,_v=new WeakMap,Nm=new WeakMap,iu=new WeakMap,Zo=new WeakMap,su=new WeakMap,wv=new WeakMap,ou=new WeakMap,Av=new WeakMap,Tp=new WeakMap,Cp=new WeakMap,Ts=new WeakSet,E0=function(){const $=Ct(this,ou),ht=Ct(this,ru);return $!=null&&$.str&&(!(ht!=null&&ht.str)||ht.str===$.str)&&Ct(this,ou).html||null},rw=function(){var $,ht,vt;return((vt=(ht=($=Ct(this,Ts,E0))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.fontSize)||0},u1=function(){var $,ht,vt;return((vt=(ht=($=Ct(this,Ts,E0))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.color)||null},d1=function($){const ht=[],vt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:ht}]}},bt={style:{color:Ct(this,Ts,u1),fontSize:Ct(this,Ts,rw)?`calc(${Ct(this,Ts,rw)}px * var(--scale-factor))`:""}};for(const _t of $.split(`
`))ht.push({name:"span",value:_t,attributes:bt});return vt},h1=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&Ct(this,iu))&&zt(this,Ts,x0).call(this)},f1=function(){if(Ct(this,su)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:ht,pageHeight:vt,pageX:bt,pageY:_t}}}=Ct(this,_v);let wt=!!Ct(this,Nm),At=wt?Ct(this,Nm):Ct(this,wv);for(const Rt of Ct(this,bv))if(!At||Util.intersect(Rt.data.rect,At)!==null){At=Rt.data.rect,wt=!0;break}const St=Util.normalizeRect([At[0],$[3]-At[1]+$[1],At[2],$[3]-At[3]+$[1]]),xt=wt?At[2]-At[0]+5:0,Pt=St[0]+xt,$t=St[1];Gt(this,su,[100*(Pt-bt)/ht,100*($t-_t)/vt]);const{style:kt}=Ct(this,Bs);kt.left=`${Ct(this,su)[0]}%`,kt.top=`${Ct(this,su)[1]}%`},x0=function(){Gt(this,iu,!Ct(this,iu)),Ct(this,iu)?(zt(this,Ts,P0).call(this),Ct(this,Bs).addEventListener("click",Ct(this,Fm)),Ct(this,Bs).addEventListener("keydown",Ct(this,Dm))):(zt(this,Ts,iw).call(this),Ct(this,Bs).removeEventListener("click",Ct(this,Fm)),Ct(this,Bs).removeEventListener("keydown",Ct(this,Dm)))},P0=function(){Ct(this,Zo)||this.render(),this.isVisible?Ct(this,iu)&&Ct(this,Bs).classList.add("focused"):(zt(this,Ts,f1).call(this),Ct(this,Bs).hidden=!1,Ct(this,Bs).style.zIndex=parseInt(Ct(this,Bs).style.zIndex)+1e3)},iw=function(){Ct(this,Bs).classList.remove("focused"),!(Ct(this,iu)||!this.isVisible)&&(Ct(this,Bs).hidden=!0,Ct(this,Bs).style.zIndex=parseInt(Ct(this,Bs).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const ht of this.textContent){const vt=document.createElement("span");vt.textContent=ht,$.append(vt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Sv;class LineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Xt(this,Sv,null)}render(){this.container.classList.add("lineAnnotation");const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),_t=this.svgFactory.create(vt,bt,!0),wt=Gt(this,Sv,this.svgFactory.createElement("svg:line"));return wt.setAttribute("x1",ht.rect[2]-ht.lineCoordinates[0]),wt.setAttribute("y1",ht.rect[3]-ht.lineCoordinates[1]),wt.setAttribute("x2",ht.rect[2]-ht.lineCoordinates[2]),wt.setAttribute("y2",ht.rect[3]-ht.lineCoordinates[3]),wt.setAttribute("stroke-width",ht.borderStyle.width||1),wt.setAttribute("stroke","transparent"),wt.setAttribute("fill","transparent"),_t.append(wt),this.container.append(_t),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Sv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sv=new WeakMap;var Ev;class SquareAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Xt(this,Ev,null)}render(){this.container.classList.add("squareAnnotation");const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),_t=this.svgFactory.create(vt,bt,!0),wt=ht.borderStyle.width,At=Gt(this,Ev,this.svgFactory.createElement("svg:rect"));return At.setAttribute("x",wt/2),At.setAttribute("y",wt/2),At.setAttribute("width",vt-wt),At.setAttribute("height",bt-wt),At.setAttribute("stroke-width",wt||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),_t.append(At),this.container.append(_t),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Ev)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ev=new WeakMap;var xv;class CircleAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Xt(this,xv,null)}render(){this.container.classList.add("circleAnnotation");const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),_t=this.svgFactory.create(vt,bt,!0),wt=ht.borderStyle.width,At=Gt(this,xv,this.svgFactory.createElement("svg:ellipse"));return At.setAttribute("cx",vt/2),At.setAttribute("cy",bt/2),At.setAttribute("rx",vt/2-wt/2),At.setAttribute("ry",bt/2-wt/2),At.setAttribute("stroke-width",wt||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),_t.append(At),this.container.append(_t),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,xv)}addHighlightArea(){this.container.classList.add("highlightArea")}}xv=new WeakMap;var Pv;class PolylineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Xt(this,Pv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),_t=this.svgFactory.create(vt,bt,!0);let wt=[];for(const St of ht.vertices){const Et=St.x-ht.rect[0],xt=ht.rect[3]-St.y;wt.push(Et+","+xt)}wt=wt.join(" ");const At=Gt(this,Pv,this.svgFactory.createElement(this.svgElementName));return At.setAttribute("points",wt),At.setAttribute("stroke-width",ht.borderStyle.width||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),_t.append(At),this.container.append(_t),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Pv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pv=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Tv;class InkAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Xt(this,Tv,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),_t=this.svgFactory.create(vt,bt,!0);for(const wt of ht.inkLists){let At=[];for(const Et of wt){const xt=Et.x-ht.rect[0],Pt=ht.rect[3]-Et.y;At.push(`${xt},${Pt}`)}At=At.join(" ");const St=this.svgFactory.createElement(this.svgElementName);Ct(this,Tv).push(St),St.setAttribute("points",At),St.setAttribute("stroke-width",ht.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),!ht.popupRef&&this.hasPopupData&&this._createPopup(),_t.append(St)}return this.container.append(_t),this.container}getElementsToTriggerPopup(){return Ct(this,Tv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tv=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Cv,$v,sw;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(ht){var bt;super(ht,{isRenderable:!0});Xt(this,$v);Xt(this,Cv,null);const{file:vt}=this.data;this.filename=vt.filename,this.content=vt.content,(bt=this.linkService.eventBus)==null||bt.dispatch("fileattachmentannotation",{source:this,...vt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ht,data:vt}=this;let bt;vt.hasAppearance||vt.fillAlpha===0?bt=document.createElement("div"):(bt=document.createElement("img"),bt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(vt.name)?"paperclip":"pushpin"}.svg`,vt.fillAlpha&&vt.fillAlpha<1&&(bt.style=`filter: opacity(${Math.round(vt.fillAlpha*100)}%);`)),bt.addEventListener("dblclick",zt(this,$v,sw).bind(this)),Gt(this,Cv,bt);const{isMac:_t}=util_FeatureTest.platform;return ht.addEventListener("keydown",wt=>{wt.key==="Enter"&&(_t?wt.metaKey:wt.ctrlKey)&&zt(this,$v,sw).call(this)}),!vt.popupRef&&this.hasPopupData?this._createPopup():bt.classList.add("popupTriggerArea"),ht.append(bt),ht}getElementsToTriggerPopup(){return Ct(this,Cv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cv=new WeakMap,$v=new WeakSet,sw=function(){var ht;(ht=this.downloadManager)==null||ht.openOrDownloadData(this.content,this.filename)};var kv,$p,jm,Kp,p1,ow;class AnnotationLayer{constructor({div:$,accessibilityManager:ht,annotationCanvasMap:vt,annotationEditorUIManager:bt,page:_t,viewport:wt}){Xt(this,Kp);Xt(this,kv,null);Xt(this,$p,null);Xt(this,jm,new Map);this.div=$,Gt(this,kv,ht),Gt(this,$p,vt),this.page=_t,this.viewport=wt,this.zIndex=0,this._annotationEditorUIManager=bt}async render($){var wt;const{annotations:ht}=$,vt=this.div;setLayerDimensions(vt,this.viewport);const bt=new Map,_t={data:null,layer:vt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const At of ht){if(At.noHTML)continue;const St=At.annotationType===AnnotationType.POPUP;if(St){const Pt=bt.get(At.id);if(!Pt)continue;_t.elements=Pt}else{const{width:Pt,height:$t}=getRectDims(At.rect);if(Pt<=0||$t<=0)continue}_t.data=At;const Et=AnnotationElementFactory.create(_t);if(!Et.isRenderable)continue;if(!St&&At.popupRef){const Pt=bt.get(At.popupRef);Pt?Pt.push(Et):bt.set(At.popupRef,[Et])}const xt=Et.render();At.hidden&&(xt.style.visibility="hidden"),zt(this,Kp,p1).call(this,xt,At.id),Et.annotationEditorType>0&&(Ct(this,jm).set(Et.data.id,Et),(wt=this._annotationEditorUIManager)==null||wt.renderAnnotationElement(Et))}zt(this,Kp,ow).call(this)}update({viewport:$}){const ht=this.div;this.viewport=$,setLayerDimensions(ht,{rotation:$.rotation}),zt(this,Kp,ow).call(this),ht.hidden=!1}getEditableAnnotations(){return Array.from(Ct(this,jm).values())}getEditableAnnotation($){return Ct(this,jm).get($)}}kv=new WeakMap,$p=new WeakMap,jm=new WeakMap,Kp=new WeakSet,p1=function($,ht){var bt;const vt=$.firstChild||$;vt.id=`${AnnotationPrefix}${ht}`,this.div.append($),(bt=Ct(this,kv))==null||bt.moveElementInDOM(this.div,$,vt,!1)},ow=function(){if(!Ct(this,$p))return;const $=this.div;for(const[ht,vt]of Ct(this,$p)){const bt=$.querySelector(`[data-annotation-id="${ht}"]`);if(!bt)continue;vt.className="annotationContent";const{firstChild:_t}=bt;_t?_t.nodeName==="CANVAS"?_t.replaceWith(vt):_t.classList.contains("annotationContent")?_t.after(vt):_t.before(vt):bt.append(vt)}Ct(this,$p).clear()};const EOL_PATTERN=/\r\n?|\n/g;var Rv,Ov,Mv,Iv,Lv,Qo,$o,Dv,ko,Bm,qs,m1,g1,y1,T0,mu,C0,$0,v1,aw,b1;const Os=class Os extends AnnotationEditor{constructor(ht){super({...ht,name:"freeTextEditor"});Xt(this,qs);Xt(this,Rv,this.editorDivBlur.bind(this));Xt(this,Ov,this.editorDivFocus.bind(this));Xt(this,Mv,this.editorDivInput.bind(this));Xt(this,Iv,this.editorDivKeydown.bind(this));Xt(this,Lv,this.editorDivPaste.bind(this));Xt(this,Qo);Xt(this,$o,"");Xt(this,Dv,`${this.id}-editor`);Xt(this,ko);Xt(this,Bm,null);Gt(this,Qo,ht.color||Os._defaultColor||AnnotationEditor._defaultLineColor),Gt(this,ko,ht.fontSize||Os._defaultFontSize)}static get _keyboardManager(){const ht=Os.prototype,vt=wt=>wt.isEmpty(),bt=AnnotationEditorUIManager.TRANSLATE_SMALL,_t=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ht.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ht.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ht._translateEmpty,{args:[-bt,0],checker:vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ht._translateEmpty,{args:[-_t,0],checker:vt}],[["ArrowRight","mac+ArrowRight"],ht._translateEmpty,{args:[bt,0],checker:vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ht._translateEmpty,{args:[_t,0],checker:vt}],[["ArrowUp","mac+ArrowUp"],ht._translateEmpty,{args:[0,-bt],checker:vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ht._translateEmpty,{args:[0,-_t],checker:vt}],[["ArrowDown","mac+ArrowDown"],ht._translateEmpty,{args:[0,bt],checker:vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ht._translateEmpty,{args:[0,_t],checker:vt}]]))}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt,{strings:["pdfjs-free-text-default-content"]});const bt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(bt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:Os._defaultFontSize=vt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Os._defaultColor=vt;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:zt(this,qs,m1).call(this,vt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:zt(this,qs,g1).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Os._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Os._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Ct(this,ko)],[AnnotationEditorParamsType.FREETEXT_COLOR,Ct(this,Qo)]]}_translateEmpty(ht,vt){this._uiManager.translateSelectedEditors(ht,vt,!0)}getInitialTranslation(){const ht=this.parentScale;return[-Os._internalPadding*ht,-(Os._internalPadding+Ct(this,ko))*ht]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ct(this,Iv)),this.editorDiv.addEventListener("focus",Ct(this,Ov)),this.editorDiv.addEventListener("blur",Ct(this,Rv)),this.editorDiv.addEventListener("input",Ct(this,Mv)),this.editorDiv.addEventListener("paste",Ct(this,Lv)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ct(this,Dv)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ct(this,Iv)),this.editorDiv.removeEventListener("focus",Ct(this,Ov)),this.editorDiv.removeEventListener("blur",Ct(this,Rv)),this.editorDiv.removeEventListener("input",Ct(this,Mv)),this.editorDiv.removeEventListener("paste",Ct(this,Lv)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),ht.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ht;this.width||(this.enableEditMode(),this.editorDiv.focus(),(ht=this._initialOptions)!=null&&ht.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ht=Ct(this,$o),vt=Gt(this,$o,zt(this,qs,y1).call(this).trimEnd());if(ht===vt)return;const bt=_t=>{if(Gt(this,$o,_t),!_t){this.remove();return}zt(this,qs,$0).call(this),this._uiManager.rebuild(this),zt(this,qs,T0).call(this)};this.addCommands({cmd:()=>{bt(vt)},undo:()=>{bt(ht)},mustExec:!1}),zt(this,qs,T0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ht){this.enterInEditMode()}keydown(ht){ht.target===this.div&&ht.key==="Enter"&&(this.enterInEditMode(),ht.preventDefault())}editorDivKeydown(ht){Os._keyboardManager.exec(this,ht)}editorDivFocus(ht){this.isEditing=!0}editorDivBlur(ht){this.isEditing=!1}editorDivInput(ht){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ct(this,Dv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(_t=>{var wt;return(wt=this.editorDiv)==null?void 0:wt.setAttribute("default-content",_t)}),this.editorDiv.contentEditable=!0;const{style:bt}=this.editorDiv;if(bt.fontSize=`calc(${Ct(this,ko)}px * var(--scale-factor))`,bt.color=Ct(this,Qo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[_t,wt]=this.parentDimensions;if(this.annotationElementId){const{position:At}=Ct(this,Bm);let[St,Et]=this.getInitialTranslation();[St,Et]=this.pageTranslationToScreen(St,Et);const[xt,Pt]=this.pageDimensions,[$t,kt]=this.pageTranslation;let Rt,Mt;switch(this.rotation){case 0:Rt=ht+(At[0]-$t)/xt,Mt=vt+this.height-(At[1]-kt)/Pt;break;case 90:Rt=ht+(At[0]-$t)/xt,Mt=vt-(At[1]-kt)/Pt,[St,Et]=[Et,-St];break;case 180:Rt=ht-this.width+(At[0]-$t)/xt,Mt=vt-(At[1]-kt)/Pt,[St,Et]=[-St,-Et];break;case 270:Rt=ht+(At[0]-$t-this.height*Pt)/xt,Mt=vt+(At[1]-kt-this.width*xt)/Pt,[St,Et]=[-Et,St];break}this.setAt(Rt*_t,Mt*wt,St,Et)}else this.setAt(ht*_t,vt*wt,this.width*_t,this.height*wt);zt(this,qs,$0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(ht){var Rt,Mt,Dt;const vt=ht.clipboardData||window.clipboardData,{types:bt}=vt;if(bt.length===1&&bt[0]==="text/plain")return;ht.preventDefault();const _t=zt(Rt=Os,mu,aw).call(Rt,vt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!_t)return;const wt=window.getSelection();if(!wt.rangeCount)return;this.editorDiv.normalize(),wt.deleteFromDocument();const At=wt.getRangeAt(0);if(!_t.includes(`
`)){At.insertNode(document.createTextNode(_t)),this.editorDiv.normalize(),wt.collapseToStart();return}const{startContainer:St,startOffset:Et}=At,xt=[],Pt=[];if(St.nodeType===Node.TEXT_NODE){const Ot=St.parentElement;if(Pt.push(St.nodeValue.slice(Et).replaceAll(EOL_PATTERN,"")),Ot!==this.editorDiv){let Lt=xt;for(const Nt of this.editorDiv.childNodes){if(Nt===Ot){Lt=Pt;continue}Lt.push(zt(Mt=Os,mu,C0).call(Mt,Nt))}}xt.push(St.nodeValue.slice(0,Et).replaceAll(EOL_PATTERN,""))}else if(St===this.editorDiv){let Ot=xt,Lt=0;for(const Nt of this.editorDiv.childNodes)Lt++===Et&&(Ot=Pt),Ot.push(zt(Dt=Os,mu,C0).call(Dt,Nt))}Gt(this,$o,`${xt.join(`
`)}${_t}${Pt.join(`
`)}`),zt(this,qs,$0).call(this);const $t=new Range;let kt=xt.reduce((Ot,Lt)=>Ot+Lt.length,0);for(const{firstChild:Ot}of this.editorDiv.childNodes)if(Ot.nodeType===Node.TEXT_NODE){const Lt=Ot.nodeValue.length;if(kt<=Lt){$t.setStart(Ot,kt),$t.setEnd(Ot,kt);break}kt-=Lt}wt.removeAllRanges(),wt.addRange($t)}get contentDiv(){return this.editorDiv}static deserialize(ht,vt,bt){var At;let _t=null;if(ht instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:St,fontColor:Et},rect:xt,rotation:Pt,id:$t},textContent:kt,textPosition:Rt,parent:{page:{pageNumber:Mt}}}=ht;if(!kt||kt.length===0)return null;_t=ht={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(Et),fontSize:St,value:kt.join(`
`),position:Rt,pageIndex:Mt-1,rect:xt.slice(0),rotation:Pt,id:$t,deleted:!1}}const wt=super.deserialize(ht,vt,bt);return Gt(wt,ko,ht.fontSize),Gt(wt,Qo,Util.makeHexColor(...ht.color)),Gt(wt,$o,zt(At=Os,mu,aw).call(At,ht.value)),wt.annotationElementId=ht.id||null,Gt(wt,Bm,_t),wt}serialize(ht=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const vt=Os._internalPadding*this.parentScale,bt=this.getRect(vt,vt),_t=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ct(this,Qo)),wt={annotationType:AnnotationEditorType.FREETEXT,color:_t,fontSize:Ct(this,ko),value:zt(this,qs,v1).call(this),pageIndex:this.pageIndex,rect:bt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ht?wt:this.annotationElementId&&!zt(this,qs,b1).call(this,wt)?null:(wt.id=this.annotationElementId,wt)}renderAnnotationElement(ht){const vt=super.renderAnnotationElement(ht);if(this.deleted)return vt;const{style:bt}=vt;bt.fontSize=`calc(${Ct(this,ko)}px * var(--scale-factor))`,bt.color=Ct(this,Qo),vt.replaceChildren();for(const wt of Ct(this,$o).split(`
`)){const At=document.createElement("div");At.append(wt?document.createTextNode(wt):document.createElement("br")),vt.append(At)}const _t=Os._internalPadding*this.parentScale;return ht.updateEdited({rect:this.getRect(_t,_t),popupContent:Ct(this,$o)}),vt}resetAnnotationElement(ht){super.resetAnnotationElement(ht),ht.resetEdited()}};Rv=new WeakMap,Ov=new WeakMap,Mv=new WeakMap,Iv=new WeakMap,Lv=new WeakMap,Qo=new WeakMap,$o=new WeakMap,Dv=new WeakMap,ko=new WeakMap,Bm=new WeakMap,qs=new WeakSet,m1=function(ht){const vt=_t=>{this.editorDiv.style.fontSize=`calc(${_t}px * var(--scale-factor))`,this.translate(0,-(_t-Ct(this,ko))*this.parentScale),Gt(this,ko,_t),zt(this,qs,T0).call(this)},bt=Ct(this,ko);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},g1=function(ht){const vt=_t=>{Gt(this,Qo,this.editorDiv.style.color=_t)},bt=Ct(this,Qo);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},y1=function(){var vt;const ht=[];this.editorDiv.normalize();for(const bt of this.editorDiv.childNodes)ht.push(zt(vt=Os,mu,C0).call(vt,bt));return ht.join(`
`)},T0=function(){const[ht,vt]=this.parentDimensions;let bt;if(this.isAttachedToDOM)bt=this.div.getBoundingClientRect();else{const{currentLayer:_t,div:wt}=this,At=wt.style.display,St=wt.classList.contains("hidden");wt.classList.remove("hidden"),wt.style.display="hidden",_t.div.append(this.div),bt=wt.getBoundingClientRect(),wt.remove(),wt.style.display=At,wt.classList.toggle("hidden",St)}this.rotation%180===this.parentRotation%180?(this.width=bt.width/ht,this.height=bt.height/vt):(this.width=bt.height/ht,this.height=bt.width/vt),this.fixAndSetPosition()},mu=new WeakSet,C0=function(ht){return(ht.nodeType===Node.TEXT_NODE?ht.nodeValue:ht.innerText).replaceAll(EOL_PATTERN,"")},$0=function(){if(this.editorDiv.replaceChildren(),!!Ct(this,$o))for(const ht of Ct(this,$o).split(`
`)){const vt=document.createElement("div");vt.append(ht?document.createTextNode(ht):document.createElement("br")),this.editorDiv.append(vt)}},v1=function(){return Ct(this,$o).replaceAll(" "," ")},aw=function(ht){return ht.replaceAll(" "," ")},b1=function(ht){const{value:vt,fontSize:bt,color:_t,pageIndex:wt}=Ct(this,Bm);return this._hasBeenMoved||ht.value!==vt||ht.fontSize!==bt||ht.color.some((At,St)=>At!==_t[St])||ht.pageIndex!==wt},Xt(Os,mu),Tr(Os,"_freeTextDefaultContent",""),Tr(Os,"_internalPadding",0),Tr(Os,"_defaultColor",null),Tr(Os,"_defaultFontSize",10),Tr(Os,"_type","freetext"),Tr(Os,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Os;var Fv,Lu,Jo,_o,_1,k0,w1,A1,lw;class Outliner{constructor($,ht=0,vt=0,bt=!0){Xt(this,_o);Xt(this,Fv);Xt(this,Lu,[]);Xt(this,Jo,[]);let _t=1/0,wt=-1/0,At=1/0,St=-1/0;const xt=10**-4;for(const{x:Ot,y:Lt,width:Nt,height:Ht}of $){const Ft=Math.floor((Ot-ht)/xt)*xt,jt=Math.ceil((Ot+Nt+ht)/xt)*xt,Bt=Math.floor((Lt-ht)/xt)*xt,Vt=Math.ceil((Lt+Ht+ht)/xt)*xt,Ut=[Ft,Bt,Vt,!0],Jt=[jt,Bt,Vt,!1];Ct(this,Lu).push(Ut,Jt),_t=Math.min(_t,Ft),wt=Math.max(wt,jt),At=Math.min(At,Bt),St=Math.max(St,Vt)}const Pt=wt-_t+2*vt,$t=St-At+2*vt,kt=_t-vt,Rt=At-vt,Mt=Ct(this,Lu).at(bt?-1:-2),Dt=[Mt[0],Mt[2]];for(const Ot of Ct(this,Lu)){const[Lt,Nt,Ht]=Ot;Ot[0]=(Lt-kt)/Pt,Ot[1]=(Nt-Rt)/$t,Ot[2]=(Ht-Rt)/$t}Gt(this,Fv,{x:kt,y:Rt,width:Pt,height:$t,lastPoint:Dt})}getOutlines(){Ct(this,Lu).sort((ht,vt)=>ht[0]-vt[0]||ht[1]-vt[1]||ht[2]-vt[2]);const $=[];for(const ht of Ct(this,Lu))ht[3]?($.push(...zt(this,_o,lw).call(this,ht)),zt(this,_o,w1).call(this,ht)):(zt(this,_o,A1).call(this,ht),$.push(...zt(this,_o,lw).call(this,ht)));return zt(this,_o,_1).call(this,$)}}Fv=new WeakMap,Lu=new WeakMap,Jo=new WeakMap,_o=new WeakSet,_1=function($){const ht=[],vt=new Set;for(const wt of $){const[At,St,Et]=wt;ht.push([At,St,wt],[At,Et,wt])}ht.sort((wt,At)=>wt[1]-At[1]||wt[0]-At[0]);for(let wt=0,At=ht.length;wt<At;wt+=2){const St=ht[wt][2],Et=ht[wt+1][2];St.push(Et),Et.push(St),vt.add(St),vt.add(Et)}const bt=[];let _t;for(;vt.size>0;){const wt=vt.values().next().value;let[At,St,Et,xt,Pt]=wt;vt.delete(wt);let $t=At,kt=St;for(_t=[At,Et],bt.push(_t);;){let Rt;if(vt.has(xt))Rt=xt;else if(vt.has(Pt))Rt=Pt;else break;vt.delete(Rt),[At,St,Et,xt,Pt]=Rt,$t!==At&&(_t.push($t,kt,At,kt===St?St:Et),$t=At),kt=kt===St?Et:St}_t.push($t,kt)}return new HighlightOutline(bt,Ct(this,Fv))},k0=function($){const ht=Ct(this,Jo);let vt=0,bt=ht.length-1;for(;vt<=bt;){const _t=vt+bt>>1,wt=ht[_t][0];if(wt===$)return _t;wt<$?vt=_t+1:bt=_t-1}return bt+1},w1=function([,$,ht]){const vt=zt(this,_o,k0).call(this,$);Ct(this,Jo).splice(vt,0,[$,ht])},A1=function([,$,ht]){const vt=zt(this,_o,k0).call(this,$);for(let bt=vt;bt<Ct(this,Jo).length;bt++){const[_t,wt]=Ct(this,Jo)[bt];if(_t!==$)break;if(_t===$&&wt===ht){Ct(this,Jo).splice(bt,1);return}}for(let bt=vt-1;bt>=0;bt--){const[_t,wt]=Ct(this,Jo)[bt];if(_t!==$)break;if(_t===$&&wt===ht){Ct(this,Jo).splice(bt,1);return}}},lw=function($){const[ht,vt,bt]=$,_t=[[ht,vt,bt]],wt=zt(this,_o,k0).call(this,bt);for(let At=0;At<wt;At++){const[St,Et]=Ct(this,Jo)[At];for(let xt=0,Pt=_t.length;xt<Pt;xt++){const[,$t,kt]=_t[xt];if(!(Et<=$t||kt<=St)){if($t>=St){if(kt>Et)_t[xt][1]=Et;else{if(Pt===1)return[];_t.splice(xt,1),xt--,Pt--}continue}_t[xt][2]=St,kt>Et&&_t.push([ht,Et,kt])}}}return _t};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,ht){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Nv,Hm;class HighlightOutline extends Outline{constructor(ht,vt){super();Xt(this,Nv);Xt(this,Hm);Gt(this,Hm,ht),Gt(this,Nv,vt)}toSVGPath(){const ht=[];for(const vt of Ct(this,Hm)){let[bt,_t]=vt;ht.push(`M${bt} ${_t}`);for(let wt=2;wt<vt.length;wt+=2){const At=vt[wt],St=vt[wt+1];At===bt?(ht.push(`V${St}`),_t=St):St===_t&&(ht.push(`H${At}`),bt=At)}ht.push("Z")}return ht.join(" ")}serialize([ht,vt,bt,_t],wt){const At=[],St=bt-ht,Et=_t-vt;for(const xt of Ct(this,Hm)){const Pt=new Array(xt.length);for(let $t=0;$t<xt.length;$t+=2)Pt[$t]=ht+xt[$t]*St,Pt[$t+1]=_t-xt[$t+1]*Et;At.push(Pt)}return At}get box(){return Ct(this,Nv)}}Nv=new WeakMap,Hm=new WeakMap;var Cl,au,Vm,Um,$l,hs,kp,Rp,jv,Bv,Wm,zm,Du,Hv,m_,g_,Vv,cw;const Vl=class Vl{constructor({x:$,y:ht},vt,bt,_t,wt,At=0){Xt(this,Vv);Xt(this,Cl);Xt(this,au,[]);Xt(this,Vm);Xt(this,Um);Xt(this,$l,[]);Xt(this,hs,new Float64Array(18));Xt(this,kp);Xt(this,Rp);Xt(this,jv);Xt(this,Bv);Xt(this,Wm);Xt(this,zm);Xt(this,Du,[]);Gt(this,Cl,vt),Gt(this,zm,_t*bt),Gt(this,Um,wt),Ct(this,hs).set([NaN,NaN,NaN,NaN,$,ht],6),Gt(this,Vm,At),Gt(this,Bv,Ct(Vl,Hv)*bt),Gt(this,jv,Ct(Vl,g_)*bt),Gt(this,Wm,bt),Ct(this,Du).push($,ht)}get free(){return!0}isEmpty(){return isNaN(Ct(this,hs)[8])}add({x:$,y:ht}){var Ut;Gt(this,kp,$),Gt(this,Rp,ht);const[vt,bt,_t,wt]=Ct(this,Cl);let[At,St,Et,xt]=Ct(this,hs).subarray(8,12);const Pt=$-Et,$t=ht-xt,kt=Math.hypot(Pt,$t);if(kt<Ct(this,jv))return!1;const Rt=kt-Ct(this,Bv),Mt=Rt/kt,Dt=Mt*Pt,Ot=Mt*$t;let Lt=At,Nt=St;At=Et,St=xt,Et+=Dt,xt+=Ot,(Ut=Ct(this,Du))==null||Ut.push($,ht);const Ht=-Ot/Rt,Ft=Dt/Rt,jt=Ht*Ct(this,zm),Bt=Ft*Ct(this,zm);return Ct(this,hs).set(Ct(this,hs).subarray(2,8),0),Ct(this,hs).set([Et+jt,xt+Bt],4),Ct(this,hs).set(Ct(this,hs).subarray(14,18),12),Ct(this,hs).set([Et-jt,xt-Bt],16),isNaN(Ct(this,hs)[6])?(Ct(this,$l).length===0&&(Ct(this,hs).set([At+jt,St+Bt],2),Ct(this,$l).push(NaN,NaN,NaN,NaN,(At+jt-vt)/_t,(St+Bt-bt)/wt),Ct(this,hs).set([At-jt,St-Bt],14),Ct(this,au).push(NaN,NaN,NaN,NaN,(At-jt-vt)/_t,(St-Bt-bt)/wt)),Ct(this,hs).set([Lt,Nt,At,St,Et,xt],6),!this.isEmpty()):(Ct(this,hs).set([Lt,Nt,At,St,Et,xt],6),Math.abs(Math.atan2(Nt-St,Lt-At)-Math.atan2(Ot,Dt))<Math.PI/2?([At,St,Et,xt]=Ct(this,hs).subarray(2,6),Ct(this,$l).push(NaN,NaN,NaN,NaN,((At+Et)/2-vt)/_t,((St+xt)/2-bt)/wt),[At,St,Lt,Nt]=Ct(this,hs).subarray(14,18),Ct(this,au).push(NaN,NaN,NaN,NaN,((Lt+At)/2-vt)/_t,((Nt+St)/2-bt)/wt),!0):([Lt,Nt,At,St,Et,xt]=Ct(this,hs).subarray(0,6),Ct(this,$l).push(((Lt+5*At)/6-vt)/_t,((Nt+5*St)/6-bt)/wt,((5*At+Et)/6-vt)/_t,((5*St+xt)/6-bt)/wt,((At+Et)/2-vt)/_t,((St+xt)/2-bt)/wt),[Et,xt,At,St,Lt,Nt]=Ct(this,hs).subarray(12,18),Ct(this,au).push(((Lt+5*At)/6-vt)/_t,((Nt+5*St)/6-bt)/wt,((5*At+Et)/6-vt)/_t,((5*St+xt)/6-bt)/wt,((At+Et)/2-vt)/_t,((St+xt)/2-bt)/wt),!0))}toSVGPath(){if(this.isEmpty())return"";const $=Ct(this,$l),ht=Ct(this,au),vt=Ct(this,hs).subarray(4,6),bt=Ct(this,hs).subarray(16,18),[_t,wt,At,St]=Ct(this,Cl),[Et,xt,Pt,$t]=zt(this,Vv,cw).call(this);if(isNaN(Ct(this,hs)[6])&&!this.isEmpty())return`M${(Ct(this,hs)[2]-_t)/At} ${(Ct(this,hs)[3]-wt)/St} L${(Ct(this,hs)[4]-_t)/At} ${(Ct(this,hs)[5]-wt)/St} L${Et} ${xt} L${Pt} ${$t} L${(Ct(this,hs)[16]-_t)/At} ${(Ct(this,hs)[17]-wt)/St} L${(Ct(this,hs)[14]-_t)/At} ${(Ct(this,hs)[15]-wt)/St} Z`;const kt=[];kt.push(`M${$[4]} ${$[5]}`);for(let Rt=6;Rt<$.length;Rt+=6)isNaN($[Rt])?kt.push(`L${$[Rt+4]} ${$[Rt+5]}`):kt.push(`C${$[Rt]} ${$[Rt+1]} ${$[Rt+2]} ${$[Rt+3]} ${$[Rt+4]} ${$[Rt+5]}`);kt.push(`L${(vt[0]-_t)/At} ${(vt[1]-wt)/St} L${Et} ${xt} L${Pt} ${$t} L${(bt[0]-_t)/At} ${(bt[1]-wt)/St}`);for(let Rt=ht.length-6;Rt>=6;Rt-=6)isNaN(ht[Rt])?kt.push(`L${ht[Rt+4]} ${ht[Rt+5]}`):kt.push(`C${ht[Rt]} ${ht[Rt+1]} ${ht[Rt+2]} ${ht[Rt+3]} ${ht[Rt+4]} ${ht[Rt+5]}`);return kt.push(`L${ht[4]} ${ht[5]} Z`),kt.join(" ")}getOutlines(){var Ot;const $=Ct(this,$l),ht=Ct(this,au),vt=Ct(this,hs),bt=vt.subarray(4,6),_t=vt.subarray(16,18),[wt,At,St,Et]=Ct(this,Cl),xt=new Float64Array((((Ot=Ct(this,Du))==null?void 0:Ot.length)??0)+2);for(let Lt=0,Nt=xt.length-2;Lt<Nt;Lt+=2)xt[Lt]=(Ct(this,Du)[Lt]-wt)/St,xt[Lt+1]=(Ct(this,Du)[Lt+1]-At)/Et;xt[xt.length-2]=(Ct(this,kp)-wt)/St,xt[xt.length-1]=(Ct(this,Rp)-At)/Et;const[Pt,$t,kt,Rt]=zt(this,Vv,cw).call(this);if(isNaN(vt[6])&&!this.isEmpty()){const Lt=new Float64Array(36);return Lt.set([NaN,NaN,NaN,NaN,(vt[2]-wt)/St,(vt[3]-At)/Et,NaN,NaN,NaN,NaN,(vt[4]-wt)/St,(vt[5]-At)/Et,NaN,NaN,NaN,NaN,Pt,$t,NaN,NaN,NaN,NaN,kt,Rt,NaN,NaN,NaN,NaN,(vt[16]-wt)/St,(vt[17]-At)/Et,NaN,NaN,NaN,NaN,(vt[14]-wt)/St,(vt[15]-At)/Et],0),new FreeHighlightOutline(Lt,xt,Ct(this,Cl),Ct(this,Wm),Ct(this,Vm),Ct(this,Um))}const Mt=new Float64Array(Ct(this,$l).length+24+Ct(this,au).length);let Dt=$.length;for(let Lt=0;Lt<Dt;Lt+=2){if(isNaN($[Lt])){Mt[Lt]=Mt[Lt+1]=NaN;continue}Mt[Lt]=$[Lt],Mt[Lt+1]=$[Lt+1]}Mt.set([NaN,NaN,NaN,NaN,(bt[0]-wt)/St,(bt[1]-At)/Et,NaN,NaN,NaN,NaN,Pt,$t,NaN,NaN,NaN,NaN,kt,Rt,NaN,NaN,NaN,NaN,(_t[0]-wt)/St,(_t[1]-At)/Et],Dt),Dt+=24;for(let Lt=ht.length-6;Lt>=6;Lt-=6)for(let Nt=0;Nt<6;Nt+=2){if(isNaN(ht[Lt+Nt])){Mt[Dt]=Mt[Dt+1]=NaN,Dt+=2;continue}Mt[Dt]=ht[Lt+Nt],Mt[Dt+1]=ht[Lt+Nt+1],Dt+=2}return Mt.set([NaN,NaN,NaN,NaN,ht[4],ht[5]],Dt),new FreeHighlightOutline(Mt,xt,Ct(this,Cl),Ct(this,Wm),Ct(this,Vm),Ct(this,Um))}};Cl=new WeakMap,au=new WeakMap,Vm=new WeakMap,Um=new WeakMap,$l=new WeakMap,hs=new WeakMap,kp=new WeakMap,Rp=new WeakMap,jv=new WeakMap,Bv=new WeakMap,Wm=new WeakMap,zm=new WeakMap,Du=new WeakMap,Hv=new WeakMap,m_=new WeakMap,g_=new WeakMap,Vv=new WeakSet,cw=function(){const $=Ct(this,hs).subarray(4,6),ht=Ct(this,hs).subarray(16,18),[vt,bt,_t,wt]=Ct(this,Cl);return[(Ct(this,kp)+($[0]-ht[0])/2-vt)/_t,(Ct(this,Rp)+($[1]-ht[1])/2-bt)/wt,(Ct(this,kp)+(ht[0]-$[0])/2-vt)/_t,(Ct(this,Rp)+(ht[1]-$[1])/2-bt)/wt]},Xt(Vl,Hv,8),Xt(Vl,m_,2),Xt(Vl,g_,Ct(Vl,Hv)+Ct(Vl,m_));let FreeOutliner=Vl;var qm,Op,lu,Uv,Ro,Wv,Vs,Eo,dy,hy,S1;class FreeHighlightOutline extends Outline{constructor(ht,vt,bt,_t,wt,At){super();Xt(this,Eo);Xt(this,qm);Xt(this,Op,null);Xt(this,lu);Xt(this,Uv);Xt(this,Ro);Xt(this,Wv);Xt(this,Vs);Gt(this,Vs,ht),Gt(this,Ro,vt),Gt(this,qm,bt),Gt(this,Wv,_t),Gt(this,lu,wt),Gt(this,Uv,At),zt(this,Eo,S1).call(this,At);const{x:St,y:Et,width:xt,height:Pt}=Ct(this,Op);for(let $t=0,kt=ht.length;$t<kt;$t+=2)ht[$t]=(ht[$t]-St)/xt,ht[$t+1]=(ht[$t+1]-Et)/Pt;for(let $t=0,kt=vt.length;$t<kt;$t+=2)vt[$t]=(vt[$t]-St)/xt,vt[$t+1]=(vt[$t+1]-Et)/Pt}toSVGPath(){const ht=[`M${Ct(this,Vs)[4]} ${Ct(this,Vs)[5]}`];for(let vt=6,bt=Ct(this,Vs).length;vt<bt;vt+=6){if(isNaN(Ct(this,Vs)[vt])){ht.push(`L${Ct(this,Vs)[vt+4]} ${Ct(this,Vs)[vt+5]}`);continue}ht.push(`C${Ct(this,Vs)[vt]} ${Ct(this,Vs)[vt+1]} ${Ct(this,Vs)[vt+2]} ${Ct(this,Vs)[vt+3]} ${Ct(this,Vs)[vt+4]} ${Ct(this,Vs)[vt+5]}`)}return ht.push("Z"),ht.join(" ")}serialize([ht,vt,bt,_t],wt){const At=bt-ht,St=_t-vt;let Et,xt;switch(wt){case 0:Et=zt(this,Eo,dy).call(this,Ct(this,Vs),ht,_t,At,-St),xt=zt(this,Eo,dy).call(this,Ct(this,Ro),ht,_t,At,-St);break;case 90:Et=zt(this,Eo,hy).call(this,Ct(this,Vs),ht,vt,At,St),xt=zt(this,Eo,hy).call(this,Ct(this,Ro),ht,vt,At,St);break;case 180:Et=zt(this,Eo,dy).call(this,Ct(this,Vs),bt,vt,-At,St),xt=zt(this,Eo,dy).call(this,Ct(this,Ro),bt,vt,-At,St);break;case 270:Et=zt(this,Eo,hy).call(this,Ct(this,Vs),bt,_t,-At,-St),xt=zt(this,Eo,hy).call(this,Ct(this,Ro),bt,_t,-At,-St);break}return{outline:Array.from(Et),points:[Array.from(xt)]}}get box(){return Ct(this,Op)}getNewOutline(ht,vt){const{x:bt,y:_t,width:wt,height:At}=Ct(this,Op),[St,Et,xt,Pt]=Ct(this,qm),$t=wt*xt,kt=At*Pt,Rt=bt*xt+St,Mt=_t*Pt+Et,Dt=new FreeOutliner({x:Ct(this,Ro)[0]*$t+Rt,y:Ct(this,Ro)[1]*kt+Mt},Ct(this,qm),Ct(this,Wv),ht,Ct(this,Uv),vt??Ct(this,lu));for(let Ot=2;Ot<Ct(this,Ro).length;Ot+=2)Dt.add({x:Ct(this,Ro)[Ot]*$t+Rt,y:Ct(this,Ro)[Ot+1]*kt+Mt});return Dt.getOutlines()}}qm=new WeakMap,Op=new WeakMap,lu=new WeakMap,Uv=new WeakMap,Ro=new WeakMap,Wv=new WeakMap,Vs=new WeakMap,Eo=new WeakSet,dy=function(ht,vt,bt,_t,wt){const At=new Float64Array(ht.length);for(let St=0,Et=ht.length;St<Et;St+=2)At[St]=vt+ht[St]*_t,At[St+1]=bt+ht[St+1]*wt;return At},hy=function(ht,vt,bt,_t,wt){const At=new Float64Array(ht.length);for(let St=0,Et=ht.length;St<Et;St+=2)At[St]=vt+ht[St+1]*_t,At[St+1]=bt+ht[St]*wt;return At},S1=function(ht){const vt=Ct(this,Vs);let bt=vt[4],_t=vt[5],wt=bt,At=_t,St=bt,Et=_t,xt=bt,Pt=_t;const $t=ht?Math.max:Math.min;for(let Ot=6,Lt=vt.length;Ot<Lt;Ot+=6){if(isNaN(vt[Ot]))wt=Math.min(wt,vt[Ot+4]),At=Math.min(At,vt[Ot+5]),St=Math.max(St,vt[Ot+4]),Et=Math.max(Et,vt[Ot+5]),Pt<vt[Ot+5]?(xt=vt[Ot+4],Pt=vt[Ot+5]):Pt===vt[Ot+5]&&(xt=$t(xt,vt[Ot+4]));else{const Nt=Util.bezierBoundingBox(bt,_t,...vt.slice(Ot,Ot+6));wt=Math.min(wt,Nt[0]),At=Math.min(At,Nt[1]),St=Math.max(St,Nt[2]),Et=Math.max(Et,Nt[3]),Pt<Nt[3]?(xt=Nt[2],Pt=Nt[3]):Pt===Nt[3]&&(xt=$t(xt,Nt[2]))}bt=vt[Ot+4],_t=vt[Ot+5]}const kt=wt-Ct(this,lu),Rt=At-Ct(this,lu),Mt=St-wt+2*Ct(this,lu),Dt=Et-At+2*Ct(this,lu);Gt(this,Op,{x:kt,y:Rt,width:Mt,height:Dt,lastPoint:[xt,Pt]})};var zv,qv,na,Mp,Gm,Xs,Gv,Km,Kv,Xv,Fu,Xm,Rs,uw,dw,E1,Zu,x1,Eu;const Ul=class Ul{constructor({editor:$=null,uiManager:ht=null}){Xt(this,Rs);Xt(this,zv,zt(this,Rs,E1).bind(this));Xt(this,qv,zt(this,Rs,x1).bind(this));Xt(this,na,null);Xt(this,Mp,null);Xt(this,Gm);Xt(this,Xs,null);Xt(this,Gv,!1);Xt(this,Km,!1);Xt(this,Kv,null);Xt(this,Xv);Xt(this,Fu,null);Xt(this,Xm);var vt;$?(Gt(this,Km,!1),Gt(this,Xm,AnnotationEditorParamsType.HIGHLIGHT_COLOR),Gt(this,Kv,$)):(Gt(this,Km,!0),Gt(this,Xm,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),Gt(this,Fu,($==null?void 0:$._uiManager)||ht),Gt(this,Xv,Ct(this,Fu)._eventBus),Gt(this,Gm,($==null?void 0:$.color)||((vt=Ct(this,Fu))==null?void 0:vt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Ul.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ul.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ul.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ul.prototype._moveToPrevious],[["Home","mac+Home"],Ul.prototype._moveToBeginning],[["End","mac+End"],Ul.prototype._moveToEnd]]))}renderButton(){const $=Gt(this,na,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",zt(this,Rs,Zu).bind(this)),$.addEventListener("keydown",Ct(this,zv));const ht=Gt(this,Mp,document.createElement("span"));return ht.className="swatch",ht.setAttribute("aria-hidden",!0),ht.style.backgroundColor=Ct(this,Gm),$.append(ht),$}renderMainDropdown(){const $=Gt(this,Xs,zt(this,Rs,uw).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===Ct(this,na)){zt(this,Rs,Zu).call(this,$);return}const ht=$.target.getAttribute("data-color");ht&&zt(this,Rs,dw).call(this,ht,$)}_moveToNext($){var ht,vt;if(!Ct(this,Rs,Eu)){zt(this,Rs,Zu).call(this,$);return}if($.target===Ct(this,na)){(ht=Ct(this,Xs).firstChild)==null||ht.focus();return}(vt=$.target.nextSibling)==null||vt.focus()}_moveToPrevious($){var ht,vt;if($.target===((ht=Ct(this,Xs))==null?void 0:ht.firstChild)||$.target===Ct(this,na)){Ct(this,Rs,Eu)&&this._hideDropdownFromKeyboard();return}Ct(this,Rs,Eu)||zt(this,Rs,Zu).call(this,$),(vt=$.target.previousSibling)==null||vt.focus()}_moveToBeginning($){var ht;if(!Ct(this,Rs,Eu)){zt(this,Rs,Zu).call(this,$);return}(ht=Ct(this,Xs).firstChild)==null||ht.focus()}_moveToEnd($){var ht;if(!Ct(this,Rs,Eu)){zt(this,Rs,Zu).call(this,$);return}(ht=Ct(this,Xs).lastChild)==null||ht.focus()}hideDropdown(){var $;($=Ct(this,Xs))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",Ct(this,qv))}_hideDropdownFromKeyboard(){var $;if(!Ct(this,Km)){if(!Ct(this,Rs,Eu)){($=Ct(this,Kv))==null||$.unselect();return}this.hideDropdown(),Ct(this,na).focus({preventScroll:!0,focusVisible:Ct(this,Gv)})}}updateColor($){if(Ct(this,Mp)&&(Ct(this,Mp).style.backgroundColor=$),!Ct(this,Xs))return;const ht=Ct(this,Fu).highlightColors.values();for(const vt of Ct(this,Xs).children)vt.setAttribute("aria-selected",ht.next().value===$)}destroy(){var $,ht;($=Ct(this,na))==null||$.remove(),Gt(this,na,null),Gt(this,Mp,null),(ht=Ct(this,Xs))==null||ht.remove(),Gt(this,Xs,null)}};zv=new WeakMap,qv=new WeakMap,na=new WeakMap,Mp=new WeakMap,Gm=new WeakMap,Xs=new WeakMap,Gv=new WeakMap,Km=new WeakMap,Kv=new WeakMap,Xv=new WeakMap,Fu=new WeakMap,Xm=new WeakMap,Rs=new WeakSet,uw=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[ht,vt]of Ct(this,Fu).highlightColors){const bt=document.createElement("button");bt.tabIndex="0",bt.role="option",bt.setAttribute("data-color",vt),bt.title=ht,bt.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${ht}`);const _t=document.createElement("span");bt.append(_t),_t.className="swatch",_t.style.backgroundColor=vt,bt.setAttribute("aria-selected",vt===Ct(this,Gm)),bt.addEventListener("click",zt(this,Rs,dw).bind(this,vt)),$.append(bt)}return $.addEventListener("keydown",Ct(this,zv)),$},dw=function($,ht){ht.stopPropagation(),Ct(this,Xv).dispatch("switchannotationeditorparams",{source:this,type:Ct(this,Xm),value:$})},E1=function($){Ul._keyboardManager.exec(this,$)},Zu=function($){if(Ct(this,Rs,Eu)){this.hideDropdown();return}if(Gt(this,Gv,$.detail===0),window.addEventListener("pointerdown",Ct(this,qv)),Ct(this,Xs)){Ct(this,Xs).classList.remove("hidden");return}const ht=Gt(this,Xs,zt(this,Rs,uw).call(this));Ct(this,na).append(ht)},x1=function($){var ht;(ht=Ct(this,Xs))!=null&&ht.contains($.target)||this.hideDropdown()},Eu=function(){return Ct(this,Xs)&&!Ct(this,Xs).classList.contains("hidden")};let ColorPicker=Ul;var Ym,Yv,Nu,Ip,Zm,No,Zv,Qv,Lp,ga,yo,Oo,y_,Qm,Dp,Ys,Jm,Rl,Jv,cs,hw,fw,P1,T1,C1,pw,fy,Ho,rm,$1,R0,py,k1,R1,O1,M1;const _s=class _s extends AnnotationEditor{constructor(ht){super({...ht,name:"highlightEditor"});Xt(this,cs);Xt(this,Ym,null);Xt(this,Yv,0);Xt(this,Nu);Xt(this,Ip,null);Xt(this,Zm,null);Xt(this,No,null);Xt(this,Zv,null);Xt(this,Qv,0);Xt(this,Lp,null);Xt(this,ga,null);Xt(this,yo,null);Xt(this,Oo,!1);Xt(this,y_,zt(this,cs,$1).bind(this));Xt(this,Qm,null);Xt(this,Dp);Xt(this,Ys,null);Xt(this,Jm,"");Xt(this,Rl);Xt(this,Jv,"");this.color=ht.color||_s._defaultColor,Gt(this,Rl,ht.thickness||_s._defaultThickness),Gt(this,Dp,ht.opacity||_s._defaultOpacity),Gt(this,Nu,ht.boxes||null),Gt(this,Jv,ht.methodOfCreation||""),Gt(this,Jm,ht.text||""),this._isDraggable=!1,ht.highlightId>-1?(Gt(this,Oo,!0),zt(this,cs,fw).call(this,ht),zt(this,cs,fy).call(this)):(Gt(this,Ym,ht.anchorNode),Gt(this,Yv,ht.anchorOffset),Gt(this,Zv,ht.focusNode),Gt(this,Qv,ht.focusOffset),zt(this,cs,hw).call(this),zt(this,cs,fy).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const ht=_s.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],ht._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],ht._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],ht._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],ht._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:Ct(this,Oo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:Ct(this,Rl),methodOfCreation:Ct(this,Jv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(ht){return{numberOfColors:ht.get("color").size}}static initialize(ht,vt){var bt;AnnotationEditor.initialize(ht,vt),_s._defaultColor||(_s._defaultColor=((bt=vt.highlightColors)==null?void 0:bt.values().next().value)||"#fff066")}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:_s._defaultColor=vt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:_s._defaultThickness=vt;break}}translateInPage(ht,vt){}get toolbarPosition(){return Ct(this,Qm)}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:zt(this,cs,P1).call(this,vt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:zt(this,cs,T1).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,_s._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,_s._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||_s._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Ct(this,Rl)||_s._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,Ct(this,Oo)]]}async addEditToolbar(){const ht=await super.addEditToolbar();return ht?(this._uiManager.highlightColors&&(Gt(this,Zm,new ColorPicker({editor:this})),ht.addColorPicker(Ct(this,Zm))),ht):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(zt(this,cs,py).call(this))}getBaseTranslation(){return[0,0]}getRect(ht,vt){return super.getRect(ht,vt,zt(this,cs,py).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){zt(this,cs,pw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(zt(this,cs,fy).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(ht){var bt;let vt=!1;this.parent&&!ht?zt(this,cs,pw).call(this):ht&&(zt(this,cs,fy).call(this,ht),vt=!this.parent&&((bt=this.div)==null?void 0:bt.classList.contains("selectedEditor"))),super.setParent(ht),this.show(this._isVisible),vt&&this.select()}rotate(ht){var _t,wt,At;const{drawLayer:vt}=this.parent;let bt;Ct(this,Oo)?(ht=(ht-this.rotation+360)%360,bt=zt(_t=_s,Ho,rm).call(_t,Ct(this,ga).box,ht)):bt=zt(wt=_s,Ho,rm).call(wt,this,ht),vt.rotate(Ct(this,yo),ht),vt.rotate(Ct(this,Ys),ht),vt.updateBox(Ct(this,yo),bt),vt.updateBox(Ct(this,Ys),zt(At=_s,Ho,rm).call(At,Ct(this,No).box,ht))}render(){if(this.div)return this.div;const ht=super.render();Ct(this,Jm)&&(ht.setAttribute("aria-label",Ct(this,Jm)),ht.setAttribute("role","mark")),Ct(this,Oo)?ht.classList.add("free"):this.div.addEventListener("keydown",Ct(this,y_));const vt=Gt(this,Lp,document.createElement("div"));ht.append(vt),vt.setAttribute("aria-hidden","true"),vt.className="internal",vt.style.clipPath=Ct(this,Ip);const[bt,_t]=this.parentDimensions;return this.setDims(this.width*bt,this.height*_t),bindEvents(this,Ct(this,Lp),["pointerover","pointerleave"]),this.enableEditing(),ht}pointerover(){this.parent.drawLayer.addClass(Ct(this,Ys),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(Ct(this,Ys),"hovered")}_moveCaret(ht){switch(this.parent.unselect(this),ht){case 0:case 2:zt(this,cs,R0).call(this,!0);break;case 1:case 3:zt(this,cs,R0).call(this,!1);break}}select(){var ht,vt;super.select(),Ct(this,Ys)&&((ht=this.parent)==null||ht.drawLayer.removeClass(Ct(this,Ys),"hovered"),(vt=this.parent)==null||vt.drawLayer.addClass(Ct(this,Ys),"selected"))}unselect(){var ht;super.unselect(),Ct(this,Ys)&&((ht=this.parent)==null||ht.drawLayer.removeClass(Ct(this,Ys),"selected"),Ct(this,Oo)||zt(this,cs,R0).call(this,!1))}get _mustFixPosition(){return!Ct(this,Oo)}show(ht=this._isVisible){super.show(ht),this.parent&&(this.parent.drawLayer.show(Ct(this,yo),ht),this.parent.drawLayer.show(Ct(this,Ys),ht))}static startHighlighting(ht,vt,{target:bt,x:_t,y:wt}){const{x:At,y:St,width:Et,height:xt}=bt.getBoundingClientRect(),Pt=Mt=>{zt(this,Ho,O1).call(this,ht,Mt)},$t={capture:!0,passive:!1},kt=Mt=>{Mt.preventDefault(),Mt.stopPropagation()},Rt=Mt=>{bt.removeEventListener("pointermove",Pt),window.removeEventListener("blur",Rt),window.removeEventListener("pointerup",Rt),window.removeEventListener("pointerdown",kt,$t),window.removeEventListener("contextmenu",noContextMenu),zt(this,Ho,M1).call(this,ht,Mt)};window.addEventListener("blur",Rt),window.addEventListener("pointerup",Rt),window.addEventListener("pointerdown",kt,$t),window.addEventListener("contextmenu",noContextMenu),bt.addEventListener("pointermove",Pt),this._freeHighlight=new FreeOutliner({x:_t,y:wt},[At,St,Et,xt],ht.scale,this._defaultThickness/2,vt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=ht.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(ht,vt,bt){var Mt;const _t=super.deserialize(ht,vt,bt),{rect:[wt,At,St,Et],color:xt,quadPoints:Pt}=ht;_t.color=Util.makeHexColor(...xt),Gt(_t,Dp,ht.opacity);const[$t,kt]=_t.pageDimensions;_t.width=(St-wt)/$t,_t.height=(Et-At)/kt;const Rt=Gt(_t,Nu,[]);for(let Dt=0;Dt<Pt.length;Dt+=8)Rt.push({x:(Pt[4]-St)/$t,y:(Et-(1-Pt[Dt+5]))/kt,width:(Pt[Dt+2]-Pt[Dt])/$t,height:(Pt[Dt+5]-Pt[Dt+1])/kt});return zt(Mt=_t,cs,hw).call(Mt),_t}serialize(ht=!1){if(this.isEmpty()||ht)return null;const vt=this.getRect(0,0),bt=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:bt,opacity:Ct(this,Dp),thickness:Ct(this,Rl),quadPoints:zt(this,cs,k1).call(this),outlines:zt(this,cs,R1).call(this,vt),pageIndex:this.pageIndex,rect:vt,rotation:zt(this,cs,py).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Ym=new WeakMap,Yv=new WeakMap,Nu=new WeakMap,Ip=new WeakMap,Zm=new WeakMap,No=new WeakMap,Zv=new WeakMap,Qv=new WeakMap,Lp=new WeakMap,ga=new WeakMap,yo=new WeakMap,Oo=new WeakMap,y_=new WeakMap,Qm=new WeakMap,Dp=new WeakMap,Ys=new WeakMap,Jm=new WeakMap,Rl=new WeakMap,Jv=new WeakMap,cs=new WeakSet,hw=function(){const ht=new Outliner(Ct(this,Nu),.001);Gt(this,ga,ht.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=Ct(this,ga).box;const vt=new Outliner(Ct(this,Nu),.0025,.001,this._uiManager.direction==="ltr");Gt(this,No,vt.getOutlines());const{lastPoint:bt}=Ct(this,No).box;Gt(this,Qm,[(bt[0]-this.x)/this.width,(bt[1]-this.y)/this.height])},fw=function({highlightOutlines:ht,highlightId:vt,clipPathId:bt}){var Pt,$t;if(Gt(this,ga,ht),Gt(this,No,ht.getNewOutline(Ct(this,Rl)/2+1.5,.0025)),vt>=0)Gt(this,yo,vt),Gt(this,Ip,bt),this.parent.drawLayer.finalizeLine(vt,ht),Gt(this,Ys,this.parent.drawLayer.highlightOutline(Ct(this,No)));else if(this.parent){const kt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(Ct(this,yo),ht),this.parent.drawLayer.updateBox(Ct(this,yo),zt(Pt=_s,Ho,rm).call(Pt,Ct(this,ga).box,(kt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(Ct(this,Ys),Ct(this,No)),this.parent.drawLayer.updateBox(Ct(this,Ys),zt($t=_s,Ho,rm).call($t,Ct(this,No).box,kt))}const{x:wt,y:At,width:St,height:Et}=ht.box;switch(this.rotation){case 0:this.x=wt,this.y=At,this.width=St,this.height=Et;break;case 90:{const[kt,Rt]=this.parentDimensions;this.x=At,this.y=1-wt,this.width=St*Rt/kt,this.height=Et*kt/Rt;break}case 180:this.x=1-wt,this.y=1-At,this.width=St,this.height=Et;break;case 270:{const[kt,Rt]=this.parentDimensions;this.x=1-At,this.y=wt,this.width=St*Rt/kt,this.height=Et*kt/Rt;break}}const{lastPoint:xt}=Ct(this,No).box;Gt(this,Qm,[(xt[0]-wt)/St,(xt[1]-At)/Et])},P1=function(ht){const vt=_t=>{var wt,At;this.color=_t,(wt=this.parent)==null||wt.drawLayer.changeColor(Ct(this,yo),_t),(At=Ct(this,Zm))==null||At.updateColor(_t)},bt=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(ht)},!0)},T1=function(ht){const vt=Ct(this,Rl),bt=_t=>{Gt(this,Rl,_t),zt(this,cs,C1).call(this,_t)};this.addCommands({cmd:bt.bind(this,ht),undo:bt.bind(this,vt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:ht},!0)},C1=function(ht){if(!Ct(this,Oo))return;zt(this,cs,fw).call(this,{highlightOutlines:Ct(this,ga).getNewOutline(ht/2)}),this.fixAndSetPosition();const[vt,bt]=this.parentDimensions;this.setDims(this.width*vt,this.height*bt)},pw=function(){Ct(this,yo)===null||!this.parent||(this.parent.drawLayer.remove(Ct(this,yo)),Gt(this,yo,null),this.parent.drawLayer.remove(Ct(this,Ys)),Gt(this,Ys,null))},fy=function(ht=this.parent){Ct(this,yo)===null&&({id:ro(this,yo)._,clipPathId:ro(this,Ip)._}=ht.drawLayer.highlight(Ct(this,ga),this.color,Ct(this,Dp)),Gt(this,Ys,ht.drawLayer.highlightOutline(Ct(this,No))),Ct(this,Lp)&&(Ct(this,Lp).style.clipPath=Ct(this,Ip)))},Ho=new WeakSet,rm=function({x:ht,y:vt,width:bt,height:_t},wt){switch(wt){case 90:return{x:1-vt-_t,y:ht,width:_t,height:bt};case 180:return{x:1-ht-bt,y:1-vt-_t,width:bt,height:_t};case 270:return{x:vt,y:1-ht-bt,width:_t,height:bt}}return{x:ht,y:vt,width:bt,height:_t}},$1=function(ht){_s._keyboardManager.exec(this,ht)},R0=function(ht){if(!Ct(this,Ym))return;const vt=window.getSelection();ht?vt.setPosition(Ct(this,Ym),Ct(this,Yv)):vt.setPosition(Ct(this,Zv),Ct(this,Qv))},py=function(){return Ct(this,Oo)?this.rotation:0},k1=function(){if(Ct(this,Oo))return null;const[ht,vt]=this.pageDimensions,bt=Ct(this,Nu),_t=new Array(bt.length*8);let wt=0;for(const{x:At,y:St,width:Et,height:xt}of bt){const Pt=At*ht,$t=(1-St-xt)*vt;_t[wt]=_t[wt+4]=Pt,_t[wt+1]=_t[wt+3]=$t,_t[wt+2]=_t[wt+6]=Pt+Et*ht,_t[wt+5]=_t[wt+7]=$t+xt*vt,wt+=8}return _t},R1=function(ht){return Ct(this,ga).serialize(ht,zt(this,cs,py).call(this))},O1=function(ht,vt){this._freeHighlight.add(vt)&&ht.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},M1=function(ht,vt){this._freeHighlight.isEmpty()?ht.drawLayer.removeFreeHighlight(this._freeHighlightId):ht.createAndAddNewEditor(vt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Xt(_s,Ho),Tr(_s,"_defaultColor",null),Tr(_s,"_defaultOpacity",1),Tr(_s,"_defaultThickness",12),Tr(_s,"_l10nPromise"),Tr(_s,"_type","highlight"),Tr(_s,"_editorType",AnnotationEditorType.HIGHLIGHT),Tr(_s,"_freeHighlightId",-1),Tr(_s,"_freeHighlight",null),Tr(_s,"_freeHighlightClipId","");let HighlightEditor=_s;var Fp,Np,_b,e0,n0,jp,Ol,cu,jo,Bp,Hp,Vp,Up,Wp,ju,xr,I1,L1,D1,F1,mw,N1,gw,j1,B1,H1,V1,U1,Qu,yw,O0,M0,im,bw,I0,yu,W1,_w,z1,q1,ww,L0,my;const Ns=class Ns extends AnnotationEditor{constructor(ht){super({...ht,name:"inkEditor"});Xt(this,xr);Xt(this,Fp,0);Xt(this,Np,0);Xt(this,_b,this.canvasPointermove.bind(this));Xt(this,e0,this.canvasPointerleave.bind(this));Xt(this,n0,this.canvasPointerup.bind(this));Xt(this,jp,this.canvasPointerdown.bind(this));Xt(this,Ol,null);Xt(this,cu,new Path2D);Xt(this,jo,!1);Xt(this,Bp,!1);Xt(this,Hp,!1);Xt(this,Vp,null);Xt(this,Up,0);Xt(this,Wp,0);Xt(this,ju,null);this.color=ht.color||null,this.thickness=ht.thickness||null,this.opacity=ht.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:Ns._defaultThickness=vt;break;case AnnotationEditorParamsType.INK_COLOR:Ns._defaultColor=vt;break;case AnnotationEditorParamsType.INK_OPACITY:Ns._defaultOpacity=vt/100;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:zt(this,xr,I1).call(this,vt);break;case AnnotationEditorParamsType.INK_COLOR:zt(this,xr,L1).call(this,vt);break;case AnnotationEditorParamsType.INK_OPACITY:zt(this,xr,D1).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,Ns._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,Ns._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(Ns._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ns._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||Ns._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ns._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(zt(this,xr,O0).call(this),zt(this,xr,M0).call(this)),this.isAttachedToDOM||(this.parent.add(this),zt(this,xr,im).call(this)),zt(this,xr,my).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ct(this,Ol)&&(clearTimeout(Ct(this,Ol)),Gt(this,Ol,null)),Ct(this,Vp).disconnect(),Gt(this,Vp,null),super.remove())}setParent(ht){!this.parent&&ht?this._uiManager.removeShouldRescale(this):this.parent&&ht===null&&this._uiManager.addShouldRescale(this),super.setParent(ht)}onScaleChanging(){const[ht,vt]=this.parentDimensions,bt=this.width*ht,_t=this.height*vt;this.setDimensions(bt,_t)}enableEditMode(){Ct(this,jo)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ct(this,jp)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ct(this,jp)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ct(this,jo)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Gt(this,jo,!0),this.div.classList.add("disabled"),zt(this,xr,my).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),this.enableEditMode())}canvasPointerdown(ht){ht.button!==0||!this.isInEditMode()||Ct(this,jo)||(this.setInForeground(),ht.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),zt(this,xr,N1).call(this,ht.offsetX,ht.offsetY))}canvasPointermove(ht){ht.preventDefault(),zt(this,xr,gw).call(this,ht.offsetX,ht.offsetY)}canvasPointerup(ht){ht.preventDefault(),zt(this,xr,yw).call(this,ht)}canvasPointerleave(ht){zt(this,xr,yw).call(this,ht)}get isResizable(){return!this.isEmpty()&&Ct(this,jo)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[bt,_t,wt,At]=zt(this,xr,F1).call(this);if(this.setAt(bt,_t,0,0),this.setDims(wt,At),zt(this,xr,O0).call(this),this.width){const[St,Et]=this.parentDimensions;this.setAspectRatio(this.width*St,this.height*Et),this.setAt(ht*St,vt*Et,this.width*St,this.height*Et),Gt(this,Hp,!0),zt(this,xr,im).call(this),this.setDims(this.width*St,this.height*Et),zt(this,xr,Qu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return zt(this,xr,M0).call(this),this.div}setDimensions(ht,vt){const bt=Math.round(ht),_t=Math.round(vt);if(Ct(this,Up)===bt&&Ct(this,Wp)===_t)return;Gt(this,Up,bt),Gt(this,Wp,_t),this.canvas.style.visibility="hidden";const[wt,At]=this.parentDimensions;this.width=ht/wt,this.height=vt/At,this.fixAndSetPosition(),Ct(this,jo)&&zt(this,xr,bw).call(this,ht,vt),zt(this,xr,im).call(this),zt(this,xr,Qu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(ht,vt,bt){var Dt,Ot,Lt;if(ht instanceof InkAnnotationElement)return null;const _t=super.deserialize(ht,vt,bt);_t.thickness=ht.thickness,_t.color=Util.makeHexColor(...ht.color),_t.opacity=ht.opacity;const[wt,At]=_t.pageDimensions,St=_t.width*wt,Et=_t.height*At,xt=_t.parentScale,Pt=ht.thickness/2;Gt(_t,jo,!0),Gt(_t,Up,Math.round(St)),Gt(_t,Wp,Math.round(Et));const{paths:$t,rect:kt,rotation:Rt}=ht;for(let{bezier:Nt}of $t){Nt=zt(Dt=Ns,yu,z1).call(Dt,Nt,kt,Rt);const Ht=[];_t.paths.push(Ht);let Ft=xt*(Nt[0]-Pt),jt=xt*(Nt[1]-Pt);for(let Vt=2,Ut=Nt.length;Vt<Ut;Vt+=6){const Jt=xt*(Nt[Vt]-Pt),Wt=xt*(Nt[Vt+1]-Pt),Qt=xt*(Nt[Vt+2]-Pt),tn=xt*(Nt[Vt+3]-Pt),pn=xt*(Nt[Vt+4]-Pt),nn=xt*(Nt[Vt+5]-Pt);Ht.push([[Ft,jt],[Jt,Wt],[Qt,tn],[pn,nn]]),Ft=pn,jt=nn}const Bt=zt(this,yu,W1).call(this,Ht);_t.bezierPath2D.push(Bt)}const Mt=zt(Ot=_t,xr,ww).call(Ot);return Gt(_t,Np,Math.max(AnnotationEditor.MIN_SIZE,Mt[2]-Mt[0])),Gt(_t,Fp,Math.max(AnnotationEditor.MIN_SIZE,Mt[3]-Mt[1])),zt(Lt=_t,xr,bw).call(Lt,St,Et),_t}serialize(){if(this.isEmpty())return null;const ht=this.getRect(0,0),vt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:vt,thickness:this.thickness,opacity:this.opacity,paths:zt(this,xr,q1).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ht),pageIndex:this.pageIndex,rect:ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Fp=new WeakMap,Np=new WeakMap,_b=new WeakMap,e0=new WeakMap,n0=new WeakMap,jp=new WeakMap,Ol=new WeakMap,cu=new WeakMap,jo=new WeakMap,Bp=new WeakMap,Hp=new WeakMap,Vp=new WeakMap,Up=new WeakMap,Wp=new WeakMap,ju=new WeakMap,xr=new WeakSet,I1=function(ht){const vt=_t=>{this.thickness=_t,zt(this,xr,my).call(this)},bt=this.thickness;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},L1=function(ht){const vt=_t=>{this.color=_t,zt(this,xr,Qu).call(this)},bt=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},D1=function(ht){const vt=_t=>{this.opacity=_t,zt(this,xr,Qu).call(this)};ht/=100;const bt=this.opacity;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},F1=function(){const{parentRotation:ht,parentDimensions:[vt,bt]}=this;switch(ht){case 90:return[0,bt,bt,vt];case 180:return[vt,bt,vt,bt];case 270:return[vt,0,bt,vt];default:return[0,0,vt,bt]}},mw=function(){const{ctx:ht,color:vt,opacity:bt,thickness:_t,parentScale:wt,scaleFactor:At}=this;ht.lineWidth=_t*wt/At,ht.lineCap="round",ht.lineJoin="round",ht.miterLimit=10,ht.strokeStyle=`${vt}${opacityToHex(bt)}`},N1=function(ht,vt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",Ct(this,e0)),this.canvas.addEventListener("pointermove",Ct(this,_b)),this.canvas.addEventListener("pointerup",Ct(this,n0)),this.canvas.removeEventListener("pointerdown",Ct(this,jp)),this.isEditing=!0,Ct(this,Hp)||(Gt(this,Hp,!0),zt(this,xr,im).call(this),this.thickness||(this.thickness=Ns._defaultThickness),this.color||(this.color=Ns._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ns._defaultOpacity)),this.currentPath.push([ht,vt]),Gt(this,Bp,!1),zt(this,xr,mw).call(this),Gt(this,ju,()=>{zt(this,xr,H1).call(this),Ct(this,ju)&&window.requestAnimationFrame(Ct(this,ju))}),window.requestAnimationFrame(Ct(this,ju))},gw=function(ht,vt){const[bt,_t]=this.currentPath.at(-1);if(this.currentPath.length>1&&ht===bt&&vt===_t)return;const wt=this.currentPath;let At=Ct(this,cu);if(wt.push([ht,vt]),Gt(this,Bp,!0),wt.length<=2){At.moveTo(...wt[0]),At.lineTo(ht,vt);return}wt.length===3&&(Gt(this,cu,At=new Path2D),At.moveTo(...wt[0])),zt(this,xr,V1).call(this,At,...wt.at(-3),...wt.at(-2),ht,vt)},j1=function(){if(this.currentPath.length===0)return;const ht=this.currentPath.at(-1);Ct(this,cu).lineTo(...ht)},B1=function(ht,vt){Gt(this,ju,null),ht=Math.min(Math.max(ht,0),this.canvas.width),vt=Math.min(Math.max(vt,0),this.canvas.height),zt(this,xr,gw).call(this,ht,vt),zt(this,xr,j1).call(this);let bt;if(this.currentPath.length!==1)bt=zt(this,xr,U1).call(this);else{const Et=[ht,vt];bt=[[Et,Et.slice(),Et.slice(),Et]]}const _t=Ct(this,cu),wt=this.currentPath;this.currentPath=[],Gt(this,cu,new Path2D);const At=()=>{this.allRawPaths.push(wt),this.paths.push(bt),this.bezierPath2D.push(_t),this._uiManager.rebuild(this)},St=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(zt(this,xr,O0).call(this),zt(this,xr,M0).call(this)),zt(this,xr,my).call(this))};this.addCommands({cmd:At,undo:St,mustExec:!0})},H1=function(){if(!Ct(this,Bp))return;Gt(this,Bp,!1);const ht=Math.ceil(this.thickness*this.parentScale),vt=this.currentPath.slice(-3),bt=vt.map(At=>At[0]),_t=vt.map(At=>At[1]);Math.min(...bt)-ht,Math.max(...bt)+ht,Math.min(..._t)-ht,Math.max(..._t)+ht;const{ctx:wt}=this;wt.save(),wt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const At of this.bezierPath2D)wt.stroke(At);wt.stroke(Ct(this,cu)),wt.restore()},V1=function(ht,vt,bt,_t,wt,At,St){const Et=(vt+_t)/2,xt=(bt+wt)/2,Pt=(_t+At)/2,$t=(wt+St)/2;ht.bezierCurveTo(Et+2*(_t-Et)/3,xt+2*(wt-xt)/3,Pt+2*(_t-Pt)/3,$t+2*(wt-$t)/3,Pt,$t)},U1=function(){const ht=this.currentPath;if(ht.length<=2)return[[ht[0],ht[0],ht.at(-1),ht.at(-1)]];const vt=[];let bt,[_t,wt]=ht[0];for(bt=1;bt<ht.length-2;bt++){const[kt,Rt]=ht[bt],[Mt,Dt]=ht[bt+1],Ot=(kt+Mt)/2,Lt=(Rt+Dt)/2,Nt=[_t+2*(kt-_t)/3,wt+2*(Rt-wt)/3],Ht=[Ot+2*(kt-Ot)/3,Lt+2*(Rt-Lt)/3];vt.push([[_t,wt],Nt,Ht,[Ot,Lt]]),[_t,wt]=[Ot,Lt]}const[At,St]=ht[bt],[Et,xt]=ht[bt+1],Pt=[_t+2*(At-_t)/3,wt+2*(St-wt)/3],$t=[Et+2*(At-Et)/3,xt+2*(St-xt)/3];return vt.push([[_t,wt],Pt,$t,[Et,xt]]),vt},Qu=function(){if(this.isEmpty()){zt(this,xr,I0).call(this);return}zt(this,xr,mw).call(this);const{canvas:ht,ctx:vt}=this;vt.setTransform(1,0,0,1,0,0),vt.clearRect(0,0,ht.width,ht.height),zt(this,xr,I0).call(this);for(const bt of this.bezierPath2D)vt.stroke(bt)},yw=function(ht){this.canvas.removeEventListener("pointerleave",Ct(this,e0)),this.canvas.removeEventListener("pointermove",Ct(this,_b)),this.canvas.removeEventListener("pointerup",Ct(this,n0)),this.canvas.addEventListener("pointerdown",Ct(this,jp)),Ct(this,Ol)&&clearTimeout(Ct(this,Ol)),Gt(this,Ol,setTimeout(()=>{Gt(this,Ol,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),zt(this,xr,B1).call(this,ht.offsetX,ht.offsetY),this.addToAnnotationStorage(),this.setInBackground()},O0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},M0=function(){Gt(this,Vp,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&this.setDimensions(vt.width,vt.height)})),Ct(this,Vp).observe(this.div)},im=function(){if(!Ct(this,Hp))return;const[ht,vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ht),this.canvas.height=Math.ceil(this.height*vt),zt(this,xr,I0).call(this)},bw=function(ht,vt){const bt=zt(this,xr,L0).call(this),_t=(ht-bt)/Ct(this,Np),wt=(vt-bt)/Ct(this,Fp);this.scaleFactor=Math.min(_t,wt)},I0=function(){const ht=zt(this,xr,L0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ht,this.translationY*this.scaleFactor+ht)},yu=new WeakSet,W1=function(ht){const vt=new Path2D;for(let bt=0,_t=ht.length;bt<_t;bt++){const[wt,At,St,Et]=ht[bt];bt===0&&vt.moveTo(...wt),vt.bezierCurveTo(At[0],At[1],St[0],St[1],Et[0],Et[1])}return vt},_w=function(ht,vt,bt){const[_t,wt,At,St]=vt;switch(bt){case 0:for(let Et=0,xt=ht.length;Et<xt;Et+=2)ht[Et]+=_t,ht[Et+1]=St-ht[Et+1];break;case 90:for(let Et=0,xt=ht.length;Et<xt;Et+=2){const Pt=ht[Et];ht[Et]=ht[Et+1]+_t,ht[Et+1]=Pt+wt}break;case 180:for(let Et=0,xt=ht.length;Et<xt;Et+=2)ht[Et]=At-ht[Et],ht[Et+1]+=wt;break;case 270:for(let Et=0,xt=ht.length;Et<xt;Et+=2){const Pt=ht[Et];ht[Et]=At-ht[Et+1],ht[Et+1]=St-Pt}break;default:throw new Error("Invalid rotation")}return ht},z1=function(ht,vt,bt){const[_t,wt,At,St]=vt;switch(bt){case 0:for(let Et=0,xt=ht.length;Et<xt;Et+=2)ht[Et]-=_t,ht[Et+1]=St-ht[Et+1];break;case 90:for(let Et=0,xt=ht.length;Et<xt;Et+=2){const Pt=ht[Et];ht[Et]=ht[Et+1]-wt,ht[Et+1]=Pt-_t}break;case 180:for(let Et=0,xt=ht.length;Et<xt;Et+=2)ht[Et]=At-ht[Et],ht[Et+1]-=wt;break;case 270:for(let Et=0,xt=ht.length;Et<xt;Et+=2){const Pt=ht[Et];ht[Et]=St-ht[Et+1],ht[Et+1]=At-Pt}break;default:throw new Error("Invalid rotation")}return ht},q1=function(ht,vt,bt,_t){var xt,Pt;const wt=[],At=this.thickness/2,St=ht*vt+At,Et=ht*bt+At;for(const $t of this.paths){const kt=[],Rt=[];for(let Mt=0,Dt=$t.length;Mt<Dt;Mt++){const[Ot,Lt,Nt,Ht]=$t[Mt];if(Ot[0]===Ht[0]&&Ot[1]===Ht[1]&&Dt===1){const tn=ht*Ot[0]+St,pn=ht*Ot[1]+Et;kt.push(tn,pn),Rt.push(tn,pn);break}const Ft=ht*Ot[0]+St,jt=ht*Ot[1]+Et,Bt=ht*Lt[0]+St,Vt=ht*Lt[1]+Et,Ut=ht*Nt[0]+St,Jt=ht*Nt[1]+Et,Wt=ht*Ht[0]+St,Qt=ht*Ht[1]+Et;Mt===0&&(kt.push(Ft,jt),Rt.push(Ft,jt)),kt.push(Bt,Vt,Ut,Jt,Wt,Qt),Rt.push(Bt,Vt),Mt===Dt-1&&Rt.push(Wt,Qt)}wt.push({bezier:zt(xt=Ns,yu,_w).call(xt,kt,_t,this.rotation),points:zt(Pt=Ns,yu,_w).call(Pt,Rt,_t,this.rotation)})}return wt},ww=function(){let ht=1/0,vt=-1/0,bt=1/0,_t=-1/0;for(const wt of this.paths)for(const[At,St,Et,xt]of wt){const Pt=Util.bezierBoundingBox(...At,...St,...Et,...xt);ht=Math.min(ht,Pt[0]),bt=Math.min(bt,Pt[1]),vt=Math.max(vt,Pt[2]),_t=Math.max(_t,Pt[3])}return[ht,bt,vt,_t]},L0=function(){return Ct(this,jo)?Math.ceil(this.thickness*this.parentScale):0},my=function(ht=!1){if(this.isEmpty())return;if(!Ct(this,jo)){zt(this,xr,Qu).call(this);return}const vt=zt(this,xr,ww).call(this),bt=zt(this,xr,L0).call(this);Gt(this,Np,Math.max(AnnotationEditor.MIN_SIZE,vt[2]-vt[0])),Gt(this,Fp,Math.max(AnnotationEditor.MIN_SIZE,vt[3]-vt[1]));const _t=Math.ceil(bt+Ct(this,Np)*this.scaleFactor),wt=Math.ceil(bt+Ct(this,Fp)*this.scaleFactor),[At,St]=this.parentDimensions;this.width=_t/At,this.height=wt/St,this.setAspectRatio(_t,wt);const Et=this.translationX,xt=this.translationY;this.translationX=-vt[0],this.translationY=-vt[1],zt(this,xr,im).call(this),zt(this,xr,Qu).call(this),Gt(this,Up,_t),Gt(this,Wp,wt),this.setDims(_t,wt);const Pt=ht?bt/this.scaleFactor/2:0;this.translate(Et-this.translationX-Pt,xt-this.translationY-Pt)},Xt(Ns,yu),Tr(Ns,"_defaultColor",null),Tr(Ns,"_defaultOpacity",1),Tr(Ns,"_defaultThickness",1),Tr(Ns,"_type","ink"),Tr(Ns,"_editorType",AnnotationEditorType.INK);let InkEditor=Ns;var co,uo,Bu,uu,Hu,_g,Ml,zp,Il,ba,r0,vs,gy,yy,D0,Aw,G1,K1,Sw,F0,X1;const xy=class xy extends AnnotationEditor{constructor(ht){super({...ht,name:"stampEditor"});Xt(this,vs);Xt(this,co,null);Xt(this,uo,null);Xt(this,Bu,null);Xt(this,uu,null);Xt(this,Hu,null);Xt(this,_g,"");Xt(this,Ml,null);Xt(this,zp,null);Xt(this,Il,null);Xt(this,ba,!1);Xt(this,r0,!1);Gt(this,uu,ht.bitmapUrl),Gt(this,Hu,ht.bitmapFile)}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(vt=>`image/${vt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(ht){return this.supportedTypes.includes(ht)}static paste(ht,vt){vt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:ht.getAsFile()})}remove(){var ht,vt;Ct(this,uo)&&(Gt(this,co,null),this._uiManager.imageManager.deleteId(Ct(this,uo)),(ht=Ct(this,Ml))==null||ht.remove(),Gt(this,Ml,null),(vt=Ct(this,zp))==null||vt.disconnect(),Gt(this,zp,null),Ct(this,Il)&&(clearTimeout(Ct(this,Il)),Gt(this,Il,null))),super.remove()}rebuild(){if(!this.parent){Ct(this,uo)&&zt(this,vs,D0).call(this);return}super.rebuild(),this.div!==null&&(Ct(this,uo)&&Ct(this,Ml)===null&&zt(this,vs,D0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ct(this,Bu)||Ct(this,co)||Ct(this,uu)||Ct(this,Hu)||Ct(this,uo))}get isResizable(){return!0}render(){if(this.div)return this.div;let ht,vt;if(this.width&&(ht=this.x,vt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),Ct(this,co)?zt(this,vs,Aw).call(this):zt(this,vs,D0).call(this),this.width){const[bt,_t]=this.parentDimensions;this.setAt(ht*bt,vt*_t,this.width*bt,this.height*_t)}return this.div}getImageForAltText(){return Ct(this,Ml)}static deserialize(ht,vt,bt){if(ht instanceof StampAnnotationElement)return null;const _t=super.deserialize(ht,vt,bt),{rect:wt,bitmapUrl:At,bitmapId:St,isSvg:Et,accessibilityData:xt}=ht;St&&bt.imageManager.isValidId(St)?Gt(_t,uo,St):Gt(_t,uu,At),Gt(_t,ba,Et);const[Pt,$t]=_t.pageDimensions;return _t.width=(wt[2]-wt[0])/Pt,_t.height=(wt[3]-wt[1])/$t,xt&&(_t.altTextData=xt),_t}serialize(ht=!1,vt=null){if(this.isEmpty())return null;const bt={annotationType:AnnotationEditorType.STAMP,bitmapId:Ct(this,uo),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ct(this,ba),structTreeParentId:this._structTreeParentId};if(ht)return bt.bitmapUrl=zt(this,vs,F0).call(this,!0),bt.accessibilityData=this.altTextData,bt;const{decorative:_t,altText:wt}=this.altTextData;if(!_t&&wt&&(bt.accessibilityData={type:"Figure",alt:wt}),vt===null)return bt;vt.stamps||(vt.stamps=new Map);const At=Ct(this,ba)?(bt.rect[2]-bt.rect[0])*(bt.rect[3]-bt.rect[1]):null;if(!vt.stamps.has(Ct(this,uo)))vt.stamps.set(Ct(this,uo),{area:At,serialized:bt}),bt.bitmap=zt(this,vs,F0).call(this,!1);else if(Ct(this,ba)){const St=vt.stamps.get(Ct(this,uo));At>St.area&&(St.area=At,St.serialized.bitmap.close(),St.serialized.bitmap=zt(this,vs,F0).call(this,!1))}return bt}};co=new WeakMap,uo=new WeakMap,Bu=new WeakMap,uu=new WeakMap,Hu=new WeakMap,_g=new WeakMap,Ml=new WeakMap,zp=new WeakMap,Il=new WeakMap,ba=new WeakMap,r0=new WeakMap,vs=new WeakSet,gy=function(ht,vt=!1){if(!ht){this.remove();return}Gt(this,co,ht.bitmap),vt||(Gt(this,uo,ht.id),Gt(this,ba,ht.isSvg)),ht.file&&Gt(this,_g,ht.file.name),zt(this,vs,Aw).call(this)},yy=function(){Gt(this,Bu,null),this._uiManager.enableWaiting(!1),Ct(this,Ml)&&this.div.focus()},D0=function(){if(Ct(this,uo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ct(this,uo)).then(vt=>zt(this,vs,gy).call(this,vt,!0)).finally(()=>zt(this,vs,yy).call(this));return}if(Ct(this,uu)){const vt=Ct(this,uu);Gt(this,uu,null),this._uiManager.enableWaiting(!0),Gt(this,Bu,this._uiManager.imageManager.getFromUrl(vt).then(bt=>zt(this,vs,gy).call(this,bt)).finally(()=>zt(this,vs,yy).call(this)));return}if(Ct(this,Hu)){const vt=Ct(this,Hu);Gt(this,Hu,null),this._uiManager.enableWaiting(!0),Gt(this,Bu,this._uiManager.imageManager.getFromFile(vt).then(bt=>zt(this,vs,gy).call(this,bt)).finally(()=>zt(this,vs,yy).call(this)));return}const ht=document.createElement("input");ht.type="file",ht.accept=xy.supportedTypesStr,Gt(this,Bu,new Promise(vt=>{ht.addEventListener("change",async()=>{if(!ht.files||ht.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const bt=await this._uiManager.imageManager.getFromFile(ht.files[0]);zt(this,vs,gy).call(this,bt)}vt()}),ht.addEventListener("cancel",()=>{this.remove(),vt()})}).finally(()=>zt(this,vs,yy).call(this))),ht.click()},Aw=function(){const{div:ht}=this;let{width:vt,height:bt}=Ct(this,co);const[_t,wt]=this.pageDimensions,At=.75;if(this.width)vt=this.width*_t,bt=this.height*wt;else if(vt>At*_t||bt>At*wt){const Pt=Math.min(At*_t/vt,At*wt/bt);vt*=Pt,bt*=Pt}const[St,Et]=this.parentDimensions;this.setDims(vt*St/_t,bt*Et/wt),this._uiManager.enableWaiting(!1);const xt=Gt(this,Ml,document.createElement("canvas"));ht.append(xt),ht.hidden=!1,zt(this,vs,Sw).call(this,vt,bt),zt(this,vs,X1).call(this),Ct(this,r0)||(this.parent.addUndoableEditor(this),Gt(this,r0,!0)),this._reportTelemetry({action:"inserted_image"}),Ct(this,_g)&&xt.setAttribute("aria-label",Ct(this,_g))},G1=function(ht,vt){var At;const[bt,_t]=this.parentDimensions;this.width=ht/bt,this.height=vt/_t,this.setDims(ht,vt),(At=this._initialOptions)!=null&&At.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ct(this,Il)!==null&&clearTimeout(Ct(this,Il)),Gt(this,Il,setTimeout(()=>{Gt(this,Il,null),zt(this,vs,Sw).call(this,ht,vt)},200))},K1=function(ht,vt){const{width:bt,height:_t}=Ct(this,co);let wt=bt,At=_t,St=Ct(this,co);for(;wt>2*ht||At>2*vt;){const Et=wt,xt=At;wt>2*ht&&(wt=wt>=16384?Math.floor(wt/2)-1:Math.ceil(wt/2)),At>2*vt&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2));const Pt=new OffscreenCanvas(wt,At);Pt.getContext("2d").drawImage(St,0,0,Et,xt,0,0,wt,At),St=Pt.transferToImageBitmap()}return St},Sw=function(ht,vt){ht=Math.ceil(ht),vt=Math.ceil(vt);const bt=Ct(this,Ml);if(!bt||bt.width===ht&&bt.height===vt)return;bt.width=ht,bt.height=vt;const _t=Ct(this,ba)?Ct(this,co):zt(this,vs,K1).call(this,ht,vt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const St=new OffscreenCanvas(ht,vt).getContext("2d");St.drawImage(_t,0,0,_t.width,_t.height,0,0,ht,vt),this._uiManager.mlGuess({service:"image-to-text",request:{data:St.getImageData(0,0,ht,vt).data,width:ht,height:vt,channels:4}}).then(Et=>{const xt=(Et==null?void 0:Et.output)||"";this.parent&&xt&&!this.hasAltText()&&(this.altTextData={altText:xt,decorative:!1})})}const wt=bt.getContext("2d");wt.filter=this._uiManager.hcmFilter,wt.drawImage(_t,0,0,_t.width,_t.height,0,0,ht,vt)},F0=function(ht){if(ht){if(Ct(this,ba)){const _t=this._uiManager.imageManager.getSvgUrl(Ct(this,uo));if(_t)return _t}const vt=document.createElement("canvas");return{width:vt.width,height:vt.height}=Ct(this,co),vt.getContext("2d").drawImage(Ct(this,co),0,0),vt.toDataURL()}if(Ct(this,ba)){const[vt,bt]=this.pageDimensions,_t=Math.round(this.width*vt*PixelsPerInch.PDF_TO_CSS_UNITS),wt=Math.round(this.height*bt*PixelsPerInch.PDF_TO_CSS_UNITS),At=new OffscreenCanvas(_t,wt);return At.getContext("2d").drawImage(Ct(this,co),0,0,Ct(this,co).width,Ct(this,co).height,0,0,_t,wt),At.transferToImageBitmap()}return structuredClone(Ct(this,co))},X1=function(){Gt(this,zp,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&zt(this,vs,G1).call(this,vt.width,vt.height)})),Ct(this,zp).observe(this.div)},Tr(xy,"_type","stamp"),Tr(xy,"_editorType",AnnotationEditorType.STAMP);let StampEditor=xy;var qp,ey,Ll,Gp,du,hu,fu,Mo,Vu,ty,ny,vo,Zr,Uu,ho,Y1,Ew,xw,Pw,N0;const zo=class zo{constructor({uiManager:$,pageIndex:ht,div:vt,accessibilityManager:bt,annotationLayer:_t,drawLayer:wt,textLayer:At,viewport:St,l10n:Et}){Xt(this,ho);Xt(this,qp);Xt(this,ey,!1);Xt(this,Ll,null);Xt(this,Gp,null);Xt(this,du,null);Xt(this,hu,null);Xt(this,fu,null);Xt(this,Mo,new Map);Xt(this,Vu,!1);Xt(this,ty,!1);Xt(this,ny,!1);Xt(this,vo,null);Xt(this,Zr);const xt=[...Ct(zo,Uu).values()];if(!zo._initialized){zo._initialized=!0;for(const Pt of xt)Pt.initialize(Et,$)}$.registerEditorTypes(xt),Gt(this,Zr,$),this.pageIndex=ht,this.div=vt,Gt(this,qp,bt),Gt(this,Ll,_t),this.viewport=St,Gt(this,vo,At),this.drawLayer=wt,Ct(this,Zr).addLayer(this)}get isEmpty(){return Ct(this,Mo).size===0}get isInvisible(){return this.isEmpty&&Ct(this,Zr).getMode()===AnnotationEditorType.NONE}updateToolbar($){Ct(this,Zr).updateToolbar($)}updateMode($=Ct(this,Zr).getMode()){switch(zt(this,ho,N0).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:ht}=this.div;for(const vt of Ct(zo,Uu).values())ht.toggle(`${vt._type}Editing`,$===vt._editorType);this.div.hidden=!1}hasTextLayer($){var ht;return $===((ht=Ct(this,vo))==null?void 0:ht.div)}addInkEditorIfNeeded($){if(Ct(this,Zr).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const vt of Ct(this,Mo).values())if(vt.isEmpty()){vt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){Ct(this,Zr).setEditingState($)}addCommands($){Ct(this,Zr).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var ht;(ht=Ct(this,Ll))==null||ht.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const vt of Ct(this,Mo).values())vt.enableEditing(),vt.show(!0),vt.annotationElementId&&(Ct(this,Zr).removeChangedExistingAnnotation(vt),$.add(vt.annotationElementId));if(!Ct(this,Ll))return;const ht=Ct(this,Ll).getEditableAnnotations();for(const vt of ht){if(vt.hide(),Ct(this,Zr).isDeletedAnnotationElement(vt.data.id)||$.has(vt.data.id))continue;const bt=this.deserialize(vt);bt&&(this.addOrRebuild(bt),bt.enableEditing())}}disable(){var bt;Gt(this,ny,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,ht=new Map;for(const _t of Ct(this,Mo).values())if(_t.disableEditing(),!!_t.annotationElementId){if(_t.serialize()!==null){$.set(_t.annotationElementId,_t);continue}else ht.set(_t.annotationElementId,_t);(bt=this.getEditableAnnotation(_t.annotationElementId))==null||bt.show(),_t.remove()}if(Ct(this,Ll)){const _t=Ct(this,Ll).getEditableAnnotations();for(const wt of _t){const{id:At}=wt.data;if(Ct(this,Zr).isDeletedAnnotationElement(At))continue;let St=ht.get(At);if(St){St.resetAnnotationElement(wt),St.show(!1),wt.show();continue}St=$.get(At),St&&(Ct(this,Zr).addChangedExistingAnnotation(St),St.renderAnnotationElement(wt),St.show(!1)),wt.show()}}zt(this,ho,N0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:vt}=this.div;for(const _t of Ct(zo,Uu).values())vt.remove(`${_t._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Gt(this,ny,!1)}getEditableAnnotation($){var ht;return((ht=Ct(this,Ll))==null?void 0:ht.getEditableAnnotation($))||null}setActiveEditor($){Ct(this,Zr).getActive()!==$&&Ct(this,Zr).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=Ct(this,vo))!=null&&$.div&&!Ct(this,hu)&&(Gt(this,hu,zt(this,ho,Y1).bind(this)),Ct(this,vo).div.addEventListener("pointerdown",Ct(this,hu)),Ct(this,vo).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=Ct(this,vo))!=null&&$.div&&Ct(this,hu)&&(Ct(this,vo).div.removeEventListener("pointerdown",Ct(this,hu)),Gt(this,hu,null),Ct(this,vo).div.classList.remove("highlighting"))}enableClick(){Ct(this,du)||(Gt(this,du,this.pointerdown.bind(this)),Gt(this,Gp,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",Ct(this,du)),this.div.addEventListener("pointerup",Ct(this,Gp)))}disableClick(){Ct(this,du)&&(this.div.removeEventListener("pointerdown",Ct(this,du)),this.div.removeEventListener("pointerup",Ct(this,Gp)),Gt(this,du,null),Gt(this,Gp,null))}attach($){Ct(this,Mo).set($.id,$);const{annotationElementId:ht}=$;ht&&Ct(this,Zr).isDeletedAnnotationElement(ht)&&Ct(this,Zr).removeDeletedAnnotationElement($)}detach($){var ht;Ct(this,Mo).delete($.id),(ht=Ct(this,qp))==null||ht.removePointerInTextLayer($.contentDiv),!Ct(this,ny)&&$.annotationElementId&&Ct(this,Zr).addDeletedAnnotationElement($)}remove($){this.detach($),Ct(this,Zr).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,Ct(this,ty)||this.addInkEditorIfNeeded(!1)}changeParent($){var ht;$.parent!==this&&($.parent&&$.annotationElementId&&(Ct(this,Zr).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(ht=$.parent)==null||ht.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),Ct(this,Zr).addEditor($),this.attach($),!$.isAttachedToDOM){const ht=$.render();this.div.append(ht),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),Ct(this,Zr).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var vt;if(!$.isAttachedToDOM)return;const{activeElement:ht}=document;$.div.contains(ht)&&!Ct(this,fu)&&($._focusEventsAllowed=!1,Gt(this,fu,setTimeout(()=>{Gt(this,fu,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus())},0))),$._structTreeParentId=(vt=Ct(this,qp))==null?void 0:vt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const ht=()=>$._uiManager.rebuild($),vt=()=>{$.remove()};this.addCommands({cmd:ht,undo:vt,mustExec:!1})}getNextId(){return Ct(this,Zr).getId()}canCreateNewEmptyEditor(){var $;return($=Ct(this,ho,Ew))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,ht){Ct(this,Zr).updateToolbar($),Ct(this,Zr).updateMode($);const{offsetX:vt,offsetY:bt}=zt(this,ho,Pw).call(this),_t=this.getNextId(),wt=zt(this,ho,xw).call(this,{parent:this,id:_t,x:vt,y:bt,uiManager:Ct(this,Zr),isCentered:!0,...ht});wt&&this.add(wt)}deserialize($){var ht;return((ht=Ct(zo,Uu).get($.annotationType??$.annotationEditorType))==null?void 0:ht.deserialize($,this,Ct(this,Zr)))||null}createAndAddNewEditor($,ht,vt={}){const bt=this.getNextId(),_t=zt(this,ho,xw).call(this,{parent:this,id:bt,x:$.offsetX,y:$.offsetY,uiManager:Ct(this,Zr),isCentered:ht,...vt});return _t&&this.add(_t),_t}addNewEditor(){this.createAndAddNewEditor(zt(this,ho,Pw).call(this),!0)}setSelected($){Ct(this,Zr).setSelected($)}toggleSelected($){Ct(this,Zr).toggleSelected($)}isSelected($){return Ct(this,Zr).isSelected($)}unselect($){Ct(this,Zr).unselect($)}pointerup($){const{isMac:ht}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&ht)&&$.target===this.div&&Ct(this,Vu)){if(Gt(this,Vu,!1),!Ct(this,ey)){Gt(this,ey,!0);return}if(Ct(this,Zr).getMode()===AnnotationEditorType.STAMP){Ct(this,Zr).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(Ct(this,Zr).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),Ct(this,Vu)){Gt(this,Vu,!1);return}const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht||$.target!==this.div)return;Gt(this,Vu,!0);const vt=Ct(this,Zr).getActive();Gt(this,ey,!vt||vt.isEmpty())}findNewParent($,ht,vt){const bt=Ct(this,Zr).findParent(ht,vt);return bt===null||bt===this?!1:(bt.changeParent($),!0)}destroy(){var $,ht;(($=Ct(this,Zr).getActive())==null?void 0:$.parent)===this&&(Ct(this,Zr).commitOrRemove(),Ct(this,Zr).setActiveEditor(null)),Ct(this,fu)&&(clearTimeout(Ct(this,fu)),Gt(this,fu,null));for(const vt of Ct(this,Mo).values())(ht=Ct(this,qp))==null||ht.removePointerInTextLayer(vt.contentDiv),vt.setParent(null),vt.isAttachedToDOM=!1,vt.div.remove();this.div=null,Ct(this,Mo).clear(),Ct(this,Zr).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const ht of Ct(this,Zr).getEditors(this.pageIndex))this.add(ht),ht.rebuild();this.updateMode()}update({viewport:$}){Ct(this,Zr).commitOrRemove(),zt(this,ho,N0).call(this);const ht=this.viewport.rotation,vt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:vt}),ht!==vt)for(const bt of Ct(this,Mo).values())bt.rotate(vt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:ht}=this.viewport.rawDims;return[$,ht]}get scale(){return Ct(this,Zr).viewParameters.realScale}};qp=new WeakMap,ey=new WeakMap,Ll=new WeakMap,Gp=new WeakMap,du=new WeakMap,hu=new WeakMap,fu=new WeakMap,Mo=new WeakMap,Vu=new WeakMap,ty=new WeakMap,ny=new WeakMap,vo=new WeakMap,Zr=new WeakMap,Uu=new WeakMap,ho=new WeakSet,Y1=function($){if(Ct(this,Zr).unselectAll(),$.target===Ct(this,vo).div){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht)return;Ct(this,Zr).showAllEditors("highlight",!0,!0),Ct(this,vo).div.classList.add("free"),HighlightEditor.startHighlighting(this,Ct(this,Zr).direction==="ltr",$),Ct(this,vo).div.addEventListener("pointerup",()=>{Ct(this,vo).div.classList.remove("free")},{once:!0}),$.preventDefault()}},Ew=function(){return Ct(zo,Uu).get(Ct(this,Zr).getMode())},xw=function($){const ht=Ct(this,ho,Ew);return ht?new ht.prototype.constructor($):null},Pw=function(){const{x:$,y:ht,width:vt,height:bt}=this.div.getBoundingClientRect(),_t=Math.max(0,$),wt=Math.max(0,ht),At=Math.min(window.innerWidth,$+vt),St=Math.min(window.innerHeight,ht+bt),Et=(_t+At)/2-$,xt=(wt+St)/2-ht,[Pt,$t]=this.viewport.rotation%180===0?[Et,xt]:[xt,Et];return{offsetX:Pt,offsetY:$t}},N0=function(){Gt(this,ty,!0);for(const $ of Ct(this,Mo).values())$.isEmpty()&&$.remove();Gt(this,ty,!1)},Tr(zo,"_initialized",!1),Xt(zo,Uu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=zo;var Dl,i0,Zs,Wu,s0,Tw,Xp,Cw,Z1;const io=class io{constructor({pageIndex:$}){Xt(this,Xp);Xt(this,Dl,null);Xt(this,i0,0);Xt(this,Zs,new Map);Xt(this,Wu,new Map);this.pageIndex=$}setParent($){if(!Ct(this,Dl)){Gt(this,Dl,$);return}if(Ct(this,Dl)!==$){if(Ct(this,Zs).size>0)for(const ht of Ct(this,Zs).values())ht.remove(),$.append(ht);Gt(this,Dl,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,ht,vt,bt=!1){const _t=ro(this,i0)._++,wt=zt(this,Xp,Cw).call(this,$.box);wt.classList.add("highlight"),$.free&&wt.classList.add("free");const At=io._svgFactory.createElement("defs");wt.append(At);const St=io._svgFactory.createElement("path");At.append(St);const Et=`path_p${this.pageIndex}_${_t}`;St.setAttribute("id",Et),St.setAttribute("d",$.toSVGPath()),bt&&Ct(this,Wu).set(_t,St);const xt=zt(this,Xp,Z1).call(this,At,Et),Pt=io._svgFactory.createElement("use");return wt.append(Pt),wt.setAttribute("fill",ht),wt.setAttribute("fill-opacity",vt),Pt.setAttribute("href",`#${Et}`),Ct(this,Zs).set(_t,wt),{id:_t,clipPathId:`url(#${xt})`}}highlightOutline($){const ht=ro(this,i0)._++,vt=zt(this,Xp,Cw).call(this,$.box);vt.classList.add("highlightOutline");const bt=io._svgFactory.createElement("defs");vt.append(bt);const _t=io._svgFactory.createElement("path");bt.append(_t);const wt=`path_p${this.pageIndex}_${ht}`;_t.setAttribute("id",wt),_t.setAttribute("d",$.toSVGPath()),_t.setAttribute("vector-effect","non-scaling-stroke");let At;if($.free){vt.classList.add("free");const xt=io._svgFactory.createElement("mask");bt.append(xt),At=`mask_p${this.pageIndex}_${ht}`,xt.setAttribute("id",At),xt.setAttribute("maskUnits","objectBoundingBox");const Pt=io._svgFactory.createElement("rect");xt.append(Pt),Pt.setAttribute("width","1"),Pt.setAttribute("height","1"),Pt.setAttribute("fill","white");const $t=io._svgFactory.createElement("use");xt.append($t),$t.setAttribute("href",`#${wt}`),$t.setAttribute("stroke","none"),$t.setAttribute("fill","black"),$t.setAttribute("fill-rule","nonzero"),$t.classList.add("mask")}const St=io._svgFactory.createElement("use");vt.append(St),St.setAttribute("href",`#${wt}`),At&&St.setAttribute("mask",`url(#${At})`);const Et=St.cloneNode();return vt.append(Et),St.classList.add("mainOutline"),Et.classList.add("secondaryOutline"),Ct(this,Zs).set(ht,vt),ht}finalizeLine($,ht){const vt=Ct(this,Wu).get($);Ct(this,Wu).delete($),this.updateBox($,ht.box),vt.setAttribute("d",ht.toSVGPath())}updateLine($,ht){Ct(this,Zs).get($).firstChild.firstChild.setAttribute("d",ht.toSVGPath())}removeFreeHighlight($){this.remove($),Ct(this,Wu).delete($)}updatePath($,ht){Ct(this,Wu).get($).setAttribute("d",ht.toSVGPath())}updateBox($,ht){var vt;zt(vt=io,s0,Tw).call(vt,Ct(this,Zs).get($),ht)}show($,ht){Ct(this,Zs).get($).classList.toggle("hidden",!ht)}rotate($,ht){Ct(this,Zs).get($).setAttribute("data-main-rotation",ht)}changeColor($,ht){Ct(this,Zs).get($).setAttribute("fill",ht)}changeOpacity($,ht){Ct(this,Zs).get($).setAttribute("fill-opacity",ht)}addClass($,ht){Ct(this,Zs).get($).classList.add(ht)}removeClass($,ht){Ct(this,Zs).get($).classList.remove(ht)}remove($){Ct(this,Dl)!==null&&(Ct(this,Zs).get($).remove(),Ct(this,Zs).delete($))}destroy(){Gt(this,Dl,null);for(const $ of Ct(this,Zs).values())$.remove();Ct(this,Zs).clear()}};Dl=new WeakMap,i0=new WeakMap,Zs=new WeakMap,Wu=new WeakMap,s0=new WeakSet,Tw=function($,{x:ht=0,y:vt=0,width:bt=1,height:_t=1}={}){const{style:wt}=$;wt.top=`${100*vt}%`,wt.left=`${100*ht}%`,wt.width=`${100*bt}%`,wt.height=`${100*_t}%`},Xp=new WeakSet,Cw=function($){var vt;const ht=io._svgFactory.create(1,1,!0);return Ct(this,Dl).append(ht),ht.setAttribute("aria-hidden",!0),zt(vt=io,s0,Tw).call(vt,ht,$),ht},Z1=function($,ht){const vt=io._svgFactory.createElement("clipPath");$.append(vt);const bt=`clip_${ht}`;vt.setAttribute("id",bt),vt.setAttribute("clipPathUnits","objectBoundingBox");const _t=io._svgFactory.createElement("use");return vt.append(_t),_t.setAttribute("href",`#${ht}`),_t.classList.add("clip"),bt},Xt(io,s0);let DrawLayer=io;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.CMapCompressionType;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.Outliner;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.renderTextLayer;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.updateTextLayer;__webpack_exports__.version;var prefix="Invariant failed";function invariant(_e,$){throw new Error(prefix)}function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,ht){module.exports=$.pdfjsLib=ht()})(globalThis,()=>(()=>{var __webpack_modules__=[,(_e,$)=>{var os;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=en,$.bytesToString=Nn,$.createValidAbsoluteUrl=En,$.getModificationDate=sr,$.getUuid=Pr,$.getVerbosityLevel=nn,$.info=hn,$.isArrayBuffer=In,$.isArrayEqual=cr,$.isNodeJS=void 0,$.normalizeUnicode=mr,$.objectFromMap=Xn,$.objectSize=zn,$.setVerbosityLevel=pn,$.shadow=rn,$.string32=qn,$.stringToBytes=xn,$.stringToPDFString=Gn,$.stringToUTF8String=er,$.unreachable=un,$.utf8StringToString=Zn,$.warn=sn;const ht=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=ht;const vt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=vt;const bt=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=bt;const _t=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=_t;const wt=1.35;$.LINE_FACTOR=wt;const At=.35;$.LINE_DESCENT_FACTOR=At;const St=At/wt;$.BASELINE_FACTOR=St;const Et={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=Et;const xt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=xt;const Pt="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Pt;const $t={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=$t;const kt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=kt;const Rt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Rt;const Mt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Mt;const Dt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=Dt;const Ot={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=Ot;const Lt={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=Lt;const Nt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Nt;const Ht={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=Ht;const Ft={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Ft;const jt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=jt;const Bt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Bt;const Vt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Vt;const Ut={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Ut;const Jt={NONE:0,BINARY:1};$.CMapCompressionType=Jt;const Wt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Wt;const Qt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Qt;let tn=Ut.WARNINGS;function pn(Qn){Number.isInteger(Qn)&&(tn=Qn)}function nn(){return tn}function hn(Qn){tn>=Ut.INFOS&&console.log(`Info: ${Qn}`)}function sn(Qn){tn>=Ut.WARNINGS&&console.log(`Warning: ${Qn}`)}function un(Qn){throw new Error(Qn)}function en(Qn,Dn){Qn||un(Dn)}function fn(Qn){switch(Qn==null?void 0:Qn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function En(Qn,Dn=null,jn=null){if(!Qn)return null;try{if(jn&&typeof Qn=="string"){if(jn.addDefaultProtocol&&Qn.startsWith("www.")){const vr=Qn.match(/\./g);(vr==null?void 0:vr.length)>=2&&(Qn=`http://${Qn}`)}if(jn.tryConvertEncoding)try{Qn=er(Qn)}catch{}}const pr=Dn?new URL(Qn,Dn):new URL(Qn);if(fn(pr))return pr}catch{}return null}function rn(Qn,Dn,jn,pr=!1){return Object.defineProperty(Qn,Dn,{value:jn,enumerable:!pr,configurable:!0,writable:!1}),jn}const qt=function(){function Dn(jn,pr){this.constructor===Dn&&un("Cannot initialize BaseException."),this.message=jn,this.name=pr}return Dn.prototype=new Error,Dn.constructor=Dn,Dn}();$.BaseException=qt;class Yt extends qt{constructor(Dn,jn){super(Dn,"PasswordException"),this.code=jn}}$.PasswordException=Yt;class an extends qt{constructor(Dn,jn){super(Dn,"UnknownErrorException"),this.details=jn}}$.UnknownErrorException=an;class yn extends qt{constructor(Dn){super(Dn,"InvalidPDFException")}}$.InvalidPDFException=yn;class mn extends qt{constructor(Dn){super(Dn,"MissingPDFException")}}$.MissingPDFException=mn;class vn extends qt{constructor(Dn,jn){super(Dn,"UnexpectedResponseException"),this.status=jn}}$.UnexpectedResponseException=vn;class _n extends qt{constructor(Dn){super(Dn,"FormatError")}}$.FormatError=_n;class kn extends qt{constructor(Dn){super(Dn,"AbortException")}}$.AbortException=kn;function Nn(Qn){(typeof Qn!="object"||(Qn==null?void 0:Qn.length)===void 0)&&un("Invalid argument for bytesToString");const Dn=Qn.length,jn=8192;if(Dn<jn)return String.fromCharCode.apply(null,Qn);const pr=[];for(let vr=0;vr<Dn;vr+=jn){const Or=Math.min(vr+jn,Dn),An=Qn.subarray(vr,Or);pr.push(String.fromCharCode.apply(null,An))}return pr.join("")}function xn(Qn){typeof Qn!="string"&&un("Invalid argument for stringToBytes");const Dn=Qn.length,jn=new Uint8Array(Dn);for(let pr=0;pr<Dn;++pr)jn[pr]=Qn.charCodeAt(pr)&255;return jn}function qn(Qn){return String.fromCharCode(Qn>>24&255,Qn>>16&255,Qn>>8&255,Qn&255)}function zn(Qn){return Object.keys(Qn).length}function Xn(Qn){const Dn=Object.create(null);for(const[jn,pr]of Qn)Dn[jn]=pr;return Dn}function On(){const Qn=new Uint8Array(4);return Qn[0]=1,new Uint32Array(Qn.buffer,0,1)[0]===1}function Ln(){try{return new Function(""),!0}catch{return!1}}class dn{static get isLittleEndian(){return rn(this,"isLittleEndian",On())}static get isEvalSupported(){return rn(this,"isEvalSupported",Ln())}static get isOffscreenCanvasSupported(){return rn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rn(this,"platform",{isWin:!1,isMac:!1}):rn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Dn,jn;return rn(this,"isCSSRoundSupported",(jn=(Dn=globalThis.CSS)==null?void 0:Dn.supports)==null?void 0:jn.call(Dn,"width: round(1.5px, 1px)"))}}$.FeatureTest=dn;const wn=[...Array(256).keys()].map(Qn=>Qn.toString(16).padStart(2,"0"));class Mn{static makeHexColor(Dn,jn,pr){return`#${wn[Dn]}${wn[jn]}${wn[pr]}`}static scaleMinMax(Dn,jn){let pr;Dn[0]?(Dn[0]<0&&(pr=jn[0],jn[0]=jn[1],jn[1]=pr),jn[0]*=Dn[0],jn[1]*=Dn[0],Dn[3]<0&&(pr=jn[2],jn[2]=jn[3],jn[3]=pr),jn[2]*=Dn[3],jn[3]*=Dn[3]):(pr=jn[0],jn[0]=jn[2],jn[2]=pr,pr=jn[1],jn[1]=jn[3],jn[3]=pr,Dn[1]<0&&(pr=jn[2],jn[2]=jn[3],jn[3]=pr),jn[2]*=Dn[1],jn[3]*=Dn[1],Dn[2]<0&&(pr=jn[0],jn[0]=jn[1],jn[1]=pr),jn[0]*=Dn[2],jn[1]*=Dn[2]),jn[0]+=Dn[4],jn[1]+=Dn[4],jn[2]+=Dn[5],jn[3]+=Dn[5]}static transform(Dn,jn){return[Dn[0]*jn[0]+Dn[2]*jn[1],Dn[1]*jn[0]+Dn[3]*jn[1],Dn[0]*jn[2]+Dn[2]*jn[3],Dn[1]*jn[2]+Dn[3]*jn[3],Dn[0]*jn[4]+Dn[2]*jn[5]+Dn[4],Dn[1]*jn[4]+Dn[3]*jn[5]+Dn[5]]}static applyTransform(Dn,jn){const pr=Dn[0]*jn[0]+Dn[1]*jn[2]+jn[4],vr=Dn[0]*jn[1]+Dn[1]*jn[3]+jn[5];return[pr,vr]}static applyInverseTransform(Dn,jn){const pr=jn[0]*jn[3]-jn[1]*jn[2],vr=(Dn[0]*jn[3]-Dn[1]*jn[2]+jn[2]*jn[5]-jn[4]*jn[3])/pr,Or=(-Dn[0]*jn[1]+Dn[1]*jn[0]+jn[4]*jn[1]-jn[5]*jn[0])/pr;return[vr,Or]}static getAxialAlignedBoundingBox(Dn,jn){const pr=this.applyTransform(Dn,jn),vr=this.applyTransform(Dn.slice(2,4),jn),Or=this.applyTransform([Dn[0],Dn[3]],jn),An=this.applyTransform([Dn[2],Dn[1]],jn);return[Math.min(pr[0],vr[0],Or[0],An[0]),Math.min(pr[1],vr[1],Or[1],An[1]),Math.max(pr[0],vr[0],Or[0],An[0]),Math.max(pr[1],vr[1],Or[1],An[1])]}static inverseTransform(Dn){const jn=Dn[0]*Dn[3]-Dn[1]*Dn[2];return[Dn[3]/jn,-Dn[1]/jn,-Dn[2]/jn,Dn[0]/jn,(Dn[2]*Dn[5]-Dn[4]*Dn[3])/jn,(Dn[4]*Dn[1]-Dn[5]*Dn[0])/jn]}static singularValueDecompose2dScale(Dn){const jn=[Dn[0],Dn[2],Dn[1],Dn[3]],pr=Dn[0]*jn[0]+Dn[1]*jn[2],vr=Dn[0]*jn[1]+Dn[1]*jn[3],Or=Dn[2]*jn[0]+Dn[3]*jn[2],An=Dn[2]*jn[1]+Dn[3]*jn[3],Yn=(pr+An)/2,lr=Math.sqrt((pr+An)**2-4*(pr*An-Or*vr))/2,br=Yn+lr||1,Ar=Yn-lr||1;return[Math.sqrt(br),Math.sqrt(Ar)]}static normalizeRect(Dn){const jn=Dn.slice(0);return Dn[0]>Dn[2]&&(jn[0]=Dn[2],jn[2]=Dn[0]),Dn[1]>Dn[3]&&(jn[1]=Dn[3],jn[3]=Dn[1]),jn}static intersect(Dn,jn){const pr=Math.max(Math.min(Dn[0],Dn[2]),Math.min(jn[0],jn[2])),vr=Math.min(Math.max(Dn[0],Dn[2]),Math.max(jn[0],jn[2]));if(pr>vr)return null;const Or=Math.max(Math.min(Dn[1],Dn[3]),Math.min(jn[1],jn[3])),An=Math.min(Math.max(Dn[1],Dn[3]),Math.max(jn[1],jn[3]));return Or>An?null:[pr,Or,vr,An]}static bezierBoundingBox(Dn,jn,pr,vr,Or,An,Yn,lr){const br=[],Ar=[[],[]];let fr,bn,gn,$n,Wn,Kn,Jn,ir;for(let Wr=0;Wr<2;++Wr){if(Wr===0?(bn=6*Dn-12*pr+6*Or,fr=-3*Dn+9*pr-9*Or+3*Yn,gn=3*pr-3*Dn):(bn=6*jn-12*vr+6*An,fr=-3*jn+9*vr-9*An+3*lr,gn=3*vr-3*jn),Math.abs(fr)<1e-12){if(Math.abs(bn)<1e-12)continue;$n=-gn/bn,0<$n&&$n<1&&br.push($n);continue}Jn=bn*bn-4*gn*fr,ir=Math.sqrt(Jn),!(Jn<0)&&(Wn=(-bn+ir)/(2*fr),0<Wn&&Wn<1&&br.push(Wn),Kn=(-bn-ir)/(2*fr),0<Kn&&Kn<1&&br.push(Kn))}let _r=br.length,gr;const dr=_r;for(;_r--;)$n=br[_r],gr=1-$n,Ar[0][_r]=gr*gr*gr*Dn+3*gr*gr*$n*pr+3*gr*$n*$n*Or+$n*$n*$n*Yn,Ar[1][_r]=gr*gr*gr*jn+3*gr*gr*$n*vr+3*gr*$n*$n*An+$n*$n*$n*lr;return Ar[0][dr]=Dn,Ar[1][dr]=jn,Ar[0][dr+1]=Yn,Ar[1][dr+1]=lr,Ar[0].length=Ar[1].length=dr+2,[Math.min(...Ar[0]),Math.min(...Ar[1]),Math.max(...Ar[0]),Math.max(...Ar[1])]}}$.Util=Mn;const Bn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Gn(Qn){if(Qn[0]>="ï"){let jn;if(Qn[0]==="þ"&&Qn[1]==="ÿ"?jn="utf-16be":Qn[0]==="ÿ"&&Qn[1]==="þ"?jn="utf-16le":Qn[0]==="ï"&&Qn[1]==="»"&&Qn[2]==="¿"&&(jn="utf-8"),jn)try{const pr=new TextDecoder(jn,{fatal:!0}),vr=xn(Qn);return pr.decode(vr)}catch(pr){sn(`stringToPDFString: "${pr}".`)}}const Dn=[];for(let jn=0,pr=Qn.length;jn<pr;jn++){const vr=Bn[Qn.charCodeAt(jn)];Dn.push(vr?String.fromCharCode(vr):Qn.charAt(jn))}return Dn.join("")}function er(Qn){return decodeURIComponent(escape(Qn))}function Zn(Qn){return unescape(encodeURIComponent(Qn))}function In(Qn){return typeof Qn=="object"&&(Qn==null?void 0:Qn.byteLength)!==void 0}function cr(Qn,Dn){if(Qn.length!==Dn.length)return!1;for(let jn=0,pr=Qn.length;jn<pr;jn++)if(Qn[jn]!==Dn[jn])return!1;return!0}function sr(Qn=new Date){return[Qn.getUTCFullYear().toString(),(Qn.getUTCMonth()+1).toString().padStart(2,"0"),Qn.getUTCDate().toString().padStart(2,"0"),Qn.getUTCHours().toString().padStart(2,"0"),Qn.getUTCMinutes().toString().padStart(2,"0"),Qn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Hr{constructor(){Xt(this,os,!1);this.promise=new Promise((Dn,jn)=>{this.resolve=pr=>{Gt(this,os,!0),Dn(pr)},this.reject=pr=>{Gt(this,os,!0),jn(pr)}})}get settled(){return Ct(this,os)}}os=new WeakMap,$.PromiseCapability=Hr;let Mr=null,Jr=null;function mr(Qn){return Mr||(Mr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Jr=new Map([["ﬅ","ſt"]])),Qn.replaceAll(Mr,(Dn,jn,pr)=>jn?jn.normalize("NFKC"):Jr.get(pr))}function Pr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Qn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Qn);else for(let Dn=0;Dn<32;Dn++)Qn[Dn]=Math.floor(Math.random()*255);return Nn(Qn)}const qr="pdfjs_internal_id_";$.AnnotationPrefix=qr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,ht,vt,bt,sm,j0,At,St,Et,xt,Pt,$t,kt,Rt,Mt,B0,Ot,Lt,$w,Ht,Ft;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Bt){if(typeof Bt=="string"||Bt instanceof URL?Bt={url:Bt}:(0,_util.isArrayBuffer)(Bt)&&(Bt={data:Bt}),typeof Bt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Bt.url&&!Bt.data&&!Bt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Vt=new PDFDocumentLoadingTask,{docId:Ut}=Vt,Jt=Bt.url?getUrlProp(Bt.url):null,Wt=Bt.data?getDataProp(Bt.data):null,Qt=Bt.httpHeaders||null,tn=Bt.withCredentials===!0,pn=Bt.password??null,nn=Bt.range instanceof PDFDataRangeTransport?Bt.range:null,hn=Number.isInteger(Bt.rangeChunkSize)&&Bt.rangeChunkSize>0?Bt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let sn=Bt.worker instanceof PDFWorker?Bt.worker:null;const un=Bt.verbosity,en=typeof Bt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Bt.docBaseUrl)?Bt.docBaseUrl:null,fn=typeof Bt.cMapUrl=="string"?Bt.cMapUrl:null,En=Bt.cMapPacked!==!1,rn=Bt.CMapReaderFactory||DefaultCMapReaderFactory,qt=typeof Bt.standardFontDataUrl=="string"?Bt.standardFontDataUrl:null,Yt=Bt.StandardFontDataFactory||DefaultStandardFontDataFactory,an=Bt.stopAtErrors!==!0,yn=Number.isInteger(Bt.maxImageSize)&&Bt.maxImageSize>-1?Bt.maxImageSize:-1,mn=Bt.isEvalSupported!==!1,vn=typeof Bt.isOffscreenCanvasSupported=="boolean"?Bt.isOffscreenCanvasSupported:!_util.isNodeJS,_n=Number.isInteger(Bt.canvasMaxAreaInBytes)?Bt.canvasMaxAreaInBytes:-1,kn=typeof Bt.disableFontFace=="boolean"?Bt.disableFontFace:_util.isNodeJS,Nn=Bt.fontExtraProperties===!0,xn=Bt.enableXfa===!0,qn=Bt.ownerDocument||globalThis.document,zn=Bt.disableRange===!0,Xn=Bt.disableStream===!0,On=Bt.disableAutoFetch===!0,Ln=Bt.pdfBug===!0,dn=nn?nn.length:Bt.length??NaN,wn=typeof Bt.useSystemFonts=="boolean"?Bt.useSystemFonts:!_util.isNodeJS&&!kn,Mn=typeof Bt.useWorkerFetch=="boolean"?Bt.useWorkerFetch:rn===_display_utils.DOMCMapReaderFactory&&Yt===_display_utils.DOMStandardFontDataFactory&&fn&&qt&&(0,_display_utils.isValidFetchUrl)(fn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(qt,document.baseURI),Bn=Bt.canvasFactory||new DefaultCanvasFactory({ownerDocument:qn}),Gn=Bt.filterFactory||new DefaultFilterFactory({docId:Ut,ownerDocument:qn}),er=null;(0,_util.setVerbosityLevel)(un);const Zn={canvasFactory:Bn,filterFactory:Gn};if(Mn||(Zn.cMapReaderFactory=new rn({baseUrl:fn,isCompressed:En}),Zn.standardFontDataFactory=new Yt({baseUrl:qt})),!sn){const sr={verbosity:un,port:_worker_options.GlobalWorkerOptions.workerPort};sn=sr.port?PDFWorker.fromPort(sr):new PDFWorker(sr),Vt._worker=sn}const In={docId:Ut,apiVersion:"3.11.174",data:Wt,password:pn,disableAutoFetch:On,rangeChunkSize:hn,length:dn,docBaseUrl:en,enableXfa:xn,evaluatorOptions:{maxImageSize:yn,disableFontFace:kn,ignoreErrors:an,isEvalSupported:mn,isOffscreenCanvasSupported:vn,canvasMaxAreaInBytes:_n,fontExtraProperties:Nn,useSystemFonts:wn,cMapUrl:Mn?fn:null,standardFontDataUrl:Mn?qt:null}},cr={ignoreErrors:an,isEvalSupported:mn,disableFontFace:kn,fontExtraProperties:Nn,enableXfa:xn,ownerDocument:qn,disableAutoFetch:On,pdfBug:Ln,styleElement:er};return sn.promise.then(function(){if(Vt.destroyed)throw new Error("Loading aborted");const sr=_fetchDocument(sn,In),Hr=new Promise(function(Mr){let Jr;nn?Jr=new _transport_stream.PDFDataTransportStream({length:dn,initialData:nn.initialData,progressiveDone:nn.progressiveDone,contentDispositionFilename:nn.contentDispositionFilename,disableRange:zn,disableStream:Xn},nn):Wt||(Jr=(Pr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Pr):(0,_display_utils.isValidFetchUrl)(Pr.url)?new _displayFetch_stream.PDFFetchStream(Pr):new _displayNetwork.PDFNetworkStream(Pr))({url:Jt,length:dn,httpHeaders:Qt,withCredentials:tn,rangeChunkSize:hn,disableRange:zn,disableStream:Xn})),Mr(Jr)});return Promise.all([sr,Hr]).then(function([Mr,Jr]){if(Vt.destroyed)throw new Error("Loading aborted");const mr=new _message_handler.MessageHandler(Ut,Mr,sn.port),Pr=new WorkerTransport(mr,Vt,Jr,cr,Zn);Vt._transport=Pr,mr.send("Ready",null)})}).catch(Vt._capability.reject),Vt}async function _fetchDocument(Bt,Vt){if(Bt.destroyed)throw new Error("Worker was destroyed");const Ut=await Bt.messageHandler.sendWithPromise("GetDocRequest",Vt,Vt.data?[Vt.data.buffer]:null);if(Bt.destroyed)throw new Error("Worker was destroyed");return Ut}function getUrlProp(Bt){if(Bt instanceof URL)return Bt.href;try{return new URL(Bt,window.location).href}catch{if(_util.isNodeJS&&typeof Bt=="string")return Bt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Bt){if(_util.isNodeJS&&typeof Buffer<"u"&&Bt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Bt instanceof Uint8Array&&Bt.byteLength===Bt.buffer.byteLength)return Bt;if(typeof Bt=="string")return(0,_util.stringToBytes)(Bt);if(typeof Bt=="object"&&!isNaN(Bt==null?void 0:Bt.length)||(0,_util.isArrayBuffer)(Bt))return new Uint8Array(Bt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ro($,_e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Vt,Ut,Jt;this.destroyed=!0;try{(Vt=this._worker)!=null&&Vt.port&&(this._worker._pendingDestroy=!0),await((Ut=this._transport)==null?void 0:Ut.destroy())}catch(Wt){throw(Jt=this._worker)!=null&&Jt.port&&delete this._worker._pendingDestroy,Wt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_e=new WeakMap,Xt($,_e,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Vt,Ut,Jt=!1,Wt=null){this.length=Vt,this.initialData=Ut,this.progressiveDone=Jt,this.contentDispositionFilename=Wt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Vt){this._rangeListeners.push(Vt)}addProgressListener(Vt){this._progressListeners.push(Vt)}addProgressiveReadListener(Vt){this._progressiveReadListeners.push(Vt)}addProgressiveDoneListener(Vt){this._progressiveDoneListeners.push(Vt)}onDataRange(Vt,Ut){for(const Jt of this._rangeListeners)Jt(Vt,Ut)}onDataProgress(Vt,Ut){this._readyCapability.promise.then(()=>{for(const Jt of this._progressListeners)Jt(Vt,Ut)})}onDataProgressiveRead(Vt){this._readyCapability.promise.then(()=>{for(const Ut of this._progressiveReadListeners)Ut(Vt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Vt of this._progressiveDoneListeners)Vt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Vt,Ut){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Vt,Ut){this._pdfInfo=Vt,this._transport=Ut,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Jt=>{if(!Jt)return Jt;const Wt=[];for(const Qt in Jt)Wt.push(...Jt[Qt]);return Wt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Vt){return this._transport.getPage(Vt)}getPageIndex(Vt){return this._transport.getPageIndex(Vt)}getDestinations(){return this._transport.getDestinations()}getDestination(Vt){return this._transport.getDestination(Vt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Vt=!1){return this._transport.startCleanup(Vt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Vt,Ut,Jt,Wt=!1){Xt(this,bt);Xt(this,ht,null);Xt(this,vt,!1);this._pageIndex=Vt,this._pageInfo=Ut,this._transport=Jt,this._stats=Wt?new _display_utils.StatTimer:null,this._pdfBug=Wt,this.commonObjs=Jt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Vt,rotation:Ut=this.rotate,offsetX:Jt=0,offsetY:Wt=0,dontFlip:Qt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Vt,rotation:Ut,offsetX:Jt,offsetY:Wt,dontFlip:Qt})}getAnnotations({intent:Vt="display"}={}){const Ut=this._transport.getRenderingIntent(Vt);return this._transport.getAnnotations(this._pageIndex,Ut.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Vt;return((Vt=this._transport._htmlForXfa)==null?void 0:Vt.children[this._pageIndex])||null}render({canvasContext:Vt,viewport:Ut,intent:Jt="display",annotationMode:Wt=_util.AnnotationMode.ENABLE,transform:Qt=null,background:tn=null,optionalContentConfigPromise:pn=null,annotationCanvasMap:nn=null,pageColors:hn=null,printAnnotationStorage:sn=null}){var Yt,an;(Yt=this._stats)==null||Yt.time("Overall");const un=this._transport.getRenderingIntent(Jt,Wt,sn);Gt(this,vt,!1),zt(this,bt,j0).call(this),pn||(pn=this._transport.getOptionalContentConfig());let en=this._intentStates.get(un.cacheKey);en||(en=Object.create(null),this._intentStates.set(un.cacheKey,en)),en.streamReaderCancelTimeout&&(clearTimeout(en.streamReaderCancelTimeout),en.streamReaderCancelTimeout=null);const fn=!!(un.renderingIntent&_util.RenderingIntentFlag.PRINT);en.displayReadyCapability||(en.displayReadyCapability=new _util.PromiseCapability,en.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(an=this._stats)==null||an.time("Page Request"),this._pumpOperatorList(un));const En=yn=>{var mn,vn;en.renderTasks.delete(rn),(this._maybeCleanupAfterRender||fn)&&Gt(this,vt,!0),zt(this,bt,sm).call(this,!fn),yn?(rn.capability.reject(yn),this._abortOperatorList({intentState:en,reason:yn instanceof Error?yn:new Error(yn)})):rn.capability.resolve(),(mn=this._stats)==null||mn.timeEnd("Rendering"),(vn=this._stats)==null||vn.timeEnd("Overall")},rn=new InternalRenderTask({callback:En,params:{canvasContext:Vt,viewport:Ut,transform:Qt,background:tn},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:nn,operatorList:en.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!fn,pdfBug:this._pdfBug,pageColors:hn});(en.renderTasks||(en.renderTasks=new Set)).add(rn);const qt=rn.task;return Promise.all([en.displayReadyCapability.promise,pn]).then(([yn,mn])=>{var vn;if(this.destroyed){En();return}(vn=this._stats)==null||vn.time("Rendering"),rn.initializeGraphics({transparency:yn,optionalContentConfig:mn}),rn.operatorListChanged()}).catch(En),qt}getOperatorList({intent:Vt="display",annotationMode:Ut=_util.AnnotationMode.ENABLE,printAnnotationStorage:Jt=null}={}){var nn;function Wt(){tn.operatorList.lastChunk&&(tn.opListReadCapability.resolve(tn.operatorList),tn.renderTasks.delete(pn))}const Qt=this._transport.getRenderingIntent(Vt,Ut,Jt,!0);let tn=this._intentStates.get(Qt.cacheKey);tn||(tn=Object.create(null),this._intentStates.set(Qt.cacheKey,tn));let pn;return tn.opListReadCapability||(pn=Object.create(null),pn.operatorListChanged=Wt,tn.opListReadCapability=new _util.PromiseCapability,(tn.renderTasks||(tn.renderTasks=new Set)).add(pn),tn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(nn=this._stats)==null||nn.time("Page Request"),this._pumpOperatorList(Qt)),tn.opListReadCapability.promise}streamTextContent({includeMarkedContent:Vt=!1,disableNormalization:Ut=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Vt===!0,disableNormalization:Ut===!0},{highWaterMark:100,size(Wt){return Wt.items.length}})}getTextContent(Vt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Jt=>_xfa_text.XfaText.textContent(Jt));const Ut=this.streamTextContent(Vt);return new Promise(function(Jt,Wt){function Qt(){tn.read().then(function({value:nn,done:hn}){if(hn){Jt(pn);return}Object.assign(pn.styles,nn.styles),pn.items.push(...nn.items),Qt()},Wt)}const tn=Ut.getReader(),pn={items:[],styles:Object.create(null)};Qt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Vt=[];for(const Ut of this._intentStates.values())if(this._abortOperatorList({intentState:Ut,reason:new Error("Page was destroyed."),force:!0}),!Ut.opListReadCapability)for(const Jt of Ut.renderTasks)Vt.push(Jt.completed),Jt.cancel();return this.objs.clear(),Gt(this,vt,!1),zt(this,bt,j0).call(this),Promise.all(Vt)}cleanup(Vt=!1){Gt(this,vt,!0);const Ut=zt(this,bt,sm).call(this,!1);return Vt&&Ut&&this._stats&&(this._stats=new _display_utils.StatTimer),Ut}_startRenderPage(Vt,Ut){var Wt,Qt;const Jt=this._intentStates.get(Ut);Jt&&((Wt=this._stats)==null||Wt.timeEnd("Page Request"),(Qt=Jt.displayReadyCapability)==null||Qt.resolve(Vt))}_renderPageChunk(Vt,Ut){for(let Jt=0,Wt=Vt.length;Jt<Wt;Jt++)Ut.operatorList.fnArray.push(Vt.fnArray[Jt]),Ut.operatorList.argsArray.push(Vt.argsArray[Jt]);Ut.operatorList.lastChunk=Vt.lastChunk,Ut.operatorList.separateAnnots=Vt.separateAnnots;for(const Jt of Ut.renderTasks)Jt.operatorListChanged();Vt.lastChunk&&zt(this,bt,sm).call(this,!0)}_pumpOperatorList({renderingIntent:Vt,cacheKey:Ut,annotationStorageSerializable:Jt}){const{map:Wt,transfers:Qt}=Jt,pn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Vt,cacheKey:Ut,annotationStorage:Wt},Qt).getReader(),nn=this._intentStates.get(Ut);nn.streamReader=pn;const hn=()=>{pn.read().then(({value:sn,done:un})=>{if(un){nn.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(sn,nn),hn())},sn=>{if(nn.streamReader=null,!this._transport.destroyed){if(nn.operatorList){nn.operatorList.lastChunk=!0;for(const un of nn.renderTasks)un.operatorListChanged();zt(this,bt,sm).call(this,!0)}if(nn.displayReadyCapability)nn.displayReadyCapability.reject(sn);else if(nn.opListReadCapability)nn.opListReadCapability.reject(sn);else throw sn}})};hn()}_abortOperatorList({intentState:Vt,reason:Ut,force:Jt=!1}){if(Vt.streamReader){if(Vt.streamReaderCancelTimeout&&(clearTimeout(Vt.streamReaderCancelTimeout),Vt.streamReaderCancelTimeout=null),!Jt){if(Vt.renderTasks.size>0)return;if(Ut instanceof _display_utils.RenderingCancelledException){let Wt=RENDERING_CANCELLED_TIMEOUT;Ut.extraDelay>0&&Ut.extraDelay<1e3&&(Wt+=Ut.extraDelay),Vt.streamReaderCancelTimeout=setTimeout(()=>{Vt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Vt,reason:Ut,force:!0})},Wt);return}}if(Vt.streamReader.cancel(new _util.AbortException(Ut.message)).catch(()=>{}),Vt.streamReader=null,!this._transport.destroyed){for(const[Wt,Qt]of this._intentStates)if(Qt===Vt){this._intentStates.delete(Wt);break}this.cleanup()}}}get stats(){return this._stats}}ht=new WeakMap,vt=new WeakMap,bt=new WeakSet,sm=function(Vt=!1){if(zt(this,bt,j0).call(this),!Ct(this,vt)||this.destroyed)return!1;if(Vt)return Gt(this,ht,setTimeout(()=>{Gt(this,ht,null),zt(this,bt,sm).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Ut,operatorList:Jt}of this._intentStates.values())if(Ut.size>0||!Jt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Gt(this,vt,!1),!0},j0=function(){Ct(this,ht)&&(clearTimeout(Ct(this,ht)),Gt(this,ht,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Xt(this,At,new Set);Xt(this,St,Promise.resolve())}postMessage(Vt,Ut){const Jt={data:structuredClone(Vt,Ut?{transfer:Ut}:null)};Ct(this,St).then(()=>{for(const Wt of Ct(this,At))Wt.call(this,Jt)})}addEventListener(Vt,Ut){Ct(this,At).add(Ut)}removeEventListener(Vt,Ut){Ct(this,At).delete(Ut)}terminate(){Ct(this,At).clear()}}At=new WeakMap,St=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Bt=(Et=document==null?void 0:document.currentScript)==null?void 0:Et.src;Bt&&(PDFWorkerUtil.fallbackWorkerSrc=Bt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Bt,Vt){let Ut;try{if(Ut=new URL(Bt),!Ut.origin||Ut.origin==="null")return!1}catch{return!1}const Jt=new URL(Vt,Ut);return Ut.origin===Jt.origin},PDFWorkerUtil.createCDNWrapper=function(Bt){const Vt=`importScripts("${Bt}");`;return URL.createObjectURL(new Blob([Vt]))}}const _PDFWorker=class _PDFWorker{constructor({name:Bt=null,port:Vt=null,verbosity:Ut=(0,_util.getVerbosityLevel)()}={}){var Jt;if(this.name=Bt,this.destroyed=!1,this.verbosity=Ut,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Vt){if((Jt=Ct(_PDFWorker,xt))!=null&&Jt.has(Vt))throw new Error("Cannot use more than one PDFWorker per port.");(Ct(_PDFWorker,xt)||Gt(_PDFWorker,xt,new WeakMap)).set(Vt,this),this._initializeFromPort(Vt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Bt){this._port=Bt,this._messageHandler=new _message_handler.MessageHandler("main","worker",Bt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Bt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Bt)||(Bt=PDFWorkerUtil.createCDNWrapper(new URL(Bt,window.location).href));const Vt=new Worker(Bt),Ut=new _message_handler.MessageHandler("main","worker",Vt),Jt=()=>{Vt.removeEventListener("error",Wt),Ut.destroy(),Vt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Wt=()=>{this._webWorker||Jt()};Vt.addEventListener("error",Wt),Ut.on("test",tn=>{if(Vt.removeEventListener("error",Wt),this.destroyed){Jt();return}tn?(this._messageHandler=Ut,this._port=Vt,this._webWorker=Vt,this._readyCapability.resolve(),Ut.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Ut.destroy(),Vt.terminate())}),Ut.on("ready",tn=>{if(Vt.removeEventListener("error",Wt),this.destroyed){Jt();return}try{Qt()}catch{this._setupFakeWorker()}});const Qt=()=>{const tn=new Uint8Array;Ut.send("test",tn,[tn.buffer])};Qt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Bt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Vt=new LoopbackPort;this._port=Vt;const Ut=`fake${PDFWorkerUtil.fakeWorkerId++}`,Jt=new _message_handler.MessageHandler(Ut+"_worker",Ut,Vt);Bt.setup(Jt,Vt);const Wt=new _message_handler.MessageHandler(Ut,Ut+"_worker",Vt);this._messageHandler=Wt,this._readyCapability.resolve(),Wt.send("configure",{verbosity:this.verbosity})}).catch(Bt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Bt.message}".`))})}destroy(){var Bt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Bt=Ct(_PDFWorker,xt))==null||Bt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Bt){var Ut;if(!(Bt!=null&&Bt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Vt=(Ut=Ct(this,xt))==null?void 0:Ut.get(Bt.port);if(Vt){if(Vt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Vt}return new _PDFWorker(Bt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Bt;try{return((Bt=globalThis.pdfjsWorker)==null?void 0:Bt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};xt=new WeakMap,Xt(_PDFWorker,xt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Vt,Ut,Jt,Wt,Qt){Xt(this,Mt);Xt(this,Pt,new Map);Xt(this,$t,new Map);Xt(this,kt,new Map);Xt(this,Rt,null);this.messageHandler=Vt,this.loadingTask=Ut,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Wt.ownerDocument,styleElement:Wt.styleElement}),this._params=Wt,this.canvasFactory=Qt.canvasFactory,this.filterFactory=Qt.filterFactory,this.cMapReaderFactory=Qt.cMapReaderFactory,this.standardFontDataFactory=Qt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Jt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Vt,Ut=_util.AnnotationMode.ENABLE,Jt=null,Wt=!1){let Qt=_util.RenderingIntentFlag.DISPLAY,tn=_annotation_storage.SerializableEmpty;switch(Vt){case"any":Qt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Qt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Vt}`)}switch(Ut){case _util.AnnotationMode.DISABLE:Qt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Qt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Qt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,tn=(Qt&_util.RenderingIntentFlag.PRINT&&Jt instanceof _annotation_storage.PrintAnnotationStorage?Jt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Ut}`)}return Wt&&(Qt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Qt,cacheKey:`${Qt}_${tn.hash}`,annotationStorageSerializable:tn}}destroy(){var Jt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Jt=Ct(this,Rt))==null||Jt.reject(new Error("Worker was destroyed during onPassword callback"));const Vt=[];for(const Wt of Ct(this,$t).values())Vt.push(Wt._destroy());Ct(this,$t).clear(),Ct(this,kt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ut=this.messageHandler.sendWithPromise("Terminate",null);return Vt.push(Ut),Promise.all(Vt).then(()=>{var Wt;this.commonObjs.clear(),this.fontLoader.clear(),Ct(this,Pt).clear(),this.filterFactory.destroy(),(Wt=this._networkStream)==null||Wt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Vt,loadingTask:Ut}=this;Vt.on("GetReader",(Jt,Wt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Qt=>{this._lastProgress={loaded:Qt.loaded,total:Qt.total}},Wt.onPull=()=>{this._fullReader.read().then(function({value:Qt,done:tn}){if(tn){Wt.close();return}(0,_util.assert)(Qt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Wt.enqueue(new Uint8Array(Qt),1,[Qt])}).catch(Qt=>{Wt.error(Qt)})},Wt.onCancel=Qt=>{this._fullReader.cancel(Qt),Wt.ready.catch(tn=>{if(!this.destroyed)throw tn})}}),Vt.on("ReaderHeadersReady",Jt=>{const Wt=new _util.PromiseCapability,Qt=this._fullReader;return Qt.headersReady.then(()=>{var tn;(!Qt.isStreamingSupported||!Qt.isRangeSupported)&&(this._lastProgress&&((tn=Ut.onProgress)==null||tn.call(Ut,this._lastProgress)),Qt.onProgress=pn=>{var nn;(nn=Ut.onProgress)==null||nn.call(Ut,{loaded:pn.loaded,total:pn.total})}),Wt.resolve({isStreamingSupported:Qt.isStreamingSupported,isRangeSupported:Qt.isRangeSupported,contentLength:Qt.contentLength})},Wt.reject),Wt.promise}),Vt.on("GetRangeReader",(Jt,Wt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Qt=this._networkStream.getRangeReader(Jt.begin,Jt.end);if(!Qt){Wt.close();return}Wt.onPull=()=>{Qt.read().then(function({value:tn,done:pn}){if(pn){Wt.close();return}(0,_util.assert)(tn instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Wt.enqueue(new Uint8Array(tn),1,[tn])}).catch(tn=>{Wt.error(tn)})},Wt.onCancel=tn=>{Qt.cancel(tn),Wt.ready.catch(pn=>{if(!this.destroyed)throw pn})}}),Vt.on("GetDoc",({pdfInfo:Jt})=>{this._numPages=Jt.numPages,this._htmlForXfa=Jt.htmlForXfa,delete Jt.htmlForXfa,Ut._capability.resolve(new PDFDocumentProxy(Jt,this))}),Vt.on("DocException",function(Jt){let Wt;switch(Jt.name){case"PasswordException":Wt=new _util.PasswordException(Jt.message,Jt.code);break;case"InvalidPDFException":Wt=new _util.InvalidPDFException(Jt.message);break;case"MissingPDFException":Wt=new _util.MissingPDFException(Jt.message);break;case"UnexpectedResponseException":Wt=new _util.UnexpectedResponseException(Jt.message,Jt.status);break;case"UnknownErrorException":Wt=new _util.UnknownErrorException(Jt.message,Jt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Ut._capability.reject(Wt)}),Vt.on("PasswordRequest",Jt=>{if(Gt(this,Rt,new _util.PromiseCapability),Ut.onPassword){const Wt=Qt=>{Qt instanceof Error?Ct(this,Rt).reject(Qt):Ct(this,Rt).resolve({password:Qt})};try{Ut.onPassword(Wt,Jt.code)}catch(Qt){Ct(this,Rt).reject(Qt)}}else Ct(this,Rt).reject(new _util.PasswordException(Jt.message,Jt.code));return Ct(this,Rt).promise}),Vt.on("DataLoaded",Jt=>{var Wt;(Wt=Ut.onProgress)==null||Wt.call(Ut,{loaded:Jt.length,total:Jt.length}),this.downloadInfoCapability.resolve(Jt)}),Vt.on("StartRenderPage",Jt=>{if(this.destroyed)return;Ct(this,$t).get(Jt.pageIndex)._startRenderPage(Jt.transparency,Jt.cacheKey)}),Vt.on("commonobj",([Jt,Wt,Qt])=>{var tn;if(!this.destroyed&&!this.commonObjs.has(Jt))switch(Wt){case"Font":const pn=this._params;if("error"in Qt){const sn=Qt.error;(0,_util.warn)(`Error during font loading: ${sn}`),this.commonObjs.resolve(Jt,sn);break}const nn=pn.pdfBug&&((tn=globalThis.FontInspector)!=null&&tn.enabled)?(sn,un)=>globalThis.FontInspector.fontAdded(sn,un):null,hn=new _font_loader.FontFaceObject(Qt,{isEvalSupported:pn.isEvalSupported,disableFontFace:pn.disableFontFace,ignoreErrors:pn.ignoreErrors,inspectFont:nn});this.fontLoader.bind(hn).catch(sn=>Vt.sendWithPromise("FontFallback",{id:Jt})).finally(()=>{!pn.fontExtraProperties&&hn.data&&(hn.data=null),this.commonObjs.resolve(Jt,hn)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Jt,Qt);break;default:throw new Error(`Got unknown common object type ${Wt}`)}}),Vt.on("obj",([Jt,Wt,Qt,tn])=>{var nn;if(this.destroyed)return;const pn=Ct(this,$t).get(Wt);if(!pn.objs.has(Jt))switch(Qt){case"Image":if(pn.objs.resolve(Jt,tn),tn){let hn;if(tn.bitmap){const{width:sn,height:un}=tn;hn=sn*un*4}else hn=((nn=tn.data)==null?void 0:nn.length)||0;hn>_util.MAX_IMAGE_SIZE_TO_CACHE&&(pn._maybeCleanupAfterRender=!0)}break;case"Pattern":pn.objs.resolve(Jt,tn);break;default:throw new Error(`Got unknown object type ${Qt}`)}}),Vt.on("DocProgress",Jt=>{var Wt;this.destroyed||(Wt=Ut.onProgress)==null||Wt.call(Ut,{loaded:Jt.loaded,total:Jt.total})}),Vt.on("FetchBuiltInCMap",Jt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Jt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Vt.on("FetchStandardFontData",Jt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Jt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Jt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Vt,transfers:Ut}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Vt,filename:((Jt=this._fullReader)==null?void 0:Jt.filename)??null},Ut).finally(()=>{this.annotationStorage.resetModified()})}getPage(Vt){if(!Number.isInteger(Vt)||Vt<=0||Vt>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ut=Vt-1,Jt=Ct(this,kt).get(Ut);if(Jt)return Jt;const Wt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ut}).then(Qt=>{if(this.destroyed)throw new Error("Transport destroyed");const tn=new PDFPageProxy(Ut,Qt,this,this._params.pdfBug);return Ct(this,$t).set(Ut,tn),tn});return Ct(this,kt).set(Ut,Wt),Wt}getPageIndex(Vt){return typeof Vt!="object"||Vt===null||!Number.isInteger(Vt.num)||Vt.num<0||!Number.isInteger(Vt.gen)||Vt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Vt.num,gen:Vt.gen})}getAnnotations(Vt,Ut){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Vt,intent:Ut})}getFieldObjects(){return zt(this,Mt,B0).call(this,"GetFieldObjects")}hasJSActions(){return zt(this,Mt,B0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Vt){return typeof Vt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Vt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return zt(this,Mt,B0).call(this,"GetDocJSActions")}getPageJSActions(Vt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Vt})}getStructTree(Vt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Vt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Vt=>new _optional_content_config.OptionalContentConfig(Vt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Vt="GetMetadata",Ut=Ct(this,Pt).get(Vt);if(Ut)return Ut;const Jt=this.messageHandler.sendWithPromise(Vt,null).then(Wt=>{var Qt,tn;return{info:Wt[0],metadata:Wt[1]?new _metadata.Metadata(Wt[1]):null,contentDispositionFilename:((Qt=this._fullReader)==null?void 0:Qt.filename)??null,contentLength:((tn=this._fullReader)==null?void 0:tn.contentLength)??null}});return Ct(this,Pt).set(Vt,Jt),Jt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Vt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ut of Ct(this,$t).values())if(!Ut.cleanup())throw new Error(`startCleanup: Page ${Ut.pageNumber} is currently rendering.`);this.commonObjs.clear(),Vt||this.fontLoader.clear(),Ct(this,Pt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Vt,enableXfa:Ut}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Vt,enableXfa:Ut})}}Pt=new WeakMap,$t=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakSet,B0=function(Vt,Ut=null){const Jt=Ct(this,Pt).get(Vt);if(Jt)return Jt;const Wt=this.messageHandler.sendWithPromise(Vt,Ut);return Ct(this,Pt).set(Vt,Wt),Wt};class PDFObjects{constructor(){Xt(this,Lt);Xt(this,Ot,Object.create(null))}get(Vt,Ut=null){if(Ut){const Wt=zt(this,Lt,$w).call(this,Vt);return Wt.capability.promise.then(()=>Ut(Wt.data)),null}const Jt=Ct(this,Ot)[Vt];if(!(Jt!=null&&Jt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Vt}.`);return Jt.data}has(Vt){const Ut=Ct(this,Ot)[Vt];return(Ut==null?void 0:Ut.capability.settled)||!1}resolve(Vt,Ut=null){const Jt=zt(this,Lt,$w).call(this,Vt);Jt.data=Ut,Jt.capability.resolve()}clear(){var Vt;for(const Ut in Ct(this,Ot)){const{data:Jt}=Ct(this,Ot)[Ut];(Vt=Jt==null?void 0:Jt.bitmap)==null||Vt.close()}Gt(this,Ot,Object.create(null))}}Ot=new WeakMap,Lt=new WeakSet,$w=function(Vt){var Ut;return(Ut=Ct(this,Ot))[Vt]||(Ut[Vt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Vt){Xt(this,Ht,null);Gt(this,Ht,Vt),this.onContinue=null}get promise(){return Ct(this,Ht).capability.promise}cancel(Vt=0){Ct(this,Ht).cancel(null,Vt)}get separateAnnots(){const{separateAnnots:Vt}=Ct(this,Ht).operatorList;if(!Vt)return!1;const{annotationCanvasMap:Ut}=Ct(this,Ht);return Vt.form||Vt.canvas&&(Ut==null?void 0:Ut.size)>0}}Ht=new WeakMap,exports.RenderTask=RenderTask;const jt=class jt{constructor({callback:Vt,params:Ut,objs:Jt,commonObjs:Wt,annotationCanvasMap:Qt,operatorList:tn,pageIndex:pn,canvasFactory:nn,filterFactory:hn,useRequestAnimationFrame:sn=!1,pdfBug:un=!1,pageColors:en=null}){this.callback=Vt,this.params=Ut,this.objs=Jt,this.commonObjs=Wt,this.annotationCanvasMap=Qt,this.operatorListIdx=null,this.operatorList=tn,this._pageIndex=pn,this.canvasFactory=nn,this.filterFactory=hn,this._pdfBug=un,this.pageColors=en,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=sn===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Ut.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Vt=!1,optionalContentConfig:Ut}){var pn,nn;if(this.cancelled)return;if(this._canvas){if(Ct(jt,Ft).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ct(jt,Ft).add(this._canvas)}this._pdfBug&&((pn=globalThis.StepperManager)!=null&&pn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Jt,viewport:Wt,transform:Qt,background:tn}=this.params;this.gfx=new _canvas.CanvasGraphics(Jt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Ut},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Qt,viewport:Wt,transparency:Vt,background:tn}),this.operatorListIdx=0,this.graphicsReady=!0,(nn=this.graphicsReadyCallback)==null||nn.call(this)}cancel(Vt=null,Ut=0){var Jt;this.running=!1,this.cancelled=!0,(Jt=this.gfx)==null||Jt.endDrawing(),Ct(jt,Ft).delete(this._canvas),this.callback(Vt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ut))}operatorListChanged(){var Vt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Vt=this.stepper)==null||Vt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ct(jt,Ft).delete(this._canvas),this.callback())))}};Ft=new WeakMap,Xt(jt,Ft,new WeakSet);let InternalRenderTask=jt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(_e,$,ht)=>{var Et,xt,Pt,Q1,kt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var vt=ht(1),bt=ht(4),_t=ht(8);const wt=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=wt;class At{constructor(){Xt(this,Pt);Xt(this,Et,!1);Xt(this,xt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Mt,Dt){const Ot=Ct(this,xt).get(Mt);return Ot===void 0?Dt:Object.assign(Dt,Ot)}getRawValue(Mt){return Ct(this,xt).get(Mt)}remove(Mt){if(Ct(this,xt).delete(Mt),Ct(this,xt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Dt of Ct(this,xt).values())if(Dt instanceof bt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Mt,Dt){const Ot=Ct(this,xt).get(Mt);let Lt=!1;if(Ot!==void 0)for(const[Nt,Ht]of Object.entries(Dt))Ot[Nt]!==Ht&&(Lt=!0,Ot[Nt]=Ht);else Lt=!0,Ct(this,xt).set(Mt,Dt);Lt&&zt(this,Pt,Q1).call(this),Dt instanceof bt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Dt.constructor._type)}has(Mt){return Ct(this,xt).has(Mt)}getAll(){return Ct(this,xt).size>0?(0,vt.objectFromMap)(Ct(this,xt)):null}setAll(Mt){for(const[Dt,Ot]of Object.entries(Mt))this.setValue(Dt,Ot)}get size(){return Ct(this,xt).size}resetModified(){Ct(this,Et)&&(Gt(this,Et,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new St(this)}get serializable(){if(Ct(this,xt).size===0)return wt;const Mt=new Map,Dt=new _t.MurmurHash3_64,Ot=[],Lt=Object.create(null);let Nt=!1;for(const[Ht,Ft]of Ct(this,xt)){const jt=Ft instanceof bt.AnnotationEditor?Ft.serialize(!1,Lt):Ft;jt&&(Mt.set(Ht,jt),Dt.update(`${Ht}:${JSON.stringify(jt)}`),Nt||(Nt=!!jt.bitmap))}if(Nt)for(const Ht of Mt.values())Ht.bitmap&&Ot.push(Ht.bitmap);return Mt.size>0?{map:Mt,hash:Dt.hexdigest(),transfers:Ot}:wt}}Et=new WeakMap,xt=new WeakMap,Pt=new WeakSet,Q1=function(){Ct(this,Et)||(Gt(this,Et,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=At;class St extends At{constructor(Dt){super();Xt(this,kt);const{map:Ot,hash:Lt,transfers:Nt}=Dt.serializable,Ht=structuredClone(Ot,Nt?{transfer:Nt}:null);Gt(this,kt,{map:Ht,hash:Lt,transfers:Nt})}get print(){(0,vt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Ct(this,kt)}}kt=new WeakMap,$.PrintAnnotationStorage=St},(_e,$,ht)=>{var St,Et,xt,Pt,$t,kt,Rt,Mt,Dt,Ot,Lt,Nt,Ht,Ft,jt,kw,Rw,Ut,Ow,Mw,J1,eS,tS,Iw,nS;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var vt=ht(5),bt=ht(1),_t=ht(6);const sn=class sn{constructor(en){Xt(this,jt);Xt(this,St,"");Xt(this,Et,!1);Xt(this,xt,null);Xt(this,Pt,null);Xt(this,$t,null);Xt(this,kt,!1);Xt(this,Rt,null);Xt(this,Mt,this.focusin.bind(this));Xt(this,Dt,this.focusout.bind(this));Xt(this,Ot,!1);Xt(this,Lt,!1);Xt(this,Nt,!1);Tr(this,"_initialOptions",Object.create(null));Tr(this,"_uiManager",null);Tr(this,"_focusEventsAllowed",!0);Tr(this,"_l10nPromise",null);Xt(this,Ht,!1);Xt(this,Ft,sn._zIndex++);this.constructor===sn&&(0,bt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=en.parent,this.id=en.id,this.width=this.height=null,this.pageIndex=en.parent.pageIndex,this.name=en.name,this.div=null,this._uiManager=en.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=en.isCentered,this._structTreeParentId=null;const{rotation:fn,rawDims:{pageWidth:En,pageHeight:rn,pageX:qt,pageY:Yt}}=this.parent.viewport;this.rotation=fn,this.pageRotation=(360+fn-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[En,rn],this.pageTranslation=[qt,Yt];const[an,yn]=this.parentDimensions;this.x=en.x/an,this.y=en.y/yn,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,bt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(en){const fn=new At({id:en.parent.getNextId(),parent:en.parent,uiManager:en._uiManager});fn.annotationElementId=en.annotationElementId,fn.deleted=!0,fn._uiManager.addToAnnotationStorage(fn)}static initialize(en,fn=null){if(sn._l10nPromise||(sn._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(rn=>[rn,en.get(rn)]))),fn!=null&&fn.strings)for(const rn of fn.strings)sn._l10nPromise.set(rn,en.get(rn));if(sn._borderLineWidth!==-1)return;const En=getComputedStyle(document.documentElement);sn._borderLineWidth=parseFloat(En.getPropertyValue("--outline-width"))||0}static updateDefaultParams(en,fn){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(en){return!1}static paste(en,fn){(0,bt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ct(this,Ht)}set _isDraggable(en){var fn;Gt(this,Ht,en),(fn=this.div)==null||fn.classList.toggle("draggable",en)}center(){const[en,fn]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*fn/(en*2),this.y+=this.width*en/(fn*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*fn/(en*2),this.y-=this.width*en/(fn*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(en){this._uiManager.addCommands(en)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ct(this,Ft)}setParent(en){en!==null&&(this.pageIndex=en.pageIndex,this.pageDimensions=en.pageDimensions),this.parent=en}focusin(en){this._focusEventsAllowed&&(Ct(this,Ot)?Gt(this,Ot,!1):this.parent.setSelected(this))}focusout(en){var En;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const fn=en.relatedTarget;fn!=null&&fn.closest(`#${this.id}`)||(en.preventDefault(),(En=this.parent)!=null&&En.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(en,fn,En,rn){const[qt,Yt]=this.parentDimensions;[En,rn]=this.screenToPageTranslation(En,rn),this.x=(en+En)/qt,this.y=(fn+rn)/Yt,this.fixAndSetPosition()}translate(en,fn){zt(this,jt,kw).call(this,this.parentDimensions,en,fn)}translateInPage(en,fn){zt(this,jt,kw).call(this,this.pageDimensions,en,fn),this.div.scrollIntoView({block:"nearest"})}drag(en,fn){const[En,rn]=this.parentDimensions;if(this.x+=en/En,this.y+=fn/rn,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:mn,y:vn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,mn,vn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:qt,y:Yt}=this;const[an,yn]=zt(this,jt,Rw).call(this);qt+=an,Yt+=yn,this.div.style.left=`${(100*qt).toFixed(2)}%`,this.div.style.top=`${(100*Yt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[en,fn]=this.pageDimensions;let{x:En,y:rn,width:qt,height:Yt}=this;switch(qt*=en,Yt*=fn,En*=en,rn*=fn,this.rotation){case 0:En=Math.max(0,Math.min(en-qt,En)),rn=Math.max(0,Math.min(fn-Yt,rn));break;case 90:En=Math.max(0,Math.min(en-Yt,En)),rn=Math.min(fn,Math.max(qt,rn));break;case 180:En=Math.min(en,Math.max(qt,En)),rn=Math.min(fn,Math.max(Yt,rn));break;case 270:En=Math.min(en,Math.max(Yt,En)),rn=Math.max(0,Math.min(fn-qt,rn));break}this.x=En/=en,this.y=rn/=fn;const[an,yn]=zt(this,jt,Rw).call(this);En+=an,rn+=yn;const{style:mn}=this.div;mn.left=`${(100*En).toFixed(2)}%`,mn.top=`${(100*rn).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(en,fn){var En;return zt(En=sn,Ut,Ow).call(En,en,fn,this.parentRotation)}pageTranslationToScreen(en,fn){var En;return zt(En=sn,Ut,Ow).call(En,en,fn,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:en,pageDimensions:[fn,En]}=this,rn=fn*en,qt=En*en;return bt.FeatureTest.isCSSRoundSupported?[Math.round(rn),Math.round(qt)]:[rn,qt]}setDims(en,fn){var qt;const[En,rn]=this.parentDimensions;this.div.style.width=`${(100*en/En).toFixed(2)}%`,Ct(this,kt)||(this.div.style.height=`${(100*fn/rn).toFixed(2)}%`),(qt=Ct(this,xt))==null||qt.classList.toggle("small",en<sn.SMALL_EDITOR_SIZE||fn<sn.SMALL_EDITOR_SIZE)}fixDims(){const{style:en}=this.div,{height:fn,width:En}=en,rn=En.endsWith("%"),qt=!Ct(this,kt)&&fn.endsWith("%");if(rn&&qt)return;const[Yt,an]=this.parentDimensions;rn||(en.width=`${(100*parseFloat(En)/Yt).toFixed(2)}%`),!Ct(this,kt)&&!qt&&(en.height=`${(100*parseFloat(fn)/an).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Ct(this,xt))return;const en=Gt(this,xt,document.createElement("button"));en.className="altText";const fn=await sn._l10nPromise.get("editor_alt_text_button_label");en.textContent=fn,en.setAttribute("aria-label",fn),en.tabIndex="0",en.addEventListener("contextmenu",_t.noContextMenu),en.addEventListener("pointerdown",En=>En.stopPropagation()),en.addEventListener("click",En=>{En.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),en.addEventListener("keydown",En=>{En.target===en&&En.key==="Enter"&&(En.preventDefault(),this._uiManager.editAltText(this))}),zt(this,jt,Iw).call(this),this.div.append(en),sn.SMALL_EDITOR_SIZE||(sn.SMALL_EDITOR_SIZE=Math.min(128,Math.round(en.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Ct(this,St),decorative:Ct(this,Et)}}set altTextData({altText:en,decorative:fn}){Ct(this,St)===en&&Ct(this,Et)===fn||(Gt(this,St,en),Gt(this,Et,fn),zt(this,jt,Iw).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Ct(this,Mt)),this.div.addEventListener("focusout",Ct(this,Dt));const[en,fn]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*fn/en).toFixed(2)}%`,this.div.style.maxHeight=`${(100*en/fn).toFixed(2)}%`);const[En,rn]=this.getInitialTranslation();return this.translate(En,rn),(0,vt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(en){const{isMac:fn}=bt.FeatureTest.platform;if(en.button!==0||en.ctrlKey&&fn){en.preventDefault();return}Gt(this,Ot,!0),zt(this,jt,nS).call(this,en)}moveInDOM(){var en;(en=this.parent)==null||en.moveEditorInDOM(this)}_setParentAndPosition(en,fn,En){en.changeParent(this),this.x=fn,this.y=En,this.fixAndSetPosition()}getRect(en,fn){const En=this.parentScale,[rn,qt]=this.pageDimensions,[Yt,an]=this.pageTranslation,yn=en/En,mn=fn/En,vn=this.x*rn,_n=this.y*qt,kn=this.width*rn,Nn=this.height*qt;switch(this.rotation){case 0:return[vn+yn+Yt,qt-_n-mn-Nn+an,vn+yn+kn+Yt,qt-_n-mn+an];case 90:return[vn+mn+Yt,qt-_n+yn+an,vn+mn+Nn+Yt,qt-_n+yn+kn+an];case 180:return[vn-yn-kn+Yt,qt-_n+mn+an,vn-yn+Yt,qt-_n+mn+Nn+an];case 270:return[vn-mn-Nn+Yt,qt-_n-yn-kn+an,vn-mn+Yt,qt-_n-yn+an];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(en,fn){const[En,rn,qt,Yt]=en,an=qt-En,yn=Yt-rn;switch(this.rotation){case 0:return[En,fn-Yt,an,yn];case 90:return[En,fn-rn,yn,an];case 180:return[qt,fn-rn,an,yn];case 270:return[qt,fn-Yt,yn,an];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Gt(this,Nt,!0)}disableEditMode(){Gt(this,Nt,!1)}isInEditMode(){return Ct(this,Nt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var en,fn;(en=this.div)==null||en.addEventListener("focusin",Ct(this,Mt)),(fn=this.div)==null||fn.addEventListener("focusout",Ct(this,Dt))}serialize(en=!1,fn=null){(0,bt.unreachable)("An editor must be serializable")}static deserialize(en,fn,En){const rn=new this.prototype.constructor({parent:fn,id:fn.getNextId(),uiManager:En});rn.rotation=en.rotation;const[qt,Yt]=rn.pageDimensions,[an,yn,mn,vn]=rn.getRectInCurrentCoords(en.rect,Yt);return rn.x=an/qt,rn.y=yn/Yt,rn.width=mn/qt,rn.height=vn/Yt,rn}remove(){var en;this.div.removeEventListener("focusin",Ct(this,Mt)),this.div.removeEventListener("focusout",Ct(this,Dt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(en=Ct(this,xt))==null||en.remove(),Gt(this,xt,null),Gt(this,Pt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(zt(this,jt,J1).call(this),Ct(this,Rt).classList.remove("hidden"))}select(){var en;this.makeResizable(),(en=this.div)==null||en.classList.add("selectedEditor")}unselect(){var en,fn,En;(en=Ct(this,Rt))==null||en.classList.add("hidden"),(fn=this.div)==null||fn.classList.remove("selectedEditor"),(En=this.div)!=null&&En.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(en,fn){}disableEditing(){Ct(this,xt)&&(Ct(this,xt).hidden=!0)}enableEditing(){Ct(this,xt)&&(Ct(this,xt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Ct(this,Lt)}set isEditing(en){Gt(this,Lt,en),this.parent&&(en?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(en,fn){Gt(this,kt,!0);const En=en/fn,{style:rn}=this.div;rn.aspectRatio=En,rn.height="auto"}static get MIN_SIZE(){return 16}};St=new WeakMap,Et=new WeakMap,xt=new WeakMap,Pt=new WeakMap,$t=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,Lt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,Ft=new WeakMap,jt=new WeakSet,kw=function([en,fn],En,rn){[En,rn]=this.screenToPageTranslation(En,rn),this.x+=En/en,this.y+=rn/fn,this.fixAndSetPosition()},Rw=function(){const[en,fn]=this.parentDimensions,{_borderLineWidth:En}=sn,rn=En/en,qt=En/fn;switch(this.rotation){case 90:return[-rn,qt];case 180:return[rn,qt];case 270:return[rn,-qt];default:return[-rn,-qt]}},Ut=new WeakSet,Ow=function(en,fn,En){switch(En){case 90:return[fn,-en];case 180:return[-en,-fn];case 270:return[-fn,en];default:return[en,fn]}},Mw=function(en){switch(en){case 90:{const[fn,En]=this.pageDimensions;return[0,-fn/En,En/fn,0]}case 180:return[-1,0,0,-1];case 270:{const[fn,En]=this.pageDimensions;return[0,fn/En,-En/fn,0]}default:return[1,0,0,1]}},J1=function(){if(Ct(this,Rt))return;Gt(this,Rt,document.createElement("div")),Ct(this,Rt).classList.add("resizers");const en=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||en.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const fn of en){const En=document.createElement("div");Ct(this,Rt).append(En),En.classList.add("resizer",fn),En.addEventListener("pointerdown",zt(this,jt,eS).bind(this,fn)),En.addEventListener("contextmenu",_t.noContextMenu)}this.div.prepend(Ct(this,Rt))},eS=function(en,fn){fn.preventDefault();const{isMac:En}=bt.FeatureTest.platform;if(fn.button!==0||fn.ctrlKey&&En)return;const rn=zt(this,jt,tS).bind(this,en),qt=this._isDraggable;this._isDraggable=!1;const Yt={passive:!0,capture:!0};window.addEventListener("pointermove",rn,Yt);const an=this.x,yn=this.y,mn=this.width,vn=this.height,_n=this.parent.div.style.cursor,kn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(fn.target).cursor;const Nn=()=>{this._isDraggable=qt,window.removeEventListener("pointerup",Nn),window.removeEventListener("blur",Nn),window.removeEventListener("pointermove",rn,Yt),this.parent.div.style.cursor=_n,this.div.style.cursor=kn;const xn=this.x,qn=this.y,zn=this.width,Xn=this.height;xn===an&&qn===yn&&zn===mn&&Xn===vn||this.addCommands({cmd:()=>{this.width=zn,this.height=Xn,this.x=xn,this.y=qn;const[On,Ln]=this.parentDimensions;this.setDims(On*zn,Ln*Xn),this.fixAndSetPosition()},undo:()=>{this.width=mn,this.height=vn,this.x=an,this.y=yn;const[On,Ln]=this.parentDimensions;this.setDims(On*mn,Ln*vn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Nn),window.addEventListener("blur",Nn)},tS=function(en,fn){const[En,rn]=this.parentDimensions,qt=this.x,Yt=this.y,an=this.width,yn=this.height,mn=sn.MIN_SIZE/En,vn=sn.MIN_SIZE/rn,_n=mr=>Math.round(mr*1e4)/1e4,kn=zt(this,jt,Mw).call(this,this.rotation),Nn=(mr,Pr)=>[kn[0]*mr+kn[2]*Pr,kn[1]*mr+kn[3]*Pr],xn=zt(this,jt,Mw).call(this,360-this.rotation),qn=(mr,Pr)=>[xn[0]*mr+xn[2]*Pr,xn[1]*mr+xn[3]*Pr];let zn,Xn,On=!1,Ln=!1;switch(en){case"topLeft":On=!0,zn=(mr,Pr)=>[0,0],Xn=(mr,Pr)=>[mr,Pr];break;case"topMiddle":zn=(mr,Pr)=>[mr/2,0],Xn=(mr,Pr)=>[mr/2,Pr];break;case"topRight":On=!0,zn=(mr,Pr)=>[mr,0],Xn=(mr,Pr)=>[0,Pr];break;case"middleRight":Ln=!0,zn=(mr,Pr)=>[mr,Pr/2],Xn=(mr,Pr)=>[0,Pr/2];break;case"bottomRight":On=!0,zn=(mr,Pr)=>[mr,Pr],Xn=(mr,Pr)=>[0,0];break;case"bottomMiddle":zn=(mr,Pr)=>[mr/2,Pr],Xn=(mr,Pr)=>[mr/2,0];break;case"bottomLeft":On=!0,zn=(mr,Pr)=>[0,Pr],Xn=(mr,Pr)=>[mr,0];break;case"middleLeft":Ln=!0,zn=(mr,Pr)=>[0,Pr/2],Xn=(mr,Pr)=>[mr,Pr/2];break}const dn=zn(an,yn),wn=Xn(an,yn);let Mn=Nn(...wn);const Bn=_n(qt+Mn[0]),Gn=_n(Yt+Mn[1]);let er=1,Zn=1,[In,cr]=this.screenToPageTranslation(fn.movementX,fn.movementY);if([In,cr]=qn(In/En,cr/rn),On){const mr=Math.hypot(an,yn);er=Zn=Math.max(Math.min(Math.hypot(wn[0]-dn[0]-In,wn[1]-dn[1]-cr)/mr,1/an,1/yn),mn/an,vn/yn)}else Ln?er=Math.max(mn,Math.min(1,Math.abs(wn[0]-dn[0]-In)))/an:Zn=Math.max(vn,Math.min(1,Math.abs(wn[1]-dn[1]-cr)))/yn;const sr=_n(an*er),Hr=_n(yn*Zn);Mn=Nn(...Xn(sr,Hr));const Mr=Bn-Mn[0],Jr=Gn-Mn[1];this.width=sr,this.height=Hr,this.x=Mr,this.y=Jr,this.setDims(En*sr,rn*Hr),this.fixAndSetPosition()},Iw=async function(){var En;const en=Ct(this,xt);if(!en)return;if(!Ct(this,St)&&!Ct(this,Et)){en.classList.remove("done"),(En=Ct(this,Pt))==null||En.remove();return}sn._l10nPromise.get("editor_alt_text_edit_button_label").then(rn=>{en.setAttribute("aria-label",rn)});let fn=Ct(this,Pt);if(!fn){Gt(this,Pt,fn=document.createElement("span")),fn.className="tooltip",fn.setAttribute("role","tooltip");const rn=fn.id=`alt-text-tooltip-${this.id}`;en.setAttribute("aria-describedby",rn);const qt=100;en.addEventListener("mouseenter",()=>{Gt(this,$t,setTimeout(()=>{Gt(this,$t,null),Ct(this,Pt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},qt))}),en.addEventListener("mouseleave",()=>{var Yt;clearTimeout(Ct(this,$t)),Gt(this,$t,null),(Yt=Ct(this,Pt))==null||Yt.classList.remove("show")})}en.classList.add("done"),fn.innerText=Ct(this,Et)?await sn._l10nPromise.get("editor_alt_text_decorative_tooltip"):Ct(this,St),fn.parentNode||en.append(fn)},nS=function(en){if(!this._isDraggable)return;const fn=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let En,rn;fn&&(En={passive:!0,capture:!0},rn=Yt=>{const[an,yn]=this.screenToPageTranslation(Yt.movementX,Yt.movementY);this._uiManager.dragSelectedEditors(an,yn)},window.addEventListener("pointermove",rn,En));const qt=()=>{if(window.removeEventListener("pointerup",qt),window.removeEventListener("blur",qt),fn&&window.removeEventListener("pointermove",rn,En),Gt(this,Ot,!1),!this._uiManager.endDragSession()){const{isMac:Yt}=bt.FeatureTest.platform;en.ctrlKey&&!Yt||en.shiftKey||en.metaKey&&Yt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",qt),window.addEventListener("blur",qt)},Xt(sn,Ut),Tr(sn,"_borderLineWidth",-1),Tr(sn,"_colorManager",new vt.ColorManager),Tr(sn,"_zIndex",1),Tr(sn,"SMALL_EDITOR_SIZE",0);let wt=sn;$.AnnotationEditor=wt;class At extends wt{constructor(en){super(en),this.annotationElementId=en.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(_e,$,ht)=>{var kt,Rt,Mt,Dt,Ot,Lw,Ht,Ft,jt,Bt,Vt,rS,Wt,Qt,tn,pn,nn,hn,sn,un,en,fn,En,rn,qt,Yt,an,yn,mn,vn,_n,kn,Nn,xn,qn,zn,Xn,On,Ln,dn,wn,Mn,Bn,Gn,er,Zn,In,iS,Dw,Fw,H0,Nw,jw,Lo,vy,sS,oS,Bw,by,Hw;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=_t,$.opacityToHex=wt;var vt=ht(1),bt=ht(6);function _t(Or,An,Yn){for(const lr of Yn)An.addEventListener(lr,Or[lr].bind(Or))}function wt(Or){return Math.round(Math.min(255,Math.max(1,255*Or))).toString(16).padStart(2,"0")}class At{constructor(){Xt(this,kt,0)}getId(){return`${vt.AnnotationEditorPrefix}${ro(this,kt)._++}`}}kt=new WeakMap;const Nt=class Nt{constructor(){Xt(this,Ot);Xt(this,Rt,(0,vt.getUuid)());Xt(this,Mt,0);Xt(this,Dt,null)}static get _isSVGFittingCanvas(){const An='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',lr=new OffscreenCanvas(1,3).getContext("2d"),br=new Image;br.src=An;const Ar=br.decode().then(()=>(lr.drawImage(br,0,0,1,1,0,0,1,3),new Uint32Array(lr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,vt.shadow)(this,"_isSVGFittingCanvas",Ar)}async getFromFile(An){const{lastModified:Yn,name:lr,size:br,type:Ar}=An;return zt(this,Ot,Lw).call(this,`${Yn}_${lr}_${br}_${Ar}`,An)}async getFromUrl(An){return zt(this,Ot,Lw).call(this,An,An)}async getFromId(An){Ct(this,Dt)||Gt(this,Dt,new Map);const Yn=Ct(this,Dt).get(An);return Yn?Yn.bitmap?(Yn.refCounter+=1,Yn):Yn.file?this.getFromFile(Yn.file):this.getFromUrl(Yn.url):null}getSvgUrl(An){const Yn=Ct(this,Dt).get(An);return Yn!=null&&Yn.isSvg?Yn.svgUrl:null}deleteId(An){Ct(this,Dt)||Gt(this,Dt,new Map);const Yn=Ct(this,Dt).get(An);Yn&&(Yn.refCounter-=1,Yn.refCounter===0&&(Yn.bitmap=null))}isValidId(An){return An.startsWith(`image_${Ct(this,Rt)}_`)}};Rt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,Ot=new WeakSet,Lw=async function(An,Yn){Ct(this,Dt)||Gt(this,Dt,new Map);let lr=Ct(this,Dt).get(An);if(lr===null)return null;if(lr!=null&&lr.bitmap)return lr.refCounter+=1,lr;try{lr||(lr={bitmap:null,id:`image_${Ct(this,Rt)}_${ro(this,Mt)._++}`,refCounter:0,isSvg:!1});let br;if(typeof Yn=="string"){lr.url=Yn;const Ar=await fetch(Yn);if(!Ar.ok)throw new Error(Ar.statusText);br=await Ar.blob()}else br=lr.file=Yn;if(br.type==="image/svg+xml"){const Ar=Nt._isSVGFittingCanvas,fr=new FileReader,bn=new Image,gn=new Promise(($n,Wn)=>{bn.onload=()=>{lr.bitmap=bn,lr.isSvg=!0,$n()},fr.onload=async()=>{const Kn=lr.svgUrl=fr.result;bn.src=await Ar?`${Kn}#svgView(preserveAspectRatio(none))`:Kn},bn.onerror=fr.onerror=Wn});fr.readAsDataURL(br),await gn}else lr.bitmap=await createImageBitmap(br);lr.refCounter=1}catch(br){console.error(br),lr=null}return Ct(this,Dt).set(An,lr),lr&&Ct(this,Dt).set(lr.id,lr),lr};let St=Nt;class Et{constructor(An=128){Xt(this,Ht,[]);Xt(this,Ft,!1);Xt(this,jt);Xt(this,Bt,-1);Gt(this,jt,An)}add({cmd:An,undo:Yn,mustExec:lr,type:br=NaN,overwriteIfSameType:Ar=!1,keepUndo:fr=!1}){if(lr&&An(),Ct(this,Ft))return;const bn={cmd:An,undo:Yn,type:br};if(Ct(this,Bt)===-1){Ct(this,Ht).length>0&&(Ct(this,Ht).length=0),Gt(this,Bt,0),Ct(this,Ht).push(bn);return}if(Ar&&Ct(this,Ht)[Ct(this,Bt)].type===br){fr&&(bn.undo=Ct(this,Ht)[Ct(this,Bt)].undo),Ct(this,Ht)[Ct(this,Bt)]=bn;return}const gn=Ct(this,Bt)+1;gn===Ct(this,jt)?Ct(this,Ht).splice(0,1):(Gt(this,Bt,gn),gn<Ct(this,Ht).length&&Ct(this,Ht).splice(gn)),Ct(this,Ht).push(bn)}undo(){Ct(this,Bt)!==-1&&(Gt(this,Ft,!0),Ct(this,Ht)[Ct(this,Bt)].undo(),Gt(this,Ft,!1),Gt(this,Bt,Ct(this,Bt)-1))}redo(){Ct(this,Bt)<Ct(this,Ht).length-1&&(Gt(this,Bt,Ct(this,Bt)+1),Gt(this,Ft,!0),Ct(this,Ht)[Ct(this,Bt)].cmd(),Gt(this,Ft,!1))}hasSomethingToUndo(){return Ct(this,Bt)!==-1}hasSomethingToRedo(){return Ct(this,Bt)<Ct(this,Ht).length-1}destroy(){Gt(this,Ht,null)}}Ht=new WeakMap,Ft=new WeakMap,jt=new WeakMap,Bt=new WeakMap,$.CommandManager=Et;class xt{constructor(An){Xt(this,Vt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Yn}=vt.FeatureTest.platform;for(const[lr,br,Ar={}]of An)for(const fr of lr){const bn=fr.startsWith("mac+");Yn&&bn?(this.callbacks.set(fr.slice(4),{callback:br,options:Ar}),this.allKeys.add(fr.split("+").at(-1))):!Yn&&!bn&&(this.callbacks.set(fr,{callback:br,options:Ar}),this.allKeys.add(fr.split("+").at(-1)))}}exec(An,Yn){if(!this.allKeys.has(Yn.key))return;const lr=this.callbacks.get(zt(this,Vt,rS).call(this,Yn));if(!lr)return;const{callback:br,options:{bubbles:Ar=!1,args:fr=[],checker:bn=null}}=lr;bn&&!bn(An,Yn)||(br.bind(An,...fr)(),Ar||(Yn.stopPropagation(),Yn.preventDefault()))}}Vt=new WeakSet,rS=function(An){An.altKey&&this.buffer.push("alt"),An.ctrlKey&&this.buffer.push("ctrl"),An.metaKey&&this.buffer.push("meta"),An.shiftKey&&this.buffer.push("shift"),this.buffer.push(An.key);const Yn=this.buffer.join("+");return this.buffer.length=0,Yn},$.KeyboardManager=xt;const Jt=class Jt{get _colors(){const An=new Map([["CanvasText",null],["Canvas",null]]);return(0,bt.getColorValues)(An),(0,vt.shadow)(this,"_colors",An)}convert(An){const Yn=(0,bt.getRGB)(An);if(!window.matchMedia("(forced-colors: active)").matches)return Yn;for(const[lr,br]of this._colors)if(br.every((Ar,fr)=>Ar===Yn[fr]))return Jt._colorsMapping.get(lr);return Yn}getHexCode(An){const Yn=this._colors.get(An);return Yn?vt.Util.makeHexColor(...Yn):An}};Tr(Jt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Pt=Jt;$.ColorManager=Pt;const vr=class vr{constructor(An,Yn,lr,br,Ar,fr){Xt(this,In);Xt(this,Wt,null);Xt(this,Qt,new Map);Xt(this,tn,new Map);Xt(this,pn,null);Xt(this,nn,null);Xt(this,hn,new Et);Xt(this,sn,0);Xt(this,un,new Set);Xt(this,en,null);Xt(this,fn,null);Xt(this,En,new Set);Xt(this,rn,null);Xt(this,qt,new At);Xt(this,Yt,!1);Xt(this,an,!1);Xt(this,yn,null);Xt(this,mn,vt.AnnotationEditorType.NONE);Xt(this,vn,new Set);Xt(this,_n,null);Xt(this,kn,this.blur.bind(this));Xt(this,Nn,this.focus.bind(this));Xt(this,xn,this.copy.bind(this));Xt(this,qn,this.cut.bind(this));Xt(this,zn,this.paste.bind(this));Xt(this,Xn,this.keydown.bind(this));Xt(this,On,this.onEditingAction.bind(this));Xt(this,Ln,this.onPageChanging.bind(this));Xt(this,dn,this.onScaleChanging.bind(this));Xt(this,wn,this.onRotationChanging.bind(this));Xt(this,Mn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Xt(this,Bn,[0,0]);Xt(this,Gn,null);Xt(this,er,null);Xt(this,Zn,null);Gt(this,er,An),Gt(this,Zn,Yn),Gt(this,pn,lr),this._eventBus=br,this._eventBus._on("editingaction",Ct(this,On)),this._eventBus._on("pagechanging",Ct(this,Ln)),this._eventBus._on("scalechanging",Ct(this,dn)),this._eventBus._on("rotationchanging",Ct(this,wn)),Gt(this,nn,Ar.annotationStorage),Gt(this,rn,Ar.filterFactory),Gt(this,_n,fr),this.viewParameters={realScale:bt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const An=vr.prototype,Yn=Ar=>{const{activeElement:fr}=document;return fr&&Ct(Ar,er).contains(fr)&&Ar.hasSomethingToControl()},lr=this.TRANSLATE_SMALL,br=this.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new xt([[["ctrl+a","mac+meta+a"],An.selectAll],[["ctrl+z","mac+meta+z"],An.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],An.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],An.delete],[["Escape","mac+Escape"],An.unselectAll],[["ArrowLeft","mac+ArrowLeft"],An.translateSelectedEditors,{args:[-lr,0],checker:Yn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],An.translateSelectedEditors,{args:[-br,0],checker:Yn}],[["ArrowRight","mac+ArrowRight"],An.translateSelectedEditors,{args:[lr,0],checker:Yn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],An.translateSelectedEditors,{args:[br,0],checker:Yn}],[["ArrowUp","mac+ArrowUp"],An.translateSelectedEditors,{args:[0,-lr],checker:Yn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],An.translateSelectedEditors,{args:[0,-br],checker:Yn}],[["ArrowDown","mac+ArrowDown"],An.translateSelectedEditors,{args:[0,lr],checker:Yn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],An.translateSelectedEditors,{args:[0,br],checker:Yn}]]))}destroy(){zt(this,In,H0).call(this),zt(this,In,Dw).call(this),this._eventBus._off("editingaction",Ct(this,On)),this._eventBus._off("pagechanging",Ct(this,Ln)),this._eventBus._off("scalechanging",Ct(this,dn)),this._eventBus._off("rotationchanging",Ct(this,wn));for(const An of Ct(this,tn).values())An.destroy();Ct(this,tn).clear(),Ct(this,Qt).clear(),Ct(this,En).clear(),Gt(this,Wt,null),Ct(this,vn).clear(),Ct(this,hn).destroy(),Ct(this,pn).destroy()}get hcmFilter(){return(0,vt.shadow)(this,"hcmFilter",Ct(this,_n)?Ct(this,rn).addHCMFilter(Ct(this,_n).foreground,Ct(this,_n).background):"none")}get direction(){return(0,vt.shadow)(this,"direction",getComputedStyle(Ct(this,er)).direction)}editAltText(An){var Yn;(Yn=Ct(this,pn))==null||Yn.editAltText(this,An)}onPageChanging({pageNumber:An}){Gt(this,sn,An-1)}focusMainContainer(){Ct(this,er).focus()}findParent(An,Yn){for(const lr of Ct(this,tn).values()){const{x:br,y:Ar,width:fr,height:bn}=lr.div.getBoundingClientRect();if(An>=br&&An<=br+fr&&Yn>=Ar&&Yn<=Ar+bn)return lr}return null}disableUserSelect(An=!1){Ct(this,Zn).classList.toggle("noUserSelect",An)}addShouldRescale(An){Ct(this,En).add(An)}removeShouldRescale(An){Ct(this,En).delete(An)}onScaleChanging({scale:An}){this.commitOrRemove(),this.viewParameters.realScale=An*bt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Yn of Ct(this,En))Yn.onScaleChanging()}onRotationChanging({pagesRotation:An}){this.commitOrRemove(),this.viewParameters.rotation=An}addToAnnotationStorage(An){!An.isEmpty()&&Ct(this,nn)&&!Ct(this,nn).has(An.id)&&Ct(this,nn).setValue(An.id,An)}blur(){if(!this.hasSelection)return;const{activeElement:An}=document;for(const Yn of Ct(this,vn))if(Yn.div.contains(An)){Gt(this,yn,[Yn,An]),Yn._focusEventsAllowed=!1;break}}focus(){if(!Ct(this,yn))return;const[An,Yn]=Ct(this,yn);Gt(this,yn,null),Yn.addEventListener("focusin",()=>{An._focusEventsAllowed=!0},{once:!0}),Yn.focus()}addEditListeners(){zt(this,In,Fw).call(this),zt(this,In,Nw).call(this)}removeEditListeners(){zt(this,In,H0).call(this),zt(this,In,jw).call(this)}copy(An){var lr;if(An.preventDefault(),(lr=Ct(this,Wt))==null||lr.commitOrRemove(),!this.hasSelection)return;const Yn=[];for(const br of Ct(this,vn)){const Ar=br.serialize(!0);Ar&&Yn.push(Ar)}Yn.length!==0&&An.clipboardData.setData("application/pdfjs",JSON.stringify(Yn))}cut(An){this.copy(An),this.delete()}paste(An){An.preventDefault();const{clipboardData:Yn}=An;for(const Ar of Yn.items)for(const fr of Ct(this,fn))if(fr.isHandlingMimeForPasting(Ar.type)){fr.paste(Ar,this.currentLayer);return}let lr=Yn.getData("application/pdfjs");if(!lr)return;try{lr=JSON.parse(lr)}catch(Ar){(0,vt.warn)(`paste: "${Ar.message}".`);return}if(!Array.isArray(lr))return;this.unselectAll();const br=this.currentLayer;try{const Ar=[];for(const gn of lr){const $n=br.deserialize(gn);if(!$n)return;Ar.push($n)}const fr=()=>{for(const gn of Ar)zt(this,In,Bw).call(this,gn);zt(this,In,Hw).call(this,Ar)},bn=()=>{for(const gn of Ar)gn.remove()};this.addCommands({cmd:fr,undo:bn,mustExec:!0})}catch(Ar){(0,vt.warn)(`paste: "${Ar.message}".`)}}keydown(An){var Yn;(Yn=this.getActive())!=null&&Yn.shouldGetKeyboardEvents()||vr._keyboardManager.exec(this,An)}onEditingAction(An){["undo","redo","delete","selectAll"].includes(An.name)&&this[An.name]()}setEditingState(An){An?(zt(this,In,iS).call(this),zt(this,In,Fw).call(this),zt(this,In,Nw).call(this),zt(this,In,Lo).call(this,{isEditing:Ct(this,mn)!==vt.AnnotationEditorType.NONE,isEmpty:zt(this,In,by).call(this),hasSomethingToUndo:Ct(this,hn).hasSomethingToUndo(),hasSomethingToRedo:Ct(this,hn).hasSomethingToRedo(),hasSelectedEditor:!1})):(zt(this,In,Dw).call(this),zt(this,In,H0).call(this),zt(this,In,jw).call(this),zt(this,In,Lo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(An){if(!Ct(this,fn)){Gt(this,fn,An);for(const Yn of Ct(this,fn))zt(this,In,vy).call(this,Yn.defaultPropertiesToUpdate)}}getId(){return Ct(this,qt).getId()}get currentLayer(){return Ct(this,tn).get(Ct(this,sn))}getLayer(An){return Ct(this,tn).get(An)}get currentPageIndex(){return Ct(this,sn)}addLayer(An){Ct(this,tn).set(An.pageIndex,An),Ct(this,Yt)?An.enable():An.disable()}removeLayer(An){Ct(this,tn).delete(An.pageIndex)}updateMode(An,Yn=null){if(Ct(this,mn)!==An){if(Gt(this,mn,An),An===vt.AnnotationEditorType.NONE){this.setEditingState(!1),zt(this,In,oS).call(this);return}this.setEditingState(!0),zt(this,In,sS).call(this),this.unselectAll();for(const lr of Ct(this,tn).values())lr.updateMode(An);if(Yn){for(const lr of Ct(this,Qt).values())if(lr.annotationElementId===Yn){this.setSelected(lr),lr.enterInEditMode();break}}}}updateToolbar(An){An!==Ct(this,mn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:An})}updateParams(An,Yn){if(Ct(this,fn)){if(An===vt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(An);return}for(const lr of Ct(this,vn))lr.updateParams(An,Yn);for(const lr of Ct(this,fn))lr.updateDefaultParams(An,Yn)}}enableWaiting(An=!1){if(Ct(this,an)!==An){Gt(this,an,An);for(const Yn of Ct(this,tn).values())An?Yn.disableClick():Yn.enableClick(),Yn.div.classList.toggle("waiting",An)}}getEditors(An){const Yn=[];for(const lr of Ct(this,Qt).values())lr.pageIndex===An&&Yn.push(lr);return Yn}getEditor(An){return Ct(this,Qt).get(An)}addEditor(An){Ct(this,Qt).set(An.id,An)}removeEditor(An){var Yn;Ct(this,Qt).delete(An.id),this.unselect(An),(!An.annotationElementId||!Ct(this,un).has(An.annotationElementId))&&((Yn=Ct(this,nn))==null||Yn.remove(An.id))}addDeletedAnnotationElement(An){Ct(this,un).add(An.annotationElementId),An.deleted=!0}isDeletedAnnotationElement(An){return Ct(this,un).has(An)}removeDeletedAnnotationElement(An){Ct(this,un).delete(An.annotationElementId),An.deleted=!1}setActiveEditor(An){Ct(this,Wt)!==An&&(Gt(this,Wt,An),An&&zt(this,In,vy).call(this,An.propertiesToUpdate))}toggleSelected(An){if(Ct(this,vn).has(An)){Ct(this,vn).delete(An),An.unselect(),zt(this,In,Lo).call(this,{hasSelectedEditor:this.hasSelection});return}Ct(this,vn).add(An),An.select(),zt(this,In,vy).call(this,An.propertiesToUpdate),zt(this,In,Lo).call(this,{hasSelectedEditor:!0})}setSelected(An){for(const Yn of Ct(this,vn))Yn!==An&&Yn.unselect();Ct(this,vn).clear(),Ct(this,vn).add(An),An.select(),zt(this,In,vy).call(this,An.propertiesToUpdate),zt(this,In,Lo).call(this,{hasSelectedEditor:!0})}isSelected(An){return Ct(this,vn).has(An)}unselect(An){An.unselect(),Ct(this,vn).delete(An),zt(this,In,Lo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ct(this,vn).size!==0}undo(){Ct(this,hn).undo(),zt(this,In,Lo).call(this,{hasSomethingToUndo:Ct(this,hn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:zt(this,In,by).call(this)})}redo(){Ct(this,hn).redo(),zt(this,In,Lo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ct(this,hn).hasSomethingToRedo(),isEmpty:zt(this,In,by).call(this)})}addCommands(An){Ct(this,hn).add(An),zt(this,In,Lo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:zt(this,In,by).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const An=[...Ct(this,vn)],Yn=()=>{for(const br of An)br.remove()},lr=()=>{for(const br of An)zt(this,In,Bw).call(this,br)};this.addCommands({cmd:Yn,undo:lr,mustExec:!0})}commitOrRemove(){var An;(An=Ct(this,Wt))==null||An.commitOrRemove()}hasSomethingToControl(){return Ct(this,Wt)||this.hasSelection}selectAll(){for(const An of Ct(this,vn))An.commit();zt(this,In,Hw).call(this,Ct(this,Qt).values())}unselectAll(){if(Ct(this,Wt)){Ct(this,Wt).commitOrRemove();return}if(this.hasSelection){for(const An of Ct(this,vn))An.unselect();Ct(this,vn).clear(),zt(this,In,Lo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(An,Yn,lr=!1){if(lr||this.commitOrRemove(),!this.hasSelection)return;Ct(this,Bn)[0]+=An,Ct(this,Bn)[1]+=Yn;const[br,Ar]=Ct(this,Bn),fr=[...Ct(this,vn)],bn=1e3;Ct(this,Gn)&&clearTimeout(Ct(this,Gn)),Gt(this,Gn,setTimeout(()=>{Gt(this,Gn,null),Ct(this,Bn)[0]=Ct(this,Bn)[1]=0,this.addCommands({cmd:()=>{for(const gn of fr)Ct(this,Qt).has(gn.id)&&gn.translateInPage(br,Ar)},undo:()=>{for(const gn of fr)Ct(this,Qt).has(gn.id)&&gn.translateInPage(-br,-Ar)},mustExec:!1})},bn));for(const gn of fr)gn.translateInPage(An,Yn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Gt(this,en,new Map);for(const An of Ct(this,vn))Ct(this,en).set(An,{savedX:An.x,savedY:An.y,savedPageIndex:An.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ct(this,en))return!1;this.disableUserSelect(!1);const An=Ct(this,en);Gt(this,en,null);let Yn=!1;for(const[{x:br,y:Ar,pageIndex:fr},bn]of An)bn.newX=br,bn.newY=Ar,bn.newPageIndex=fr,Yn||(Yn=br!==bn.savedX||Ar!==bn.savedY||fr!==bn.savedPageIndex);if(!Yn)return!1;const lr=(br,Ar,fr,bn)=>{if(Ct(this,Qt).has(br.id)){const gn=Ct(this,tn).get(bn);gn?br._setParentAndPosition(gn,Ar,fr):(br.pageIndex=bn,br.x=Ar,br.y=fr)}};return this.addCommands({cmd:()=>{for(const[br,{newX:Ar,newY:fr,newPageIndex:bn}]of An)lr(br,Ar,fr,bn)},undo:()=>{for(const[br,{savedX:Ar,savedY:fr,savedPageIndex:bn}]of An)lr(br,Ar,fr,bn)},mustExec:!0}),!0}dragSelectedEditors(An,Yn){if(Ct(this,en))for(const lr of Ct(this,en).keys())lr.drag(An,Yn)}rebuild(An){if(An.parent===null){const Yn=this.getLayer(An.pageIndex);Yn?(Yn.changeParent(An),Yn.addOrRebuild(An)):(this.addEditor(An),this.addToAnnotationStorage(An),An.rebuild())}else An.parent.addOrRebuild(An)}isActive(An){return Ct(this,Wt)===An}getActive(){return Ct(this,Wt)}getMode(){return Ct(this,mn)}get imageManager(){return(0,vt.shadow)(this,"imageManager",new St)}};Wt=new WeakMap,Qt=new WeakMap,tn=new WeakMap,pn=new WeakMap,nn=new WeakMap,hn=new WeakMap,sn=new WeakMap,un=new WeakMap,en=new WeakMap,fn=new WeakMap,En=new WeakMap,rn=new WeakMap,qt=new WeakMap,Yt=new WeakMap,an=new WeakMap,yn=new WeakMap,mn=new WeakMap,vn=new WeakMap,_n=new WeakMap,kn=new WeakMap,Nn=new WeakMap,xn=new WeakMap,qn=new WeakMap,zn=new WeakMap,Xn=new WeakMap,On=new WeakMap,Ln=new WeakMap,dn=new WeakMap,wn=new WeakMap,Mn=new WeakMap,Bn=new WeakMap,Gn=new WeakMap,er=new WeakMap,Zn=new WeakMap,In=new WeakSet,iS=function(){window.addEventListener("focus",Ct(this,Nn)),window.addEventListener("blur",Ct(this,kn))},Dw=function(){window.removeEventListener("focus",Ct(this,Nn)),window.removeEventListener("blur",Ct(this,kn))},Fw=function(){window.addEventListener("keydown",Ct(this,Xn),{capture:!0})},H0=function(){window.removeEventListener("keydown",Ct(this,Xn),{capture:!0})},Nw=function(){document.addEventListener("copy",Ct(this,xn)),document.addEventListener("cut",Ct(this,qn)),document.addEventListener("paste",Ct(this,zn))},jw=function(){document.removeEventListener("copy",Ct(this,xn)),document.removeEventListener("cut",Ct(this,qn)),document.removeEventListener("paste",Ct(this,zn))},Lo=function(An){Object.entries(An).some(([lr,br])=>Ct(this,Mn)[lr]!==br)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ct(this,Mn),An)})},vy=function(An){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:An})},sS=function(){if(!Ct(this,Yt)){Gt(this,Yt,!0);for(const An of Ct(this,tn).values())An.enable()}},oS=function(){if(this.unselectAll(),Ct(this,Yt)){Gt(this,Yt,!1);for(const An of Ct(this,tn).values())An.disable()}},Bw=function(An){const Yn=Ct(this,tn).get(An.pageIndex);Yn?Yn.addOrRebuild(An):this.addEditor(An)},by=function(){if(Ct(this,Qt).size===0)return!0;if(Ct(this,Qt).size===1)for(const An of Ct(this,Qt).values())return An.isEmpty();return!1},Hw=function(An){Ct(this,vn).clear();for(const Yn of An)Yn.isEmpty()||(Ct(this,vn).add(Yn),Yn.select());zt(this,In,Lo).call(this,{hasSelectedEditor:!0})},Tr(vr,"TRANSLATE_SMALL",1),Tr(vr,"TRANSLATE_BIG",10);let $t=vr;$.AnnotationEditorUIManager=$t},(_e,$,ht)=>{var sn,un,en,fn,En,rn,qt,Yt,an,yn,mn,vn,om,am,Vw,V0,U0,_y,wy;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=Bt,$.getColorValues=Qt,$.getCurrentTransform=tn,$.getCurrentTransformInverse=pn,$.getFilenameFromUrl=Ot,$.getPdfFilenameFromUrl=Lt,$.getRGB=Wt,$.getXfaPageViewport=Jt,$.isDataScheme=Mt,$.isPdfFile=Dt,$.isValidFetchUrl=Ht,$.loadScript=jt,$.noContextMenu=Ft,$.setLayerDimensions=nn;var vt=ht(7),bt=ht(1);const _t="http://www.w3.org/2000/svg",hn=class hn{};Tr(hn,"CSS",96),Tr(hn,"PDF",72),Tr(hn,"PDF_TO_CSS_UNITS",hn.CSS/hn.PDF);let wt=hn;$.PixelsPerInch=wt;class At extends vt.BaseFilterFactory{constructor({docId:dn,ownerDocument:wn=globalThis.document}={}){super();Xt(this,vn);Xt(this,sn);Xt(this,un);Xt(this,en);Xt(this,fn);Xt(this,En);Xt(this,rn);Xt(this,qt);Xt(this,Yt);Xt(this,an);Xt(this,yn);Xt(this,mn,0);Gt(this,en,dn),Gt(this,fn,wn)}addFilter(dn){if(!dn)return"none";let wn=Ct(this,vn,om).get(dn);if(wn)return wn;let Mn,Bn,Gn,er;if(dn.length===1){const sr=dn[0],Hr=new Array(256);for(let Mr=0;Mr<256;Mr++)Hr[Mr]=sr[Mr]/255;er=Mn=Bn=Gn=Hr.join(",")}else{const[sr,Hr,Mr]=dn,Jr=new Array(256),mr=new Array(256),Pr=new Array(256);for(let qr=0;qr<256;qr++)Jr[qr]=sr[qr]/255,mr[qr]=Hr[qr]/255,Pr[qr]=Mr[qr]/255;Mn=Jr.join(","),Bn=mr.join(","),Gn=Pr.join(","),er=`${Mn}${Bn}${Gn}`}if(wn=Ct(this,vn,om).get(er),wn)return Ct(this,vn,om).set(dn,wn),wn;const Zn=`g_${Ct(this,en)}_transfer_map_${ro(this,mn)._++}`,In=`url(#${Zn})`;Ct(this,vn,om).set(dn,In),Ct(this,vn,om).set(er,In);const cr=zt(this,vn,V0).call(this,Zn);return zt(this,vn,_y).call(this,Mn,Bn,Gn,cr),In}addHCMFilter(dn,wn){var Hr;const Mn=`${dn}-${wn}`;if(Ct(this,rn)===Mn)return Ct(this,qt);if(Gt(this,rn,Mn),Gt(this,qt,"none"),(Hr=Ct(this,En))==null||Hr.remove(),!dn||!wn)return Ct(this,qt);const Bn=zt(this,vn,wy).call(this,dn);dn=bt.Util.makeHexColor(...Bn);const Gn=zt(this,vn,wy).call(this,wn);if(wn=bt.Util.makeHexColor(...Gn),Ct(this,vn,am).style.color="",dn==="#000000"&&wn==="#ffffff"||dn===wn)return Ct(this,qt);const er=new Array(256);for(let Mr=0;Mr<=255;Mr++){const Jr=Mr/255;er[Mr]=Jr<=.03928?Jr/12.92:((Jr+.055)/1.055)**2.4}const Zn=er.join(","),In=`g_${Ct(this,en)}_hcm_filter`,cr=Gt(this,Yt,zt(this,vn,V0).call(this,In));zt(this,vn,_y).call(this,Zn,Zn,Zn,cr),zt(this,vn,Vw).call(this,cr);const sr=(Mr,Jr)=>{const mr=Bn[Mr]/255,Pr=Gn[Mr]/255,qr=new Array(Jr+1);for(let os=0;os<=Jr;os++)qr[os]=mr+os/Jr*(Pr-mr);return qr.join(",")};return zt(this,vn,_y).call(this,sr(0,5),sr(1,5),sr(2,5),cr),Gt(this,qt,`url(#${In})`),Ct(this,qt)}addHighlightHCMFilter(dn,wn,Mn,Bn){var Pr;const Gn=`${dn}-${wn}-${Mn}-${Bn}`;if(Ct(this,an)===Gn)return Ct(this,yn);if(Gt(this,an,Gn),Gt(this,yn,"none"),(Pr=Ct(this,Yt))==null||Pr.remove(),!dn||!wn)return Ct(this,yn);const[er,Zn]=[dn,wn].map(zt(this,vn,wy).bind(this));let In=Math.round(.2126*er[0]+.7152*er[1]+.0722*er[2]),cr=Math.round(.2126*Zn[0]+.7152*Zn[1]+.0722*Zn[2]),[sr,Hr]=[Mn,Bn].map(zt(this,vn,wy).bind(this));cr<In&&([In,cr,sr,Hr]=[cr,In,Hr,sr]),Ct(this,vn,am).style.color="";const Mr=(qr,os,Qn)=>{const Dn=new Array(256),jn=(cr-In)/Qn,pr=qr/255,vr=(os-qr)/(255*Qn);let Or=0;for(let An=0;An<=Qn;An++){const Yn=Math.round(In+An*jn),lr=pr+An*vr;for(let br=Or;br<=Yn;br++)Dn[br]=lr;Or=Yn+1}for(let An=Or;An<256;An++)Dn[An]=Dn[Or-1];return Dn.join(",")},Jr=`g_${Ct(this,en)}_hcm_highlight_filter`,mr=Gt(this,Yt,zt(this,vn,V0).call(this,Jr));return zt(this,vn,Vw).call(this,mr),zt(this,vn,_y).call(this,Mr(sr[0],Hr[0],5),Mr(sr[1],Hr[1],5),Mr(sr[2],Hr[2],5),mr),Gt(this,yn,`url(#${Jr})`),Ct(this,yn)}destroy(dn=!1){dn&&(Ct(this,qt)||Ct(this,yn))||(Ct(this,un)&&(Ct(this,un).parentNode.parentNode.remove(),Gt(this,un,null)),Ct(this,sn)&&(Ct(this,sn).clear(),Gt(this,sn,null)),Gt(this,mn,0))}}sn=new WeakMap,un=new WeakMap,en=new WeakMap,fn=new WeakMap,En=new WeakMap,rn=new WeakMap,qt=new WeakMap,Yt=new WeakMap,an=new WeakMap,yn=new WeakMap,mn=new WeakMap,vn=new WeakSet,om=function(){return Ct(this,sn)||Gt(this,sn,new Map)},am=function(){if(!Ct(this,un)){const dn=Ct(this,fn).createElement("div"),{style:wn}=dn;wn.visibility="hidden",wn.contain="strict",wn.width=wn.height=0,wn.position="absolute",wn.top=wn.left=0,wn.zIndex=-1;const Mn=Ct(this,fn).createElementNS(_t,"svg");Mn.setAttribute("width",0),Mn.setAttribute("height",0),Gt(this,un,Ct(this,fn).createElementNS(_t,"defs")),dn.append(Mn),Mn.append(Ct(this,un)),Ct(this,fn).body.append(dn)}return Ct(this,un)},Vw=function(dn){const wn=Ct(this,fn).createElementNS(_t,"feColorMatrix");wn.setAttribute("type","matrix"),wn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),dn.append(wn)},V0=function(dn){const wn=Ct(this,fn).createElementNS(_t,"filter");return wn.setAttribute("color-interpolation-filters","sRGB"),wn.setAttribute("id",dn),Ct(this,vn,am).append(wn),wn},U0=function(dn,wn,Mn){const Bn=Ct(this,fn).createElementNS(_t,wn);Bn.setAttribute("type","discrete"),Bn.setAttribute("tableValues",Mn),dn.append(Bn)},_y=function(dn,wn,Mn,Bn){const Gn=Ct(this,fn).createElementNS(_t,"feComponentTransfer");Bn.append(Gn),zt(this,vn,U0).call(this,Gn,"feFuncR",dn),zt(this,vn,U0).call(this,Gn,"feFuncG",wn),zt(this,vn,U0).call(this,Gn,"feFuncB",Mn)},wy=function(dn){return Ct(this,vn,am).style.color=dn,Wt(getComputedStyle(Ct(this,vn,am)).getPropertyValue("color"))},$.DOMFilterFactory=At;class St extends vt.BaseCanvasFactory{constructor({ownerDocument:Ln=globalThis.document}={}){super(),this._document=Ln}_createCanvas(Ln,dn){const wn=this._document.createElement("canvas");return wn.width=Ln,wn.height=dn,wn}}$.DOMCanvasFactory=St;async function Et(On,Ln=!1){if(Ht(On,document.baseURI)){const dn=await fetch(On);if(!dn.ok)throw new Error(dn.statusText);return Ln?new Uint8Array(await dn.arrayBuffer()):(0,bt.stringToBytes)(await dn.text())}return new Promise((dn,wn)=>{const Mn=new XMLHttpRequest;Mn.open("GET",On,!0),Ln&&(Mn.responseType="arraybuffer"),Mn.onreadystatechange=()=>{if(Mn.readyState===XMLHttpRequest.DONE){if(Mn.status===200||Mn.status===0){let Bn;if(Ln&&Mn.response?Bn=new Uint8Array(Mn.response):!Ln&&Mn.responseText&&(Bn=(0,bt.stringToBytes)(Mn.responseText)),Bn){dn(Bn);return}}wn(new Error(Mn.statusText))}},Mn.send(null)})}class xt extends vt.BaseCMapReaderFactory{_fetchData(Ln,dn){return Et(Ln,this.isCompressed).then(wn=>({cMapData:wn,compressionType:dn}))}}$.DOMCMapReaderFactory=xt;class Pt extends vt.BaseStandardFontDataFactory{_fetchData(Ln){return Et(Ln,!0)}}$.DOMStandardFontDataFactory=Pt;class $t extends vt.BaseSVGFactory{_createSVG(Ln){return document.createElementNS(_t,Ln)}}$.DOMSVGFactory=$t;class kt{constructor({viewBox:Ln,scale:dn,rotation:wn,offsetX:Mn=0,offsetY:Bn=0,dontFlip:Gn=!1}){this.viewBox=Ln,this.scale=dn,this.rotation=wn,this.offsetX=Mn,this.offsetY=Bn;const er=(Ln[2]+Ln[0])/2,Zn=(Ln[3]+Ln[1])/2;let In,cr,sr,Hr;switch(wn%=360,wn<0&&(wn+=360),wn){case 180:In=-1,cr=0,sr=0,Hr=1;break;case 90:In=0,cr=1,sr=1,Hr=0;break;case 270:In=0,cr=-1,sr=-1,Hr=0;break;case 0:In=1,cr=0,sr=0,Hr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Gn&&(sr=-sr,Hr=-Hr);let Mr,Jr,mr,Pr;In===0?(Mr=Math.abs(Zn-Ln[1])*dn+Mn,Jr=Math.abs(er-Ln[0])*dn+Bn,mr=(Ln[3]-Ln[1])*dn,Pr=(Ln[2]-Ln[0])*dn):(Mr=Math.abs(er-Ln[0])*dn+Mn,Jr=Math.abs(Zn-Ln[1])*dn+Bn,mr=(Ln[2]-Ln[0])*dn,Pr=(Ln[3]-Ln[1])*dn),this.transform=[In*dn,cr*dn,sr*dn,Hr*dn,Mr-In*dn*er-sr*dn*Zn,Jr-cr*dn*er-Hr*dn*Zn],this.width=mr,this.height=Pr}get rawDims(){const{viewBox:Ln}=this;return(0,bt.shadow)(this,"rawDims",{pageWidth:Ln[2]-Ln[0],pageHeight:Ln[3]-Ln[1],pageX:Ln[0],pageY:Ln[1]})}clone({scale:Ln=this.scale,rotation:dn=this.rotation,offsetX:wn=this.offsetX,offsetY:Mn=this.offsetY,dontFlip:Bn=!1}={}){return new kt({viewBox:this.viewBox.slice(),scale:Ln,rotation:dn,offsetX:wn,offsetY:Mn,dontFlip:Bn})}convertToViewportPoint(Ln,dn){return bt.Util.applyTransform([Ln,dn],this.transform)}convertToViewportRectangle(Ln){const dn=bt.Util.applyTransform([Ln[0],Ln[1]],this.transform),wn=bt.Util.applyTransform([Ln[2],Ln[3]],this.transform);return[dn[0],dn[1],wn[0],wn[1]]}convertToPdfPoint(Ln,dn){return bt.Util.applyInverseTransform([Ln,dn],this.transform)}}$.PageViewport=kt;class Rt extends bt.BaseException{constructor(Ln,dn=0){super(Ln,"RenderingCancelledException"),this.extraDelay=dn}}$.RenderingCancelledException=Rt;function Mt(On){const Ln=On.length;let dn=0;for(;dn<Ln&&On[dn].trim()==="";)dn++;return On.substring(dn,dn+5).toLowerCase()==="data:"}function Dt(On){return typeof On=="string"&&/\.pdf$/i.test(On)}function Ot(On,Ln=!1){return Ln||([On]=On.split(/[#?]/,1)),On.substring(On.lastIndexOf("/")+1)}function Lt(On,Ln="document.pdf"){if(typeof On!="string")return Ln;if(Mt(On))return(0,bt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ln;const dn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,wn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Mn=dn.exec(On);let Bn=wn.exec(Mn[1])||wn.exec(Mn[2])||wn.exec(Mn[3]);if(Bn&&(Bn=Bn[0],Bn.includes("%")))try{Bn=wn.exec(decodeURIComponent(Bn))[0]}catch{}return Bn||Ln}class Nt{constructor(){Tr(this,"started",Object.create(null));Tr(this,"times",[])}time(Ln){Ln in this.started&&(0,bt.warn)(`Timer is already running for ${Ln}`),this.started[Ln]=Date.now()}timeEnd(Ln){Ln in this.started||(0,bt.warn)(`Timer has not been started for ${Ln}`),this.times.push({name:Ln,start:this.started[Ln],end:Date.now()}),delete this.started[Ln]}toString(){const Ln=[];let dn=0;for(const{name:wn}of this.times)dn=Math.max(wn.length,dn);for(const{name:wn,start:Mn,end:Bn}of this.times)Ln.push(`${wn.padEnd(dn)} ${Bn-Mn}ms
`);return Ln.join("")}}$.StatTimer=Nt;function Ht(On,Ln){try{const{protocol:dn}=Ln?new URL(On,Ln):new URL(On);return dn==="http:"||dn==="https:"}catch{return!1}}function Ft(On){On.preventDefault()}function jt(On,Ln=!1){return new Promise((dn,wn)=>{const Mn=document.createElement("script");Mn.src=On,Mn.onload=function(Bn){Ln&&Mn.remove(),dn(Bn)},Mn.onerror=function(){wn(new Error(`Cannot load script at: ${Mn.src}`))},(document.head||document.documentElement).append(Mn)})}function Bt(On){console.log("Deprecated API usage: "+On)}let Vt;class Ut{static toDateObject(Ln){if(!Ln||typeof Ln!="string")return null;Vt||(Vt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const dn=Vt.exec(Ln);if(!dn)return null;const wn=parseInt(dn[1],10);let Mn=parseInt(dn[2],10);Mn=Mn>=1&&Mn<=12?Mn-1:0;let Bn=parseInt(dn[3],10);Bn=Bn>=1&&Bn<=31?Bn:1;let Gn=parseInt(dn[4],10);Gn=Gn>=0&&Gn<=23?Gn:0;let er=parseInt(dn[5],10);er=er>=0&&er<=59?er:0;let Zn=parseInt(dn[6],10);Zn=Zn>=0&&Zn<=59?Zn:0;const In=dn[7]||"Z";let cr=parseInt(dn[8],10);cr=cr>=0&&cr<=23?cr:0;let sr=parseInt(dn[9],10)||0;return sr=sr>=0&&sr<=59?sr:0,In==="-"?(Gn+=cr,er+=sr):In==="+"&&(Gn-=cr,er-=sr),new Date(Date.UTC(wn,Mn,Bn,Gn,er,Zn))}}$.PDFDateString=Ut;function Jt(On,{scale:Ln=1,rotation:dn=0}){const{width:wn,height:Mn}=On.attributes.style,Bn=[0,0,parseInt(wn),parseInt(Mn)];return new kt({viewBox:Bn,scale:Ln,rotation:dn})}function Wt(On){if(On.startsWith("#")){const Ln=parseInt(On.slice(1),16);return[(Ln&16711680)>>16,(Ln&65280)>>8,Ln&255]}return On.startsWith("rgb(")?On.slice(4,-1).split(",").map(Ln=>parseInt(Ln)):On.startsWith("rgba(")?On.slice(5,-1).split(",").map(Ln=>parseInt(Ln)).slice(0,3):((0,bt.warn)(`Not a valid color format: "${On}"`),[0,0,0])}function Qt(On){const Ln=document.createElement("span");Ln.style.visibility="hidden",document.body.append(Ln);for(const dn of On.keys()){Ln.style.color=dn;const wn=window.getComputedStyle(Ln).color;On.set(dn,Wt(wn))}Ln.remove()}function tn(On){const{a:Ln,b:dn,c:wn,d:Mn,e:Bn,f:Gn}=On.getTransform();return[Ln,dn,wn,Mn,Bn,Gn]}function pn(On){const{a:Ln,b:dn,c:wn,d:Mn,e:Bn,f:Gn}=On.getTransform().invertSelf();return[Ln,dn,wn,Mn,Bn,Gn]}function nn(On,Ln,dn=!1,wn=!0){if(Ln instanceof kt){const{pageWidth:Mn,pageHeight:Bn}=Ln.rawDims,{style:Gn}=On,er=bt.FeatureTest.isCSSRoundSupported,Zn=`var(--scale-factor) * ${Mn}px`,In=`var(--scale-factor) * ${Bn}px`,cr=er?`round(${Zn}, 1px)`:`calc(${Zn})`,sr=er?`round(${In}, 1px)`:`calc(${In})`;!dn||Ln.rotation%180===0?(Gn.width=cr,Gn.height=sr):(Gn.width=sr,Gn.height=cr)}wn&&On.setAttribute("data-main-rotation",Ln.rotation)}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var vt=ht(1);class bt{constructor(){this.constructor===bt&&(0,vt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(xt){return"none"}addHCMFilter(xt,Pt){return"none"}addHighlightHCMFilter(xt,Pt,$t,kt){return"none"}destroy(xt=!1){}}$.BaseFilterFactory=bt;class _t{constructor(){this.constructor===_t&&(0,vt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(xt,Pt){if(xt<=0||Pt<=0)throw new Error("Invalid canvas size");const $t=this._createCanvas(xt,Pt);return{canvas:$t,context:$t.getContext("2d")}}reset(xt,Pt,$t){if(!xt.canvas)throw new Error("Canvas is not specified");if(Pt<=0||$t<=0)throw new Error("Invalid canvas size");xt.canvas.width=Pt,xt.canvas.height=$t}destroy(xt){if(!xt.canvas)throw new Error("Canvas is not specified");xt.canvas.width=0,xt.canvas.height=0,xt.canvas=null,xt.context=null}_createCanvas(xt,Pt){(0,vt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=_t;class wt{constructor({baseUrl:xt=null,isCompressed:Pt=!0}){this.constructor===wt&&(0,vt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=xt,this.isCompressed=Pt}async fetch({name:xt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!xt)throw new Error("CMap name must be specified.");const Pt=this.baseUrl+xt+(this.isCompressed?".bcmap":""),$t=this.isCompressed?vt.CMapCompressionType.BINARY:vt.CMapCompressionType.NONE;return this._fetchData(Pt,$t).catch(kt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Pt}`)})}_fetchData(xt,Pt){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=wt;class At{constructor({baseUrl:xt=null}){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=xt}async fetch({filename:xt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!xt)throw new Error("Font filename must be specified.");const Pt=`${this.baseUrl}${xt}`;return this._fetchData(Pt).catch($t=>{throw new Error(`Unable to load font data at: ${Pt}`)})}_fetchData(xt){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=At;class St{constructor(){this.constructor===St&&(0,vt.unreachable)("Cannot initialize BaseSVGFactory.")}create(xt,Pt,$t=!1){if(xt<=0||Pt<=0)throw new Error("Invalid SVG dimensions");const kt=this._createSVG("svg:svg");return kt.setAttribute("version","1.1"),$t||(kt.setAttribute("width",`${xt}px`),kt.setAttribute("height",`${Pt}px`)),kt.setAttribute("preserveAspectRatio","none"),kt.setAttribute("viewBox",`0 0 ${xt} ${Pt}`),kt}createElement(xt){if(typeof xt!="string")throw new Error("Invalid SVG element type");return this._createSVG(xt)}_createSVG(xt){(0,vt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=St},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var vt=ht(1);const bt=3285377520,_t=4294901760,wt=65535;class At{constructor(Et){this.h1=Et?Et&4294967295:bt,this.h2=Et?Et&4294967295:bt}update(Et){let xt,Pt;if(typeof Et=="string"){xt=new Uint8Array(Et.length*2),Pt=0;for(let Bt=0,Vt=Et.length;Bt<Vt;Bt++){const Ut=Et.charCodeAt(Bt);Ut<=255?xt[Pt++]=Ut:(xt[Pt++]=Ut>>>8,xt[Pt++]=Ut&255)}}else if((0,vt.isArrayBuffer)(Et))xt=Et.slice(),Pt=xt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const $t=Pt>>2,kt=Pt-$t*4,Rt=new Uint32Array(xt.buffer,0,$t);let Mt=0,Dt=0,Ot=this.h1,Lt=this.h2;const Nt=3432918353,Ht=461845907,Ft=Nt&wt,jt=Ht&wt;for(let Bt=0;Bt<$t;Bt++)Bt&1?(Mt=Rt[Bt],Mt=Mt*Nt&_t|Mt*Ft&wt,Mt=Mt<<15|Mt>>>17,Mt=Mt*Ht&_t|Mt*jt&wt,Ot^=Mt,Ot=Ot<<13|Ot>>>19,Ot=Ot*5+3864292196):(Dt=Rt[Bt],Dt=Dt*Nt&_t|Dt*Ft&wt,Dt=Dt<<15|Dt>>>17,Dt=Dt*Ht&_t|Dt*jt&wt,Lt^=Dt,Lt=Lt<<13|Lt>>>19,Lt=Lt*5+3864292196);switch(Mt=0,kt){case 3:Mt^=xt[$t*4+2]<<16;case 2:Mt^=xt[$t*4+1]<<8;case 1:Mt^=xt[$t*4],Mt=Mt*Nt&_t|Mt*Ft&wt,Mt=Mt<<15|Mt>>>17,Mt=Mt*Ht&_t|Mt*jt&wt,$t&1?Ot^=Mt:Lt^=Mt}this.h1=Ot,this.h2=Lt}hexdigest(){let Et=this.h1,xt=this.h2;return Et^=xt>>>1,Et=Et*3981806797&_t|Et*36045&wt,xt=xt*4283543511&_t|((xt<<16|Et>>>16)*2950163797&_t)>>>16,Et^=xt>>>1,Et=Et*444984403&_t|Et*60499&wt,xt=xt*3301882366&_t|((xt<<16|Et>>>16)*3120437893&_t)>>>16,Et^=xt>>>1,(Et>>>0).toString(16).padStart(8,"0")+(xt>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=At},(_e,$,ht)=>{var wt;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var vt=ht(1);class bt{constructor({ownerDocument:St=globalThis.document,styleElement:Et=null}){Xt(this,wt,new Set);this._document=St,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(St){this.nativeFontFaces.add(St),this._document.fonts.add(St)}removeNativeFontFace(St){this.nativeFontFaces.delete(St),this._document.fonts.delete(St)}insertRule(St){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Et=this.styleElement.sheet;Et.insertRule(St,Et.cssRules.length)}clear(){for(const St of this.nativeFontFaces)this._document.fonts.delete(St);this.nativeFontFaces.clear(),Ct(this,wt).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(St){if(!(!St||Ct(this,wt).has(St.loadedName))){if((0,vt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Et,src:xt,style:Pt}=St,$t=new FontFace(Et,xt,Pt);this.addNativeFontFace($t);try{await $t.load(),Ct(this,wt).add(Et)}catch{(0,vt.warn)(`Cannot load system font: ${St.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace($t)}return}(0,vt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(St){if(St.attached||St.missingFile&&!St.systemFontInfo)return;if(St.attached=!0,St.systemFontInfo){await this.loadSystemFont(St.systemFontInfo);return}if(this.isFontLoadingAPISupported){const xt=St.createNativeFontFace();if(xt){this.addNativeFontFace(xt);try{await xt.loaded}catch(Pt){throw(0,vt.warn)(`Failed to load font '${xt.family}': '${Pt}'.`),St.disableFontFace=!0,Pt}}return}const Et=St.createFontFaceRule();if(Et){if(this.insertRule(Et),this.isSyncFontLoadingSupported)return;await new Promise(xt=>{const Pt=this._queueLoadingCallback(xt);this._prepareFontLoadEvent(St,Pt)})}}get isFontLoadingAPISupported(){var Et;const St=!!((Et=this._document)!=null&&Et.fonts);return(0,vt.shadow)(this,"isFontLoadingAPISupported",St)}get isSyncFontLoadingSupported(){let St=!1;return(vt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(St=!0),(0,vt.shadow)(this,"isSyncFontLoadingSupported",St)}_queueLoadingCallback(St){function Et(){for((0,vt.assert)(!Pt.done,"completeRequest() cannot be called twice."),Pt.done=!0;xt.length>0&&xt[0].done;){const $t=xt.shift();setTimeout($t.callback,0)}}const{loadingRequests:xt}=this,Pt={done:!1,complete:Et,callback:St};return xt.push(Pt),Pt}get _loadTestFont(){const St=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,vt.shadow)(this,"_loadTestFont",St)}_prepareFontLoadEvent(St,Et){function xt(Wt,Qt){return Wt.charCodeAt(Qt)<<24|Wt.charCodeAt(Qt+1)<<16|Wt.charCodeAt(Qt+2)<<8|Wt.charCodeAt(Qt+3)&255}function Pt(Wt,Qt,tn,pn){const nn=Wt.substring(0,Qt),hn=Wt.substring(Qt+tn);return nn+pn+hn}let $t,kt;const Rt=this._document.createElement("canvas");Rt.width=1,Rt.height=1;const Mt=Rt.getContext("2d");let Dt=0;function Ot(Wt,Qt){if(++Dt>30){(0,vt.warn)("Load test font never loaded."),Qt();return}if(Mt.font="30px "+Wt,Mt.fillText(".",0,20),Mt.getImageData(0,0,1,1).data[3]>0){Qt();return}setTimeout(Ot.bind(null,Wt,Qt))}const Lt=`lt${Date.now()}${this.loadTestFontId++}`;let Nt=this._loadTestFont;Nt=Pt(Nt,976,Lt.length,Lt);const Ft=16,jt=1482184792;let Bt=xt(Nt,Ft);for($t=0,kt=Lt.length-3;$t<kt;$t+=4)Bt=Bt-jt+xt(Lt,$t)|0;$t<Lt.length&&(Bt=Bt-jt+xt(Lt+"XXX",$t)|0),Nt=Pt(Nt,Ft,4,(0,vt.string32)(Bt));const Vt=`url(data:font/opentype;base64,${btoa(Nt)});`,Ut=`@font-face {font-family:"${Lt}";src:${Vt}}`;this.insertRule(Ut);const Jt=this._document.createElement("div");Jt.style.visibility="hidden",Jt.style.width=Jt.style.height="10px",Jt.style.position="absolute",Jt.style.top=Jt.style.left="0px";for(const Wt of[St.loadedName,Lt]){const Qt=this._document.createElement("span");Qt.textContent="Hi",Qt.style.fontFamily=Wt,Jt.append(Qt)}this._document.body.append(Jt),Ot(Lt,()=>{Jt.remove(),Et.complete()})}}wt=new WeakMap,$.FontLoader=bt;class _t{constructor(St,{isEvalSupported:Et=!0,disableFontFace:xt=!1,ignoreErrors:Pt=!1,inspectFont:$t=null}){this.compiledGlyphs=Object.create(null);for(const kt in St)this[kt]=St[kt];this.isEvalSupported=Et!==!1,this.disableFontFace=xt===!0,this.ignoreErrors=Pt===!0,this._inspectFont=$t}createNativeFontFace(){var Et;if(!this.data||this.disableFontFace)return null;let St;if(!this.cssFontInfo)St=new FontFace(this.loadedName,this.data,{});else{const xt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(xt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),St=new FontFace(this.cssFontInfo.fontFamily,this.data,xt)}return(Et=this._inspectFont)==null||Et.call(this,this),St}createFontFaceRule(){var Pt;if(!this.data||this.disableFontFace)return null;const St=(0,vt.bytesToString)(this.data),Et=`url(data:${this.mimetype};base64,${btoa(St)});`;let xt;if(!this.cssFontInfo)xt=`@font-face {font-family:"${this.loadedName}";src:${Et}}`;else{let $t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&($t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),xt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${$t}src:${Et}}`}return(Pt=this._inspectFont)==null||Pt.call(this,this,Et),xt}getPathGenerator(St,Et){if(this.compiledGlyphs[Et]!==void 0)return this.compiledGlyphs[Et];let xt;try{xt=St.get(this.loadedName+"_path_"+Et)}catch(Pt){if(!this.ignoreErrors)throw Pt;return(0,vt.warn)(`getPathGenerator - ignoring character: "${Pt}".`),this.compiledGlyphs[Et]=function($t,kt){}}if(this.isEvalSupported&&vt.FeatureTest.isEvalSupported){const Pt=[];for(const $t of xt){const kt=$t.args!==void 0?$t.args.join(","):"";Pt.push("c.",$t.cmd,"(",kt,`);
`)}return this.compiledGlyphs[Et]=new Function("c","size",Pt.join(""))}return this.compiledGlyphs[Et]=function(Pt,$t){for(const kt of xt)kt.cmd==="scale"&&(kt.args=[$t,-$t]),Pt[kt.cmd].apply(Pt,kt.args)}}}$.FontFaceObject=_t},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var vt=ht(7);ht(1);const bt=function(Et){return new Promise((xt,Pt)=>{require$$5.readFile(Et,(kt,Rt)=>{if(kt||!Rt){Pt(new Error(kt));return}xt(new Uint8Array(Rt))})})};class _t extends vt.BaseFilterFactory{}$.NodeFilterFactory=_t;class wt extends vt.BaseCanvasFactory{_createCanvas(xt,Pt){return require$$5.createCanvas(xt,Pt)}}$.NodeCanvasFactory=wt;class At extends vt.BaseCMapReaderFactory{_fetchData(xt,Pt){return bt(xt).then($t=>({cMapData:$t,compressionType:Pt}))}}$.NodeCMapReaderFactory=At;class St extends vt.BaseStandardFontDataFactory{_fetchData(xt){return bt(xt)}}$.NodeStandardFontDataFactory=St},(_e,$,ht)=>{var un,Uw,Ww;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var vt=ht(1),bt=ht(6),_t=ht(12),wt=ht(13);const At=16,St=100,Et=4096,xt=15,Pt=10,$t=1e3,kt=16;function Rt(rn,qt){if(rn._removeMirroring)throw new Error("Context is already forwarding operations.");rn.__originalSave=rn.save,rn.__originalRestore=rn.restore,rn.__originalRotate=rn.rotate,rn.__originalScale=rn.scale,rn.__originalTranslate=rn.translate,rn.__originalTransform=rn.transform,rn.__originalSetTransform=rn.setTransform,rn.__originalResetTransform=rn.resetTransform,rn.__originalClip=rn.clip,rn.__originalMoveTo=rn.moveTo,rn.__originalLineTo=rn.lineTo,rn.__originalBezierCurveTo=rn.bezierCurveTo,rn.__originalRect=rn.rect,rn.__originalClosePath=rn.closePath,rn.__originalBeginPath=rn.beginPath,rn._removeMirroring=()=>{rn.save=rn.__originalSave,rn.restore=rn.__originalRestore,rn.rotate=rn.__originalRotate,rn.scale=rn.__originalScale,rn.translate=rn.__originalTranslate,rn.transform=rn.__originalTransform,rn.setTransform=rn.__originalSetTransform,rn.resetTransform=rn.__originalResetTransform,rn.clip=rn.__originalClip,rn.moveTo=rn.__originalMoveTo,rn.lineTo=rn.__originalLineTo,rn.bezierCurveTo=rn.__originalBezierCurveTo,rn.rect=rn.__originalRect,rn.closePath=rn.__originalClosePath,rn.beginPath=rn.__originalBeginPath,delete rn._removeMirroring},rn.save=function(){qt.save(),this.__originalSave()},rn.restore=function(){qt.restore(),this.__originalRestore()},rn.translate=function(an,yn){qt.translate(an,yn),this.__originalTranslate(an,yn)},rn.scale=function(an,yn){qt.scale(an,yn),this.__originalScale(an,yn)},rn.transform=function(an,yn,mn,vn,_n,kn){qt.transform(an,yn,mn,vn,_n,kn),this.__originalTransform(an,yn,mn,vn,_n,kn)},rn.setTransform=function(an,yn,mn,vn,_n,kn){qt.setTransform(an,yn,mn,vn,_n,kn),this.__originalSetTransform(an,yn,mn,vn,_n,kn)},rn.resetTransform=function(){qt.resetTransform(),this.__originalResetTransform()},rn.rotate=function(an){qt.rotate(an),this.__originalRotate(an)},rn.clip=function(an){qt.clip(an),this.__originalClip(an)},rn.moveTo=function(Yt,an){qt.moveTo(Yt,an),this.__originalMoveTo(Yt,an)},rn.lineTo=function(Yt,an){qt.lineTo(Yt,an),this.__originalLineTo(Yt,an)},rn.bezierCurveTo=function(Yt,an,yn,mn,vn,_n){qt.bezierCurveTo(Yt,an,yn,mn,vn,_n),this.__originalBezierCurveTo(Yt,an,yn,mn,vn,_n)},rn.rect=function(Yt,an,yn,mn){qt.rect(Yt,an,yn,mn),this.__originalRect(Yt,an,yn,mn)},rn.closePath=function(){qt.closePath(),this.__originalClosePath()},rn.beginPath=function(){qt.beginPath(),this.__originalBeginPath()}}class Mt{constructor(qt){this.canvasFactory=qt,this.cache=Object.create(null)}getCanvas(qt,Yt,an){let yn;return this.cache[qt]!==void 0?(yn=this.cache[qt],this.canvasFactory.reset(yn,Yt,an)):(yn=this.canvasFactory.create(Yt,an),this.cache[qt]=yn),yn}delete(qt){delete this.cache[qt]}clear(){for(const qt in this.cache){const Yt=this.cache[qt];this.canvasFactory.destroy(Yt),delete this.cache[qt]}}}function Dt(rn,qt,Yt,an,yn,mn,vn,_n,kn,Nn){const[xn,qn,zn,Xn,On,Ln]=(0,bt.getCurrentTransform)(rn);if(qn===0&&zn===0){const Mn=vn*xn+On,Bn=Math.round(Mn),Gn=_n*Xn+Ln,er=Math.round(Gn),Zn=(vn+kn)*xn+On,In=Math.abs(Math.round(Zn)-Bn)||1,cr=(_n+Nn)*Xn+Ln,sr=Math.abs(Math.round(cr)-er)||1;return rn.setTransform(Math.sign(xn),0,0,Math.sign(Xn),Bn,er),rn.drawImage(qt,Yt,an,yn,mn,0,0,In,sr),rn.setTransform(xn,qn,zn,Xn,On,Ln),[In,sr]}if(xn===0&&Xn===0){const Mn=_n*zn+On,Bn=Math.round(Mn),Gn=vn*qn+Ln,er=Math.round(Gn),Zn=(_n+Nn)*zn+On,In=Math.abs(Math.round(Zn)-Bn)||1,cr=(vn+kn)*qn+Ln,sr=Math.abs(Math.round(cr)-er)||1;return rn.setTransform(0,Math.sign(qn),Math.sign(zn),0,Bn,er),rn.drawImage(qt,Yt,an,yn,mn,0,0,sr,In),rn.setTransform(xn,qn,zn,Xn,On,Ln),[sr,In]}rn.drawImage(qt,Yt,an,yn,mn,vn,_n,kn,Nn);const dn=Math.hypot(xn,qn),wn=Math.hypot(zn,Xn);return[dn*kn,wn*Nn]}function Ot(rn){const{width:qt,height:Yt}=rn;if(qt>$t||Yt>$t)return null;const an=1e3,yn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),mn=qt+1;let vn=new Uint8Array(mn*(Yt+1)),_n,kn,Nn;const xn=qt+7&-8;let qn=new Uint8Array(xn*Yt),zn=0;for(const wn of rn.data){let Mn=128;for(;Mn>0;)qn[zn++]=wn&Mn?0:255,Mn>>=1}let Xn=0;for(zn=0,qn[zn]!==0&&(vn[0]=1,++Xn),kn=1;kn<qt;kn++)qn[zn]!==qn[zn+1]&&(vn[kn]=qn[zn]?2:1,++Xn),zn++;for(qn[zn]!==0&&(vn[kn]=2,++Xn),_n=1;_n<Yt;_n++){zn=_n*xn,Nn=_n*mn,qn[zn-xn]!==qn[zn]&&(vn[Nn]=qn[zn]?1:8,++Xn);let wn=(qn[zn]?4:0)+(qn[zn-xn]?8:0);for(kn=1;kn<qt;kn++)wn=(wn>>2)+(qn[zn+1]?4:0)+(qn[zn-xn+1]?8:0),yn[wn]&&(vn[Nn+kn]=yn[wn],++Xn),zn++;if(qn[zn-xn]!==qn[zn]&&(vn[Nn+kn]=qn[zn]?2:4,++Xn),Xn>an)return null}for(zn=xn*(Yt-1),Nn=_n*mn,qn[zn]!==0&&(vn[Nn]=8,++Xn),kn=1;kn<qt;kn++)qn[zn]!==qn[zn+1]&&(vn[Nn+kn]=qn[zn]?4:8,++Xn),zn++;if(qn[zn]!==0&&(vn[Nn+kn]=4,++Xn),Xn>an)return null;const On=new Int32Array([0,mn,-1,0,-mn,0,0,0,1]),Ln=new Path2D;for(_n=0;Xn&&_n<=Yt;_n++){let wn=_n*mn;const Mn=wn+qt;for(;wn<Mn&&!vn[wn];)wn++;if(wn===Mn)continue;Ln.moveTo(wn%mn,_n);const Bn=wn;let Gn=vn[wn];do{const er=On[Gn];do wn+=er;while(!vn[wn]);const Zn=vn[wn];Zn!==5&&Zn!==10?(Gn=Zn,vn[wn]=0):(Gn=Zn&51*Gn>>4,vn[wn]&=Gn>>2|Gn<<2),Ln.lineTo(wn%mn,wn/mn|0),vn[wn]||--Xn}while(Bn!==wn);--_n}return qn=null,vn=null,function(wn){wn.save(),wn.scale(1/qt,-1/Yt),wn.translate(0,-Yt),wn.fill(Ln),wn.beginPath(),wn.restore()}}class Lt{constructor(qt,Yt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=vt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,qt,Yt])}clone(){const qt=Object.create(this);return qt.clipBox=this.clipBox.slice(),qt}setCurrentPoint(qt,Yt){this.x=qt,this.y=Yt}updatePathMinMax(qt,Yt,an){[Yt,an]=vt.Util.applyTransform([Yt,an],qt),this.minX=Math.min(this.minX,Yt),this.minY=Math.min(this.minY,an),this.maxX=Math.max(this.maxX,Yt),this.maxY=Math.max(this.maxY,an)}updateRectMinMax(qt,Yt){const an=vt.Util.applyTransform(Yt,qt),yn=vt.Util.applyTransform(Yt.slice(2),qt);this.minX=Math.min(this.minX,an[0],yn[0]),this.minY=Math.min(this.minY,an[1],yn[1]),this.maxX=Math.max(this.maxX,an[0],yn[0]),this.maxY=Math.max(this.maxY,an[1],yn[1])}updateScalingPathMinMax(qt,Yt){vt.Util.scaleMinMax(qt,Yt),this.minX=Math.min(this.minX,Yt[0]),this.maxX=Math.max(this.maxX,Yt[1]),this.minY=Math.min(this.minY,Yt[2]),this.maxY=Math.max(this.maxY,Yt[3])}updateCurvePathMinMax(qt,Yt,an,yn,mn,vn,_n,kn,Nn,xn){const qn=vt.Util.bezierBoundingBox(Yt,an,yn,mn,vn,_n,kn,Nn);if(xn){xn[0]=Math.min(xn[0],qn[0],qn[2]),xn[1]=Math.max(xn[1],qn[0],qn[2]),xn[2]=Math.min(xn[2],qn[1],qn[3]),xn[3]=Math.max(xn[3],qn[1],qn[3]);return}this.updateRectMinMax(qt,qn)}getPathBoundingBox(qt=_t.PathType.FILL,Yt=null){const an=[this.minX,this.minY,this.maxX,this.maxY];if(qt===_t.PathType.STROKE){Yt||(0,vt.unreachable)("Stroke bounding box must include transform.");const yn=vt.Util.singularValueDecompose2dScale(Yt),mn=yn[0]*this.lineWidth/2,vn=yn[1]*this.lineWidth/2;an[0]-=mn,an[1]-=vn,an[2]+=mn,an[3]+=vn}return an}updateClipFromPath(){const qt=vt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(qt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(qt){this.clipBox=qt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(qt=_t.PathType.FILL,Yt=null){return vt.Util.intersect(this.clipBox,this.getPathBoundingBox(qt,Yt))}}function Nt(rn,qt){if(typeof ImageData<"u"&&qt instanceof ImageData){rn.putImageData(qt,0,0);return}const Yt=qt.height,an=qt.width,yn=Yt%kt,mn=(Yt-yn)/kt,vn=yn===0?mn:mn+1,_n=rn.createImageData(an,kt);let kn=0,Nn;const xn=qt.data,qn=_n.data;let zn,Xn,On,Ln;if(qt.kind===vt.ImageKind.GRAYSCALE_1BPP){const dn=xn.byteLength,wn=new Uint32Array(qn.buffer,0,qn.byteLength>>2),Mn=wn.length,Bn=an+7>>3,Gn=4294967295,er=vt.FeatureTest.isLittleEndian?4278190080:255;for(zn=0;zn<vn;zn++){for(On=zn<mn?kt:yn,Nn=0,Xn=0;Xn<On;Xn++){const Zn=dn-kn;let In=0;const cr=Zn>Bn?an:Zn*8-7,sr=cr&-8;let Hr=0,Mr=0;for(;In<sr;In+=8)Mr=xn[kn++],wn[Nn++]=Mr&128?Gn:er,wn[Nn++]=Mr&64?Gn:er,wn[Nn++]=Mr&32?Gn:er,wn[Nn++]=Mr&16?Gn:er,wn[Nn++]=Mr&8?Gn:er,wn[Nn++]=Mr&4?Gn:er,wn[Nn++]=Mr&2?Gn:er,wn[Nn++]=Mr&1?Gn:er;for(;In<cr;In++)Hr===0&&(Mr=xn[kn++],Hr=128),wn[Nn++]=Mr&Hr?Gn:er,Hr>>=1}for(;Nn<Mn;)wn[Nn++]=0;rn.putImageData(_n,0,zn*kt)}}else if(qt.kind===vt.ImageKind.RGBA_32BPP){for(Xn=0,Ln=an*kt*4,zn=0;zn<mn;zn++)qn.set(xn.subarray(kn,kn+Ln)),kn+=Ln,rn.putImageData(_n,0,Xn),Xn+=kt;zn<vn&&(Ln=an*yn*4,qn.set(xn.subarray(kn,kn+Ln)),rn.putImageData(_n,0,Xn))}else if(qt.kind===vt.ImageKind.RGB_24BPP)for(On=kt,Ln=an*On,zn=0;zn<vn;zn++){for(zn>=mn&&(On=yn,Ln=an*On),Nn=0,Xn=Ln;Xn--;)qn[Nn++]=xn[kn++],qn[Nn++]=xn[kn++],qn[Nn++]=xn[kn++],qn[Nn++]=255;rn.putImageData(_n,0,zn*kt)}else throw new Error(`bad image kind: ${qt.kind}`)}function Ht(rn,qt){if(qt.bitmap){rn.drawImage(qt.bitmap,0,0);return}const Yt=qt.height,an=qt.width,yn=Yt%kt,mn=(Yt-yn)/kt,vn=yn===0?mn:mn+1,_n=rn.createImageData(an,kt);let kn=0;const Nn=qt.data,xn=_n.data;for(let qn=0;qn<vn;qn++){const zn=qn<mn?kt:yn;({srcPos:kn}=(0,wt.convertBlackAndWhiteToRGBA)({src:Nn,srcPos:kn,dest:xn,width:an,height:zn,nonBlackColor:0})),rn.putImageData(_n,0,qn*kt)}}function Ft(rn,qt){const Yt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const an of Yt)rn[an]!==void 0&&(qt[an]=rn[an]);rn.setLineDash!==void 0&&(qt.setLineDash(rn.getLineDash()),qt.lineDashOffset=rn.lineDashOffset)}function jt(rn){if(rn.strokeStyle=rn.fillStyle="#000000",rn.fillRule="nonzero",rn.globalAlpha=1,rn.lineWidth=1,rn.lineCap="butt",rn.lineJoin="miter",rn.miterLimit=10,rn.globalCompositeOperation="source-over",rn.font="10px sans-serif",rn.setLineDash!==void 0&&(rn.setLineDash([]),rn.lineDashOffset=0),!vt.isNodeJS){const{filter:qt}=rn;qt!=="none"&&qt!==""&&(rn.filter="none")}}function Bt(rn,qt,Yt,an){const yn=rn.length;for(let mn=3;mn<yn;mn+=4){const vn=rn[mn];if(vn===0)rn[mn-3]=qt,rn[mn-2]=Yt,rn[mn-1]=an;else if(vn<255){const _n=255-vn;rn[mn-3]=rn[mn-3]*vn+qt*_n>>8,rn[mn-2]=rn[mn-2]*vn+Yt*_n>>8,rn[mn-1]=rn[mn-1]*vn+an*_n>>8}}}function Vt(rn,qt,Yt){const an=rn.length,yn=1/255;for(let mn=3;mn<an;mn+=4){const vn=Yt?Yt[rn[mn]]:rn[mn];qt[mn]=qt[mn]*vn*yn|0}}function Ut(rn,qt,Yt){const an=rn.length;for(let yn=3;yn<an;yn+=4){const mn=rn[yn-3]*77+rn[yn-2]*152+rn[yn-1]*28;qt[yn]=Yt?qt[yn]*Yt[mn>>8]>>8:qt[yn]*mn>>16}}function Jt(rn,qt,Yt,an,yn,mn,vn,_n,kn,Nn,xn){const qn=!!mn,zn=qn?mn[0]:0,Xn=qn?mn[1]:0,On=qn?mn[2]:0,Ln=yn==="Luminosity"?Ut:Vt,wn=Math.min(an,Math.ceil(1048576/Yt));for(let Mn=0;Mn<an;Mn+=wn){const Bn=Math.min(wn,an-Mn),Gn=rn.getImageData(_n-Nn,Mn+(kn-xn),Yt,Bn),er=qt.getImageData(_n,Mn+kn,Yt,Bn);qn&&Bt(Gn.data,zn,Xn,On),Ln(Gn.data,er.data,vn),qt.putImageData(er,_n,Mn+kn)}}function Wt(rn,qt,Yt,an){const yn=an[0],mn=an[1],vn=an[2]-yn,_n=an[3]-mn;vn===0||_n===0||(Jt(qt.context,Yt,vn,_n,qt.subtype,qt.backdrop,qt.transferMap,yn,mn,qt.offsetX,qt.offsetY),rn.save(),rn.globalAlpha=1,rn.globalCompositeOperation="source-over",rn.setTransform(1,0,0,1,0,0),rn.drawImage(Yt.canvas,0,0),rn.restore())}function Qt(rn,qt){const Yt=vt.Util.singularValueDecompose2dScale(rn);Yt[0]=Math.fround(Yt[0]),Yt[1]=Math.fround(Yt[1]);const an=Math.fround((globalThis.devicePixelRatio||1)*bt.PixelsPerInch.PDF_TO_CSS_UNITS);return qt!==void 0?qt:Yt[0]<=an||Yt[1]<=an}const tn=["butt","round","square"],pn=["miter","round","bevel"],nn={},hn={},En=class En{constructor(qt,Yt,an,yn,mn,{optionalContentConfig:vn,markedContentStack:_n=null},kn,Nn){Xt(this,un);this.ctx=qt,this.current=new Lt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Yt,this.objs=an,this.canvasFactory=yn,this.filterFactory=mn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=_n||[],this.optionalContentConfig=vn,this.cachedCanvases=new Mt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=kn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Nn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(qt,Yt=null){return typeof qt=="string"?qt.startsWith("g_")?this.commonObjs.get(qt):this.objs.get(qt):Yt}beginDrawing({transform:qt,viewport:Yt,transparency:an=!1,background:yn=null}){const mn=this.ctx.canvas.width,vn=this.ctx.canvas.height,_n=this.ctx.fillStyle;if(this.ctx.fillStyle=yn||"#ffffff",this.ctx.fillRect(0,0,mn,vn),this.ctx.fillStyle=_n,an){const kn=this.cachedCanvases.getCanvas("transparent",mn,vn);this.compositeCtx=this.ctx,this.transparentCanvas=kn.canvas,this.ctx=kn.context,this.ctx.save(),this.ctx.transform(...(0,bt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),jt(this.ctx),qt&&(this.ctx.transform(...qt),this.outputScaleX=qt[0],this.outputScaleY=qt[0]),this.ctx.transform(...Yt.transform),this.viewportScale=Yt.scale,this.baseTransform=(0,bt.getCurrentTransform)(this.ctx)}executeOperatorList(qt,Yt,an,yn){const mn=qt.argsArray,vn=qt.fnArray;let _n=Yt||0;const kn=mn.length;if(kn===_n)return _n;const Nn=kn-_n>Pt&&typeof an=="function",xn=Nn?Date.now()+xt:0;let qn=0;const zn=this.commonObjs,Xn=this.objs;let On;for(;;){if(yn!==void 0&&_n===yn.nextBreakPoint)return yn.breakIt(_n,an),_n;if(On=vn[_n],On!==vt.OPS.dependency)this[On].apply(this,mn[_n]);else for(const Ln of mn[_n]){const dn=Ln.startsWith("g_")?zn:Xn;if(!dn.has(Ln))return dn.get(Ln,an),_n}if(_n++,_n===kn)return _n;if(Nn&&++qn>Pt){if(Date.now()>xn)return an(),_n;qn=0}}}endDrawing(){zt(this,un,Uw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const qt of this._cachedBitmapsMap.values()){for(const Yt of qt.values())typeof HTMLCanvasElement<"u"&&Yt instanceof HTMLCanvasElement&&(Yt.width=Yt.height=0);qt.clear()}this._cachedBitmapsMap.clear(),zt(this,un,Ww).call(this)}_scaleImage(qt,Yt){const an=qt.width,yn=qt.height;let mn=Math.max(Math.hypot(Yt[0],Yt[1]),1),vn=Math.max(Math.hypot(Yt[2],Yt[3]),1),_n=an,kn=yn,Nn="prescale1",xn,qn;for(;mn>2&&_n>1||vn>2&&kn>1;){let zn=_n,Xn=kn;mn>2&&_n>1&&(zn=_n>=16384?Math.floor(_n/2)-1||1:Math.ceil(_n/2),mn/=_n/zn),vn>2&&kn>1&&(Xn=kn>=16384?Math.floor(kn/2)-1||1:Math.ceil(kn)/2,vn/=kn/Xn),xn=this.cachedCanvases.getCanvas(Nn,zn,Xn),qn=xn.context,qn.clearRect(0,0,zn,Xn),qn.drawImage(qt,0,0,_n,kn,0,0,zn,Xn),qt=xn.canvas,_n=zn,kn=Xn,Nn=Nn==="prescale1"?"prescale2":"prescale1"}return{img:qt,paintWidth:_n,paintHeight:kn}}_createMaskCanvas(qt){const Yt=this.ctx,{width:an,height:yn}=qt,mn=this.current.fillColor,vn=this.current.patternFill,_n=(0,bt.getCurrentTransform)(Yt);let kn,Nn,xn,qn;if((qt.bitmap||qt.data)&&qt.count>1){const In=qt.bitmap||qt.data.buffer;Nn=JSON.stringify(vn?_n:[_n.slice(0,4),mn]),kn=this._cachedBitmapsMap.get(In),kn||(kn=new Map,this._cachedBitmapsMap.set(In,kn));const cr=kn.get(Nn);if(cr&&!vn){const sr=Math.round(Math.min(_n[0],_n[2])+_n[4]),Hr=Math.round(Math.min(_n[1],_n[3])+_n[5]);return{canvas:cr,offsetX:sr,offsetY:Hr}}xn=cr}xn||(qn=this.cachedCanvases.getCanvas("maskCanvas",an,yn),Ht(qn.context,qt));let zn=vt.Util.transform(_n,[1/an,0,0,-1/yn,0,0]);zn=vt.Util.transform(zn,[1,0,0,1,0,-yn]);const Xn=vt.Util.applyTransform([0,0],zn),On=vt.Util.applyTransform([an,yn],zn),Ln=vt.Util.normalizeRect([Xn[0],Xn[1],On[0],On[1]]),dn=Math.round(Ln[2]-Ln[0])||1,wn=Math.round(Ln[3]-Ln[1])||1,Mn=this.cachedCanvases.getCanvas("fillCanvas",dn,wn),Bn=Mn.context,Gn=Math.min(Xn[0],On[0]),er=Math.min(Xn[1],On[1]);Bn.translate(-Gn,-er),Bn.transform(...zn),xn||(xn=this._scaleImage(qn.canvas,(0,bt.getCurrentTransformInverse)(Bn)),xn=xn.img,kn&&vn&&kn.set(Nn,xn)),Bn.imageSmoothingEnabled=Qt((0,bt.getCurrentTransform)(Bn),qt.interpolate),Dt(Bn,xn,0,0,xn.width,xn.height,0,0,an,yn),Bn.globalCompositeOperation="source-in";const Zn=vt.Util.transform((0,bt.getCurrentTransformInverse)(Bn),[1,0,0,1,-Gn,-er]);return Bn.fillStyle=vn?mn.getPattern(Yt,this,Zn,_t.PathType.FILL):mn,Bn.fillRect(0,0,an,yn),kn&&!vn&&(this.cachedCanvases.delete("fillCanvas"),kn.set(Nn,Mn.canvas)),{canvas:Mn.canvas,offsetX:Math.round(Gn),offsetY:Math.round(er)}}setLineWidth(qt){qt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=qt,this.ctx.lineWidth=qt}setLineCap(qt){this.ctx.lineCap=tn[qt]}setLineJoin(qt){this.ctx.lineJoin=pn[qt]}setMiterLimit(qt){this.ctx.miterLimit=qt}setDash(qt,Yt){const an=this.ctx;an.setLineDash!==void 0&&(an.setLineDash(qt),an.lineDashOffset=Yt)}setRenderingIntent(qt){}setFlatness(qt){}setGState(qt){for(const[Yt,an]of qt)switch(Yt){case"LW":this.setLineWidth(an);break;case"LC":this.setLineCap(an);break;case"LJ":this.setLineJoin(an);break;case"ML":this.setMiterLimit(an);break;case"D":this.setDash(an[0],an[1]);break;case"RI":this.setRenderingIntent(an);break;case"FL":this.setFlatness(an);break;case"Font":this.setFont(an[0],an[1]);break;case"CA":this.current.strokeAlpha=an;break;case"ca":this.current.fillAlpha=an,this.ctx.globalAlpha=an;break;case"BM":this.ctx.globalCompositeOperation=an;break;case"SMask":this.current.activeSMask=an?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(an);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const qt=this.inSMaskMode;this.current.activeSMask&&!qt?this.beginSMaskMode():!this.current.activeSMask&&qt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const qt=this.ctx.canvas.width,Yt=this.ctx.canvas.height,an="smaskGroupAt"+this.groupLevel,yn=this.cachedCanvases.getCanvas(an,qt,Yt);this.suspendedCtx=this.ctx,this.ctx=yn.context;const mn=this.ctx;mn.setTransform(...(0,bt.getCurrentTransform)(this.suspendedCtx)),Ft(this.suspendedCtx,mn),Rt(mn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ft(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(qt){if(!this.current.activeSMask)return;qt?(qt[0]=Math.floor(qt[0]),qt[1]=Math.floor(qt[1]),qt[2]=Math.ceil(qt[2]),qt[3]=Math.ceil(qt[3])):qt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Yt=this.current.activeSMask,an=this.suspendedCtx;Wt(an,Yt,this.ctx,qt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Ft(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const qt=this.current;this.stateStack.push(qt),this.current=qt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ft(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(qt,Yt,an,yn,mn,vn){this.ctx.transform(qt,Yt,an,yn,mn,vn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(qt,Yt,an){const yn=this.ctx,mn=this.current;let vn=mn.x,_n=mn.y,kn,Nn;const xn=(0,bt.getCurrentTransform)(yn),qn=xn[0]===0&&xn[3]===0||xn[1]===0&&xn[2]===0,zn=qn?an.slice(0):null;for(let Xn=0,On=0,Ln=qt.length;Xn<Ln;Xn++)switch(qt[Xn]|0){case vt.OPS.rectangle:vn=Yt[On++],_n=Yt[On++];const dn=Yt[On++],wn=Yt[On++],Mn=vn+dn,Bn=_n+wn;yn.moveTo(vn,_n),dn===0||wn===0?yn.lineTo(Mn,Bn):(yn.lineTo(Mn,_n),yn.lineTo(Mn,Bn),yn.lineTo(vn,Bn)),qn||mn.updateRectMinMax(xn,[vn,_n,Mn,Bn]),yn.closePath();break;case vt.OPS.moveTo:vn=Yt[On++],_n=Yt[On++],yn.moveTo(vn,_n),qn||mn.updatePathMinMax(xn,vn,_n);break;case vt.OPS.lineTo:vn=Yt[On++],_n=Yt[On++],yn.lineTo(vn,_n),qn||mn.updatePathMinMax(xn,vn,_n);break;case vt.OPS.curveTo:kn=vn,Nn=_n,vn=Yt[On+4],_n=Yt[On+5],yn.bezierCurveTo(Yt[On],Yt[On+1],Yt[On+2],Yt[On+3],vn,_n),mn.updateCurvePathMinMax(xn,kn,Nn,Yt[On],Yt[On+1],Yt[On+2],Yt[On+3],vn,_n,zn),On+=6;break;case vt.OPS.curveTo2:kn=vn,Nn=_n,yn.bezierCurveTo(vn,_n,Yt[On],Yt[On+1],Yt[On+2],Yt[On+3]),mn.updateCurvePathMinMax(xn,kn,Nn,vn,_n,Yt[On],Yt[On+1],Yt[On+2],Yt[On+3],zn),vn=Yt[On+2],_n=Yt[On+3],On+=4;break;case vt.OPS.curveTo3:kn=vn,Nn=_n,vn=Yt[On+2],_n=Yt[On+3],yn.bezierCurveTo(Yt[On],Yt[On+1],vn,_n,vn,_n),mn.updateCurvePathMinMax(xn,kn,Nn,Yt[On],Yt[On+1],vn,_n,vn,_n,zn),On+=4;break;case vt.OPS.closePath:yn.closePath();break}qn&&mn.updateScalingPathMinMax(xn,zn),mn.setCurrentPoint(vn,_n)}closePath(){this.ctx.closePath()}stroke(qt=!0){const Yt=this.ctx,an=this.current.strokeColor;Yt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof an=="object"&&(an!=null&&an.getPattern)?(Yt.save(),Yt.strokeStyle=an.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),_t.PathType.STROKE),this.rescaleAndStroke(!1),Yt.restore()):this.rescaleAndStroke(!0)),qt&&this.consumePath(this.current.getClippedPathBoundingBox()),Yt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(qt=!0){const Yt=this.ctx,an=this.current.fillColor,yn=this.current.patternFill;let mn=!1;yn&&(Yt.save(),Yt.fillStyle=an.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),_t.PathType.FILL),mn=!0);const vn=this.current.getClippedPathBoundingBox();this.contentVisible&&vn!==null&&(this.pendingEOFill?(Yt.fill("evenodd"),this.pendingEOFill=!1):Yt.fill()),mn&&Yt.restore(),qt&&this.consumePath(vn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=nn}eoClip(){this.pendingClip=hn}beginText(){this.current.textMatrix=vt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const qt=this.pendingTextPaths,Yt=this.ctx;if(qt===void 0){Yt.beginPath();return}Yt.save(),Yt.beginPath();for(const an of qt)Yt.setTransform(...an.transform),Yt.translate(an.x,an.y),an.addToPath(Yt,an.fontSize);Yt.restore(),Yt.clip(),Yt.beginPath(),delete this.pendingTextPaths}setCharSpacing(qt){this.current.charSpacing=qt}setWordSpacing(qt){this.current.wordSpacing=qt}setHScale(qt){this.current.textHScale=qt/100}setLeading(qt){this.current.leading=-qt}setFont(qt,Yt){var xn;const an=this.commonObjs.get(qt),yn=this.current;if(!an)throw new Error(`Can't find font for ${qt}`);if(yn.fontMatrix=an.fontMatrix||vt.FONT_IDENTITY_MATRIX,(yn.fontMatrix[0]===0||yn.fontMatrix[3]===0)&&(0,vt.warn)("Invalid font matrix for font "+qt),Yt<0?(Yt=-Yt,yn.fontDirection=-1):yn.fontDirection=1,this.current.font=an,this.current.fontSize=Yt,an.isType3Font)return;const mn=an.loadedName||"sans-serif",vn=((xn=an.systemFontInfo)==null?void 0:xn.css)||`"${mn}", ${an.fallbackName}`;let _n="normal";an.black?_n="900":an.bold&&(_n="bold");const kn=an.italic?"italic":"normal";let Nn=Yt;Yt<At?Nn=At:Yt>St&&(Nn=St),this.current.fontSizeScale=Yt/Nn,this.ctx.font=`${kn} ${_n} ${Nn}px ${vn}`}setTextRenderingMode(qt){this.current.textRenderingMode=qt}setTextRise(qt){this.current.textRise=qt}moveText(qt,Yt){this.current.x=this.current.lineX+=qt,this.current.y=this.current.lineY+=Yt}setLeadingMoveText(qt,Yt){this.setLeading(-Yt),this.moveText(qt,Yt)}setTextMatrix(qt,Yt,an,yn,mn,vn){this.current.textMatrix=[qt,Yt,an,yn,mn,vn],this.current.textMatrixScale=Math.hypot(qt,Yt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(qt,Yt,an,yn){const mn=this.ctx,vn=this.current,_n=vn.font,kn=vn.textRenderingMode,Nn=vn.fontSize/vn.fontSizeScale,xn=kn&vt.TextRenderingMode.FILL_STROKE_MASK,qn=!!(kn&vt.TextRenderingMode.ADD_TO_PATH_FLAG),zn=vn.patternFill&&!_n.missingFile;let Xn;(_n.disableFontFace||qn||zn)&&(Xn=_n.getPathGenerator(this.commonObjs,qt)),_n.disableFontFace||zn?(mn.save(),mn.translate(Yt,an),mn.beginPath(),Xn(mn,Nn),yn&&mn.setTransform(...yn),(xn===vt.TextRenderingMode.FILL||xn===vt.TextRenderingMode.FILL_STROKE)&&mn.fill(),(xn===vt.TextRenderingMode.STROKE||xn===vt.TextRenderingMode.FILL_STROKE)&&mn.stroke(),mn.restore()):((xn===vt.TextRenderingMode.FILL||xn===vt.TextRenderingMode.FILL_STROKE)&&mn.fillText(qt,Yt,an),(xn===vt.TextRenderingMode.STROKE||xn===vt.TextRenderingMode.FILL_STROKE)&&mn.strokeText(qt,Yt,an)),qn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,bt.getCurrentTransform)(mn),x:Yt,y:an,fontSize:Nn,addToPath:Xn})}get isFontSubpixelAAEnabled(){const{context:qt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);qt.scale(1.5,1),qt.fillText("I",0,10);const Yt=qt.getImageData(0,0,10,10).data;let an=!1;for(let yn=3;yn<Yt.length;yn+=4)if(Yt[yn]>0&&Yt[yn]<255){an=!0;break}return(0,vt.shadow)(this,"isFontSubpixelAAEnabled",an)}showText(qt){const Yt=this.current,an=Yt.font;if(an.isType3Font)return this.showType3Text(qt);const yn=Yt.fontSize;if(yn===0)return;const mn=this.ctx,vn=Yt.fontSizeScale,_n=Yt.charSpacing,kn=Yt.wordSpacing,Nn=Yt.fontDirection,xn=Yt.textHScale*Nn,qn=qt.length,zn=an.vertical,Xn=zn?1:-1,On=an.defaultVMetrics,Ln=yn*Yt.fontMatrix[0],dn=Yt.textRenderingMode===vt.TextRenderingMode.FILL&&!an.disableFontFace&&!Yt.patternFill;mn.save(),mn.transform(...Yt.textMatrix),mn.translate(Yt.x,Yt.y+Yt.textRise),Nn>0?mn.scale(xn,-1):mn.scale(xn,1);let wn;if(Yt.patternFill){mn.save();const Zn=Yt.fillColor.getPattern(mn,this,(0,bt.getCurrentTransformInverse)(mn),_t.PathType.FILL);wn=(0,bt.getCurrentTransform)(mn),mn.restore(),mn.fillStyle=Zn}let Mn=Yt.lineWidth;const Bn=Yt.textMatrixScale;if(Bn===0||Mn===0){const Zn=Yt.textRenderingMode&vt.TextRenderingMode.FILL_STROKE_MASK;(Zn===vt.TextRenderingMode.STROKE||Zn===vt.TextRenderingMode.FILL_STROKE)&&(Mn=this.getSinglePixelWidth())}else Mn/=Bn;if(vn!==1&&(mn.scale(vn,vn),Mn/=vn),mn.lineWidth=Mn,an.isInvalidPDFjsFont){const Zn=[];let In=0;for(const cr of qt)Zn.push(cr.unicode),In+=cr.width;mn.fillText(Zn.join(""),0,0),Yt.x+=In*Ln*xn,mn.restore(),this.compose();return}let Gn=0,er;for(er=0;er<qn;++er){const Zn=qt[er];if(typeof Zn=="number"){Gn+=Xn*Zn*yn/1e3;continue}let In=!1;const cr=(Zn.isSpace?kn:0)+_n,sr=Zn.fontChar,Hr=Zn.accent;let Mr,Jr,mr=Zn.width;if(zn){const qr=Zn.vmetric||On,os=-(Zn.vmetric?qr[1]:mr*.5)*Ln,Qn=qr[2]*Ln;mr=qr?-qr[0]:mr,Mr=os/vn,Jr=(Gn+Qn)/vn}else Mr=Gn/vn,Jr=0;if(an.remeasure&&mr>0){const qr=mn.measureText(sr).width*1e3/yn*vn;if(mr<qr&&this.isFontSubpixelAAEnabled){const os=mr/qr;In=!0,mn.save(),mn.scale(os,1),Mr/=os}else mr!==qr&&(Mr+=(mr-qr)/2e3*yn/vn)}if(this.contentVisible&&(Zn.isInFont||an.missingFile)){if(dn&&!Hr)mn.fillText(sr,Mr,Jr);else if(this.paintChar(sr,Mr,Jr,wn),Hr){const qr=Mr+yn*Hr.offset.x/vn,os=Jr-yn*Hr.offset.y/vn;this.paintChar(Hr.fontChar,qr,os,wn)}}const Pr=zn?mr*Ln-cr*Nn:mr*Ln+cr*Nn;Gn+=Pr,In&&mn.restore()}zn?Yt.y-=Gn:Yt.x+=Gn*xn,mn.restore(),this.compose()}showType3Text(qt){const Yt=this.ctx,an=this.current,yn=an.font,mn=an.fontSize,vn=an.fontDirection,_n=yn.vertical?1:-1,kn=an.charSpacing,Nn=an.wordSpacing,xn=an.textHScale*vn,qn=an.fontMatrix||vt.FONT_IDENTITY_MATRIX,zn=qt.length,Xn=an.textRenderingMode===vt.TextRenderingMode.INVISIBLE;let On,Ln,dn,wn;if(!(Xn||mn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Yt.save(),Yt.transform(...an.textMatrix),Yt.translate(an.x,an.y),Yt.scale(xn,vn),On=0;On<zn;++On){if(Ln=qt[On],typeof Ln=="number"){wn=_n*Ln*mn/1e3,this.ctx.translate(wn,0),an.x+=wn*xn;continue}const Mn=(Ln.isSpace?Nn:0)+kn,Bn=yn.charProcOperatorList[Ln.operatorListId];if(!Bn){(0,vt.warn)(`Type3 character "${Ln.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ln,this.save(),Yt.scale(mn,mn),Yt.transform(...qn),this.executeOperatorList(Bn),this.restore()),dn=vt.Util.applyTransform([Ln.width,0],qn)[0]*mn+Mn,Yt.translate(dn,0),an.x+=dn*xn}Yt.restore(),this.processingType3=null}}setCharWidth(qt,Yt){}setCharWidthAndBounds(qt,Yt,an,yn,mn,vn){this.ctx.rect(an,yn,mn-an,vn-yn),this.ctx.clip(),this.endPath()}getColorN_Pattern(qt){let Yt;if(qt[0]==="TilingPattern"){const an=qt[1],yn=this.baseTransform||(0,bt.getCurrentTransform)(this.ctx),mn={createCanvasGraphics:vn=>new En(vn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Yt=new _t.TilingPattern(qt,an,this.ctx,mn,yn)}else Yt=this._getPattern(qt[1],qt[2]);return Yt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(qt,Yt,an){const yn=vt.Util.makeHexColor(qt,Yt,an);this.ctx.strokeStyle=yn,this.current.strokeColor=yn}setFillRGBColor(qt,Yt,an){const yn=vt.Util.makeHexColor(qt,Yt,an);this.ctx.fillStyle=yn,this.current.fillColor=yn,this.current.patternFill=!1}_getPattern(qt,Yt=null){let an;return this.cachedPatterns.has(qt)?an=this.cachedPatterns.get(qt):(an=(0,_t.getShadingPattern)(this.getObject(qt)),this.cachedPatterns.set(qt,an)),Yt&&(an.matrix=Yt),an}shadingFill(qt){if(!this.contentVisible)return;const Yt=this.ctx;this.save();const an=this._getPattern(qt);Yt.fillStyle=an.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),_t.PathType.SHADING);const yn=(0,bt.getCurrentTransformInverse)(Yt);if(yn){const{width:mn,height:vn}=Yt.canvas,[_n,kn,Nn,xn]=vt.Util.getAxialAlignedBoundingBox([0,0,mn,vn],yn);this.ctx.fillRect(_n,kn,Nn-_n,xn-kn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,vt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,vt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(qt,Yt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(qt)&&qt.length===6&&this.transform(...qt),this.baseTransform=(0,bt.getCurrentTransform)(this.ctx),Yt)){const an=Yt[2]-Yt[0],yn=Yt[3]-Yt[1];this.ctx.rect(Yt[0],Yt[1],an,yn),this.current.updateRectMinMax((0,bt.getCurrentTransform)(this.ctx),Yt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(qt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Yt=this.ctx;qt.isolated||(0,vt.info)("TODO: Support non-isolated groups."),qt.knockout&&(0,vt.warn)("Knockout groups not supported.");const an=(0,bt.getCurrentTransform)(Yt);if(qt.matrix&&Yt.transform(...qt.matrix),!qt.bbox)throw new Error("Bounding box is required.");let yn=vt.Util.getAxialAlignedBoundingBox(qt.bbox,(0,bt.getCurrentTransform)(Yt));const mn=[0,0,Yt.canvas.width,Yt.canvas.height];yn=vt.Util.intersect(yn,mn)||[0,0,0,0];const vn=Math.floor(yn[0]),_n=Math.floor(yn[1]);let kn=Math.max(Math.ceil(yn[2])-vn,1),Nn=Math.max(Math.ceil(yn[3])-_n,1),xn=1,qn=1;kn>Et&&(xn=kn/Et,kn=Et),Nn>Et&&(qn=Nn/Et,Nn=Et),this.current.startNewPathAndClipBox([0,0,kn,Nn]);let zn="groupAt"+this.groupLevel;qt.smask&&(zn+="_smask_"+this.smaskCounter++%2);const Xn=this.cachedCanvases.getCanvas(zn,kn,Nn),On=Xn.context;On.scale(1/xn,1/qn),On.translate(-vn,-_n),On.transform(...an),qt.smask?this.smaskStack.push({canvas:Xn.canvas,context:On,offsetX:vn,offsetY:_n,scaleX:xn,scaleY:qn,subtype:qt.smask.subtype,backdrop:qt.smask.backdrop,transferMap:qt.smask.transferMap||null,startTransformInverse:null}):(Yt.setTransform(1,0,0,1,0,0),Yt.translate(vn,_n),Yt.scale(xn,qn),Yt.save()),Ft(Yt,On),this.ctx=On,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Yt),this.groupLevel++}endGroup(qt){if(!this.contentVisible)return;this.groupLevel--;const Yt=this.ctx,an=this.groupStack.pop();if(this.ctx=an,this.ctx.imageSmoothingEnabled=!1,qt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const yn=(0,bt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...yn);const mn=vt.Util.getAxialAlignedBoundingBox([0,0,Yt.canvas.width,Yt.canvas.height],yn);this.ctx.drawImage(Yt.canvas,0,0),this.ctx.restore(),this.compose(mn)}}beginAnnotation(qt,Yt,an,yn,mn){if(zt(this,un,Uw).call(this),jt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Yt)&&Yt.length===4){const vn=Yt[2]-Yt[0],_n=Yt[3]-Yt[1];if(mn&&this.annotationCanvasMap){an=an.slice(),an[4]-=Yt[0],an[5]-=Yt[1],Yt=Yt.slice(),Yt[0]=Yt[1]=0,Yt[2]=vn,Yt[3]=_n;const[kn,Nn]=vt.Util.singularValueDecompose2dScale((0,bt.getCurrentTransform)(this.ctx)),{viewportScale:xn}=this,qn=Math.ceil(vn*this.outputScaleX*xn),zn=Math.ceil(_n*this.outputScaleY*xn);this.annotationCanvas=this.canvasFactory.create(qn,zn);const{canvas:Xn,context:On}=this.annotationCanvas;this.annotationCanvasMap.set(qt,Xn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=On,this.ctx.save(),this.ctx.setTransform(kn,0,0,-Nn,0,_n*Nn),jt(this.ctx)}else jt(this.ctx),this.ctx.rect(Yt[0],Yt[1],vn,_n),this.ctx.clip(),this.endPath()}this.current=new Lt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...an),this.transform(...yn)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),zt(this,un,Ww).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(qt){if(!this.contentVisible)return;const Yt=qt.count;qt=this.getObject(qt.data,qt),qt.count=Yt;const an=this.ctx,yn=this.processingType3;if(yn&&(yn.compiled===void 0&&(yn.compiled=Ot(qt)),yn.compiled)){yn.compiled(an);return}const mn=this._createMaskCanvas(qt),vn=mn.canvas;an.save(),an.setTransform(1,0,0,1,0,0),an.drawImage(vn,mn.offsetX,mn.offsetY),an.restore(),this.compose()}paintImageMaskXObjectRepeat(qt,Yt,an=0,yn=0,mn,vn){if(!this.contentVisible)return;qt=this.getObject(qt.data,qt);const _n=this.ctx;_n.save();const kn=(0,bt.getCurrentTransform)(_n);_n.transform(Yt,an,yn,mn,0,0);const Nn=this._createMaskCanvas(qt);_n.setTransform(1,0,0,1,Nn.offsetX-kn[4],Nn.offsetY-kn[5]);for(let xn=0,qn=vn.length;xn<qn;xn+=2){const zn=vt.Util.transform(kn,[Yt,an,yn,mn,vn[xn],vn[xn+1]]),[Xn,On]=vt.Util.applyTransform([0,0],zn);_n.drawImage(Nn.canvas,Xn,On)}_n.restore(),this.compose()}paintImageMaskXObjectGroup(qt){if(!this.contentVisible)return;const Yt=this.ctx,an=this.current.fillColor,yn=this.current.patternFill;for(const mn of qt){const{data:vn,width:_n,height:kn,transform:Nn}=mn,xn=this.cachedCanvases.getCanvas("maskCanvas",_n,kn),qn=xn.context;qn.save();const zn=this.getObject(vn,mn);Ht(qn,zn),qn.globalCompositeOperation="source-in",qn.fillStyle=yn?an.getPattern(qn,this,(0,bt.getCurrentTransformInverse)(Yt),_t.PathType.FILL):an,qn.fillRect(0,0,_n,kn),qn.restore(),Yt.save(),Yt.transform(...Nn),Yt.scale(1,-1),Dt(Yt,xn.canvas,0,0,_n,kn,0,-1,1,1),Yt.restore()}this.compose()}paintImageXObject(qt){if(!this.contentVisible)return;const Yt=this.getObject(qt);if(!Yt){(0,vt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Yt)}paintImageXObjectRepeat(qt,Yt,an,yn){if(!this.contentVisible)return;const mn=this.getObject(qt);if(!mn){(0,vt.warn)("Dependent image isn't ready yet");return}const vn=mn.width,_n=mn.height,kn=[];for(let Nn=0,xn=yn.length;Nn<xn;Nn+=2)kn.push({transform:[Yt,0,0,an,yn[Nn],yn[Nn+1]],x:0,y:0,w:vn,h:_n});this.paintInlineImageXObjectGroup(mn,kn)}applyTransferMapsToCanvas(qt){return this.current.transferMaps!=="none"&&(qt.filter=this.current.transferMaps,qt.drawImage(qt.canvas,0,0),qt.filter="none"),qt.canvas}applyTransferMapsToBitmap(qt){if(this.current.transferMaps==="none")return qt.bitmap;const{bitmap:Yt,width:an,height:yn}=qt,mn=this.cachedCanvases.getCanvas("inlineImage",an,yn),vn=mn.context;return vn.filter=this.current.transferMaps,vn.drawImage(Yt,0,0),vn.filter="none",mn.canvas}paintInlineImageXObject(qt){if(!this.contentVisible)return;const Yt=qt.width,an=qt.height,yn=this.ctx;if(this.save(),!vt.isNodeJS){const{filter:_n}=yn;_n!=="none"&&_n!==""&&(yn.filter="none")}yn.scale(1/Yt,-1/an);let mn;if(qt.bitmap)mn=this.applyTransferMapsToBitmap(qt);else if(typeof HTMLElement=="function"&&qt instanceof HTMLElement||!qt.data)mn=qt;else{const kn=this.cachedCanvases.getCanvas("inlineImage",Yt,an).context;Nt(kn,qt),mn=this.applyTransferMapsToCanvas(kn)}const vn=this._scaleImage(mn,(0,bt.getCurrentTransformInverse)(yn));yn.imageSmoothingEnabled=Qt((0,bt.getCurrentTransform)(yn),qt.interpolate),Dt(yn,vn.img,0,0,vn.paintWidth,vn.paintHeight,0,-an,Yt,an),this.compose(),this.restore()}paintInlineImageXObjectGroup(qt,Yt){if(!this.contentVisible)return;const an=this.ctx;let yn;if(qt.bitmap)yn=qt.bitmap;else{const mn=qt.width,vn=qt.height,kn=this.cachedCanvases.getCanvas("inlineImage",mn,vn).context;Nt(kn,qt),yn=this.applyTransferMapsToCanvas(kn)}for(const mn of Yt)an.save(),an.transform(...mn.transform),an.scale(1,-1),Dt(an,yn,mn.x,mn.y,mn.w,mn.h,0,-1,1,1),an.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(qt){}markPointProps(qt,Yt){}beginMarkedContent(qt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(qt,Yt){qt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Yt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(qt){const Yt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(qt);const an=this.ctx;this.pendingClip&&(Yt||(this.pendingClip===hn?an.clip("evenodd"):an.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),an.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const qt=(0,bt.getCurrentTransform)(this.ctx);if(qt[1]===0&&qt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(qt[0]),Math.abs(qt[3]));else{const Yt=Math.abs(qt[0]*qt[3]-qt[2]*qt[1]),an=Math.hypot(qt[0],qt[2]),yn=Math.hypot(qt[1],qt[3]);this._cachedGetSinglePixelWidth=Math.max(an,yn)/Yt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:qt}=this.current,{a:Yt,b:an,c:yn,d:mn}=this.ctx.getTransform();let vn,_n;if(an===0&&yn===0){const kn=Math.abs(Yt),Nn=Math.abs(mn);if(kn===Nn)if(qt===0)vn=_n=1/kn;else{const xn=kn*qt;vn=_n=xn<1?1/xn:1}else if(qt===0)vn=1/kn,_n=1/Nn;else{const xn=kn*qt,qn=Nn*qt;vn=xn<1?1/xn:1,_n=qn<1?1/qn:1}}else{const kn=Math.abs(Yt*mn-an*yn),Nn=Math.hypot(Yt,an),xn=Math.hypot(yn,mn);if(qt===0)vn=xn/kn,_n=Nn/kn;else{const qn=qt*kn;vn=xn>qn?xn/qn:1,_n=Nn>qn?Nn/qn:1}}this._cachedScaleForStroking[0]=vn,this._cachedScaleForStroking[1]=_n}return this._cachedScaleForStroking}rescaleAndStroke(qt){const{ctx:Yt}=this,{lineWidth:an}=this.current,[yn,mn]=this.getScaleForStroking();if(Yt.lineWidth=an||1,yn===1&&mn===1){Yt.stroke();return}const vn=Yt.getLineDash();if(qt&&Yt.save(),Yt.scale(yn,mn),vn.length>0){const _n=Math.max(yn,mn);Yt.setLineDash(vn.map(kn=>kn/_n)),Yt.lineDashOffset/=_n}Yt.stroke(),qt&&Yt.restore()}isContentVisible(){for(let qt=this.markedContentStack.length-1;qt>=0;qt--)if(!this.markedContentStack[qt].visible)return!1;return!0}};un=new WeakSet,Uw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ww=function(){if(this.pageColors){const qt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(qt!=="none"){const Yt=this.ctx.filter;this.ctx.filter=qt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Yt}}};let sn=En;$.CanvasGraphics=sn;for(const rn in vt.OPS)sn.prototype[rn]!==void 0&&(sn.prototype[vt.OPS[rn]]=sn.prototype[rn])},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=kt;var vt=ht(1),bt=ht(6);const _t={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=_t;function wt(Ot,Lt){if(!Lt)return;const Nt=Lt[2]-Lt[0],Ht=Lt[3]-Lt[1],Ft=new Path2D;Ft.rect(Lt[0],Lt[1],Nt,Ht),Ot.clip(Ft)}class At{constructor(){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,vt.unreachable)("Abstract method `getPattern` called.")}}class St extends At{constructor(Lt){super(),this._type=Lt[1],this._bbox=Lt[2],this._colorStops=Lt[3],this._p0=Lt[4],this._p1=Lt[5],this._r0=Lt[6],this._r1=Lt[7],this.matrix=null}_createGradient(Lt){let Nt;this._type==="axial"?Nt=Lt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Nt=Lt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Ht of this._colorStops)Nt.addColorStop(Ht[0],Ht[1]);return Nt}getPattern(Lt,Nt,Ht,Ft){let jt;if(Ft===_t.STROKE||Ft===_t.FILL){const Bt=Nt.current.getClippedPathBoundingBox(Ft,(0,bt.getCurrentTransform)(Lt))||[0,0,0,0],Vt=Math.ceil(Bt[2]-Bt[0])||1,Ut=Math.ceil(Bt[3]-Bt[1])||1,Jt=Nt.cachedCanvases.getCanvas("pattern",Vt,Ut,!0),Wt=Jt.context;Wt.clearRect(0,0,Wt.canvas.width,Wt.canvas.height),Wt.beginPath(),Wt.rect(0,0,Wt.canvas.width,Wt.canvas.height),Wt.translate(-Bt[0],-Bt[1]),Ht=vt.Util.transform(Ht,[1,0,0,1,Bt[0],Bt[1]]),Wt.transform(...Nt.baseTransform),this.matrix&&Wt.transform(...this.matrix),wt(Wt,this._bbox),Wt.fillStyle=this._createGradient(Wt),Wt.fill(),jt=Lt.createPattern(Jt.canvas,"no-repeat");const Qt=new DOMMatrix(Ht);jt.setTransform(Qt)}else wt(Lt,this._bbox),jt=this._createGradient(Lt);return jt}}function Et(Ot,Lt,Nt,Ht,Ft,jt,Bt,Vt){const Ut=Lt.coords,Jt=Lt.colors,Wt=Ot.data,Qt=Ot.width*4;let tn;Ut[Nt+1]>Ut[Ht+1]&&(tn=Nt,Nt=Ht,Ht=tn,tn=jt,jt=Bt,Bt=tn),Ut[Ht+1]>Ut[Ft+1]&&(tn=Ht,Ht=Ft,Ft=tn,tn=Bt,Bt=Vt,Vt=tn),Ut[Nt+1]>Ut[Ht+1]&&(tn=Nt,Nt=Ht,Ht=tn,tn=jt,jt=Bt,Bt=tn);const pn=(Ut[Nt]+Lt.offsetX)*Lt.scaleX,nn=(Ut[Nt+1]+Lt.offsetY)*Lt.scaleY,hn=(Ut[Ht]+Lt.offsetX)*Lt.scaleX,sn=(Ut[Ht+1]+Lt.offsetY)*Lt.scaleY,un=(Ut[Ft]+Lt.offsetX)*Lt.scaleX,en=(Ut[Ft+1]+Lt.offsetY)*Lt.scaleY;if(nn>=en)return;const fn=Jt[jt],En=Jt[jt+1],rn=Jt[jt+2],qt=Jt[Bt],Yt=Jt[Bt+1],an=Jt[Bt+2],yn=Jt[Vt],mn=Jt[Vt+1],vn=Jt[Vt+2],_n=Math.round(nn),kn=Math.round(en);let Nn,xn,qn,zn,Xn,On,Ln,dn;for(let wn=_n;wn<=kn;wn++){if(wn<sn){const Zn=wn<nn?0:(nn-wn)/(nn-sn);Nn=pn-(pn-hn)*Zn,xn=fn-(fn-qt)*Zn,qn=En-(En-Yt)*Zn,zn=rn-(rn-an)*Zn}else{let Zn;wn>en?Zn=1:sn===en?Zn=0:Zn=(sn-wn)/(sn-en),Nn=hn-(hn-un)*Zn,xn=qt-(qt-yn)*Zn,qn=Yt-(Yt-mn)*Zn,zn=an-(an-vn)*Zn}let Mn;wn<nn?Mn=0:wn>en?Mn=1:Mn=(nn-wn)/(nn-en),Xn=pn-(pn-un)*Mn,On=fn-(fn-yn)*Mn,Ln=En-(En-mn)*Mn,dn=rn-(rn-vn)*Mn;const Bn=Math.round(Math.min(Nn,Xn)),Gn=Math.round(Math.max(Nn,Xn));let er=Qt*wn+Bn*4;for(let Zn=Bn;Zn<=Gn;Zn++)Mn=(Nn-Zn)/(Nn-Xn),Mn<0?Mn=0:Mn>1&&(Mn=1),Wt[er++]=xn-(xn-On)*Mn|0,Wt[er++]=qn-(qn-Ln)*Mn|0,Wt[er++]=zn-(zn-dn)*Mn|0,Wt[er++]=255}}function xt(Ot,Lt,Nt){const Ht=Lt.coords,Ft=Lt.colors;let jt,Bt;switch(Lt.type){case"lattice":const Vt=Lt.verticesPerRow,Ut=Math.floor(Ht.length/Vt)-1,Jt=Vt-1;for(jt=0;jt<Ut;jt++){let Wt=jt*Vt;for(let Qt=0;Qt<Jt;Qt++,Wt++)Et(Ot,Nt,Ht[Wt],Ht[Wt+1],Ht[Wt+Vt],Ft[Wt],Ft[Wt+1],Ft[Wt+Vt]),Et(Ot,Nt,Ht[Wt+Vt+1],Ht[Wt+1],Ht[Wt+Vt],Ft[Wt+Vt+1],Ft[Wt+1],Ft[Wt+Vt])}break;case"triangles":for(jt=0,Bt=Ht.length;jt<Bt;jt+=3)Et(Ot,Nt,Ht[jt],Ht[jt+1],Ht[jt+2],Ft[jt],Ft[jt+1],Ft[jt+2]);break;default:throw new Error("illegal figure")}}class Pt extends At{constructor(Lt){super(),this._coords=Lt[2],this._colors=Lt[3],this._figures=Lt[4],this._bounds=Lt[5],this._bbox=Lt[7],this._background=Lt[8],this.matrix=null}_createMeshCanvas(Lt,Nt,Ht){const Vt=Math.floor(this._bounds[0]),Ut=Math.floor(this._bounds[1]),Jt=Math.ceil(this._bounds[2])-Vt,Wt=Math.ceil(this._bounds[3])-Ut,Qt=Math.min(Math.ceil(Math.abs(Jt*Lt[0]*1.1)),3e3),tn=Math.min(Math.ceil(Math.abs(Wt*Lt[1]*1.1)),3e3),pn=Jt/Qt,nn=Wt/tn,hn={coords:this._coords,colors:this._colors,offsetX:-Vt,offsetY:-Ut,scaleX:1/pn,scaleY:1/nn},sn=Qt+2*2,un=tn+2*2,en=Ht.getCanvas("mesh",sn,un,!1),fn=en.context,En=fn.createImageData(Qt,tn);if(Nt){const qt=En.data;for(let Yt=0,an=qt.length;Yt<an;Yt+=4)qt[Yt]=Nt[0],qt[Yt+1]=Nt[1],qt[Yt+2]=Nt[2],qt[Yt+3]=255}for(const qt of this._figures)xt(En,qt,hn);return fn.putImageData(En,2,2),{canvas:en.canvas,offsetX:Vt-2*pn,offsetY:Ut-2*nn,scaleX:pn,scaleY:nn}}getPattern(Lt,Nt,Ht,Ft){wt(Lt,this._bbox);let jt;if(Ft===_t.SHADING)jt=vt.Util.singularValueDecompose2dScale((0,bt.getCurrentTransform)(Lt));else if(jt=vt.Util.singularValueDecompose2dScale(Nt.baseTransform),this.matrix){const Vt=vt.Util.singularValueDecompose2dScale(this.matrix);jt=[jt[0]*Vt[0],jt[1]*Vt[1]]}const Bt=this._createMeshCanvas(jt,Ft===_t.SHADING?null:this._background,Nt.cachedCanvases);return Ft!==_t.SHADING&&(Lt.setTransform(...Nt.baseTransform),this.matrix&&Lt.transform(...this.matrix)),Lt.translate(Bt.offsetX,Bt.offsetY),Lt.scale(Bt.scaleX,Bt.scaleY),Lt.createPattern(Bt.canvas,"no-repeat")}}class $t extends At{getPattern(){return"hotpink"}}function kt(Ot){switch(Ot[0]){case"RadialAxial":return new St(Ot);case"Mesh":return new Pt(Ot);case"Dummy":return new $t}throw new Error(`Unknown IR type: ${Ot[0]}`)}const Rt={COLORED:1,UNCOLORED:2},Dt=class Dt{constructor(Lt,Nt,Ht,Ft,jt){this.operatorList=Lt[2],this.matrix=Lt[3]||[1,0,0,1,0,0],this.bbox=Lt[4],this.xstep=Lt[5],this.ystep=Lt[6],this.paintType=Lt[7],this.tilingType=Lt[8],this.color=Nt,this.ctx=Ht,this.canvasGraphicsFactory=Ft,this.baseTransform=jt}createPatternCanvas(Lt){const Nt=this.operatorList,Ht=this.bbox,Ft=this.xstep,jt=this.ystep,Bt=this.paintType,Vt=this.tilingType,Ut=this.color,Jt=this.canvasGraphicsFactory;(0,vt.info)("TilingType: "+Vt);const Wt=Ht[0],Qt=Ht[1],tn=Ht[2],pn=Ht[3],nn=vt.Util.singularValueDecompose2dScale(this.matrix),hn=vt.Util.singularValueDecompose2dScale(this.baseTransform),sn=[nn[0]*hn[0],nn[1]*hn[1]],un=this.getSizeAndScale(Ft,this.ctx.canvas.width,sn[0]),en=this.getSizeAndScale(jt,this.ctx.canvas.height,sn[1]),fn=Lt.cachedCanvases.getCanvas("pattern",un.size,en.size,!0),En=fn.context,rn=Jt.createCanvasGraphics(En);rn.groupLevel=Lt.groupLevel,this.setFillAndStrokeStyleToContext(rn,Bt,Ut);let qt=Wt,Yt=Qt,an=tn,yn=pn;return Wt<0&&(qt=0,an+=Math.abs(Wt)),Qt<0&&(Yt=0,yn+=Math.abs(Qt)),En.translate(-(un.scale*qt),-(en.scale*Yt)),rn.transform(un.scale,0,0,en.scale,0,0),En.save(),this.clipBbox(rn,qt,Yt,an,yn),rn.baseTransform=(0,bt.getCurrentTransform)(rn.ctx),rn.executeOperatorList(Nt),rn.endDrawing(),{canvas:fn.canvas,scaleX:un.scale,scaleY:en.scale,offsetX:qt,offsetY:Yt}}getSizeAndScale(Lt,Nt,Ht){Lt=Math.abs(Lt);const Ft=Math.max(Dt.MAX_PATTERN_SIZE,Nt);let jt=Math.ceil(Lt*Ht);return jt>=Ft?jt=Ft:Ht=jt/Lt,{scale:Ht,size:jt}}clipBbox(Lt,Nt,Ht,Ft,jt){const Bt=Ft-Nt,Vt=jt-Ht;Lt.ctx.rect(Nt,Ht,Bt,Vt),Lt.current.updateRectMinMax((0,bt.getCurrentTransform)(Lt.ctx),[Nt,Ht,Ft,jt]),Lt.clip(),Lt.endPath()}setFillAndStrokeStyleToContext(Lt,Nt,Ht){const Ft=Lt.ctx,jt=Lt.current;switch(Nt){case Rt.COLORED:const Bt=this.ctx;Ft.fillStyle=Bt.fillStyle,Ft.strokeStyle=Bt.strokeStyle,jt.fillColor=Bt.fillStyle,jt.strokeColor=Bt.strokeStyle;break;case Rt.UNCOLORED:const Vt=vt.Util.makeHexColor(Ht[0],Ht[1],Ht[2]);Ft.fillStyle=Vt,Ft.strokeStyle=Vt,jt.fillColor=Vt,jt.strokeColor=Vt;break;default:throw new vt.FormatError(`Unsupported paint type: ${Nt}`)}}getPattern(Lt,Nt,Ht,Ft){let jt=Ht;Ft!==_t.SHADING&&(jt=vt.Util.transform(jt,Nt.baseTransform),this.matrix&&(jt=vt.Util.transform(jt,this.matrix)));const Bt=this.createPatternCanvas(Nt);let Vt=new DOMMatrix(jt);Vt=Vt.translate(Bt.offsetX,Bt.offsetY),Vt=Vt.scale(1/Bt.scaleX,1/Bt.scaleY);const Ut=Lt.createPattern(Bt.canvas,"repeat");return Ut.setTransform(Vt),Ut}};Tr(Dt,"MAX_PATTERN_SIZE",3e3);let Mt=Dt;$.TilingPattern=Mt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=_t,$.convertToRGBA=bt,$.grayToRGBA=At;var vt=ht(1);function bt(St){switch(St.kind){case vt.ImageKind.GRAYSCALE_1BPP:return _t(St);case vt.ImageKind.RGB_24BPP:return wt(St)}return null}function _t({src:St,srcPos:Et=0,dest:xt,width:Pt,height:$t,nonBlackColor:kt=4294967295,inverseDecode:Rt=!1}){const Mt=vt.FeatureTest.isLittleEndian?4278190080:255,[Dt,Ot]=Rt?[kt,Mt]:[Mt,kt],Lt=Pt>>3,Nt=Pt&7,Ht=St.length;xt=new Uint32Array(xt.buffer);let Ft=0;for(let jt=0;jt<$t;jt++){for(const Vt=Et+Lt;Et<Vt;Et++){const Ut=Et<Ht?St[Et]:255;xt[Ft++]=Ut&128?Ot:Dt,xt[Ft++]=Ut&64?Ot:Dt,xt[Ft++]=Ut&32?Ot:Dt,xt[Ft++]=Ut&16?Ot:Dt,xt[Ft++]=Ut&8?Ot:Dt,xt[Ft++]=Ut&4?Ot:Dt,xt[Ft++]=Ut&2?Ot:Dt,xt[Ft++]=Ut&1?Ot:Dt}if(Nt===0)continue;const Bt=Et<Ht?St[Et++]:255;for(let Vt=0;Vt<Nt;Vt++)xt[Ft++]=Bt&1<<7-Vt?Ot:Dt}return{srcPos:Et,destPos:Ft}}function wt({src:St,srcPos:Et=0,dest:xt,destPos:Pt=0,width:$t,height:kt}){let Rt=0;const Mt=St.length>>2,Dt=new Uint32Array(St.buffer,Et,Mt);if(vt.FeatureTest.isLittleEndian){for(;Rt<Mt-2;Rt+=3,Pt+=4){const Ot=Dt[Rt],Lt=Dt[Rt+1],Nt=Dt[Rt+2];xt[Pt]=Ot|4278190080,xt[Pt+1]=Ot>>>24|Lt<<8|4278190080,xt[Pt+2]=Lt>>>16|Nt<<16|4278190080,xt[Pt+3]=Nt>>>8|4278190080}for(let Ot=Rt*4,Lt=St.length;Ot<Lt;Ot+=3)xt[Pt++]=St[Ot]|St[Ot+1]<<8|St[Ot+2]<<16|4278190080}else{for(;Rt<Mt-2;Rt+=3,Pt+=4){const Ot=Dt[Rt],Lt=Dt[Rt+1],Nt=Dt[Rt+2];xt[Pt]=Ot|255,xt[Pt+1]=Ot<<24|Lt>>>8|255,xt[Pt+2]=Lt<<16|Nt>>>16|255,xt[Pt+3]=Nt<<8|255}for(let Ot=Rt*4,Lt=St.length;Ot<Lt;Ot+=3)xt[Pt++]=St[Ot]<<24|St[Ot+1]<<16|St[Ot+2]<<8|255}return{srcPos:Et,destPos:Pt}}function At(St,Et){if(vt.FeatureTest.isLittleEndian)for(let xt=0,Pt=St.length;xt<Pt;xt++)Et[xt]=St[xt]*65793|4278190080;else for(let xt=0,Pt=St.length;xt<Pt;xt++)Et[xt]=St[xt]*16843008|255}},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const ht=Object.create(null);$.GlobalWorkerOptions=ht,ht.workerPort=null,ht.workerSrc=""},(_e,$,ht)=>{var St,aS,lS,W0;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var vt=ht(1);const bt={UNKNOWN:0,DATA:1,ERROR:2},_t={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wt($t){switch($t instanceof Error||typeof $t=="object"&&$t!==null||(0,vt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),$t.name){case"AbortException":return new vt.AbortException($t.message);case"MissingPDFException":return new vt.MissingPDFException($t.message);case"PasswordException":return new vt.PasswordException($t.message,$t.code);case"UnexpectedResponseException":return new vt.UnexpectedResponseException($t.message,$t.status);case"UnknownErrorException":return new vt.UnknownErrorException($t.message,$t.details);default:return new vt.UnknownErrorException($t.message,$t.toString())}}class At{constructor(kt,Rt,Mt){Xt(this,St);this.sourceName=kt,this.targetName=Rt,this.comObj=Mt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Dt=>{const Ot=Dt.data;if(Ot.targetName!==this.sourceName)return;if(Ot.stream){zt(this,St,lS).call(this,Ot);return}if(Ot.callback){const Nt=Ot.callbackId,Ht=this.callbackCapabilities[Nt];if(!Ht)throw new Error(`Cannot resolve callback ${Nt}`);if(delete this.callbackCapabilities[Nt],Ot.callback===bt.DATA)Ht.resolve(Ot.data);else if(Ot.callback===bt.ERROR)Ht.reject(wt(Ot.reason));else throw new Error("Unexpected callback case");return}const Lt=this.actionHandler[Ot.action];if(!Lt)throw new Error(`Unknown action from worker: ${Ot.action}`);if(Ot.callbackId){const Nt=this.sourceName,Ht=Ot.sourceName;new Promise(function(Ft){Ft(Lt(Ot.data))}).then(function(Ft){Mt.postMessage({sourceName:Nt,targetName:Ht,callback:bt.DATA,callbackId:Ot.callbackId,data:Ft})},function(Ft){Mt.postMessage({sourceName:Nt,targetName:Ht,callback:bt.ERROR,callbackId:Ot.callbackId,reason:wt(Ft)})});return}if(Ot.streamId){zt(this,St,aS).call(this,Ot);return}Lt(Ot.data)},Mt.addEventListener("message",this._onComObjOnMessage)}on(kt,Rt){const Mt=this.actionHandler;if(Mt[kt])throw new Error(`There is already an actionName called "${kt}"`);Mt[kt]=Rt}send(kt,Rt,Mt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:kt,data:Rt},Mt)}sendWithPromise(kt,Rt,Mt){const Dt=this.callbackId++,Ot=new vt.PromiseCapability;this.callbackCapabilities[Dt]=Ot;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:kt,callbackId:Dt,data:Rt},Mt)}catch(Lt){Ot.reject(Lt)}return Ot.promise}sendWithStream(kt,Rt,Mt,Dt){const Ot=this.streamId++,Lt=this.sourceName,Nt=this.targetName,Ht=this.comObj;return new ReadableStream({start:Ft=>{const jt=new vt.PromiseCapability;return this.streamControllers[Ot]={controller:Ft,startCall:jt,pullCall:null,cancelCall:null,isClosed:!1},Ht.postMessage({sourceName:Lt,targetName:Nt,action:kt,streamId:Ot,data:Rt,desiredSize:Ft.desiredSize},Dt),jt.promise},pull:Ft=>{const jt=new vt.PromiseCapability;return this.streamControllers[Ot].pullCall=jt,Ht.postMessage({sourceName:Lt,targetName:Nt,stream:_t.PULL,streamId:Ot,desiredSize:Ft.desiredSize}),jt.promise},cancel:Ft=>{(0,vt.assert)(Ft instanceof Error,"cancel must have a valid reason");const jt=new vt.PromiseCapability;return this.streamControllers[Ot].cancelCall=jt,this.streamControllers[Ot].isClosed=!0,Ht.postMessage({sourceName:Lt,targetName:Nt,stream:_t.CANCEL,streamId:Ot,reason:wt(Ft)}),jt.promise}},Mt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}St=new WeakSet,aS=function(kt){const Rt=kt.streamId,Mt=this.sourceName,Dt=kt.sourceName,Ot=this.comObj,Lt=this,Nt=this.actionHandler[kt.action],Ht={enqueue(Ft,jt=1,Bt){if(this.isCancelled)return;const Vt=this.desiredSize;this.desiredSize-=jt,Vt>0&&this.desiredSize<=0&&(this.sinkCapability=new vt.PromiseCapability,this.ready=this.sinkCapability.promise),Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.ENQUEUE,streamId:Rt,chunk:Ft},Bt)},close(){this.isCancelled||(this.isCancelled=!0,Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.CLOSE,streamId:Rt}),delete Lt.streamSinks[Rt])},error(Ft){(0,vt.assert)(Ft instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.ERROR,streamId:Rt,reason:wt(Ft)}))},sinkCapability:new vt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:kt.desiredSize,ready:null};Ht.sinkCapability.resolve(),Ht.ready=Ht.sinkCapability.promise,this.streamSinks[Rt]=Ht,new Promise(function(Ft){Ft(Nt(kt.data,Ht))}).then(function(){Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.START_COMPLETE,streamId:Rt,success:!0})},function(Ft){Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.START_COMPLETE,streamId:Rt,reason:wt(Ft)})})},lS=function(kt){const Rt=kt.streamId,Mt=this.sourceName,Dt=kt.sourceName,Ot=this.comObj,Lt=this.streamControllers[Rt],Nt=this.streamSinks[Rt];switch(kt.stream){case _t.START_COMPLETE:kt.success?Lt.startCall.resolve():Lt.startCall.reject(wt(kt.reason));break;case _t.PULL_COMPLETE:kt.success?Lt.pullCall.resolve():Lt.pullCall.reject(wt(kt.reason));break;case _t.PULL:if(!Nt){Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.PULL_COMPLETE,streamId:Rt,success:!0});break}Nt.desiredSize<=0&&kt.desiredSize>0&&Nt.sinkCapability.resolve(),Nt.desiredSize=kt.desiredSize,new Promise(function(Ht){var Ft;Ht((Ft=Nt.onPull)==null?void 0:Ft.call(Nt))}).then(function(){Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.PULL_COMPLETE,streamId:Rt,success:!0})},function(Ht){Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.PULL_COMPLETE,streamId:Rt,reason:wt(Ht)})});break;case _t.ENQUEUE:if((0,vt.assert)(Lt,"enqueue should have stream controller"),Lt.isClosed)break;Lt.controller.enqueue(kt.chunk);break;case _t.CLOSE:if((0,vt.assert)(Lt,"close should have stream controller"),Lt.isClosed)break;Lt.isClosed=!0,Lt.controller.close(),zt(this,St,W0).call(this,Lt,Rt);break;case _t.ERROR:(0,vt.assert)(Lt,"error should have stream controller"),Lt.controller.error(wt(kt.reason)),zt(this,St,W0).call(this,Lt,Rt);break;case _t.CANCEL_COMPLETE:kt.success?Lt.cancelCall.resolve():Lt.cancelCall.reject(wt(kt.reason)),zt(this,St,W0).call(this,Lt,Rt);break;case _t.CANCEL:if(!Nt)break;new Promise(function(Ht){var Ft;Ht((Ft=Nt.onCancel)==null?void 0:Ft.call(Nt,wt(kt.reason)))}).then(function(){Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.CANCEL_COMPLETE,streamId:Rt,success:!0})},function(Ht){Ot.postMessage({sourceName:Mt,targetName:Dt,stream:_t.CANCEL_COMPLETE,streamId:Rt,reason:wt(Ht)})}),Nt.sinkCapability.reject(wt(kt.reason)),Nt.isCancelled=!0,delete this.streamSinks[Rt];break;default:throw new Error("Unexpected stream case")}},W0=async function(kt,Rt){var Mt,Dt,Ot;await Promise.allSettled([(Mt=kt.startCall)==null?void 0:Mt.promise,(Dt=kt.pullCall)==null?void 0:Dt.promise,(Ot=kt.cancelCall)==null?void 0:Ot.promise]),delete this.streamControllers[Rt]},$.MessageHandler=At},(_e,$,ht)=>{var _t,wt;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var vt=ht(1);class bt{constructor({parsedData:St,rawData:Et}){Xt(this,_t);Xt(this,wt);Gt(this,_t,St),Gt(this,wt,Et)}getRaw(){return Ct(this,wt)}get(St){return Ct(this,_t).get(St)??null}getAll(){return(0,vt.objectFromMap)(Ct(this,_t))}has(St){return Ct(this,_t).has(St)}}_t=new WeakMap,wt=new WeakMap,$.Metadata=bt},(_e,$,ht)=>{var St,Et,xt,Pt,$t,kt,zw;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var vt=ht(1),bt=ht(8);const _t=Symbol("INTERNAL");class wt{constructor(Dt,Ot){Xt(this,St,!0);this.name=Dt,this.intent=Ot}get visible(){return Ct(this,St)}_setVisible(Dt,Ot){Dt!==_t&&(0,vt.unreachable)("Internal method `_setVisible` called."),Gt(this,St,Ot)}}St=new WeakMap;class At{constructor(Dt){Xt(this,kt);Xt(this,Et,null);Xt(this,xt,new Map);Xt(this,Pt,null);Xt(this,$t,null);if(this.name=null,this.creator=null,Dt!==null){this.name=Dt.name,this.creator=Dt.creator,Gt(this,$t,Dt.order);for(const Ot of Dt.groups)Ct(this,xt).set(Ot.id,new wt(Ot.name,Ot.intent));if(Dt.baseState==="OFF")for(const Ot of Ct(this,xt).values())Ot._setVisible(_t,!1);for(const Ot of Dt.on)Ct(this,xt).get(Ot)._setVisible(_t,!0);for(const Ot of Dt.off)Ct(this,xt).get(Ot)._setVisible(_t,!1);Gt(this,Pt,this.getHash())}}isVisible(Dt){if(Ct(this,xt).size===0)return!0;if(!Dt)return(0,vt.warn)("Optional content group not defined."),!0;if(Dt.type==="OCG")return Ct(this,xt).has(Dt.id)?Ct(this,xt).get(Dt.id).visible:((0,vt.warn)(`Optional content group not found: ${Dt.id}`),!0);if(Dt.type==="OCMD"){if(Dt.expression)return zt(this,kt,zw).call(this,Dt.expression);if(!Dt.policy||Dt.policy==="AnyOn"){for(const Ot of Dt.ids){if(!Ct(this,xt).has(Ot))return(0,vt.warn)(`Optional content group not found: ${Ot}`),!0;if(Ct(this,xt).get(Ot).visible)return!0}return!1}else if(Dt.policy==="AllOn"){for(const Ot of Dt.ids){if(!Ct(this,xt).has(Ot))return(0,vt.warn)(`Optional content group not found: ${Ot}`),!0;if(!Ct(this,xt).get(Ot).visible)return!1}return!0}else if(Dt.policy==="AnyOff"){for(const Ot of Dt.ids){if(!Ct(this,xt).has(Ot))return(0,vt.warn)(`Optional content group not found: ${Ot}`),!0;if(!Ct(this,xt).get(Ot).visible)return!0}return!1}else if(Dt.policy==="AllOff"){for(const Ot of Dt.ids){if(!Ct(this,xt).has(Ot))return(0,vt.warn)(`Optional content group not found: ${Ot}`),!0;if(Ct(this,xt).get(Ot).visible)return!1}return!0}return(0,vt.warn)(`Unknown optional content policy ${Dt.policy}.`),!0}return(0,vt.warn)(`Unknown group type ${Dt.type}.`),!0}setVisibility(Dt,Ot=!0){if(!Ct(this,xt).has(Dt)){(0,vt.warn)(`Optional content group not found: ${Dt}`);return}Ct(this,xt).get(Dt)._setVisible(_t,!!Ot),Gt(this,Et,null)}get hasInitialVisibility(){return Ct(this,Pt)===null||this.getHash()===Ct(this,Pt)}getOrder(){return Ct(this,xt).size?Ct(this,$t)?Ct(this,$t).slice():[...Ct(this,xt).keys()]:null}getGroups(){return Ct(this,xt).size>0?(0,vt.objectFromMap)(Ct(this,xt)):null}getGroup(Dt){return Ct(this,xt).get(Dt)||null}getHash(){if(Ct(this,Et)!==null)return Ct(this,Et);const Dt=new bt.MurmurHash3_64;for(const[Ot,Lt]of Ct(this,xt))Dt.update(`${Ot}:${Lt.visible}`);return Gt(this,Et,Dt.hexdigest())}}Et=new WeakMap,xt=new WeakMap,Pt=new WeakMap,$t=new WeakMap,kt=new WeakSet,zw=function(Dt){const Ot=Dt.length;if(Ot<2)return!0;const Lt=Dt[0];for(let Nt=1;Nt<Ot;Nt++){const Ht=Dt[Nt];let Ft;if(Array.isArray(Ht))Ft=zt(this,kt,zw).call(this,Ht);else if(Ct(this,xt).has(Ht))Ft=Ct(this,xt).get(Ht).visible;else return(0,vt.warn)(`Optional content group not found: ${Ht}`),!0;switch(Lt){case"And":if(!Ft)return!1;break;case"Or":if(Ft)return!0;break;case"Not":return!Ft;default:return!0}}return Lt==="And"},$.OptionalContentConfig=At},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var vt=ht(1),bt=ht(6);class _t{constructor({length:Et,initialData:xt,progressiveDone:Pt=!1,contentDispositionFilename:$t=null,disableRange:kt=!1,disableStream:Rt=!1},Mt){if((0,vt.assert)(Mt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Pt,this._contentDispositionFilename=$t,(xt==null?void 0:xt.length)>0){const Dt=xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength?xt.buffer:new Uint8Array(xt).buffer;this._queuedChunks.push(Dt)}this._pdfDataRangeTransport=Mt,this._isStreamingSupported=!Rt,this._isRangeSupported=!kt,this._contentLength=Et,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Dt,Ot)=>{this._onReceiveData({begin:Dt,chunk:Ot})}),this._pdfDataRangeTransport.addProgressListener((Dt,Ot)=>{this._onProgress({loaded:Dt,total:Ot})}),this._pdfDataRangeTransport.addProgressiveReadListener(Dt=>{this._onReceiveData({chunk:Dt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Et,chunk:xt}){const Pt=xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength?xt.buffer:new Uint8Array(xt).buffer;if(Et===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Pt):this._queuedChunks.push(Pt);else{const $t=this._rangeReaders.some(function(kt){return kt._begin!==Et?!1:(kt._enqueue(Pt),!0)});(0,vt.assert)($t,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Et;return((Et=this._fullRequestReader)==null?void 0:Et._loaded)??0}_onProgress(Et){var xt,Pt,$t,kt;Et.total===void 0?(Pt=(xt=this._rangeReaders[0])==null?void 0:xt.onProgress)==null||Pt.call(xt,{loaded:Et.loaded}):(kt=($t=this._fullRequestReader)==null?void 0:$t.onProgress)==null||kt.call($t,{loaded:Et.loaded,total:Et.total})}_onProgressiveDone(){var Et;(Et=this._fullRequestReader)==null||Et.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Et){const xt=this._rangeReaders.indexOf(Et);xt>=0&&this._rangeReaders.splice(xt,1)}getFullReader(){(0,vt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Et=this._queuedChunks;return this._queuedChunks=null,new wt(this,Et,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Et,xt){if(xt<=this._progressiveDataLength)return null;const Pt=new At(this,Et,xt);return this._pdfDataRangeTransport.requestDataRange(Et,xt),this._rangeReaders.push(Pt),Pt}cancelAllRequests(Et){var xt;(xt=this._fullRequestReader)==null||xt.cancel(Et);for(const Pt of this._rangeReaders.slice(0))Pt.cancel(Et);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=_t;class wt{constructor(Et,xt,Pt=!1,$t=null){this._stream=Et,this._done=Pt||!1,this._filename=(0,bt.isPdfFile)($t)?$t:null,this._queuedChunks=xt||[],this._loaded=0;for(const kt of this._queuedChunks)this._loaded+=kt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Et._fullRequestReader=this,this.onProgress=null}_enqueue(Et){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Et,done:!1}):this._queuedChunks.push(Et),this._loaded+=Et.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Et=new vt.PromiseCapability;return this._requests.push(Et),Et.promise}cancel(Et){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class At{constructor(Et,xt,Pt){this._stream=Et,this._begin=xt,this._end=Pt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Et){if(!this._done){if(this._requests.length===0)this._queuedChunk=Et;else{this._requests.shift().resolve({value:Et,done:!1});for(const Pt of this._requests)Pt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const xt=this._queuedChunk;return this._queuedChunk=null,{value:xt,done:!1}}if(this._done)return{value:void 0,done:!0};const Et=new vt.PromiseCapability;return this._requests.push(Et),Et.promise}cancel(Et){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var vt=ht(1),bt=ht(20);function _t(Pt,$t,kt){return{method:"GET",headers:Pt,signal:kt.signal,mode:"cors",credentials:$t?"include":"same-origin",redirect:"follow"}}function wt(Pt){const $t=new Headers;for(const kt in Pt){const Rt=Pt[kt];Rt!==void 0&&$t.append(kt,Rt)}return $t}function At(Pt){return Pt instanceof Uint8Array?Pt.buffer:Pt instanceof ArrayBuffer?Pt:((0,vt.warn)(`getArrayBuffer - unexpected data format: ${Pt}`),new Uint8Array(Pt).buffer)}class St{constructor($t){this.source=$t,this.isHttp=/^https?:/i.test($t.url),this.httpHeaders=this.isHttp&&$t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $t;return(($t=this._fullRequestReader)==null?void 0:$t._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Et(this),this._fullRequestReader}getRangeReader($t,kt){if(kt<=this._progressiveDataLength)return null;const Rt=new xt(this,$t,kt);return this._rangeRequestReaders.push(Rt),Rt}cancelAllRequests($t){var kt;(kt=this._fullRequestReader)==null||kt.cancel($t);for(const Rt of this._rangeRequestReaders.slice(0))Rt.cancel($t)}}$.PDFFetchStream=St;class Et{constructor($t){this._stream=$t,this._reader=null,this._loaded=0,this._filename=null;const kt=$t.source;this._withCredentials=kt.withCredentials||!1,this._contentLength=kt.length,this._headersCapability=new vt.PromiseCapability,this._disableRange=kt.disableRange||!1,this._rangeChunkSize=kt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!kt.disableStream,this._isRangeSupported=!kt.disableRange,this._headers=wt(this._stream.httpHeaders);const Rt=kt.url;fetch(Rt,_t(this._headers,this._withCredentials,this._abortController)).then(Mt=>{if(!(0,bt.validateResponseStatus)(Mt.status))throw(0,bt.createResponseStatusError)(Mt.status,Rt);this._reader=Mt.body.getReader(),this._headersCapability.resolve();const Dt=Nt=>Mt.headers.get(Nt),{allowRangeRequests:Ot,suggestedLength:Lt}=(0,bt.validateRangeRequestCapabilities)({getResponseHeader:Dt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ot,this._contentLength=Lt||this._contentLength,this._filename=(0,bt.extractFilenameFromHeader)(Dt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new vt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Rt;await this._headersCapability.promise;const{value:$t,done:kt}=await this._reader.read();return kt?{value:$t,done:kt}:(this._loaded+=$t.byteLength,(Rt=this.onProgress)==null||Rt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:At($t),done:!1})}cancel($t){var kt;(kt=this._reader)==null||kt.cancel($t),this._abortController.abort()}}class xt{constructor($t,kt,Rt){this._stream=$t,this._reader=null,this._loaded=0;const Mt=$t.source;this._withCredentials=Mt.withCredentials||!1,this._readCapability=new vt.PromiseCapability,this._isStreamingSupported=!Mt.disableStream,this._abortController=new AbortController,this._headers=wt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${kt}-${Rt-1}`);const Dt=Mt.url;fetch(Dt,_t(this._headers,this._withCredentials,this._abortController)).then(Ot=>{if(!(0,bt.validateResponseStatus)(Ot.status))throw(0,bt.createResponseStatusError)(Ot.status,Dt);this._readCapability.resolve(),this._reader=Ot.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Rt;await this._readCapability.promise;const{value:$t,done:kt}=await this._reader.read();return kt?{value:$t,done:kt}:(this._loaded+=$t.byteLength,(Rt=this.onProgress)==null||Rt.call(this,{loaded:this._loaded}),{value:At($t),done:!1})}cancel($t){var kt;(kt=this._reader)==null||kt.cancel($t),this._abortController.abort()}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=St,$.extractFilenameFromHeader=At,$.validateRangeRequestCapabilities=wt,$.validateResponseStatus=Et;var vt=ht(1),bt=ht(21),_t=ht(6);function wt({getResponseHeader:xt,isHttp:Pt,rangeChunkSize:$t,disableRange:kt}){const Rt={allowRangeRequests:!1,suggestedLength:void 0},Mt=parseInt(xt("Content-Length"),10);return!Number.isInteger(Mt)||(Rt.suggestedLength=Mt,Mt<=2*$t)||kt||!Pt||xt("Accept-Ranges")!=="bytes"||(xt("Content-Encoding")||"identity")!=="identity"||(Rt.allowRangeRequests=!0),Rt}function At(xt){const Pt=xt("Content-Disposition");if(Pt){let $t=(0,bt.getFilenameFromContentDispositionHeader)(Pt);if($t.includes("%"))try{$t=decodeURIComponent($t)}catch{}if((0,_t.isPdfFile)($t))return $t}return null}function St(xt,Pt){return xt===404||xt===0&&Pt.startsWith("file:")?new vt.MissingPDFException('Missing PDF "'+Pt+'".'):new vt.UnexpectedResponseException(`Unexpected server response (${xt}) while retrieving PDF "${Pt}".`,xt)}function Et(xt){return xt===200||xt===206}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=bt;var vt=ht(1);function bt(_t){let wt=!0,At=St("filename\\*","i").exec(_t);if(At){At=At[1];let Mt=$t(At);return Mt=unescape(Mt),Mt=kt(Mt),Mt=Rt(Mt),xt(Mt)}if(At=Pt(_t),At){const Mt=Rt(At);return xt(Mt)}if(At=St("filename","i").exec(_t),At){At=At[1];let Mt=$t(At);return Mt=Rt(Mt),xt(Mt)}function St(Mt,Dt){return new RegExp("(?:^|;)\\s*"+Mt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Dt)}function Et(Mt,Dt){if(Mt){if(!/^[\x00-\xFF]+$/.test(Dt))return Dt;try{const Ot=new TextDecoder(Mt,{fatal:!0}),Lt=(0,vt.stringToBytes)(Dt);Dt=Ot.decode(Lt),wt=!1}catch{}}return Dt}function xt(Mt){return wt&&/[\x80-\xff]/.test(Mt)&&(Mt=Et("utf-8",Mt),wt&&(Mt=Et("iso-8859-1",Mt))),Mt}function Pt(Mt){const Dt=[];let Ot;const Lt=St("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ot=Lt.exec(Mt))!==null;){let[,Ht,Ft,jt]=Ot;if(Ht=parseInt(Ht,10),Ht in Dt){if(Ht===0)break;continue}Dt[Ht]=[Ft,jt]}const Nt=[];for(let Ht=0;Ht<Dt.length&&Ht in Dt;++Ht){let[Ft,jt]=Dt[Ht];jt=$t(jt),Ft&&(jt=unescape(jt),Ht===0&&(jt=kt(jt))),Nt.push(jt)}return Nt.join("")}function $t(Mt){if(Mt.startsWith('"')){const Dt=Mt.slice(1).split('\\"');for(let Ot=0;Ot<Dt.length;++Ot){const Lt=Dt[Ot].indexOf('"');Lt!==-1&&(Dt[Ot]=Dt[Ot].slice(0,Lt),Dt.length=Ot+1),Dt[Ot]=Dt[Ot].replaceAll(/\\(.)/g,"$1")}Mt=Dt.join('"')}return Mt}function kt(Mt){const Dt=Mt.indexOf("'");if(Dt===-1)return Mt;const Ot=Mt.slice(0,Dt),Nt=Mt.slice(Dt+1).replace(/^[^']*'/,"");return Et(Ot,Nt)}function Rt(Mt){return!Mt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Mt)?Mt:Mt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Dt,Ot,Lt,Nt){if(Lt==="q"||Lt==="Q")return Nt=Nt.replaceAll("_"," "),Nt=Nt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ht,Ft){return String.fromCharCode(parseInt(Ft,16))}),Et(Ot,Nt);try{Nt=atob(Nt)}catch{}return Et(Ot,Nt)})}return""}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var vt=ht(1),bt=ht(20);const _t=200,wt=206;function At($t){const kt=$t.response;return typeof kt!="string"?kt:(0,vt.stringToBytes)(kt).buffer}class St{constructor(kt,Rt={}){this.url=kt,this.isHttp=/^https?:/i.test(kt),this.httpHeaders=this.isHttp&&Rt.httpHeaders||Object.create(null),this.withCredentials=Rt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(kt,Rt,Mt){const Dt={begin:kt,end:Rt};for(const Ot in Mt)Dt[Ot]=Mt[Ot];return this.request(Dt)}requestFull(kt){return this.request(kt)}request(kt){const Rt=new XMLHttpRequest,Mt=this.currXhrId++,Dt=this.pendingRequests[Mt]={xhr:Rt};Rt.open("GET",this.url),Rt.withCredentials=this.withCredentials;for(const Ot in this.httpHeaders){const Lt=this.httpHeaders[Ot];Lt!==void 0&&Rt.setRequestHeader(Ot,Lt)}return this.isHttp&&"begin"in kt&&"end"in kt?(Rt.setRequestHeader("Range",`bytes=${kt.begin}-${kt.end-1}`),Dt.expectedStatus=wt):Dt.expectedStatus=_t,Rt.responseType="arraybuffer",kt.onError&&(Rt.onerror=function(Ot){kt.onError(Rt.status)}),Rt.onreadystatechange=this.onStateChange.bind(this,Mt),Rt.onprogress=this.onProgress.bind(this,Mt),Dt.onHeadersReceived=kt.onHeadersReceived,Dt.onDone=kt.onDone,Dt.onError=kt.onError,Dt.onProgress=kt.onProgress,Rt.send(null),Mt}onProgress(kt,Rt){var Dt;const Mt=this.pendingRequests[kt];Mt&&((Dt=Mt.onProgress)==null||Dt.call(Mt,Rt))}onStateChange(kt,Rt){var Ht,Ft,jt;const Mt=this.pendingRequests[kt];if(!Mt)return;const Dt=Mt.xhr;if(Dt.readyState>=2&&Mt.onHeadersReceived&&(Mt.onHeadersReceived(),delete Mt.onHeadersReceived),Dt.readyState!==4||!(kt in this.pendingRequests))return;if(delete this.pendingRequests[kt],Dt.status===0&&this.isHttp){(Ht=Mt.onError)==null||Ht.call(Mt,Dt.status);return}const Ot=Dt.status||_t;if(!(Ot===_t&&Mt.expectedStatus===wt)&&Ot!==Mt.expectedStatus){(Ft=Mt.onError)==null||Ft.call(Mt,Dt.status);return}const Nt=At(Dt);if(Ot===wt){const Bt=Dt.getResponseHeader("Content-Range"),Vt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Bt);Mt.onDone({begin:parseInt(Vt[1],10),chunk:Nt})}else Nt?Mt.onDone({begin:0,chunk:Nt}):(jt=Mt.onError)==null||jt.call(Mt,Dt.status)}getRequestXhr(kt){return this.pendingRequests[kt].xhr}isPendingRequest(kt){return kt in this.pendingRequests}abortRequest(kt){const Rt=this.pendingRequests[kt].xhr;delete this.pendingRequests[kt],Rt.abort()}}class Et{constructor(kt){this._source=kt,this._manager=new St(kt.url,{httpHeaders:kt.httpHeaders,withCredentials:kt.withCredentials}),this._rangeChunkSize=kt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(kt){const Rt=this._rangeRequestReaders.indexOf(kt);Rt>=0&&this._rangeRequestReaders.splice(Rt,1)}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xt(this._manager,this._source),this._fullRequestReader}getRangeReader(kt,Rt){const Mt=new Pt(this._manager,kt,Rt);return Mt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Mt),Mt}cancelAllRequests(kt){var Rt;(Rt=this._fullRequestReader)==null||Rt.cancel(kt);for(const Mt of this._rangeRequestReaders.slice(0))Mt.cancel(kt)}}$.PDFNetworkStream=Et;class xt{constructor(kt,Rt){this._manager=kt;const Mt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Rt.url,this._fullRequestId=kt.requestFull(Mt),this._headersReceivedCapability=new vt.PromiseCapability,this._disableRange=Rt.disableRange||!1,this._contentLength=Rt.length,this._rangeChunkSize=Rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const kt=this._fullRequestId,Rt=this._manager.getRequestXhr(kt),Mt=Lt=>Rt.getResponseHeader(Lt),{allowRangeRequests:Dt,suggestedLength:Ot}=(0,bt.validateRangeRequestCapabilities)({getResponseHeader:Mt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Dt&&(this._isRangeSupported=!0),this._contentLength=Ot||this._contentLength,this._filename=(0,bt.extractFilenameFromHeader)(Mt),this._isRangeSupported&&this._manager.abortRequest(kt),this._headersReceivedCapability.resolve()}_onDone(kt){if(kt&&(this._requests.length>0?this._requests.shift().resolve({value:kt.chunk,done:!1}):this._cachedChunks.push(kt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(kt){this._storedError=(0,bt.createResponseStatusError)(kt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Rt of this._requests)Rt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(kt){var Rt;(Rt=this.onProgress)==null||Rt.call(this,{loaded:kt.loaded,total:kt.lengthComputable?kt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const kt=new vt.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0,this._headersReceivedCapability.reject(kt);for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Pt{constructor(kt,Rt,Mt){this._manager=kt;const Dt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=kt.url,this._requestId=kt.requestRange(Rt,Mt,Dt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var kt;(kt=this.onClosed)==null||kt.call(this,this)}_onDone(kt){const Rt=kt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Rt,done:!1}):this._queuedChunk=Rt,this._done=!0;for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(kt){this._storedError=(0,bt.createResponseStatusError)(kt,this._url);for(const Rt of this._requests)Rt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(kt){var Rt;this.isStreamingSupported||(Rt=this.onProgress)==null||Rt.call(this,{loaded:kt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Rt=this._queuedChunk;return this._queuedChunk=null,{value:Rt,done:!1}}if(this._done)return{value:void 0,done:!0};const kt=new vt.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0;for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var vt=ht(1),bt=ht(20);const _t=/^file:\/\/\/[a-zA-Z]:\//;function wt(Mt){const Dt=require$$5,Ot=Dt.parse(Mt);return Ot.protocol==="file:"||Ot.host?Ot:/^[a-z]:[/\\]/i.test(Mt)?Dt.parse(`file:///${Mt}`):(Ot.host||(Ot.protocol="file:"),Ot)}class At{constructor(Dt){this.source=Dt,this.url=wt(Dt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Dt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Dt;return((Dt=this._fullRequestReader)==null?void 0:Dt._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new kt(this):new Pt(this),this._fullRequestReader}getRangeReader(Dt,Ot){if(Ot<=this._progressiveDataLength)return null;const Lt=this.isFsUrl?new Rt(this,Dt,Ot):new $t(this,Dt,Ot);return this._rangeRequestReaders.push(Lt),Lt}cancelAllRequests(Dt){var Ot;(Ot=this._fullRequestReader)==null||Ot.cancel(Dt);for(const Lt of this._rangeRequestReaders.slice(0))Lt.cancel(Dt)}}$.PDFNodeStream=At;class St{constructor(Dt){this._url=Dt.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ot=Dt.source;this._contentLength=Ot.length,this._loaded=0,this._filename=null,this._disableRange=Ot.disableRange||!1,this._rangeChunkSize=Ot.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ot.disableStream,this._isRangeSupported=!Ot.disableRange,this._readableStream=null,this._readCapability=new vt.PromiseCapability,this._headersCapability=new vt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Lt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Dt=this._readableStream.read();return Dt===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=Dt.length,(Lt=this.onProgress)==null||Lt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Dt).buffer,done:!1})}cancel(Dt){if(!this._readableStream){this._error(Dt);return}this._readableStream.destroy(Dt)}_error(Dt){this._storedError=Dt,this._readCapability.resolve()}_setReadableStream(Dt){this._readableStream=Dt,Dt.on("readable",()=>{this._readCapability.resolve()}),Dt.on("end",()=>{Dt.destroy(),this._done=!0,this._readCapability.resolve()}),Dt.on("error",Ot=>{this._error(Ot)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new vt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Et{constructor(Dt){this._url=Dt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new vt.PromiseCapability;const Ot=Dt.source;this._isStreamingSupported=!Ot.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Lt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Dt=this._readableStream.read();return Dt===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=Dt.length,(Lt=this.onProgress)==null||Lt.call(this,{loaded:this._loaded}),{value:new Uint8Array(Dt).buffer,done:!1})}cancel(Dt){if(!this._readableStream){this._error(Dt);return}this._readableStream.destroy(Dt)}_error(Dt){this._storedError=Dt,this._readCapability.resolve()}_setReadableStream(Dt){this._readableStream=Dt,Dt.on("readable",()=>{this._readCapability.resolve()}),Dt.on("end",()=>{Dt.destroy(),this._done=!0,this._readCapability.resolve()}),Dt.on("error",Ot=>{this._error(Ot)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function xt(Mt,Dt){return{protocol:Mt.protocol,auth:Mt.auth,host:Mt.hostname,port:Mt.port,path:Mt.path,method:"GET",headers:Dt}}class Pt extends St{constructor(Dt){super(Dt);const Ot=Lt=>{if(Lt.statusCode===404){const jt=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=jt,this._headersCapability.reject(jt);return}this._headersCapability.resolve(),this._setReadableStream(Lt);const Nt=jt=>this._readableStream.headers[jt.toLowerCase()],{allowRangeRequests:Ht,suggestedLength:Ft}=(0,bt.validateRangeRequestCapabilities)({getResponseHeader:Nt,isHttp:Dt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ht,this._contentLength=Ft||this._contentLength,this._filename=(0,bt.extractFilenameFromHeader)(Nt)};if(this._request=null,this._url.protocol==="http:"){const Lt=require$$5;this._request=Lt.request(xt(this._url,Dt.httpHeaders),Ot)}else{const Lt=require$$5;this._request=Lt.request(xt(this._url,Dt.httpHeaders),Ot)}this._request.on("error",Lt=>{this._storedError=Lt,this._headersCapability.reject(Lt)}),this._request.end()}}class $t extends Et{constructor(Dt,Ot,Lt){super(Dt),this._httpHeaders={};for(const Ht in Dt.httpHeaders){const Ft=Dt.httpHeaders[Ht];Ft!==void 0&&(this._httpHeaders[Ht]=Ft)}this._httpHeaders.Range=`bytes=${Ot}-${Lt-1}`;const Nt=Ht=>{if(Ht.statusCode===404){const Ft=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ft;return}this._setReadableStream(Ht)};if(this._request=null,this._url.protocol==="http:"){const Ht=require$$5;this._request=Ht.request(xt(this._url,this._httpHeaders),Nt)}else{const Ht=require$$5;this._request=Ht.request(xt(this._url,this._httpHeaders),Nt)}this._request.on("error",Ht=>{this._storedError=Ht}),this._request.end()}}class kt extends St{constructor(Dt){super(Dt);let Ot=decodeURIComponent(this._url.path);_t.test(this._url.href)&&(Ot=Ot.replace(/^\//,""));const Lt=require$$5;Lt.lstat(Ot,(Nt,Ht)=>{if(Nt){Nt.code==="ENOENT"&&(Nt=new vt.MissingPDFException(`Missing PDF "${Ot}".`)),this._storedError=Nt,this._headersCapability.reject(Nt);return}this._contentLength=Ht.size,this._setReadableStream(Lt.createReadStream(Ot)),this._headersCapability.resolve()})}}class Rt extends Et{constructor(Dt,Ot,Lt){super(Dt);let Nt=decodeURIComponent(this._url.path);_t.test(this._url.href)&&(Nt=Nt.replace(/^\//,""));const Ht=require$$5;this._setReadableStream(Ht.createReadStream(Nt,{start:Ot,end:Lt-1}))}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var vt=ht(6),bt=ht(1);const _t={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},wt="http://www.w3.org/XML/1998/namespace",At="http://www.w3.org/1999/xlink",St=["butt","round","square"],Et=["miter","round","bevel"],xt=function(Ht,Ft="",jt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!jt)return URL.createObjectURL(new Blob([Ht],{type:Ft}));const Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Vt=`data:${Ft};base64,`;for(let Ut=0,Jt=Ht.length;Ut<Jt;Ut+=3){const Wt=Ht[Ut]&255,Qt=Ht[Ut+1]&255,tn=Ht[Ut+2]&255,pn=Wt>>2,nn=(Wt&3)<<4|Qt>>4,hn=Ut+1<Jt?(Qt&15)<<2|tn>>6:64,sn=Ut+2<Jt?tn&63:64;Vt+=Bt[pn]+Bt[nn]+Bt[hn]+Bt[sn]}return Vt},Pt=function(){const Ht=new Uint8Array([137,80,78,71,13,10,26,10]),Ft=12,jt=new Int32Array(256);for(let tn=0;tn<256;tn++){let pn=tn;for(let nn=0;nn<8;nn++)pn=pn&1?3988292384^pn>>1&2147483647:pn>>1&2147483647;jt[tn]=pn}function Bt(tn,pn,nn){let hn=-1;for(let sn=pn;sn<nn;sn++){const un=(hn^tn[sn])&255,en=jt[un];hn=hn>>>8^en}return hn^-1}function Vt(tn,pn,nn,hn){let sn=hn;const un=pn.length;nn[sn]=un>>24&255,nn[sn+1]=un>>16&255,nn[sn+2]=un>>8&255,nn[sn+3]=un&255,sn+=4,nn[sn]=tn.charCodeAt(0)&255,nn[sn+1]=tn.charCodeAt(1)&255,nn[sn+2]=tn.charCodeAt(2)&255,nn[sn+3]=tn.charCodeAt(3)&255,sn+=4,nn.set(pn,sn),sn+=pn.length;const en=Bt(nn,hn+4,sn);nn[sn]=en>>24&255,nn[sn+1]=en>>16&255,nn[sn+2]=en>>8&255,nn[sn+3]=en&255}function Ut(tn,pn,nn){let hn=1,sn=0;for(let un=pn;un<nn;++un)hn=(hn+(tn[un]&255))%65521,sn=(sn+hn)%65521;return sn<<16|hn}function Jt(tn){if(!bt.isNodeJS)return Wt(tn);try{const pn=parseInt(process.versions.node)>=8?tn:Buffer.from(tn),nn=require$$5.deflateSync(pn,{level:9});return nn instanceof Uint8Array?nn:new Uint8Array(nn)}catch(pn){(0,bt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+pn)}return Wt(tn)}function Wt(tn){let pn=tn.length;const nn=65535,hn=Math.ceil(pn/nn),sn=new Uint8Array(2+pn+hn*5+4);let un=0;sn[un++]=120,sn[un++]=156;let en=0;for(;pn>nn;)sn[un++]=0,sn[un++]=255,sn[un++]=255,sn[un++]=0,sn[un++]=0,sn.set(tn.subarray(en,en+nn),un),un+=nn,en+=nn,pn-=nn;sn[un++]=1,sn[un++]=pn&255,sn[un++]=pn>>8&255,sn[un++]=~pn&65535&255,sn[un++]=(~pn&65535)>>8&255,sn.set(tn.subarray(en),un),un+=tn.length-en;const fn=Ut(tn,0,tn.length);return sn[un++]=fn>>24&255,sn[un++]=fn>>16&255,sn[un++]=fn>>8&255,sn[un++]=fn&255,sn}function Qt(tn,pn,nn,hn){const sn=tn.width,un=tn.height;let en,fn,En;const rn=tn.data;switch(pn){case bt.ImageKind.GRAYSCALE_1BPP:fn=0,en=1,En=sn+7>>3;break;case bt.ImageKind.RGB_24BPP:fn=2,en=8,En=sn*3;break;case bt.ImageKind.RGBA_32BPP:fn=6,en=8,En=sn*4;break;default:throw new Error("invalid format")}const qt=new Uint8Array((1+En)*un);let Yt=0,an=0;for(let Nn=0;Nn<un;++Nn)qt[Yt++]=0,qt.set(rn.subarray(an,an+En),Yt),an+=En,Yt+=En;if(pn===bt.ImageKind.GRAYSCALE_1BPP&&hn){Yt=0;for(let Nn=0;Nn<un;Nn++){Yt++;for(let xn=0;xn<En;xn++)qt[Yt++]^=255}}const yn=new Uint8Array([sn>>24&255,sn>>16&255,sn>>8&255,sn&255,un>>24&255,un>>16&255,un>>8&255,un&255,en,fn,0,0,0]),mn=Jt(qt),vn=Ht.length+Ft*3+yn.length+mn.length,_n=new Uint8Array(vn);let kn=0;return _n.set(Ht,kn),kn+=Ht.length,Vt("IHDR",yn,_n,kn),kn+=Ft+yn.length,Vt("IDATA",mn,_n,kn),kn+=Ft+mn.length,Vt("IEND",new Uint8Array(0),_n,kn),xt(_n,"image/png",nn)}return function(pn,nn,hn){const sn=pn.kind===void 0?bt.ImageKind.GRAYSCALE_1BPP:pn.kind;return Qt(pn,sn,nn,hn)}}();class $t{constructor(){this.fontSizeScale=1,this.fontWeight=_t.fontWeight,this.fontSize=0,this.textMatrix=bt.IDENTITY_MATRIX,this.fontMatrix=bt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=bt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_t.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Ft,jt){this.x=Ft,this.y=jt}}function kt(Ht){let Ft=[];const jt=[];for(const Bt of Ht){if(Bt.fn==="save"){Ft.push({fnId:92,fn:"group",items:[]}),jt.push(Ft),Ft=Ft.at(-1).items;continue}Bt.fn==="restore"?Ft=jt.pop():Ft.push(Bt)}return Ft}function Rt(Ht){if(Number.isInteger(Ht))return Ht.toString();const Ft=Ht.toFixed(10);let jt=Ft.length-1;if(Ft[jt]!=="0")return Ft;do jt--;while(Ft[jt]==="0");return Ft.substring(0,Ft[jt]==="."?jt:jt+1)}function Mt(Ht){if(Ht[4]===0&&Ht[5]===0){if(Ht[1]===0&&Ht[2]===0)return Ht[0]===1&&Ht[3]===1?"":`scale(${Rt(Ht[0])} ${Rt(Ht[3])})`;if(Ht[0]===Ht[3]&&Ht[1]===-Ht[2]){const Ft=Math.acos(Ht[0])*180/Math.PI;return`rotate(${Rt(Ft)})`}}else if(Ht[0]===1&&Ht[1]===0&&Ht[2]===0&&Ht[3]===1)return`translate(${Rt(Ht[4])} ${Rt(Ht[5])})`;return`matrix(${Rt(Ht[0])} ${Rt(Ht[1])} ${Rt(Ht[2])} ${Rt(Ht[3])} ${Rt(Ht[4])} ${Rt(Ht[5])})`}let Dt=0,Ot=0,Lt=0;class Nt{constructor(Ft,jt,Bt=!1){(0,vt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new vt.DOMSVGFactory,this.current=new $t,this.transformMatrix=bt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Ft,this.objs=jt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Bt,this._operatorIdMapping=[];for(const Vt in bt.OPS)this._operatorIdMapping[bt.OPS[Vt]]=Vt}getObject(Ft,jt=null){return typeof Ft=="string"?Ft.startsWith("g_")?this.commonObjs.get(Ft):this.objs.get(Ft):jt}save(){this.transformStack.push(this.transformMatrix);const Ft=this.current;this.extraStack.push(Ft),this.current=Ft.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Ft){this.save(),this.executeOpTree(Ft),this.restore()}loadDependencies(Ft){const jt=Ft.fnArray,Bt=Ft.argsArray;for(let Vt=0,Ut=jt.length;Vt<Ut;Vt++)if(jt[Vt]===bt.OPS.dependency)for(const Jt of Bt[Vt]){const Wt=Jt.startsWith("g_")?this.commonObjs:this.objs,Qt=new Promise(tn=>{Wt.get(Jt,tn)});this.current.dependencies.push(Qt)}return Promise.all(this.current.dependencies)}transform(Ft,jt,Bt,Vt,Ut,Jt){const Wt=[Ft,jt,Bt,Vt,Ut,Jt];this.transformMatrix=bt.Util.transform(this.transformMatrix,Wt),this.tgrp=null}getSVG(Ft,jt){this.viewport=jt;const Bt=this._initialize(jt);return this.loadDependencies(Ft).then(()=>(this.transformMatrix=bt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Ft)),Bt))}convertOpList(Ft){const jt=this._operatorIdMapping,Bt=Ft.argsArray,Vt=Ft.fnArray,Ut=[];for(let Jt=0,Wt=Vt.length;Jt<Wt;Jt++){const Qt=Vt[Jt];Ut.push({fnId:Qt,fn:jt[Qt],args:Bt[Jt]})}return kt(Ut)}executeOpTree(Ft){for(const jt of Ft){const Bt=jt.fn,Vt=jt.fnId,Ut=jt.args;switch(Vt|0){case bt.OPS.beginText:this.beginText();break;case bt.OPS.dependency:break;case bt.OPS.setLeading:this.setLeading(Ut);break;case bt.OPS.setLeadingMoveText:this.setLeadingMoveText(Ut[0],Ut[1]);break;case bt.OPS.setFont:this.setFont(Ut);break;case bt.OPS.showText:this.showText(Ut[0]);break;case bt.OPS.showSpacedText:this.showText(Ut[0]);break;case bt.OPS.endText:this.endText();break;case bt.OPS.moveText:this.moveText(Ut[0],Ut[1]);break;case bt.OPS.setCharSpacing:this.setCharSpacing(Ut[0]);break;case bt.OPS.setWordSpacing:this.setWordSpacing(Ut[0]);break;case bt.OPS.setHScale:this.setHScale(Ut[0]);break;case bt.OPS.setTextMatrix:this.setTextMatrix(Ut[0],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5]);break;case bt.OPS.setTextRise:this.setTextRise(Ut[0]);break;case bt.OPS.setTextRenderingMode:this.setTextRenderingMode(Ut[0]);break;case bt.OPS.setLineWidth:this.setLineWidth(Ut[0]);break;case bt.OPS.setLineJoin:this.setLineJoin(Ut[0]);break;case bt.OPS.setLineCap:this.setLineCap(Ut[0]);break;case bt.OPS.setMiterLimit:this.setMiterLimit(Ut[0]);break;case bt.OPS.setFillRGBColor:this.setFillRGBColor(Ut[0],Ut[1],Ut[2]);break;case bt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ut[0],Ut[1],Ut[2]);break;case bt.OPS.setStrokeColorN:this.setStrokeColorN(Ut);break;case bt.OPS.setFillColorN:this.setFillColorN(Ut);break;case bt.OPS.shadingFill:this.shadingFill(Ut[0]);break;case bt.OPS.setDash:this.setDash(Ut[0],Ut[1]);break;case bt.OPS.setRenderingIntent:this.setRenderingIntent(Ut[0]);break;case bt.OPS.setFlatness:this.setFlatness(Ut[0]);break;case bt.OPS.setGState:this.setGState(Ut[0]);break;case bt.OPS.fill:this.fill();break;case bt.OPS.eoFill:this.eoFill();break;case bt.OPS.stroke:this.stroke();break;case bt.OPS.fillStroke:this.fillStroke();break;case bt.OPS.eoFillStroke:this.eoFillStroke();break;case bt.OPS.clip:this.clip("nonzero");break;case bt.OPS.eoClip:this.clip("evenodd");break;case bt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case bt.OPS.paintImageXObject:this.paintImageXObject(Ut[0]);break;case bt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ut[0]);break;case bt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ut[0]);break;case bt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ut[0],Ut[1]);break;case bt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case bt.OPS.closePath:this.closePath();break;case bt.OPS.closeStroke:this.closeStroke();break;case bt.OPS.closeFillStroke:this.closeFillStroke();break;case bt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case bt.OPS.nextLine:this.nextLine();break;case bt.OPS.transform:this.transform(Ut[0],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5]);break;case bt.OPS.constructPath:this.constructPath(Ut[0],Ut[1]);break;case bt.OPS.endPath:this.endPath();break;case 92:this.group(jt.items);break;default:(0,bt.warn)(`Unimplemented operator ${Bt}`);break}}}setWordSpacing(Ft){this.current.wordSpacing=Ft}setCharSpacing(Ft){this.current.charSpacing=Ft}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Ft,jt,Bt,Vt,Ut,Jt){const Wt=this.current;Wt.textMatrix=Wt.lineMatrix=[Ft,jt,Bt,Vt,Ut,Jt],Wt.textMatrixScale=Math.hypot(Ft,jt),Wt.x=Wt.lineX=0,Wt.y=Wt.lineY=0,Wt.xcoords=[],Wt.ycoords=[],Wt.tspan=this.svgFactory.createElement("svg:tspan"),Wt.tspan.setAttributeNS(null,"font-family",Wt.fontFamily),Wt.tspan.setAttributeNS(null,"font-size",`${Rt(Wt.fontSize)}px`),Wt.tspan.setAttributeNS(null,"y",Rt(-Wt.y)),Wt.txtElement=this.svgFactory.createElement("svg:text"),Wt.txtElement.append(Wt.tspan)}beginText(){const Ft=this.current;Ft.x=Ft.lineX=0,Ft.y=Ft.lineY=0,Ft.textMatrix=bt.IDENTITY_MATRIX,Ft.lineMatrix=bt.IDENTITY_MATRIX,Ft.textMatrixScale=1,Ft.tspan=this.svgFactory.createElement("svg:tspan"),Ft.txtElement=this.svgFactory.createElement("svg:text"),Ft.txtgrp=this.svgFactory.createElement("svg:g"),Ft.xcoords=[],Ft.ycoords=[]}moveText(Ft,jt){const Bt=this.current;Bt.x=Bt.lineX+=Ft,Bt.y=Bt.lineY+=jt,Bt.xcoords=[],Bt.ycoords=[],Bt.tspan=this.svgFactory.createElement("svg:tspan"),Bt.tspan.setAttributeNS(null,"font-family",Bt.fontFamily),Bt.tspan.setAttributeNS(null,"font-size",`${Rt(Bt.fontSize)}px`),Bt.tspan.setAttributeNS(null,"y",Rt(-Bt.y))}showText(Ft){const jt=this.current,Bt=jt.font,Vt=jt.fontSize;if(Vt===0)return;const Ut=jt.fontSizeScale,Jt=jt.charSpacing,Wt=jt.wordSpacing,Qt=jt.fontDirection,tn=jt.textHScale*Qt,pn=Bt.vertical,nn=pn?1:-1,hn=Bt.defaultVMetrics,sn=Vt*jt.fontMatrix[0];let un=0;for(const En of Ft){if(En===null){un+=Qt*Wt;continue}else if(typeof En=="number"){un+=nn*En*Vt/1e3;continue}const rn=(En.isSpace?Wt:0)+Jt,qt=En.fontChar;let Yt,an,yn=En.width;if(pn){let vn;const _n=En.vmetric||hn;vn=En.vmetric?_n[1]:yn*.5,vn=-vn*sn;const kn=_n[2]*sn;yn=_n?-_n[0]:yn,Yt=vn/Ut,an=(un+kn)/Ut}else Yt=un/Ut,an=0;(En.isInFont||Bt.missingFile)&&(jt.xcoords.push(jt.x+Yt),pn&&jt.ycoords.push(-jt.y+an),jt.tspan.textContent+=qt);const mn=pn?yn*sn-rn*Qt:yn*sn+rn*Qt;un+=mn}jt.tspan.setAttributeNS(null,"x",jt.xcoords.map(Rt).join(" ")),pn?jt.tspan.setAttributeNS(null,"y",jt.ycoords.map(Rt).join(" ")):jt.tspan.setAttributeNS(null,"y",Rt(-jt.y)),pn?jt.y-=un:jt.x+=un*tn,jt.tspan.setAttributeNS(null,"font-family",jt.fontFamily),jt.tspan.setAttributeNS(null,"font-size",`${Rt(jt.fontSize)}px`),jt.fontStyle!==_t.fontStyle&&jt.tspan.setAttributeNS(null,"font-style",jt.fontStyle),jt.fontWeight!==_t.fontWeight&&jt.tspan.setAttributeNS(null,"font-weight",jt.fontWeight);const en=jt.textRenderingMode&bt.TextRenderingMode.FILL_STROKE_MASK;if(en===bt.TextRenderingMode.FILL||en===bt.TextRenderingMode.FILL_STROKE?(jt.fillColor!==_t.fillColor&&jt.tspan.setAttributeNS(null,"fill",jt.fillColor),jt.fillAlpha<1&&jt.tspan.setAttributeNS(null,"fill-opacity",jt.fillAlpha)):jt.textRenderingMode===bt.TextRenderingMode.ADD_TO_PATH?jt.tspan.setAttributeNS(null,"fill","transparent"):jt.tspan.setAttributeNS(null,"fill","none"),en===bt.TextRenderingMode.STROKE||en===bt.TextRenderingMode.FILL_STROKE){const En=1/(jt.textMatrixScale||1);this._setStrokeAttributes(jt.tspan,En)}let fn=jt.textMatrix;jt.textRise!==0&&(fn=fn.slice(),fn[5]+=jt.textRise),jt.txtElement.setAttributeNS(null,"transform",`${Mt(fn)} scale(${Rt(tn)}, -1)`),jt.txtElement.setAttributeNS(wt,"xml:space","preserve"),jt.txtElement.append(jt.tspan),jt.txtgrp.append(jt.txtElement),this._ensureTransformGroup().append(jt.txtElement)}setLeadingMoveText(Ft,jt){this.setLeading(-jt),this.moveText(Ft,jt)}addFontStyle(Ft){if(!Ft.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const jt=xt(Ft.data,Ft.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Ft.loadedName}"; src: url(${jt}); }
`}setFont(Ft){const jt=this.current,Bt=this.commonObjs.get(Ft[0]);let Vt=Ft[1];jt.font=Bt,this.embedFonts&&!Bt.missingFile&&!this.embeddedFonts[Bt.loadedName]&&(this.addFontStyle(Bt),this.embeddedFonts[Bt.loadedName]=Bt),jt.fontMatrix=Bt.fontMatrix||bt.FONT_IDENTITY_MATRIX;let Ut="normal";Bt.black?Ut="900":Bt.bold&&(Ut="bold");const Jt=Bt.italic?"italic":"normal";Vt<0?(Vt=-Vt,jt.fontDirection=-1):jt.fontDirection=1,jt.fontSize=Vt,jt.fontFamily=Bt.loadedName,jt.fontWeight=Ut,jt.fontStyle=Jt,jt.tspan=this.svgFactory.createElement("svg:tspan"),jt.tspan.setAttributeNS(null,"y",Rt(-jt.y)),jt.xcoords=[],jt.ycoords=[]}endText(){var jt;const Ft=this.current;Ft.textRenderingMode&bt.TextRenderingMode.ADD_TO_PATH_FLAG&&((jt=Ft.txtElement)!=null&&jt.hasChildNodes())&&(Ft.element=Ft.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Ft){Ft>0&&(this.current.lineWidth=Ft)}setLineCap(Ft){this.current.lineCap=St[Ft]}setLineJoin(Ft){this.current.lineJoin=Et[Ft]}setMiterLimit(Ft){this.current.miterLimit=Ft}setStrokeAlpha(Ft){this.current.strokeAlpha=Ft}setStrokeRGBColor(Ft,jt,Bt){this.current.strokeColor=bt.Util.makeHexColor(Ft,jt,Bt)}setFillAlpha(Ft){this.current.fillAlpha=Ft}setFillRGBColor(Ft,jt,Bt){this.current.fillColor=bt.Util.makeHexColor(Ft,jt,Bt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Ft){this.current.strokeColor=this._makeColorN_Pattern(Ft)}setFillColorN(Ft){this.current.fillColor=this._makeColorN_Pattern(Ft)}shadingFill(Ft){const{width:jt,height:Bt}=this.viewport,Vt=bt.Util.inverseTransform(this.transformMatrix),[Ut,Jt,Wt,Qt]=bt.Util.getAxialAlignedBoundingBox([0,0,jt,Bt],Vt),tn=this.svgFactory.createElement("svg:rect");tn.setAttributeNS(null,"x",Ut),tn.setAttributeNS(null,"y",Jt),tn.setAttributeNS(null,"width",Wt-Ut),tn.setAttributeNS(null,"height",Qt-Jt),tn.setAttributeNS(null,"fill",this._makeShadingPattern(Ft)),this.current.fillAlpha<1&&tn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(tn)}_makeColorN_Pattern(Ft){return Ft[0]==="TilingPattern"?this._makeTilingPattern(Ft):this._makeShadingPattern(Ft)}_makeTilingPattern(Ft){const jt=Ft[1],Bt=Ft[2],Vt=Ft[3]||bt.IDENTITY_MATRIX,[Ut,Jt,Wt,Qt]=Ft[4],tn=Ft[5],pn=Ft[6],nn=Ft[7],hn=`shading${Lt++}`,[sn,un,en,fn]=bt.Util.normalizeRect([...bt.Util.applyTransform([Ut,Jt],Vt),...bt.Util.applyTransform([Wt,Qt],Vt)]),[En,rn]=bt.Util.singularValueDecompose2dScale(Vt),qt=tn*En,Yt=pn*rn,an=this.svgFactory.createElement("svg:pattern");an.setAttributeNS(null,"id",hn),an.setAttributeNS(null,"patternUnits","userSpaceOnUse"),an.setAttributeNS(null,"width",qt),an.setAttributeNS(null,"height",Yt),an.setAttributeNS(null,"x",`${sn}`),an.setAttributeNS(null,"y",`${un}`);const yn=this.svg,mn=this.transformMatrix,vn=this.current.fillColor,_n=this.current.strokeColor,kn=this.svgFactory.create(en-sn,fn-un);if(this.svg=kn,this.transformMatrix=Vt,nn===2){const Nn=bt.Util.makeHexColor(...jt);this.current.fillColor=Nn,this.current.strokeColor=Nn}return this.executeOpTree(this.convertOpList(Bt)),this.svg=yn,this.transformMatrix=mn,this.current.fillColor=vn,this.current.strokeColor=_n,an.append(kn.childNodes[0]),this.defs.append(an),`url(#${hn})`}_makeShadingPattern(Ft){switch(typeof Ft=="string"&&(Ft=this.objs.get(Ft)),Ft[0]){case"RadialAxial":const jt=`shading${Lt++}`,Bt=Ft[3];let Vt;switch(Ft[1]){case"axial":const Ut=Ft[4],Jt=Ft[5];Vt=this.svgFactory.createElement("svg:linearGradient"),Vt.setAttributeNS(null,"id",jt),Vt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Vt.setAttributeNS(null,"x1",Ut[0]),Vt.setAttributeNS(null,"y1",Ut[1]),Vt.setAttributeNS(null,"x2",Jt[0]),Vt.setAttributeNS(null,"y2",Jt[1]);break;case"radial":const Wt=Ft[4],Qt=Ft[5],tn=Ft[6],pn=Ft[7];Vt=this.svgFactory.createElement("svg:radialGradient"),Vt.setAttributeNS(null,"id",jt),Vt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Vt.setAttributeNS(null,"cx",Qt[0]),Vt.setAttributeNS(null,"cy",Qt[1]),Vt.setAttributeNS(null,"r",pn),Vt.setAttributeNS(null,"fx",Wt[0]),Vt.setAttributeNS(null,"fy",Wt[1]),Vt.setAttributeNS(null,"fr",tn);break;default:throw new Error(`Unknown RadialAxial type: ${Ft[1]}`)}for(const Ut of Bt){const Jt=this.svgFactory.createElement("svg:stop");Jt.setAttributeNS(null,"offset",Ut[0]),Jt.setAttributeNS(null,"stop-color",Ut[1]),Vt.append(Jt)}return this.defs.append(Vt),`url(#${jt})`;case"Mesh":return(0,bt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Ft[0]}`)}}setDash(Ft,jt){this.current.dashArray=Ft,this.current.dashPhase=jt}constructPath(Ft,jt){const Bt=this.current;let Vt=Bt.x,Ut=Bt.y,Jt=[],Wt=0;for(const Qt of Ft)switch(Qt|0){case bt.OPS.rectangle:Vt=jt[Wt++],Ut=jt[Wt++];const tn=jt[Wt++],pn=jt[Wt++],nn=Vt+tn,hn=Ut+pn;Jt.push("M",Rt(Vt),Rt(Ut),"L",Rt(nn),Rt(Ut),"L",Rt(nn),Rt(hn),"L",Rt(Vt),Rt(hn),"Z");break;case bt.OPS.moveTo:Vt=jt[Wt++],Ut=jt[Wt++],Jt.push("M",Rt(Vt),Rt(Ut));break;case bt.OPS.lineTo:Vt=jt[Wt++],Ut=jt[Wt++],Jt.push("L",Rt(Vt),Rt(Ut));break;case bt.OPS.curveTo:Vt=jt[Wt+4],Ut=jt[Wt+5],Jt.push("C",Rt(jt[Wt]),Rt(jt[Wt+1]),Rt(jt[Wt+2]),Rt(jt[Wt+3]),Rt(Vt),Rt(Ut)),Wt+=6;break;case bt.OPS.curveTo2:Jt.push("C",Rt(Vt),Rt(Ut),Rt(jt[Wt]),Rt(jt[Wt+1]),Rt(jt[Wt+2]),Rt(jt[Wt+3])),Vt=jt[Wt+2],Ut=jt[Wt+3],Wt+=4;break;case bt.OPS.curveTo3:Vt=jt[Wt+2],Ut=jt[Wt+3],Jt.push("C",Rt(jt[Wt]),Rt(jt[Wt+1]),Rt(Vt),Rt(Ut),Rt(Vt),Rt(Ut)),Wt+=4;break;case bt.OPS.closePath:Jt.push("Z");break}Jt=Jt.join(" "),Bt.path&&Ft.length>0&&Ft[0]!==bt.OPS.rectangle&&Ft[0]!==bt.OPS.moveTo?Jt=Bt.path.getAttributeNS(null,"d")+Jt:(Bt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Bt.path)),Bt.path.setAttributeNS(null,"d",Jt),Bt.path.setAttributeNS(null,"fill","none"),Bt.element=Bt.path,Bt.setCurrentPoint(Vt,Ut)}endPath(){const Ft=this.current;if(Ft.path=null,!this.pendingClip)return;if(!Ft.element){this.pendingClip=null;return}const jt=`clippath${Dt++}`,Bt=this.svgFactory.createElement("svg:clipPath");Bt.setAttributeNS(null,"id",jt),Bt.setAttributeNS(null,"transform",Mt(this.transformMatrix));const Vt=Ft.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Vt.setAttributeNS(null,"clip-rule","evenodd"):Vt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Bt.append(Vt),this.defs.append(Bt),Ft.activeClipUrl){Ft.clipGroup=null;for(const Ut of this.extraStack)Ut.clipGroup=null;Bt.setAttributeNS(null,"clip-path",Ft.activeClipUrl)}Ft.activeClipUrl=`url(#${jt})`,this.tgrp=null}clip(Ft){this.pendingClip=Ft}closePath(){const Ft=this.current;if(Ft.path){const jt=`${Ft.path.getAttributeNS(null,"d")}Z`;Ft.path.setAttributeNS(null,"d",jt)}}setLeading(Ft){this.current.leading=-Ft}setTextRise(Ft){this.current.textRise=Ft}setTextRenderingMode(Ft){this.current.textRenderingMode=Ft}setHScale(Ft){this.current.textHScale=Ft/100}setRenderingIntent(Ft){}setFlatness(Ft){}setGState(Ft){for(const[jt,Bt]of Ft)switch(jt){case"LW":this.setLineWidth(Bt);break;case"LC":this.setLineCap(Bt);break;case"LJ":this.setLineJoin(Bt);break;case"ML":this.setMiterLimit(Bt);break;case"D":this.setDash(Bt[0],Bt[1]);break;case"RI":this.setRenderingIntent(Bt);break;case"FL":this.setFlatness(Bt);break;case"Font":this.setFont(Bt);break;case"CA":this.setStrokeAlpha(Bt);break;case"ca":this.setFillAlpha(Bt);break;default:(0,bt.warn)(`Unimplemented graphic state operator ${jt}`);break}}fill(){const Ft=this.current;Ft.element&&(Ft.element.setAttributeNS(null,"fill",Ft.fillColor),Ft.element.setAttributeNS(null,"fill-opacity",Ft.fillAlpha),this.endPath())}stroke(){const Ft=this.current;Ft.element&&(this._setStrokeAttributes(Ft.element),Ft.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Ft,jt=1){const Bt=this.current;let Vt=Bt.dashArray;jt!==1&&Vt.length>0&&(Vt=Vt.map(function(Ut){return jt*Ut})),Ft.setAttributeNS(null,"stroke",Bt.strokeColor),Ft.setAttributeNS(null,"stroke-opacity",Bt.strokeAlpha),Ft.setAttributeNS(null,"stroke-miterlimit",Rt(Bt.miterLimit)),Ft.setAttributeNS(null,"stroke-linecap",Bt.lineCap),Ft.setAttributeNS(null,"stroke-linejoin",Bt.lineJoin),Ft.setAttributeNS(null,"stroke-width",Rt(jt*Bt.lineWidth)+"px"),Ft.setAttributeNS(null,"stroke-dasharray",Vt.map(Rt).join(" ")),Ft.setAttributeNS(null,"stroke-dashoffset",Rt(jt*Bt.dashPhase)+"px")}eoFill(){var Ft;(Ft=this.current.element)==null||Ft.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Ft;(Ft=this.current.element)==null||Ft.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Ft=this.svgFactory.createElement("svg:rect");Ft.setAttributeNS(null,"x","0"),Ft.setAttributeNS(null,"y","0"),Ft.setAttributeNS(null,"width","1px"),Ft.setAttributeNS(null,"height","1px"),Ft.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Ft)}paintImageXObject(Ft){const jt=this.getObject(Ft);if(!jt){(0,bt.warn)(`Dependent image with object ID ${Ft} is not ready yet`);return}this.paintInlineImageXObject(jt)}paintInlineImageXObject(Ft,jt){const Bt=Ft.width,Vt=Ft.height,Ut=Pt(Ft,this.forceDataSchema,!!jt),Jt=this.svgFactory.createElement("svg:rect");Jt.setAttributeNS(null,"x","0"),Jt.setAttributeNS(null,"y","0"),Jt.setAttributeNS(null,"width",Rt(Bt)),Jt.setAttributeNS(null,"height",Rt(Vt)),this.current.element=Jt,this.clip("nonzero");const Wt=this.svgFactory.createElement("svg:image");Wt.setAttributeNS(At,"xlink:href",Ut),Wt.setAttributeNS(null,"x","0"),Wt.setAttributeNS(null,"y",Rt(-Vt)),Wt.setAttributeNS(null,"width",Rt(Bt)+"px"),Wt.setAttributeNS(null,"height",Rt(Vt)+"px"),Wt.setAttributeNS(null,"transform",`scale(${Rt(1/Bt)} ${Rt(-1/Vt)})`),jt?jt.append(Wt):this._ensureTransformGroup().append(Wt)}paintImageMaskXObject(Ft){const jt=this.getObject(Ft.data,Ft);if(jt.bitmap){(0,bt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Bt=this.current,Vt=jt.width,Ut=jt.height,Jt=Bt.fillColor;Bt.maskId=`mask${Ot++}`;const Wt=this.svgFactory.createElement("svg:mask");Wt.setAttributeNS(null,"id",Bt.maskId);const Qt=this.svgFactory.createElement("svg:rect");Qt.setAttributeNS(null,"x","0"),Qt.setAttributeNS(null,"y","0"),Qt.setAttributeNS(null,"width",Rt(Vt)),Qt.setAttributeNS(null,"height",Rt(Ut)),Qt.setAttributeNS(null,"fill",Jt),Qt.setAttributeNS(null,"mask",`url(#${Bt.maskId})`),this.defs.append(Wt),this._ensureTransformGroup().append(Qt),this.paintInlineImageXObject(jt,Wt)}paintFormXObjectBegin(Ft,jt){if(Array.isArray(Ft)&&Ft.length===6&&this.transform(Ft[0],Ft[1],Ft[2],Ft[3],Ft[4],Ft[5]),jt){const Bt=jt[2]-jt[0],Vt=jt[3]-jt[1],Ut=this.svgFactory.createElement("svg:rect");Ut.setAttributeNS(null,"x",jt[0]),Ut.setAttributeNS(null,"y",jt[1]),Ut.setAttributeNS(null,"width",Rt(Bt)),Ut.setAttributeNS(null,"height",Rt(Vt)),this.current.element=Ut,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Ft){const jt=this.svgFactory.create(Ft.width,Ft.height),Bt=this.svgFactory.createElement("svg:defs");jt.append(Bt),this.defs=Bt;const Vt=this.svgFactory.createElement("svg:g");return Vt.setAttributeNS(null,"transform",Mt(Ft.transform)),jt.append(Vt),this.svg=Vt,jt}_ensureClipGroup(){if(!this.current.clipGroup){const Ft=this.svgFactory.createElement("svg:g");Ft.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Ft),this.current.clipGroup=Ft}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Mt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=Nt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class ht{static textContent(bt){const _t=[],wt={items:_t,styles:Object.create(null)};function At(St){var Pt;if(!St)return;let Et=null;const xt=St.name;if(xt==="#text")Et=St.value;else if(ht.shouldBuildText(xt))(Pt=St==null?void 0:St.attributes)!=null&&Pt.textContent?Et=St.attributes.textContent:St.value&&(Et=St.value);else return;if(Et!==null&&_t.push({str:Et}),!!St.children)for(const $t of St.children)At($t)}return At(bt),wt}static shouldBuildText(bt){return!(bt==="textarea"||bt==="input"||bt==="option"||bt==="select")}}$.XfaText=ht},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Mt,$.updateTextLayer=Dt;var vt=ht(1),bt=ht(6);const _t=1e5,wt=30,At=.8,St=new Map;function Et(Ot,Lt){let Nt;if(Lt&&vt.FeatureTest.isOffscreenCanvasSupported)Nt=new OffscreenCanvas(Ot,Ot).getContext("2d",{alpha:!1});else{const Ht=document.createElement("canvas");Ht.width=Ht.height=Ot,Nt=Ht.getContext("2d",{alpha:!1})}return Nt}function xt(Ot,Lt){const Nt=St.get(Ot);if(Nt)return Nt;const Ht=Et(wt,Lt);Ht.font=`${wt}px ${Ot}`;const Ft=Ht.measureText("");let jt=Ft.fontBoundingBoxAscent,Bt=Math.abs(Ft.fontBoundingBoxDescent);if(jt){const Ut=jt/(jt+Bt);return St.set(Ot,Ut),Ht.canvas.width=Ht.canvas.height=0,Ut}Ht.strokeStyle="red",Ht.clearRect(0,0,wt,wt),Ht.strokeText("g",0,0);let Vt=Ht.getImageData(0,0,wt,wt).data;Bt=0;for(let Ut=Vt.length-1-3;Ut>=0;Ut-=4)if(Vt[Ut]>0){Bt=Math.ceil(Ut/4/wt);break}Ht.clearRect(0,0,wt,wt),Ht.strokeText("A",0,wt),Vt=Ht.getImageData(0,0,wt,wt).data,jt=0;for(let Ut=0,Jt=Vt.length;Ut<Jt;Ut+=4)if(Vt[Ut]>0){jt=wt-Math.floor(Ut/4/wt);break}if(Ht.canvas.width=Ht.canvas.height=0,jt){const Ut=jt/(jt+Bt);return St.set(Ot,Ut),Ut}return St.set(Ot,At),At}function Pt(Ot,Lt,Nt){const Ht=document.createElement("span"),Ft={angle:0,canvasWidth:0,hasText:Lt.str!=="",hasEOL:Lt.hasEOL,fontSize:0};Ot._textDivs.push(Ht);const jt=vt.Util.transform(Ot._transform,Lt.transform);let Bt=Math.atan2(jt[1],jt[0]);const Vt=Nt[Lt.fontName];Vt.vertical&&(Bt+=Math.PI/2);const Ut=Math.hypot(jt[2],jt[3]),Jt=Ut*xt(Vt.fontFamily,Ot._isOffscreenCanvasSupported);let Wt,Qt;Bt===0?(Wt=jt[4],Qt=jt[5]-Jt):(Wt=jt[4]+Jt*Math.sin(Bt),Qt=jt[5]-Jt*Math.cos(Bt));const tn="calc(var(--scale-factor)*",pn=Ht.style;Ot._container===Ot._rootContainer?(pn.left=`${(100*Wt/Ot._pageWidth).toFixed(2)}%`,pn.top=`${(100*Qt/Ot._pageHeight).toFixed(2)}%`):(pn.left=`${tn}${Wt.toFixed(2)}px)`,pn.top=`${tn}${Qt.toFixed(2)}px)`),pn.fontSize=`${tn}${Ut.toFixed(2)}px)`,pn.fontFamily=Vt.fontFamily,Ft.fontSize=Ut,Ht.setAttribute("role","presentation"),Ht.textContent=Lt.str,Ht.dir=Lt.dir,Ot._fontInspectorEnabled&&(Ht.dataset.fontName=Lt.fontName),Bt!==0&&(Ft.angle=Bt*(180/Math.PI));let nn=!1;if(Lt.str.length>1)nn=!0;else if(Lt.str!==" "&&Lt.transform[0]!==Lt.transform[3]){const hn=Math.abs(Lt.transform[0]),sn=Math.abs(Lt.transform[3]);hn!==sn&&Math.max(hn,sn)/Math.min(hn,sn)>1.5&&(nn=!0)}nn&&(Ft.canvasWidth=Vt.vertical?Lt.height:Lt.width),Ot._textDivProperties.set(Ht,Ft),Ot._isReadableStream&&Ot._layoutText(Ht)}function $t(Ot){const{div:Lt,scale:Nt,properties:Ht,ctx:Ft,prevFontSize:jt,prevFontFamily:Bt}=Ot,{style:Vt}=Lt;let Ut="";if(Ht.canvasWidth!==0&&Ht.hasText){const{fontFamily:Jt}=Vt,{canvasWidth:Wt,fontSize:Qt}=Ht;(jt!==Qt||Bt!==Jt)&&(Ft.font=`${Qt*Nt}px ${Jt}`,Ot.prevFontSize=Qt,Ot.prevFontFamily=Jt);const{width:tn}=Ft.measureText(Lt.textContent);tn>0&&(Ut=`scaleX(${Wt*Nt/tn})`)}Ht.angle!==0&&(Ut=`rotate(${Ht.angle}deg) ${Ut}`),Ut.length>0&&(Vt.transform=Ut)}function kt(Ot){if(Ot._canceled)return;const Lt=Ot._textDivs,Nt=Ot._capability;if(Lt.length>_t){Nt.resolve();return}if(!Ot._isReadableStream)for(const Ft of Lt)Ot._layoutText(Ft);Nt.resolve()}class Rt{constructor({textContentSource:Lt,container:Nt,viewport:Ht,textDivs:Ft,textDivProperties:jt,textContentItemsStr:Bt,isOffscreenCanvasSupported:Vt}){var tn;this._textContentSource=Lt,this._isReadableStream=Lt instanceof ReadableStream,this._container=this._rootContainer=Nt,this._textDivs=Ft||[],this._textContentItemsStr=Bt||[],this._isOffscreenCanvasSupported=Vt,this._fontInspectorEnabled=!!((tn=globalThis.FontInspector)!=null&&tn.enabled),this._reader=null,this._textDivProperties=jt||new WeakMap,this._canceled=!1,this._capability=new vt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Et(0,Vt)};const{pageWidth:Ut,pageHeight:Jt,pageX:Wt,pageY:Qt}=Ht.rawDims;this._transform=[1,0,0,-1,-Wt,Qt+Jt],this._pageWidth=Ut,this._pageHeight=Jt,(0,bt.setLayerDimensions)(Nt,Ht),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new vt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new vt.AbortException("TextLayer task cancelled."))}_processItems(Lt,Nt){for(const Ht of Lt){if(Ht.str===void 0){if(Ht.type==="beginMarkedContentProps"||Ht.type==="beginMarkedContent"){const Ft=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Ht.id!==null&&this._container.setAttribute("id",`${Ht.id}`),Ft.append(this._container)}else Ht.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Ht.str),Pt(this,Ht,Nt)}}_layoutText(Lt){const Nt=this._layoutTextParams.properties=this._textDivProperties.get(Lt);if(this._layoutTextParams.div=Lt,$t(this._layoutTextParams),Nt.hasText&&this._container.append(Lt),Nt.hasEOL){const Ht=document.createElement("br");Ht.setAttribute("role","presentation"),this._container.append(Ht)}}_render(){const Lt=new vt.PromiseCapability;let Nt=Object.create(null);if(this._isReadableStream){const Ht=()=>{this._reader.read().then(({value:Ft,done:jt})=>{if(jt){Lt.resolve();return}Object.assign(Nt,Ft.styles),this._processItems(Ft.items,Nt),Ht()},Lt.reject)};this._reader=this._textContentSource.getReader(),Ht()}else if(this._textContentSource){const{items:Ht,styles:Ft}=this._textContentSource;this._processItems(Ht,Ft),Lt.resolve()}else throw new Error('No "textContentSource" parameter specified.');Lt.promise.then(()=>{Nt=null,kt(this)},this._capability.reject)}}$.TextLayerRenderTask=Rt;function Mt(Ot){!Ot.textContentSource&&(Ot.textContent||Ot.textContentStream)&&((0,bt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Ot.textContentSource=Ot.textContent||Ot.textContentStream);const{container:Lt,viewport:Nt}=Ot,Ht=getComputedStyle(Lt),Ft=Ht.getPropertyValue("visibility"),jt=parseFloat(Ht.getPropertyValue("--scale-factor"));Ft==="visible"&&(!jt||Math.abs(jt-Nt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Bt=new Rt(Ot);return Bt._render(),Bt}function Dt({container:Ot,viewport:Lt,textDivs:Nt,textDivProperties:Ht,isOffscreenCanvasSupported:Ft,mustRotate:jt=!0,mustRescale:Bt=!0}){if(jt&&(0,bt.setLayerDimensions)(Ot,{rotation:Lt.rotation}),Bt){const Vt=Et(0,Ft),Jt={prevFontSize:null,prevFontFamily:null,div:null,scale:Lt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Vt};for(const Wt of Nt)Jt.properties=Ht.get(Wt),Jt.div=Wt,$t(Jt)}}},(_e,$,ht)=>{var xt,Pt,$t,kt,Rt,Mt,Dt,Ot,Lt,Nt,Ht,qw,z0,Gw,Kw;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var vt=ht(1),bt=ht(4),_t=ht(28),wt=ht(33),At=ht(6),St=ht(34);const Ut=class Ut{constructor({uiManager:Wt,pageIndex:Qt,div:tn,accessibilityManager:pn,annotationLayer:nn,viewport:hn,l10n:sn}){Xt(this,Ht);Xt(this,xt);Xt(this,Pt,!1);Xt(this,$t,null);Xt(this,kt,this.pointerup.bind(this));Xt(this,Rt,this.pointerdown.bind(this));Xt(this,Mt,new Map);Xt(this,Dt,!1);Xt(this,Ot,!1);Xt(this,Lt,!1);Xt(this,Nt);const un=[_t.FreeTextEditor,wt.InkEditor,St.StampEditor];if(!Ut._initialized){Ut._initialized=!0;for(const en of un)en.initialize(sn)}Wt.registerEditorTypes(un),Gt(this,Nt,Wt),this.pageIndex=Qt,this.div=tn,Gt(this,xt,pn),Gt(this,$t,nn),this.viewport=hn,Ct(this,Nt).addLayer(this)}get isEmpty(){return Ct(this,Mt).size===0}updateToolbar(Wt){Ct(this,Nt).updateToolbar(Wt)}updateMode(Wt=Ct(this,Nt).getMode()){zt(this,Ht,Kw).call(this),Wt===vt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Wt!==vt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Wt===vt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Wt===vt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Wt===vt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Wt){if(!Wt&&Ct(this,Nt).getMode()!==vt.AnnotationEditorType.INK)return;if(!Wt){for(const tn of Ct(this,Mt).values())if(tn.isEmpty()){tn.setInBackground();return}}zt(this,Ht,z0).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Wt){Ct(this,Nt).setEditingState(Wt)}addCommands(Wt){Ct(this,Nt).addCommands(Wt)}enable(){this.div.style.pointerEvents="auto";const Wt=new Set;for(const tn of Ct(this,Mt).values())tn.enableEditing(),tn.annotationElementId&&Wt.add(tn.annotationElementId);if(!Ct(this,$t))return;const Qt=Ct(this,$t).getEditableAnnotations();for(const tn of Qt){if(tn.hide(),Ct(this,Nt).isDeletedAnnotationElement(tn.data.id)||Wt.has(tn.data.id))continue;const pn=this.deserialize(tn);pn&&(this.addOrRebuild(pn),pn.enableEditing())}}disable(){var Qt;Gt(this,Lt,!0),this.div.style.pointerEvents="none";const Wt=new Set;for(const tn of Ct(this,Mt).values()){if(tn.disableEditing(),!tn.annotationElementId||tn.serialize()!==null){Wt.add(tn.annotationElementId);continue}(Qt=this.getEditableAnnotation(tn.annotationElementId))==null||Qt.show(),tn.remove()}if(Ct(this,$t)){const tn=Ct(this,$t).getEditableAnnotations();for(const pn of tn){const{id:nn}=pn.data;Wt.has(nn)||Ct(this,Nt).isDeletedAnnotationElement(nn)||pn.show()}}zt(this,Ht,Kw).call(this),this.isEmpty&&(this.div.hidden=!0),Gt(this,Lt,!1)}getEditableAnnotation(Wt){var Qt;return((Qt=Ct(this,$t))==null?void 0:Qt.getEditableAnnotation(Wt))||null}setActiveEditor(Wt){Ct(this,Nt).getActive()!==Wt&&Ct(this,Nt).setActiveEditor(Wt)}enableClick(){this.div.addEventListener("pointerdown",Ct(this,Rt)),this.div.addEventListener("pointerup",Ct(this,kt))}disableClick(){this.div.removeEventListener("pointerdown",Ct(this,Rt)),this.div.removeEventListener("pointerup",Ct(this,kt))}attach(Wt){Ct(this,Mt).set(Wt.id,Wt);const{annotationElementId:Qt}=Wt;Qt&&Ct(this,Nt).isDeletedAnnotationElement(Qt)&&Ct(this,Nt).removeDeletedAnnotationElement(Wt)}detach(Wt){var Qt;Ct(this,Mt).delete(Wt.id),(Qt=Ct(this,xt))==null||Qt.removePointerInTextLayer(Wt.contentDiv),!Ct(this,Lt)&&Wt.annotationElementId&&Ct(this,Nt).addDeletedAnnotationElement(Wt)}remove(Wt){this.detach(Wt),Ct(this,Nt).removeEditor(Wt),Wt.div.contains(document.activeElement)&&setTimeout(()=>{Ct(this,Nt).focusMainContainer()},0),Wt.div.remove(),Wt.isAttachedToDOM=!1,Ct(this,Ot)||this.addInkEditorIfNeeded(!1)}changeParent(Wt){var Qt;Wt.parent!==this&&(Wt.annotationElementId&&(Ct(this,Nt).addDeletedAnnotationElement(Wt.annotationElementId),bt.AnnotationEditor.deleteAnnotationElement(Wt),Wt.annotationElementId=null),this.attach(Wt),(Qt=Wt.parent)==null||Qt.detach(Wt),Wt.setParent(this),Wt.div&&Wt.isAttachedToDOM&&(Wt.div.remove(),this.div.append(Wt.div)))}add(Wt){if(this.changeParent(Wt),Ct(this,Nt).addEditor(Wt),this.attach(Wt),!Wt.isAttachedToDOM){const Qt=Wt.render();this.div.append(Qt),Wt.isAttachedToDOM=!0}Wt.fixAndSetPosition(),Wt.onceAdded(),Ct(this,Nt).addToAnnotationStorage(Wt)}moveEditorInDOM(Wt){var tn;if(!Wt.isAttachedToDOM)return;const{activeElement:Qt}=document;Wt.div.contains(Qt)&&(Wt._focusEventsAllowed=!1,setTimeout(()=>{Wt.div.contains(document.activeElement)?Wt._focusEventsAllowed=!0:(Wt.div.addEventListener("focusin",()=>{Wt._focusEventsAllowed=!0},{once:!0}),Qt.focus())},0)),Wt._structTreeParentId=(tn=Ct(this,xt))==null?void 0:tn.moveElementInDOM(this.div,Wt.div,Wt.contentDiv,!0)}addOrRebuild(Wt){Wt.needsToBeRebuilt()?Wt.rebuild():this.add(Wt)}addUndoableEditor(Wt){const Qt=()=>Wt._uiManager.rebuild(Wt),tn=()=>{Wt.remove()};this.addCommands({cmd:Qt,undo:tn,mustExec:!1})}getNextId(){return Ct(this,Nt).getId()}pasteEditor(Wt,Qt){Ct(this,Nt).updateToolbar(Wt),Ct(this,Nt).updateMode(Wt);const{offsetX:tn,offsetY:pn}=zt(this,Ht,Gw).call(this),nn=this.getNextId(),hn=zt(this,Ht,qw).call(this,{parent:this,id:nn,x:tn,y:pn,uiManager:Ct(this,Nt),isCentered:!0,...Qt});hn&&this.add(hn)}deserialize(Wt){switch(Wt.annotationType??Wt.annotationEditorType){case vt.AnnotationEditorType.FREETEXT:return _t.FreeTextEditor.deserialize(Wt,this,Ct(this,Nt));case vt.AnnotationEditorType.INK:return wt.InkEditor.deserialize(Wt,this,Ct(this,Nt));case vt.AnnotationEditorType.STAMP:return St.StampEditor.deserialize(Wt,this,Ct(this,Nt))}return null}addNewEditor(){zt(this,Ht,z0).call(this,zt(this,Ht,Gw).call(this),!0)}setSelected(Wt){Ct(this,Nt).setSelected(Wt)}toggleSelected(Wt){Ct(this,Nt).toggleSelected(Wt)}isSelected(Wt){return Ct(this,Nt).isSelected(Wt)}unselect(Wt){Ct(this,Nt).unselect(Wt)}pointerup(Wt){const{isMac:Qt}=vt.FeatureTest.platform;if(!(Wt.button!==0||Wt.ctrlKey&&Qt)&&Wt.target===this.div&&Ct(this,Dt)){if(Gt(this,Dt,!1),!Ct(this,Pt)){Gt(this,Pt,!0);return}if(Ct(this,Nt).getMode()===vt.AnnotationEditorType.STAMP){Ct(this,Nt).unselectAll();return}zt(this,Ht,z0).call(this,Wt,!1)}}pointerdown(Wt){if(Ct(this,Dt)){Gt(this,Dt,!1);return}const{isMac:Qt}=vt.FeatureTest.platform;if(Wt.button!==0||Wt.ctrlKey&&Qt||Wt.target!==this.div)return;Gt(this,Dt,!0);const tn=Ct(this,Nt).getActive();Gt(this,Pt,!tn||tn.isEmpty())}findNewParent(Wt,Qt,tn){const pn=Ct(this,Nt).findParent(Qt,tn);return pn===null||pn===this?!1:(pn.changeParent(Wt),!0)}destroy(){var Wt,Qt;((Wt=Ct(this,Nt).getActive())==null?void 0:Wt.parent)===this&&(Ct(this,Nt).commitOrRemove(),Ct(this,Nt).setActiveEditor(null));for(const tn of Ct(this,Mt).values())(Qt=Ct(this,xt))==null||Qt.removePointerInTextLayer(tn.contentDiv),tn.setParent(null),tn.isAttachedToDOM=!1,tn.div.remove();this.div=null,Ct(this,Mt).clear(),Ct(this,Nt).removeLayer(this)}render({viewport:Wt}){this.viewport=Wt,(0,At.setLayerDimensions)(this.div,Wt);for(const Qt of Ct(this,Nt).getEditors(this.pageIndex))this.add(Qt);this.updateMode()}update({viewport:Wt}){Ct(this,Nt).commitOrRemove(),this.viewport=Wt,(0,At.setLayerDimensions)(this.div,{rotation:Wt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Wt,pageHeight:Qt}=this.viewport.rawDims;return[Wt,Qt]}};xt=new WeakMap,Pt=new WeakMap,$t=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,Lt=new WeakMap,Nt=new WeakMap,Ht=new WeakSet,qw=function(Wt){switch(Ct(this,Nt).getMode()){case vt.AnnotationEditorType.FREETEXT:return new _t.FreeTextEditor(Wt);case vt.AnnotationEditorType.INK:return new wt.InkEditor(Wt);case vt.AnnotationEditorType.STAMP:return new St.StampEditor(Wt)}return null},z0=function(Wt,Qt){const tn=this.getNextId(),pn=zt(this,Ht,qw).call(this,{parent:this,id:tn,x:Wt.offsetX,y:Wt.offsetY,uiManager:Ct(this,Nt),isCentered:Qt});return pn&&this.add(pn),pn},Gw=function(){const{x:Wt,y:Qt,width:tn,height:pn}=this.div.getBoundingClientRect(),nn=Math.max(0,Wt),hn=Math.max(0,Qt),sn=Math.min(window.innerWidth,Wt+tn),un=Math.min(window.innerHeight,Qt+pn),en=(nn+sn)/2-Wt,fn=(hn+un)/2-Qt,[En,rn]=this.viewport.rotation%180===0?[en,fn]:[fn,en];return{offsetX:En,offsetY:rn}},Kw=function(){Gt(this,Ot,!0);for(const Wt of Ct(this,Mt).values())Wt.isEmpty()&&Wt.remove();Gt(this,Ot,!1)},Tr(Ut,"_initialized",!1);let Et=Ut;$.AnnotationEditorLayer=Et},(_e,$,ht)=>{var St,Et,xt,Pt,$t,kt,Rt,Mt,Dt,Ot,cS,uS,dS,Ay,Xw,hS,Yw;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var vt=ht(1),bt=ht(5),_t=ht(4),wt=ht(29);const Ut=class Ut extends _t.AnnotationEditor{constructor(Qt){super({...Qt,name:"freeTextEditor"});Xt(this,Ot);Xt(this,St,this.editorDivBlur.bind(this));Xt(this,Et,this.editorDivFocus.bind(this));Xt(this,xt,this.editorDivInput.bind(this));Xt(this,Pt,this.editorDivKeydown.bind(this));Xt(this,$t);Xt(this,kt,"");Xt(this,Rt,`${this.id}-editor`);Xt(this,Mt);Xt(this,Dt,null);Gt(this,$t,Qt.color||Ut._defaultColor||_t.AnnotationEditor._defaultLineColor),Gt(this,Mt,Qt.fontSize||Ut._defaultFontSize)}static get _keyboardManager(){const Qt=Ut.prototype,tn=hn=>hn.isEmpty(),pn=bt.AnnotationEditorUIManager.TRANSLATE_SMALL,nn=bt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new bt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Qt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Qt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Qt._translateEmpty,{args:[-pn,0],checker:tn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Qt._translateEmpty,{args:[-nn,0],checker:tn}],[["ArrowRight","mac+ArrowRight"],Qt._translateEmpty,{args:[pn,0],checker:tn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Qt._translateEmpty,{args:[nn,0],checker:tn}],[["ArrowUp","mac+ArrowUp"],Qt._translateEmpty,{args:[0,-pn],checker:tn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Qt._translateEmpty,{args:[0,-nn],checker:tn}],[["ArrowDown","mac+ArrowDown"],Qt._translateEmpty,{args:[0,pn],checker:tn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Qt._translateEmpty,{args:[0,nn],checker:tn}]]))}static initialize(Qt){_t.AnnotationEditor.initialize(Qt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const tn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(tn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Qt,tn){switch(Qt){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:Ut._defaultFontSize=tn;break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:Ut._defaultColor=tn;break}}updateParams(Qt,tn){switch(Qt){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:zt(this,Ot,cS).call(this,tn);break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:zt(this,Ot,uS).call(this,tn);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,Ut._defaultFontSize],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,Ut._defaultColor||_t.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,Ct(this,Mt)],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,Ct(this,$t)]]}_translateEmpty(Qt,tn){this._uiManager.translateSelectedEditors(Qt,tn,!0)}getInitialTranslation(){const Qt=this.parentScale;return[-Ut._internalPadding*Qt,-(Ut._internalPadding+Ct(this,Mt))*Qt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(vt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ct(this,Pt)),this.editorDiv.addEventListener("focus",Ct(this,Et)),this.editorDiv.addEventListener("blur",Ct(this,St)),this.editorDiv.addEventListener("input",Ct(this,xt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ct(this,Rt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ct(this,Pt)),this.editorDiv.removeEventListener("focus",Ct(this,Et)),this.editorDiv.removeEventListener("blur",Ct(this,St)),this.editorDiv.removeEventListener("input",Ct(this,xt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Qt){this._focusEventsAllowed&&(super.focusin(Qt),Qt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Qt;if(this.width){zt(this,Ot,Yw).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Qt=this._initialOptions)!=null&&Qt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Qt=Ct(this,kt),tn=Gt(this,kt,zt(this,Ot,dS).call(this).trimEnd());if(Qt===tn)return;const pn=nn=>{if(Gt(this,kt,nn),!nn){this.remove();return}zt(this,Ot,Xw).call(this),this._uiManager.rebuild(this),zt(this,Ot,Ay).call(this)};this.addCommands({cmd:()=>{pn(tn)},undo:()=>{pn(Qt)},mustExec:!1}),zt(this,Ot,Ay).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Qt){this.enterInEditMode()}keydown(Qt){Qt.target===this.div&&Qt.key==="Enter"&&(this.enterInEditMode(),Qt.preventDefault())}editorDivKeydown(Qt){Ut._keyboardManager.exec(this,Qt)}editorDivFocus(Qt){this.isEditing=!0}editorDivBlur(Qt){this.isEditing=!1}editorDivInput(Qt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Qt,tn;this.width&&(Qt=this.x,tn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ct(this,Rt)),this.enableEditing(),_t.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(nn=>{var hn;return(hn=this.editorDiv)==null?void 0:hn.setAttribute("aria-label",nn)}),_t.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(nn=>{var hn;return(hn=this.editorDiv)==null?void 0:hn.setAttribute("default-content",nn)}),this.editorDiv.contentEditable=!0;const{style:pn}=this.editorDiv;if(pn.fontSize=`calc(${Ct(this,Mt)}px * var(--scale-factor))`,pn.color=Ct(this,$t),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,bt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[nn,hn]=this.parentDimensions;if(this.annotationElementId){const{position:sn}=Ct(this,Dt);let[un,en]=this.getInitialTranslation();[un,en]=this.pageTranslationToScreen(un,en);const[fn,En]=this.pageDimensions,[rn,qt]=this.pageTranslation;let Yt,an;switch(this.rotation){case 0:Yt=Qt+(sn[0]-rn)/fn,an=tn+this.height-(sn[1]-qt)/En;break;case 90:Yt=Qt+(sn[0]-rn)/fn,an=tn-(sn[1]-qt)/En,[un,en]=[en,-un];break;case 180:Yt=Qt-this.width+(sn[0]-rn)/fn,an=tn-(sn[1]-qt)/En,[un,en]=[-un,-en];break;case 270:Yt=Qt+(sn[0]-rn-this.height*En)/fn,an=tn+(sn[1]-qt-this.width*fn)/En,[un,en]=[-en,un];break}this.setAt(Yt*nn,an*hn,un,en)}else this.setAt(Qt*nn,tn*hn,this.width*nn,this.height*hn);zt(this,Ot,Xw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Qt,tn,pn){let nn=null;if(Qt instanceof wt.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:sn,fontColor:un},rect:en,rotation:fn,id:En},textContent:rn,textPosition:qt,parent:{page:{pageNumber:Yt}}}=Qt;if(!rn||rn.length===0)return null;nn=Qt={annotationType:vt.AnnotationEditorType.FREETEXT,color:Array.from(un),fontSize:sn,value:rn.join(`
`),position:qt,pageIndex:Yt-1,rect:en,rotation:fn,id:En,deleted:!1}}const hn=super.deserialize(Qt,tn,pn);return Gt(hn,Mt,Qt.fontSize),Gt(hn,$t,vt.Util.makeHexColor(...Qt.color)),Gt(hn,kt,Qt.value),hn.annotationElementId=Qt.id||null,Gt(hn,Dt,nn),hn}serialize(Qt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const tn=Ut._internalPadding*this.parentScale,pn=this.getRect(tn,tn),nn=_t.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ct(this,$t)),hn={annotationType:vt.AnnotationEditorType.FREETEXT,color:nn,fontSize:Ct(this,Mt),value:Ct(this,kt),pageIndex:this.pageIndex,rect:pn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Qt?hn:this.annotationElementId&&!zt(this,Ot,hS).call(this,hn)?null:(hn.id=this.annotationElementId,hn)}};St=new WeakMap,Et=new WeakMap,xt=new WeakMap,Pt=new WeakMap,$t=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,Ot=new WeakSet,cS=function(Qt){const tn=nn=>{this.editorDiv.style.fontSize=`calc(${nn}px * var(--scale-factor))`,this.translate(0,-(nn-Ct(this,Mt))*this.parentScale),Gt(this,Mt,nn),zt(this,Ot,Ay).call(this)},pn=Ct(this,Mt);this.addCommands({cmd:()=>{tn(Qt)},undo:()=>{tn(pn)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},uS=function(Qt){const tn=Ct(this,$t);this.addCommands({cmd:()=>{Gt(this,$t,this.editorDiv.style.color=Qt)},undo:()=>{Gt(this,$t,this.editorDiv.style.color=tn)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},dS=function(){const Qt=this.editorDiv.getElementsByTagName("div");if(Qt.length===0)return this.editorDiv.innerText;const tn=[];for(const pn of Qt)tn.push(pn.innerText.replace(/\r\n?|\n/,""));return tn.join(`
`)},Ay=function(){const[Qt,tn]=this.parentDimensions;let pn;if(this.isAttachedToDOM)pn=this.div.getBoundingClientRect();else{const{currentLayer:nn,div:hn}=this,sn=hn.style.display;hn.style.display="hidden",nn.div.append(this.div),pn=hn.getBoundingClientRect(),hn.remove(),hn.style.display=sn}this.rotation%180===this.parentRotation%180?(this.width=pn.width/Qt,this.height=pn.height/tn):(this.width=pn.height/Qt,this.height=pn.width/tn),this.fixAndSetPosition()},Xw=function(){if(this.editorDiv.replaceChildren(),!!Ct(this,kt))for(const Qt of Ct(this,kt).split(`
`)){const tn=document.createElement("div");tn.append(Qt?document.createTextNode(Qt):document.createElement("br")),this.editorDiv.append(tn)}},hS=function(Qt){const{value:tn,fontSize:pn,color:nn,rect:hn,pageIndex:sn}=Ct(this,Dt);return Qt.value!==tn||Qt.fontSize!==pn||Qt.rect.some((un,en)=>Math.abs(un-hn[en])>=1)||Qt.color.some((un,en)=>un!==nn[en])||Qt.pageIndex!==sn},Yw=function(Qt=!1){if(!this.annotationElementId)return;if(zt(this,Ot,Ay).call(this),!Qt&&(this.width===0||this.height===0)){setTimeout(()=>zt(this,Ot,Yw).call(this,!0),0);return}const tn=Ut._internalPadding*this.parentScale;Ct(this,Dt).rect=this.getRect(tn,tn)},Tr(Ut,"_freeTextDefaultContent",""),Tr(Ut,"_internalPadding",0),Tr(Ut,"_defaultColor",null),Tr(Ut,"_defaultFontSize",10),Tr(Ut,"_type","freetext");let At=Ut;$.FreeTextEditor=At},(_e,$,ht)=>{var an,mn,Ju,fS,kn,Nn,xn,qn,zn,Xn,On,Ln,dn,wn,Mn,Bn,Gn,er,Zn,In,cr,sr,pS,q0,Zw,Qw,Pr,qr,os,Qn,Dn,jn,pr,Jw,Or,An,Yn,lr,mS,eA;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var vt=ht(1),bt=ht(6),_t=ht(3),wt=ht(30),At=ht(31),St=ht(32);const Et=1e3,xt=9,Pt=new WeakSet;function $t(fr){return{width:fr[2]-fr[0],height:fr[3]-fr[1]}}class kt{static create(bn){switch(bn.data.annotationType){case vt.AnnotationType.LINK:return new Mt(bn);case vt.AnnotationType.TEXT:return new Dt(bn);case vt.AnnotationType.WIDGET:switch(bn.data.fieldType){case"Tx":return new Lt(bn);case"Btn":return bn.data.radioButton?new Ft(bn):bn.data.checkBox?new Ht(bn):new jt(bn);case"Ch":return new Bt(bn);case"Sig":return new Nt(bn)}return new Ot(bn);case vt.AnnotationType.POPUP:return new Vt(bn);case vt.AnnotationType.FREETEXT:return new Jt(bn);case vt.AnnotationType.LINE:return new Wt(bn);case vt.AnnotationType.SQUARE:return new Qt(bn);case vt.AnnotationType.CIRCLE:return new tn(bn);case vt.AnnotationType.POLYLINE:return new pn(bn);case vt.AnnotationType.CARET:return new hn(bn);case vt.AnnotationType.INK:return new sn(bn);case vt.AnnotationType.POLYGON:return new nn(bn);case vt.AnnotationType.HIGHLIGHT:return new un(bn);case vt.AnnotationType.UNDERLINE:return new en(bn);case vt.AnnotationType.SQUIGGLY:return new fn(bn);case vt.AnnotationType.STRIKEOUT:return new En(bn);case vt.AnnotationType.STAMP:return new rn(bn);case vt.AnnotationType.FILEATTACHMENT:return new qt(bn);default:return new Rt(bn)}}}const yn=class yn{constructor(bn,{isRenderable:gn=!1,ignoreBorder:$n=!1,createQuadrilaterals:Wn=!1}={}){Xt(this,an,!1);this.isRenderable=gn,this.data=bn.data,this.layer=bn.layer,this.linkService=bn.linkService,this.downloadManager=bn.downloadManager,this.imageResourcesPath=bn.imageResourcesPath,this.renderForms=bn.renderForms,this.svgFactory=bn.svgFactory,this.annotationStorage=bn.annotationStorage,this.enableScripting=bn.enableScripting,this.hasJSActions=bn.hasJSActions,this._fieldObjects=bn.fieldObjects,this.parent=bn.parent,gn&&(this.container=this._createContainer($n)),Wn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:bn,contentsObj:gn,richText:$n}){return!!(bn!=null&&bn.str||gn!=null&&gn.str||$n!=null&&$n.str)}get hasPopupData(){return yn._hasPopupData(this.data)}_createContainer(bn){const{data:gn,parent:{page:$n,viewport:Wn}}=this,Kn=document.createElement("section");Kn.setAttribute("data-annotation-id",gn.id),this instanceof Ot||(Kn.tabIndex=Et),Kn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Kn.setAttribute("aria-haspopup","dialog"),gn.noRotate&&Kn.classList.add("norotate");const{pageWidth:Jn,pageHeight:ir,pageX:_r,pageY:gr}=Wn.rawDims;if(!gn.rect||this instanceof Vt){const{rotation:Nr}=gn;return!gn.hasOwnCanvas&&Nr!==0&&this.setRotation(Nr,Kn),Kn}const{width:dr,height:Wr}=$t(gn.rect),yr=vt.Util.normalizeRect([gn.rect[0],$n.view[3]-gn.rect[1]+$n.view[1],gn.rect[2],$n.view[3]-gn.rect[3]+$n.view[1]]);if(!bn&&gn.borderStyle.width>0){Kn.style.borderWidth=`${gn.borderStyle.width}px`;const Nr=gn.borderStyle.horizontalCornerRadius,Xr=gn.borderStyle.verticalCornerRadius;if(Nr>0||Xr>0){const ms=`calc(${Nr}px * var(--scale-factor)) / calc(${Xr}px * var(--scale-factor))`;Kn.style.borderRadius=ms}else if(this instanceof Ft){const ms=`calc(${dr}px * var(--scale-factor)) / calc(${Wr}px * var(--scale-factor))`;Kn.style.borderRadius=ms}switch(gn.borderStyle.style){case vt.AnnotationBorderStyleType.SOLID:Kn.style.borderStyle="solid";break;case vt.AnnotationBorderStyleType.DASHED:Kn.style.borderStyle="dashed";break;case vt.AnnotationBorderStyleType.BEVELED:(0,vt.warn)("Unimplemented border style: beveled");break;case vt.AnnotationBorderStyleType.INSET:(0,vt.warn)("Unimplemented border style: inset");break;case vt.AnnotationBorderStyleType.UNDERLINE:Kn.style.borderBottomStyle="solid";break}const rs=gn.borderColor||null;rs?(Gt(this,an,!0),Kn.style.borderColor=vt.Util.makeHexColor(rs[0]|0,rs[1]|0,rs[2]|0)):Kn.style.borderWidth=0}Kn.style.left=`${100*(yr[0]-_r)/Jn}%`,Kn.style.top=`${100*(yr[1]-gr)/ir}%`;const{rotation:Sr}=gn;return gn.hasOwnCanvas||Sr===0?(Kn.style.width=`${100*dr/Jn}%`,Kn.style.height=`${100*Wr/ir}%`):this.setRotation(Sr,Kn),Kn}setRotation(bn,gn=this.container){if(!this.data.rect)return;const{pageWidth:$n,pageHeight:Wn}=this.parent.viewport.rawDims,{width:Kn,height:Jn}=$t(this.data.rect);let ir,_r;bn%180===0?(ir=100*Kn/$n,_r=100*Jn/Wn):(ir=100*Jn/$n,_r=100*Kn/Wn),gn.style.width=`${ir}%`,gn.style.height=`${_r}%`,gn.setAttribute("data-main-rotation",(360-bn)%360)}get _commonActions(){const bn=(gn,$n,Wn)=>{const Kn=Wn.detail[gn],Jn=Kn[0],ir=Kn.slice(1);Wn.target.style[$n]=wt.ColorConverters[`${Jn}_HTML`](ir),this.annotationStorage.setValue(this.data.id,{[$n]:wt.ColorConverters[`${Jn}_rgb`](ir)})};return(0,vt.shadow)(this,"_commonActions",{display:gn=>{const{display:$n}=gn.detail,Wn=$n%2===1;this.container.style.visibility=Wn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Wn,noPrint:$n===1||$n===2})},print:gn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!gn.detail.print})},hidden:gn=>{const{hidden:$n}=gn.detail;this.container.style.visibility=$n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:$n,noView:$n})},focus:gn=>{setTimeout(()=>gn.target.focus({preventScroll:!1}),0)},userName:gn=>{gn.target.title=gn.detail.userName},readonly:gn=>{gn.target.disabled=gn.detail.readonly},required:gn=>{this._setRequired(gn.target,gn.detail.required)},bgColor:gn=>{bn("bgColor","backgroundColor",gn)},fillColor:gn=>{bn("fillColor","backgroundColor",gn)},fgColor:gn=>{bn("fgColor","color",gn)},textColor:gn=>{bn("textColor","color",gn)},borderColor:gn=>{bn("borderColor","borderColor",gn)},strokeColor:gn=>{bn("strokeColor","borderColor",gn)},rotation:gn=>{const $n=gn.detail.rotation;this.setRotation($n),this.annotationStorage.setValue(this.data.id,{rotation:$n})}})}_dispatchEventFromSandbox(bn,gn){const $n=this._commonActions;for(const Wn of Object.keys(gn.detail)){const Kn=bn[Wn]||$n[Wn];Kn==null||Kn(gn)}}_setDefaultPropertiesFromJS(bn){if(!this.enableScripting)return;const gn=this.annotationStorage.getRawValue(this.data.id);if(!gn)return;const $n=this._commonActions;for(const[Wn,Kn]of Object.entries(gn)){const Jn=$n[Wn];if(Jn){const ir={detail:{[Wn]:Kn},target:bn};Jn(ir),delete gn[Wn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:bn}=this.data;if(!bn)return;const[gn,$n,Wn,Kn]=this.data.rect;if(bn.length===1){const[,{x:Xr,y:rs},{x:ms,y:Us}]=bn[0];if(Wn===Xr&&Kn===rs&&gn===ms&&$n===Us)return}const{style:Jn}=this.container;let ir;if(Ct(this,an)){const{borderColor:Xr,borderWidth:rs}=Jn;Jn.borderWidth=0,ir=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Xr}" stroke-width="${rs}">`],this.container.classList.add("hasBorder")}const _r=Wn-gn,gr=Kn-$n,{svgFactory:dr}=this,Wr=dr.createElement("svg");Wr.classList.add("quadrilateralsContainer"),Wr.setAttribute("width",0),Wr.setAttribute("height",0);const yr=dr.createElement("defs");Wr.append(yr);const Sr=dr.createElement("clipPath"),Nr=`clippath_${this.data.id}`;Sr.setAttribute("id",Nr),Sr.setAttribute("clipPathUnits","objectBoundingBox"),yr.append(Sr);for(const[,{x:Xr,y:rs},{x:ms,y:Us}]of bn){const Ms=dr.createElement("rect"),Vo=(ms-gn)/_r,_a=(Kn-rs)/gr,xa=(Xr-ms)/_r,o0=(rs-Us)/gr;Ms.setAttribute("x",Vo),Ms.setAttribute("y",_a),Ms.setAttribute("width",xa),Ms.setAttribute("height",o0),Sr.append(Ms),ir==null||ir.push(`<rect vector-effect="non-scaling-stroke" x="${Vo}" y="${_a}" width="${xa}" height="${o0}"/>`)}Ct(this,an)&&(ir.push("</g></svg>')"),Jn.backgroundImage=ir.join("")),this.container.append(Wr),this.container.style.clipPath=`url(#${Nr})`}_createPopup(){const{container:bn,data:gn}=this;bn.setAttribute("aria-haspopup","dialog");const $n=new Vt({data:{color:gn.color,titleObj:gn.titleObj,modificationDate:gn.modificationDate,contentsObj:gn.contentsObj,richText:gn.richText,parentRect:gn.rect,borderStyle:0,id:`popup_${gn.id}`,rotation:gn.rotation},parent:this.parent,elements:[this]});this.parent.div.append($n.render())}render(){(0,vt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(bn,gn=null){const $n=[];if(this._fieldObjects){const Wn=this._fieldObjects[bn];if(Wn)for(const{page:Kn,id:Jn,exportValues:ir}of Wn){if(Kn===-1||Jn===gn)continue;const _r=typeof ir=="string"?ir:null,gr=document.querySelector(`[data-element-id="${Jn}"]`);if(gr&&!Pt.has(gr)){(0,vt.warn)(`_getElementsByName - element not allowed: ${Jn}`);continue}$n.push({id:Jn,exportValue:_r,domElement:gr})}return $n}for(const Wn of document.getElementsByName(bn)){const{exportValue:Kn}=Wn,Jn=Wn.getAttribute("data-element-id");Jn!==gn&&Pt.has(Wn)&&$n.push({id:Jn,exportValue:Kn,domElement:Wn})}return $n}show(){var bn;this.container&&(this.container.hidden=!1),(bn=this.popup)==null||bn.maybeShow()}hide(){var bn;this.container&&(this.container.hidden=!0),(bn=this.popup)==null||bn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const bn=this.getElementsToTriggerPopup();if(Array.isArray(bn))for(const gn of bn)gn.classList.add("highlightArea");else bn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:bn,data:{id:gn}}=this;this.container.addEventListener("dblclick",()=>{var $n;($n=this.linkService.eventBus)==null||$n.dispatch("switchannotationeditormode",{source:this,mode:bn,editId:gn})})}};an=new WeakMap;let Rt=yn;class Mt extends Rt{constructor(gn,$n=null){super(gn,{isRenderable:!0,ignoreBorder:!!($n!=null&&$n.ignoreBorder),createQuadrilaterals:!0});Xt(this,mn);this.isTooltipOnly=gn.data.isTooltipOnly}render(){const{data:gn,linkService:$n}=this,Wn=document.createElement("a");Wn.setAttribute("data-element-id",gn.id);let Kn=!1;return gn.url?($n.addLinkAttributes(Wn,gn.url,gn.newWindow),Kn=!0):gn.action?(this._bindNamedAction(Wn,gn.action),Kn=!0):gn.attachment?(this._bindAttachment(Wn,gn.attachment),Kn=!0):gn.setOCGState?(zt(this,mn,fS).call(this,Wn,gn.setOCGState),Kn=!0):gn.dest?(this._bindLink(Wn,gn.dest),Kn=!0):(gn.actions&&(gn.actions.Action||gn.actions["Mouse Up"]||gn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Wn,gn),Kn=!0),gn.resetForm?(this._bindResetFormAction(Wn,gn.resetForm),Kn=!0):this.isTooltipOnly&&!Kn&&(this._bindLink(Wn,""),Kn=!0)),this.container.classList.add("linkAnnotation"),Kn&&this.container.append(Wn),this.container}_bindLink(gn,$n){gn.href=this.linkService.getDestinationHash($n),gn.onclick=()=>($n&&this.linkService.goToDestination($n),!1),($n||$n==="")&&zt(this,mn,Ju).call(this)}_bindNamedAction(gn,$n){gn.href=this.linkService.getAnchorUrl(""),gn.onclick=()=>(this.linkService.executeNamedAction($n),!1),zt(this,mn,Ju).call(this)}_bindAttachment(gn,$n){gn.href=this.linkService.getAnchorUrl(""),gn.onclick=()=>{var Wn;return(Wn=this.downloadManager)==null||Wn.openOrDownloadData(this.container,$n.content,$n.filename),!1},zt(this,mn,Ju).call(this)}_bindJSAction(gn,$n){gn.href=this.linkService.getAnchorUrl("");const Wn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Kn of Object.keys($n.actions)){const Jn=Wn.get(Kn);Jn&&(gn[Jn]=()=>{var ir;return(ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$n.id,name:Kn}}),!1})}gn.onclick||(gn.onclick=()=>!1),zt(this,mn,Ju).call(this)}_bindResetFormAction(gn,$n){const Wn=gn.onclick;if(Wn||(gn.href=this.linkService.getAnchorUrl("")),zt(this,mn,Ju).call(this),!this._fieldObjects){(0,vt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Wn||(gn.onclick=()=>!1);return}gn.onclick=()=>{var Wr;Wn==null||Wn();const{fields:Kn,refs:Jn,include:ir}=$n,_r=[];if(Kn.length!==0||Jn.length!==0){const yr=new Set(Jn);for(const Sr of Kn){const Nr=this._fieldObjects[Sr]||[];for(const{id:Xr}of Nr)yr.add(Xr)}for(const Sr of Object.values(this._fieldObjects))for(const Nr of Sr)yr.has(Nr.id)===ir&&_r.push(Nr)}else for(const yr of Object.values(this._fieldObjects))_r.push(...yr);const gr=this.annotationStorage,dr=[];for(const yr of _r){const{id:Sr}=yr;switch(dr.push(Sr),yr.type){case"text":{const Xr=yr.defaultValue||"";gr.setValue(Sr,{value:Xr});break}case"checkbox":case"radiobutton":{const Xr=yr.defaultValue===yr.exportValues;gr.setValue(Sr,{value:Xr});break}case"combobox":case"listbox":{const Xr=yr.defaultValue||"";gr.setValue(Sr,{value:Xr});break}default:continue}const Nr=document.querySelector(`[data-element-id="${Sr}"]`);if(Nr){if(!Pt.has(Nr)){(0,vt.warn)(`_bindResetFormAction - element not allowed: ${Sr}`);continue}}else continue;Nr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Wr=this.linkService.eventBus)==null||Wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:dr,name:"ResetForm"}})),!1}}}mn=new WeakSet,Ju=function(){this.container.setAttribute("data-internal-link","")},fS=function(gn,$n){gn.href=this.linkService.getAnchorUrl(""),gn.onclick=()=>(this.linkService.executeSetOCGState($n),!1),zt(this,mn,Ju).call(this)};class Dt extends Rt{constructor(bn){super(bn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const bn=document.createElement("img");return bn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",bn.alt="[{{type}} Annotation]",bn.dataset.l10nId="text_annotation_type",bn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(bn),this.container}}class Ot extends Rt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(bn){var gn;this.data.hasOwnCanvas&&(((gn=bn.previousSibling)==null?void 0:gn.nodeName)==="CANVAS"&&(bn.previousSibling.hidden=!0),bn.hidden=!1)}_getKeyModifier(bn){const{isWin:gn,isMac:$n}=vt.FeatureTest.platform;return gn&&bn.ctrlKey||$n&&bn.metaKey}_setEventListener(bn,gn,$n,Wn,Kn){$n.includes("mouse")?bn.addEventListener($n,Jn=>{var ir;(ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Wn,value:Kn(Jn),shift:Jn.shiftKey,modifier:this._getKeyModifier(Jn)}})}):bn.addEventListener($n,Jn=>{var ir;if($n==="blur"){if(!gn.focused||!Jn.relatedTarget)return;gn.focused=!1}else if($n==="focus"){if(gn.focused)return;gn.focused=!0}Kn&&((ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Wn,value:Kn(Jn)}}))})}_setEventListeners(bn,gn,$n,Wn){var Kn,Jn,ir;for(const[_r,gr]of $n)(gr==="Action"||(Kn=this.data.actions)!=null&&Kn[gr])&&((gr==="Focus"||gr==="Blur")&&(gn||(gn={focused:!1})),this._setEventListener(bn,gn,_r,gr,Wn),gr==="Focus"&&!((Jn=this.data.actions)!=null&&Jn.Blur)?this._setEventListener(bn,gn,"blur","Blur",null):gr==="Blur"&&!((ir=this.data.actions)!=null&&ir.Focus)&&this._setEventListener(bn,gn,"focus","Focus",null))}_setBackgroundColor(bn){const gn=this.data.backgroundColor||null;bn.style.backgroundColor=gn===null?"transparent":vt.Util.makeHexColor(gn[0],gn[1],gn[2])}_setTextStyle(bn){const gn=["left","center","right"],{fontColor:$n}=this.data.defaultAppearanceData,Wn=this.data.defaultAppearanceData.fontSize||xt,Kn=bn.style;let Jn;const ir=2,_r=gr=>Math.round(10*gr)/10;if(this.data.multiLine){const gr=Math.abs(this.data.rect[3]-this.data.rect[1]-ir),dr=Math.round(gr/(vt.LINE_FACTOR*Wn))||1,Wr=gr/dr;Jn=Math.min(Wn,_r(Wr/vt.LINE_FACTOR))}else{const gr=Math.abs(this.data.rect[3]-this.data.rect[1]-ir);Jn=Math.min(Wn,_r(gr/vt.LINE_FACTOR))}Kn.fontSize=`calc(${Jn}px * var(--scale-factor))`,Kn.color=vt.Util.makeHexColor($n[0],$n[1],$n[2]),this.data.textAlignment!==null&&(Kn.textAlign=gn[this.data.textAlignment])}_setRequired(bn,gn){gn?bn.setAttribute("required",!0):bn.removeAttribute("required"),bn.setAttribute("aria-required",gn)}}class Lt extends Ot{constructor(bn){const gn=bn.renderForms||!bn.data.hasAppearance&&!!bn.data.fieldValue;super(bn,{isRenderable:gn})}setPropertyOnSiblings(bn,gn,$n,Wn){const Kn=this.annotationStorage;for(const Jn of this._getElementsByName(bn.name,bn.id))Jn.domElement&&(Jn.domElement[gn]=$n),Kn.setValue(Jn.id,{[Wn]:$n})}render(){var Wn,Kn;const bn=this.annotationStorage,gn=this.data.id;this.container.classList.add("textWidgetAnnotation");let $n=null;if(this.renderForms){const Jn=bn.getValue(gn,{value:this.data.fieldValue});let ir=Jn.value||"";const _r=bn.getValue(gn,{charLimit:this.data.maxLen}).charLimit;_r&&ir.length>_r&&(ir=ir.slice(0,_r));let gr=Jn.formattedValue||((Wn=this.data.textContent)==null?void 0:Wn.join(`
`))||null;gr&&this.data.comb&&(gr=gr.replaceAll(/\s+/g,""));const dr={userValue:ir,formattedValue:gr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?($n=document.createElement("textarea"),$n.textContent=gr??ir,this.data.doNotScroll&&($n.style.overflowY="hidden")):($n=document.createElement("input"),$n.type="text",$n.setAttribute("value",gr??ir),this.data.doNotScroll&&($n.style.overflowX="hidden")),this.data.hasOwnCanvas&&($n.hidden=!0),Pt.add($n),$n.setAttribute("data-element-id",gn),$n.disabled=this.data.readOnly,$n.name=this.data.fieldName,$n.tabIndex=Et,this._setRequired($n,this.data.required),_r&&($n.maxLength=_r),$n.addEventListener("input",yr=>{bn.setValue(gn,{value:yr.target.value}),this.setPropertyOnSiblings($n,"value",yr.target.value,"value"),dr.formattedValue=null}),$n.addEventListener("resetform",yr=>{const Sr=this.data.defaultFieldValue??"";$n.value=dr.userValue=Sr,dr.formattedValue=null});let Wr=yr=>{const{formattedValue:Sr}=dr;Sr!=null&&(yr.target.value=Sr),yr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){$n.addEventListener("focus",Sr=>{if(dr.focused)return;const{target:Nr}=Sr;dr.userValue&&(Nr.value=dr.userValue),dr.lastCommittedValue=Nr.value,dr.commitKey=1,dr.focused=!0}),$n.addEventListener("updatefromsandbox",Sr=>{this.showElementAndHideCanvas(Sr.target);const Nr={value(Xr){dr.userValue=Xr.detail.value??"",bn.setValue(gn,{value:dr.userValue.toString()}),Xr.target.value=dr.userValue},formattedValue(Xr){const{formattedValue:rs}=Xr.detail;dr.formattedValue=rs,rs!=null&&Xr.target!==document.activeElement&&(Xr.target.value=rs),bn.setValue(gn,{formattedValue:rs})},selRange(Xr){Xr.target.setSelectionRange(...Xr.detail.selRange)},charLimit:Xr=>{var Ms;const{charLimit:rs}=Xr.detail,{target:ms}=Xr;if(rs===0){ms.removeAttribute("maxLength");return}ms.setAttribute("maxLength",rs);let Us=dr.userValue;!Us||Us.length<=rs||(Us=Us.slice(0,rs),ms.value=dr.userValue=Us,bn.setValue(gn,{value:Us}),(Ms=this.linkService.eventBus)==null||Ms.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gn,name:"Keystroke",value:Us,willCommit:!0,commitKey:1,selStart:ms.selectionStart,selEnd:ms.selectionEnd}}))}};this._dispatchEventFromSandbox(Nr,Sr)}),$n.addEventListener("keydown",Sr=>{var rs;dr.commitKey=1;let Nr=-1;if(Sr.key==="Escape"?Nr=0:Sr.key==="Enter"&&!this.data.multiLine?Nr=2:Sr.key==="Tab"&&(dr.commitKey=3),Nr===-1)return;const{value:Xr}=Sr.target;dr.lastCommittedValue!==Xr&&(dr.lastCommittedValue=Xr,dr.userValue=Xr,(rs=this.linkService.eventBus)==null||rs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gn,name:"Keystroke",value:Xr,willCommit:!0,commitKey:Nr,selStart:Sr.target.selectionStart,selEnd:Sr.target.selectionEnd}}))});const yr=Wr;Wr=null,$n.addEventListener("blur",Sr=>{var Xr;if(!dr.focused||!Sr.relatedTarget)return;dr.focused=!1;const{value:Nr}=Sr.target;dr.userValue=Nr,dr.lastCommittedValue!==Nr&&((Xr=this.linkService.eventBus)==null||Xr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gn,name:"Keystroke",value:Nr,willCommit:!0,commitKey:dr.commitKey,selStart:Sr.target.selectionStart,selEnd:Sr.target.selectionEnd}})),yr(Sr)}),(Kn=this.data.actions)!=null&&Kn.Keystroke&&$n.addEventListener("beforeinput",Sr=>{var _a;dr.lastCommittedValue=null;const{data:Nr,target:Xr}=Sr,{value:rs,selectionStart:ms,selectionEnd:Us}=Xr;let Ms=ms,Vo=Us;switch(Sr.inputType){case"deleteWordBackward":{const xa=rs.substring(0,ms).match(/\w*[^\w]*$/);xa&&(Ms-=xa[0].length);break}case"deleteWordForward":{const xa=rs.substring(ms).match(/^[^\w]*\w*/);xa&&(Vo+=xa[0].length);break}case"deleteContentBackward":ms===Us&&(Ms-=1);break;case"deleteContentForward":ms===Us&&(Vo+=1);break}Sr.preventDefault(),(_a=this.linkService.eventBus)==null||_a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gn,name:"Keystroke",value:rs,change:Nr||"",willCommit:!1,selStart:Ms,selEnd:Vo}})}),this._setEventListeners($n,dr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sr=>Sr.target.value)}if(Wr&&$n.addEventListener("blur",Wr),this.data.comb){const Sr=(this.data.rect[2]-this.data.rect[0])/_r;$n.classList.add("comb"),$n.style.letterSpacing=`calc(${Sr}px * var(--scale-factor) - 1ch)`}}else $n=document.createElement("div"),$n.textContent=this.data.fieldValue,$n.style.verticalAlign="middle",$n.style.display="table-cell";return this._setTextStyle($n),this._setBackgroundColor($n),this._setDefaultPropertiesFromJS($n),this.container.append($n),this.container}}class Nt extends Ot{constructor(bn){super(bn,{isRenderable:!!bn.data.hasOwnCanvas})}}class Ht extends Ot{constructor(bn){super(bn,{isRenderable:bn.renderForms})}render(){const bn=this.annotationStorage,gn=this.data,$n=gn.id;let Wn=bn.getValue($n,{value:gn.exportValue===gn.fieldValue}).value;typeof Wn=="string"&&(Wn=Wn!=="Off",bn.setValue($n,{value:Wn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Kn=document.createElement("input");return Pt.add(Kn),Kn.setAttribute("data-element-id",$n),Kn.disabled=gn.readOnly,this._setRequired(Kn,this.data.required),Kn.type="checkbox",Kn.name=gn.fieldName,Wn&&Kn.setAttribute("checked",!0),Kn.setAttribute("exportValue",gn.exportValue),Kn.tabIndex=Et,Kn.addEventListener("change",Jn=>{const{name:ir,checked:_r}=Jn.target;for(const gr of this._getElementsByName(ir,$n)){const dr=_r&&gr.exportValue===gn.exportValue;gr.domElement&&(gr.domElement.checked=dr),bn.setValue(gr.id,{value:dr})}bn.setValue($n,{value:_r})}),Kn.addEventListener("resetform",Jn=>{const ir=gn.defaultFieldValue||"Off";Jn.target.checked=ir===gn.exportValue}),this.enableScripting&&this.hasJSActions&&(Kn.addEventListener("updatefromsandbox",Jn=>{const ir={value(_r){_r.target.checked=_r.detail.value!=="Off",bn.setValue($n,{value:_r.target.checked})}};this._dispatchEventFromSandbox(ir,Jn)}),this._setEventListeners(Kn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Jn=>Jn.target.checked)),this._setBackgroundColor(Kn),this._setDefaultPropertiesFromJS(Kn),this.container.append(Kn),this.container}}class Ft extends Ot{constructor(bn){super(bn,{isRenderable:bn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const bn=this.annotationStorage,gn=this.data,$n=gn.id;let Wn=bn.getValue($n,{value:gn.fieldValue===gn.buttonValue}).value;typeof Wn=="string"&&(Wn=Wn!==gn.buttonValue,bn.setValue($n,{value:Wn}));const Kn=document.createElement("input");if(Pt.add(Kn),Kn.setAttribute("data-element-id",$n),Kn.disabled=gn.readOnly,this._setRequired(Kn,this.data.required),Kn.type="radio",Kn.name=gn.fieldName,Wn&&Kn.setAttribute("checked",!0),Kn.tabIndex=Et,Kn.addEventListener("change",Jn=>{const{name:ir,checked:_r}=Jn.target;for(const gr of this._getElementsByName(ir,$n))bn.setValue(gr.id,{value:!1});bn.setValue($n,{value:_r})}),Kn.addEventListener("resetform",Jn=>{const ir=gn.defaultFieldValue;Jn.target.checked=ir!=null&&ir===gn.buttonValue}),this.enableScripting&&this.hasJSActions){const Jn=gn.buttonValue;Kn.addEventListener("updatefromsandbox",ir=>{const _r={value:gr=>{const dr=Jn===gr.detail.value;for(const Wr of this._getElementsByName(gr.target.name)){const yr=dr&&Wr.id===$n;Wr.domElement&&(Wr.domElement.checked=yr),bn.setValue(Wr.id,{value:yr})}}};this._dispatchEventFromSandbox(_r,ir)}),this._setEventListeners(Kn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ir=>ir.target.checked)}return this._setBackgroundColor(Kn),this._setDefaultPropertiesFromJS(Kn),this.container.append(Kn),this.container}}class jt extends Mt{constructor(bn){super(bn,{ignoreBorder:bn.data.hasAppearance})}render(){const bn=super.render();bn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(bn.title=this.data.alternativeText);const gn=bn.lastChild;return this.enableScripting&&this.hasJSActions&&gn&&(this._setDefaultPropertiesFromJS(gn),gn.addEventListener("updatefromsandbox",$n=>{this._dispatchEventFromSandbox({},$n)})),bn}}class Bt extends Ot{constructor(bn){super(bn,{isRenderable:bn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const bn=this.annotationStorage,gn=this.data.id,$n=bn.getValue(gn,{value:this.data.fieldValue}),Wn=document.createElement("select");Pt.add(Wn),Wn.setAttribute("data-element-id",gn),Wn.disabled=this.data.readOnly,this._setRequired(Wn,this.data.required),Wn.name=this.data.fieldName,Wn.tabIndex=Et;let Kn=this.data.combo&&this.data.options.length>0;this.data.combo||(Wn.size=this.data.options.length,this.data.multiSelect&&(Wn.multiple=!0)),Wn.addEventListener("resetform",dr=>{const Wr=this.data.defaultFieldValue;for(const yr of Wn.options)yr.selected=yr.value===Wr});for(const dr of this.data.options){const Wr=document.createElement("option");Wr.textContent=dr.displayValue,Wr.value=dr.exportValue,$n.value.includes(dr.exportValue)&&(Wr.setAttribute("selected",!0),Kn=!1),Wn.append(Wr)}let Jn=null;if(Kn){const dr=document.createElement("option");dr.value=" ",dr.setAttribute("hidden",!0),dr.setAttribute("selected",!0),Wn.prepend(dr),Jn=()=>{dr.remove(),Wn.removeEventListener("input",Jn),Jn=null},Wn.addEventListener("input",Jn)}const ir=dr=>{const Wr=dr?"value":"textContent",{options:yr,multiple:Sr}=Wn;return Sr?Array.prototype.filter.call(yr,Nr=>Nr.selected).map(Nr=>Nr[Wr]):yr.selectedIndex===-1?null:yr[yr.selectedIndex][Wr]};let _r=ir(!1);const gr=dr=>{const Wr=dr.target.options;return Array.prototype.map.call(Wr,yr=>({displayValue:yr.textContent,exportValue:yr.value}))};return this.enableScripting&&this.hasJSActions?(Wn.addEventListener("updatefromsandbox",dr=>{const Wr={value(yr){Jn==null||Jn();const Sr=yr.detail.value,Nr=new Set(Array.isArray(Sr)?Sr:[Sr]);for(const Xr of Wn.options)Xr.selected=Nr.has(Xr.value);bn.setValue(gn,{value:ir(!0)}),_r=ir(!1)},multipleSelection(yr){Wn.multiple=!0},remove(yr){const Sr=Wn.options,Nr=yr.detail.remove;Sr[Nr].selected=!1,Wn.remove(Nr),Sr.length>0&&Array.prototype.findIndex.call(Sr,rs=>rs.selected)===-1&&(Sr[0].selected=!0),bn.setValue(gn,{value:ir(!0),items:gr(yr)}),_r=ir(!1)},clear(yr){for(;Wn.length!==0;)Wn.remove(0);bn.setValue(gn,{value:null,items:[]}),_r=ir(!1)},insert(yr){const{index:Sr,displayValue:Nr,exportValue:Xr}=yr.detail.insert,rs=Wn.children[Sr],ms=document.createElement("option");ms.textContent=Nr,ms.value=Xr,rs?rs.before(ms):Wn.append(ms),bn.setValue(gn,{value:ir(!0),items:gr(yr)}),_r=ir(!1)},items(yr){const{items:Sr}=yr.detail;for(;Wn.length!==0;)Wn.remove(0);for(const Nr of Sr){const{displayValue:Xr,exportValue:rs}=Nr,ms=document.createElement("option");ms.textContent=Xr,ms.value=rs,Wn.append(ms)}Wn.options.length>0&&(Wn.options[0].selected=!0),bn.setValue(gn,{value:ir(!0),items:gr(yr)}),_r=ir(!1)},indices(yr){const Sr=new Set(yr.detail.indices);for(const Nr of yr.target.options)Nr.selected=Sr.has(Nr.index);bn.setValue(gn,{value:ir(!0)}),_r=ir(!1)},editable(yr){yr.target.disabled=!yr.detail.editable}};this._dispatchEventFromSandbox(Wr,dr)}),Wn.addEventListener("input",dr=>{var yr;const Wr=ir(!0);bn.setValue(gn,{value:Wr}),dr.preventDefault(),(yr=this.linkService.eventBus)==null||yr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gn,name:"Keystroke",value:_r,changeEx:Wr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Wn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],dr=>dr.target.value)):Wn.addEventListener("input",function(dr){bn.setValue(gn,{value:ir(!0)})}),this.data.combo&&this._setTextStyle(Wn),this._setBackgroundColor(Wn),this._setDefaultPropertiesFromJS(Wn),this.container.append(Wn),this.container}}class Vt extends Rt{constructor(bn){const{data:gn,elements:$n}=bn;super(bn,{isRenderable:Rt._hasPopupData(gn)}),this.elements=$n}render(){this.container.classList.add("popupAnnotation");const bn=new Ut({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),gn=[];for(const $n of this.elements)$n.popup=bn,gn.push($n.data.id),$n.addHighlightArea();return this.container.setAttribute("aria-controls",gn.map($n=>`${vt.AnnotationPrefix}${$n}`).join(",")),this.container}}class Ut{constructor({container:bn,color:gn,elements:$n,titleObj:Wn,modificationDate:Kn,contentsObj:Jn,richText:ir,parent:_r,rect:gr,parentRect:dr,open:Wr}){Xt(this,sr);Xt(this,kn,null);Xt(this,Nn,zt(this,sr,pS).bind(this));Xt(this,xn,zt(this,sr,Qw).bind(this));Xt(this,qn,zt(this,sr,Zw).bind(this));Xt(this,zn,zt(this,sr,q0).bind(this));Xt(this,Xn,null);Xt(this,On,null);Xt(this,Ln,null);Xt(this,dn,null);Xt(this,wn,null);Xt(this,Mn,null);Xt(this,Bn,!1);Xt(this,Gn,null);Xt(this,er,null);Xt(this,Zn,null);Xt(this,In,null);Xt(this,cr,!1);var Sr;Gt(this,On,bn),Gt(this,In,Wn),Gt(this,Ln,Jn),Gt(this,Zn,ir),Gt(this,wn,_r),Gt(this,Xn,gn),Gt(this,er,gr),Gt(this,Mn,dr),Gt(this,dn,$n);const yr=bt.PDFDateString.toDateObject(Kn);yr&&Gt(this,kn,_r.l10n.get("annotation_date_string",{date:yr.toLocaleDateString(),time:yr.toLocaleTimeString()})),this.trigger=$n.flatMap(Nr=>Nr.getElementsToTriggerPopup());for(const Nr of this.trigger)Nr.addEventListener("click",Ct(this,zn)),Nr.addEventListener("mouseenter",Ct(this,qn)),Nr.addEventListener("mouseleave",Ct(this,xn)),Nr.classList.add("popupTriggerArea");for(const Nr of $n)(Sr=Nr.container)==null||Sr.addEventListener("keydown",Ct(this,Nn));Ct(this,On).hidden=!0,Wr&&zt(this,sr,q0).call(this)}render(){if(Ct(this,Gn))return;const{page:{view:bn},viewport:{rawDims:{pageWidth:gn,pageHeight:$n,pageX:Wn,pageY:Kn}}}=Ct(this,wn),Jn=Gt(this,Gn,document.createElement("div"));if(Jn.className="popup",Ct(this,Xn)){const Ms=Jn.style.outlineColor=vt.Util.makeHexColor(...Ct(this,Xn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Jn.style.backgroundColor=`color-mix(in srgb, ${Ms} 30%, white)`:Jn.style.backgroundColor=vt.Util.makeHexColor(...Ct(this,Xn).map(_a=>Math.floor(.7*(255-_a)+_a)))}const ir=document.createElement("span");ir.className="header";const _r=document.createElement("h1");if(ir.append(_r),{dir:_r.dir,str:_r.textContent}=Ct(this,In),Jn.append(ir),Ct(this,kn)){const Ms=document.createElement("span");Ms.classList.add("popupDate"),Ct(this,kn).then(Vo=>{Ms.textContent=Vo}),ir.append(Ms)}const gr=Ct(this,Ln),dr=Ct(this,Zn);if(dr!=null&&dr.str&&(!(gr!=null&&gr.str)||gr.str===dr.str))St.XfaLayer.render({xfaHtml:dr.html,intent:"richText",div:Jn}),Jn.lastChild.classList.add("richText","popupContent");else{const Ms=this._formatContents(gr);Jn.append(Ms)}let Wr=!!Ct(this,Mn),yr=Wr?Ct(this,Mn):Ct(this,er);for(const Ms of Ct(this,dn))if(!yr||vt.Util.intersect(Ms.data.rect,yr)!==null){yr=Ms.data.rect,Wr=!0;break}const Sr=vt.Util.normalizeRect([yr[0],bn[3]-yr[1]+bn[1],yr[2],bn[3]-yr[3]+bn[1]]),Xr=Wr?yr[2]-yr[0]+5:0,rs=Sr[0]+Xr,ms=Sr[1],{style:Us}=Ct(this,On);Us.left=`${100*(rs-Wn)/gn}%`,Us.top=`${100*(ms-Kn)/$n}%`,Ct(this,On).append(Jn)}_formatContents({str:bn,dir:gn}){const $n=document.createElement("p");$n.classList.add("popupContent"),$n.dir=gn;const Wn=bn.split(/(?:\r\n?|\n)/);for(let Kn=0,Jn=Wn.length;Kn<Jn;++Kn){const ir=Wn[Kn];$n.append(document.createTextNode(ir)),Kn<Jn-1&&$n.append(document.createElement("br"))}return $n}forceHide(){Gt(this,cr,this.isVisible),Ct(this,cr)&&(Ct(this,On).hidden=!0)}maybeShow(){Ct(this,cr)&&(Gt(this,cr,!1),Ct(this,On).hidden=!1)}get isVisible(){return Ct(this,On).hidden===!1}}kn=new WeakMap,Nn=new WeakMap,xn=new WeakMap,qn=new WeakMap,zn=new WeakMap,Xn=new WeakMap,On=new WeakMap,Ln=new WeakMap,dn=new WeakMap,wn=new WeakMap,Mn=new WeakMap,Bn=new WeakMap,Gn=new WeakMap,er=new WeakMap,Zn=new WeakMap,In=new WeakMap,cr=new WeakMap,sr=new WeakSet,pS=function(bn){bn.altKey||bn.shiftKey||bn.ctrlKey||bn.metaKey||(bn.key==="Enter"||bn.key==="Escape"&&Ct(this,Bn))&&zt(this,sr,q0).call(this)},q0=function(){Gt(this,Bn,!Ct(this,Bn)),Ct(this,Bn)?(zt(this,sr,Zw).call(this),Ct(this,On).addEventListener("click",Ct(this,zn)),Ct(this,On).addEventListener("keydown",Ct(this,Nn))):(zt(this,sr,Qw).call(this),Ct(this,On).removeEventListener("click",Ct(this,zn)),Ct(this,On).removeEventListener("keydown",Ct(this,Nn)))},Zw=function(){Ct(this,Gn)||this.render(),this.isVisible?Ct(this,Bn)&&Ct(this,On).classList.add("focused"):(Ct(this,On).hidden=!1,Ct(this,On).style.zIndex=parseInt(Ct(this,On).style.zIndex)+1e3)},Qw=function(){Ct(this,On).classList.remove("focused"),!(Ct(this,Bn)||!this.isVisible)&&(Ct(this,On).hidden=!0,Ct(this,On).style.zIndex=parseInt(Ct(this,On).style.zIndex)-1e3)};class Jt extends Rt{constructor(bn){super(bn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=bn.data.textContent,this.textPosition=bn.data.textPosition,this.annotationEditorType=vt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const bn=document.createElement("div");bn.classList.add("annotationTextContent"),bn.setAttribute("role","comment");for(const gn of this.textContent){const $n=document.createElement("span");$n.textContent=gn,bn.append($n)}this.container.append(bn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=Jt;class Wt extends Rt{constructor(gn){super(gn,{isRenderable:!0,ignoreBorder:!0});Xt(this,Pr,null)}render(){this.container.classList.add("lineAnnotation");const gn=this.data,{width:$n,height:Wn}=$t(gn.rect),Kn=this.svgFactory.create($n,Wn,!0),Jn=Gt(this,Pr,this.svgFactory.createElement("svg:line"));return Jn.setAttribute("x1",gn.rect[2]-gn.lineCoordinates[0]),Jn.setAttribute("y1",gn.rect[3]-gn.lineCoordinates[1]),Jn.setAttribute("x2",gn.rect[2]-gn.lineCoordinates[2]),Jn.setAttribute("y2",gn.rect[3]-gn.lineCoordinates[3]),Jn.setAttribute("stroke-width",gn.borderStyle.width||1),Jn.setAttribute("stroke","transparent"),Jn.setAttribute("fill","transparent"),Kn.append(Jn),this.container.append(Kn),!gn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Pr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pr=new WeakMap;class Qt extends Rt{constructor(gn){super(gn,{isRenderable:!0,ignoreBorder:!0});Xt(this,qr,null)}render(){this.container.classList.add("squareAnnotation");const gn=this.data,{width:$n,height:Wn}=$t(gn.rect),Kn=this.svgFactory.create($n,Wn,!0),Jn=gn.borderStyle.width,ir=Gt(this,qr,this.svgFactory.createElement("svg:rect"));return ir.setAttribute("x",Jn/2),ir.setAttribute("y",Jn/2),ir.setAttribute("width",$n-Jn),ir.setAttribute("height",Wn-Jn),ir.setAttribute("stroke-width",Jn||1),ir.setAttribute("stroke","transparent"),ir.setAttribute("fill","transparent"),Kn.append(ir),this.container.append(Kn),!gn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,qr)}addHighlightArea(){this.container.classList.add("highlightArea")}}qr=new WeakMap;class tn extends Rt{constructor(gn){super(gn,{isRenderable:!0,ignoreBorder:!0});Xt(this,os,null)}render(){this.container.classList.add("circleAnnotation");const gn=this.data,{width:$n,height:Wn}=$t(gn.rect),Kn=this.svgFactory.create($n,Wn,!0),Jn=gn.borderStyle.width,ir=Gt(this,os,this.svgFactory.createElement("svg:ellipse"));return ir.setAttribute("cx",$n/2),ir.setAttribute("cy",Wn/2),ir.setAttribute("rx",$n/2-Jn/2),ir.setAttribute("ry",Wn/2-Jn/2),ir.setAttribute("stroke-width",Jn||1),ir.setAttribute("stroke","transparent"),ir.setAttribute("fill","transparent"),Kn.append(ir),this.container.append(Kn),!gn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,os)}addHighlightArea(){this.container.classList.add("highlightArea")}}os=new WeakMap;class pn extends Rt{constructor(gn){super(gn,{isRenderable:!0,ignoreBorder:!0});Xt(this,Qn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const gn=this.data,{width:$n,height:Wn}=$t(gn.rect),Kn=this.svgFactory.create($n,Wn,!0);let Jn=[];for(const _r of gn.vertices){const gr=_r.x-gn.rect[0],dr=gn.rect[3]-_r.y;Jn.push(gr+","+dr)}Jn=Jn.join(" ");const ir=Gt(this,Qn,this.svgFactory.createElement(this.svgElementName));return ir.setAttribute("points",Jn),ir.setAttribute("stroke-width",gn.borderStyle.width||1),ir.setAttribute("stroke","transparent"),ir.setAttribute("fill","transparent"),Kn.append(ir),this.container.append(Kn),!gn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ct(this,Qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qn=new WeakMap;class nn extends pn{constructor(bn){super(bn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class hn extends Rt{constructor(bn){super(bn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class sn extends Rt{constructor(gn){super(gn,{isRenderable:!0,ignoreBorder:!0});Xt(this,Dn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=vt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const gn=this.data,{width:$n,height:Wn}=$t(gn.rect),Kn=this.svgFactory.create($n,Wn,!0);for(const Jn of gn.inkLists){let ir=[];for(const gr of Jn){const dr=gr.x-gn.rect[0],Wr=gn.rect[3]-gr.y;ir.push(`${dr},${Wr}`)}ir=ir.join(" ");const _r=this.svgFactory.createElement(this.svgElementName);Ct(this,Dn).push(_r),_r.setAttribute("points",ir),_r.setAttribute("stroke-width",gn.borderStyle.width||1),_r.setAttribute("stroke","transparent"),_r.setAttribute("fill","transparent"),!gn.popupRef&&this.hasPopupData&&this._createPopup(),Kn.append(_r)}return this.container.append(Kn),this.container}getElementsToTriggerPopup(){return Ct(this,Dn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dn=new WeakMap,$.InkAnnotationElement=sn;class un extends Rt{constructor(bn){super(bn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class en extends Rt{constructor(bn){super(bn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class fn extends Rt{constructor(bn){super(bn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class En extends Rt{constructor(bn){super(bn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rn extends Rt{constructor(bn){super(bn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=rn;class qt extends Rt{constructor(gn){var Kn;super(gn,{isRenderable:!0});Xt(this,pr);Xt(this,jn,null);const{filename:$n,content:Wn}=this.data.file;this.filename=(0,bt.getFilenameFromUrl)($n,!0),this.content=Wn,(Kn=this.linkService.eventBus)==null||Kn.dispatch("fileattachmentannotation",{source:this,filename:$n,content:Wn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:gn,data:$n}=this;let Wn;$n.hasAppearance||$n.fillAlpha===0?Wn=document.createElement("div"):(Wn=document.createElement("img"),Wn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test($n.name)?"paperclip":"pushpin"}.svg`,$n.fillAlpha&&$n.fillAlpha<1&&(Wn.style=`filter: opacity(${Math.round($n.fillAlpha*100)}%);`)),Wn.addEventListener("dblclick",zt(this,pr,Jw).bind(this)),Gt(this,jn,Wn);const{isMac:Kn}=vt.FeatureTest.platform;return gn.addEventListener("keydown",Jn=>{Jn.key==="Enter"&&(Kn?Jn.metaKey:Jn.ctrlKey)&&zt(this,pr,Jw).call(this)}),!$n.popupRef&&this.hasPopupData?this._createPopup():Wn.classList.add("popupTriggerArea"),gn.append(Wn),gn}getElementsToTriggerPopup(){return Ct(this,jn)}addHighlightArea(){this.container.classList.add("highlightArea")}}jn=new WeakMap,pr=new WeakSet,Jw=function(){var gn;(gn=this.downloadManager)==null||gn.openOrDownloadData(this.container,this.content,this.filename)};class Yt{constructor({div:bn,accessibilityManager:gn,annotationCanvasMap:$n,l10n:Wn,page:Kn,viewport:Jn}){Xt(this,lr);Xt(this,Or,null);Xt(this,An,null);Xt(this,Yn,new Map);this.div=bn,Gt(this,Or,gn),Gt(this,An,$n),this.l10n=Wn,this.page=Kn,this.viewport=Jn,this.zIndex=0,this.l10n||(this.l10n=At.NullL10n)}async render(bn){const{annotations:gn}=bn,$n=this.div;(0,bt.setLayerDimensions)($n,this.viewport);const Wn=new Map,Kn={data:null,layer:$n,linkService:bn.linkService,downloadManager:bn.downloadManager,imageResourcesPath:bn.imageResourcesPath||"",renderForms:bn.renderForms!==!1,svgFactory:new bt.DOMSVGFactory,annotationStorage:bn.annotationStorage||new _t.AnnotationStorage,enableScripting:bn.enableScripting===!0,hasJSActions:bn.hasJSActions,fieldObjects:bn.fieldObjects,parent:this,elements:null};for(const Jn of gn){if(Jn.noHTML)continue;const ir=Jn.annotationType===vt.AnnotationType.POPUP;if(ir){const dr=Wn.get(Jn.id);if(!dr)continue;Kn.elements=dr}else{const{width:dr,height:Wr}=$t(Jn.rect);if(dr<=0||Wr<=0)continue}Kn.data=Jn;const _r=kt.create(Kn);if(!_r.isRenderable)continue;if(!ir&&Jn.popupRef){const dr=Wn.get(Jn.popupRef);dr?dr.push(_r):Wn.set(Jn.popupRef,[_r])}_r.annotationEditorType>0&&Ct(this,Yn).set(_r.data.id,_r);const gr=_r.render();Jn.hidden&&(gr.style.visibility="hidden"),zt(this,lr,mS).call(this,gr,Jn.id)}zt(this,lr,eA).call(this),await this.l10n.translate($n)}update({viewport:bn}){const gn=this.div;this.viewport=bn,(0,bt.setLayerDimensions)(gn,{rotation:bn.rotation}),zt(this,lr,eA).call(this),gn.hidden=!1}getEditableAnnotations(){return Array.from(Ct(this,Yn).values())}getEditableAnnotation(bn){return Ct(this,Yn).get(bn)}}Or=new WeakMap,An=new WeakMap,Yn=new WeakMap,lr=new WeakSet,mS=function(bn,gn){var Wn;const $n=bn.firstChild||bn;$n.id=`${vt.AnnotationPrefix}${gn}`,this.div.append(bn),(Wn=Ct(this,Or))==null||Wn.moveElementInDOM(this.div,bn,$n,!1)},eA=function(){if(!Ct(this,An))return;const bn=this.div;for(const[gn,$n]of Ct(this,An)){const Wn=bn.querySelector(`[data-annotation-id="${gn}"]`);if(!Wn)continue;const{firstChild:Kn}=Wn;Kn?Kn.nodeName==="CANVAS"?Kn.replaceWith($n):Kn.before($n):Wn.append($n)}Ct(this,An).clear()},$.AnnotationLayer=Yt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function ht(_t){return Math.floor(Math.max(0,Math.min(1,_t))*255).toString(16).padStart(2,"0")}function vt(_t){return Math.max(0,Math.min(255,255*_t))}class bt{static CMYK_G([wt,At,St,Et]){return["G",1-Math.min(1,.3*wt+.59*St+.11*At+Et)]}static G_CMYK([wt]){return["CMYK",0,0,0,1-wt]}static G_RGB([wt]){return["RGB",wt,wt,wt]}static G_rgb([wt]){return wt=vt(wt),[wt,wt,wt]}static G_HTML([wt]){const At=ht(wt);return`#${At}${At}${At}`}static RGB_G([wt,At,St]){return["G",.3*wt+.59*At+.11*St]}static RGB_rgb(wt){return wt.map(vt)}static RGB_HTML(wt){return`#${wt.map(ht).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([wt,At,St,Et]){return["RGB",1-Math.min(1,wt+Et),1-Math.min(1,St+Et),1-Math.min(1,At+Et)]}static CMYK_rgb([wt,At,St,Et]){return[vt(1-Math.min(1,wt+Et)),vt(1-Math.min(1,St+Et)),vt(1-Math.min(1,At+Et))]}static CMYK_HTML(wt){const At=this.CMYK_RGB(wt).slice(1);return this.RGB_HTML(At)}static RGB_CMYK([wt,At,St]){const Et=1-wt,xt=1-At,Pt=1-St,$t=Math.min(Et,xt,Pt);return["CMYK",Et,xt,Pt,$t]}}$.ColorConverters=bt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=vt;const ht={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};ht.print_progress_percent="{{progress}}%";function vt(wt,At){switch(wt){case"find_match_count":wt=`find_match_count[${At.total===1?"one":"other"}]`;break;case"find_match_count_limit":wt=`find_match_count_limit[${At.limit===1?"one":"other"}]`;break}return ht[wt]||""}function bt(wt,At){return At?wt.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(St,Et)=>Et in At?At[Et]:"{{"+Et+"}}"):wt}const _t={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(wt,At=null,St=vt(wt,At)){return bt(St,At)},async translate(wt){}};$.NullL10n=_t},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var vt=ht(25);class bt{static setupStorage(wt,At,St,Et,xt){const Pt=Et.getValue(At,{value:null});switch(St.name){case"textarea":if(Pt.value!==null&&(wt.textContent=Pt.value),xt==="print")break;wt.addEventListener("input",$t=>{Et.setValue(At,{value:$t.target.value})});break;case"input":if(St.attributes.type==="radio"||St.attributes.type==="checkbox"){if(Pt.value===St.attributes.xfaOn?wt.setAttribute("checked",!0):Pt.value===St.attributes.xfaOff&&wt.removeAttribute("checked"),xt==="print")break;wt.addEventListener("change",$t=>{Et.setValue(At,{value:$t.target.checked?$t.target.getAttribute("xfaOn"):$t.target.getAttribute("xfaOff")})})}else{if(Pt.value!==null&&wt.setAttribute("value",Pt.value),xt==="print")break;wt.addEventListener("input",$t=>{Et.setValue(At,{value:$t.target.value})})}break;case"select":if(Pt.value!==null){wt.setAttribute("value",Pt.value);for(const $t of St.children)$t.attributes.value===Pt.value?$t.attributes.selected=!0:$t.attributes.hasOwnProperty("selected")&&delete $t.attributes.selected}wt.addEventListener("input",$t=>{const kt=$t.target.options,Rt=kt.selectedIndex===-1?"":kt[kt.selectedIndex].value;Et.setValue(At,{value:Rt})});break}}static setAttributes({html:wt,element:At,storage:St=null,intent:Et,linkService:xt}){const{attributes:Pt}=At,$t=wt instanceof HTMLAnchorElement;Pt.type==="radio"&&(Pt.name=`${Pt.name}-${Et}`);for(const[kt,Rt]of Object.entries(Pt))if(Rt!=null)switch(kt){case"class":Rt.length&&wt.setAttribute(kt,Rt.join(" "));break;case"dataId":break;case"id":wt.setAttribute("data-element-id",Rt);break;case"style":Object.assign(wt.style,Rt);break;case"textContent":wt.textContent=Rt;break;default:(!$t||kt!=="href"&&kt!=="newWindow")&&wt.setAttribute(kt,Rt)}$t&&xt.addLinkAttributes(wt,Pt.href,Pt.newWindow),St&&Pt.dataId&&this.setupStorage(wt,Pt.dataId,At,St)}static render(wt){var Mt;const At=wt.annotationStorage,St=wt.linkService,Et=wt.xfaHtml,xt=wt.intent||"display",Pt=document.createElement(Et.name);Et.attributes&&this.setAttributes({html:Pt,element:Et,intent:xt,linkService:St});const $t=[[Et,-1,Pt]],kt=wt.div;if(kt.append(Pt),wt.viewport){const Dt=`matrix(${wt.viewport.transform.join(",")})`;kt.style.transform=Dt}xt!=="richText"&&kt.setAttribute("class","xfaLayer xfaFont");const Rt=[];for(;$t.length>0;){const[Dt,Ot,Lt]=$t.at(-1);if(Ot+1===Dt.children.length){$t.pop();continue}const Nt=Dt.children[++$t.at(-1)[1]];if(Nt===null)continue;const{name:Ht}=Nt;if(Ht==="#text"){const jt=document.createTextNode(Nt.value);Rt.push(jt),Lt.append(jt);continue}const Ft=(Mt=Nt==null?void 0:Nt.attributes)!=null&&Mt.xmlns?document.createElementNS(Nt.attributes.xmlns,Ht):document.createElement(Ht);if(Lt.append(Ft),Nt.attributes&&this.setAttributes({html:Ft,element:Nt,storage:At,intent:xt,linkService:St}),Nt.children&&Nt.children.length>0)$t.push([Nt,-1,Ft]);else if(Nt.value){const jt=document.createTextNode(Nt.value);vt.XfaText.shouldBuildText(Ht)&&Rt.push(jt),Ft.append(jt)}}for(const Dt of kt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Dt.setAttribute("readOnly",!0);return{textDivs:Rt}}static update(wt){const At=`matrix(${wt.viewport.transform.join(",")})`;wt.div.style.transform=At,wt.div.hidden=!1}}$.XfaLayer=bt},(_e,$,ht)=>{var Et,xt,Pt,$t,kt,Rt,Mt,Dt,Ot,Lt,Nt,Ht,Ft,jt,Bt,gS,yS,vS,bS,tA,_S,nA,wS,AS,SS,ES,xS,Bl,rA,G0,K0,lm,iA,X0,mn,PS,sA,TS,CS,oA,Y0,cm;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var vt=ht(1),bt=ht(4),_t=ht(29),wt=ht(6),At=ht(5);const Xn=class Xn extends bt.AnnotationEditor{constructor(dn){super({...dn,name:"inkEditor"});Xt(this,Bt);Xt(this,Et,0);Xt(this,xt,0);Xt(this,Pt,this.canvasPointermove.bind(this));Xt(this,$t,this.canvasPointerleave.bind(this));Xt(this,kt,this.canvasPointerup.bind(this));Xt(this,Rt,this.canvasPointerdown.bind(this));Xt(this,Mt,new Path2D);Xt(this,Dt,!1);Xt(this,Ot,!1);Xt(this,Lt,!1);Xt(this,Nt,null);Xt(this,Ht,0);Xt(this,Ft,0);Xt(this,jt,null);this.color=dn.color||null,this.thickness=dn.thickness||null,this.opacity=dn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(dn){bt.AnnotationEditor.initialize(dn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(dn,wn){switch(dn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Xn._defaultThickness=wn;break;case vt.AnnotationEditorParamsType.INK_COLOR:Xn._defaultColor=wn;break;case vt.AnnotationEditorParamsType.INK_OPACITY:Xn._defaultOpacity=wn/100;break}}updateParams(dn,wn){switch(dn){case vt.AnnotationEditorParamsType.INK_THICKNESS:zt(this,Bt,gS).call(this,wn);break;case vt.AnnotationEditorParamsType.INK_COLOR:zt(this,Bt,yS).call(this,wn);break;case vt.AnnotationEditorParamsType.INK_OPACITY:zt(this,Bt,vS).call(this,wn);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,Xn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,Xn._defaultColor||bt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Xn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Xn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,this.color||Xn._defaultColor||bt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Xn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(zt(this,Bt,G0).call(this),zt(this,Bt,K0).call(this)),this.isAttachedToDOM||(this.parent.add(this),zt(this,Bt,lm).call(this)),zt(this,Bt,cm).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ct(this,Nt).disconnect(),Gt(this,Nt,null),super.remove())}setParent(dn){!this.parent&&dn?this._uiManager.removeShouldRescale(this):this.parent&&dn===null&&this._uiManager.addShouldRescale(this),super.setParent(dn)}onScaleChanging(){const[dn,wn]=this.parentDimensions,Mn=this.width*dn,Bn=this.height*wn;this.setDimensions(Mn,Bn)}enableEditMode(){Ct(this,Dt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ct(this,Rt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ct(this,Rt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ct(this,Dt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Gt(this,Dt,!0),this.div.classList.add("disabled"),zt(this,Bt,cm).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(dn){this._focusEventsAllowed&&(super.focusin(dn),this.enableEditMode())}canvasPointerdown(dn){dn.button!==0||!this.isInEditMode()||Ct(this,Dt)||(this.setInForeground(),dn.preventDefault(),dn.type!=="mouse"&&this.div.focus(),zt(this,Bt,_S).call(this,dn.offsetX,dn.offsetY))}canvasPointermove(dn){dn.preventDefault(),zt(this,Bt,nA).call(this,dn.offsetX,dn.offsetY)}canvasPointerup(dn){dn.preventDefault(),zt(this,Bt,rA).call(this,dn)}canvasPointerleave(dn){zt(this,Bt,rA).call(this,dn)}get isResizable(){return!this.isEmpty()&&Ct(this,Dt)}render(){if(this.div)return this.div;let dn,wn;this.width&&(dn=this.x,wn=this.y),super.render(),bt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Zn=>{var In;return(In=this.div)==null?void 0:In.setAttribute("aria-label",Zn)});const[Mn,Bn,Gn,er]=zt(this,Bt,bS).call(this);if(this.setAt(Mn,Bn,0,0),this.setDims(Gn,er),zt(this,Bt,G0).call(this),this.width){const[Zn,In]=this.parentDimensions;this.setAspectRatio(this.width*Zn,this.height*In),this.setAt(dn*Zn,wn*In,this.width*Zn,this.height*In),Gt(this,Lt,!0),zt(this,Bt,lm).call(this),this.setDims(this.width*Zn,this.height*In),zt(this,Bt,Bl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return zt(this,Bt,K0).call(this),this.div}setDimensions(dn,wn){const Mn=Math.round(dn),Bn=Math.round(wn);if(Ct(this,Ht)===Mn&&Ct(this,Ft)===Bn)return;Gt(this,Ht,Mn),Gt(this,Ft,Bn),this.canvas.style.visibility="hidden";const[Gn,er]=this.parentDimensions;this.width=dn/Gn,this.height=wn/er,this.fixAndSetPosition(),Ct(this,Dt)&&zt(this,Bt,iA).call(this,dn,wn),zt(this,Bt,lm).call(this),zt(this,Bt,Bl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(dn,wn,Mn){var Pr,qr,os;if(dn instanceof _t.InkAnnotationElement)return null;const Bn=super.deserialize(dn,wn,Mn);Bn.thickness=dn.thickness,Bn.color=vt.Util.makeHexColor(...dn.color),Bn.opacity=dn.opacity;const[Gn,er]=Bn.pageDimensions,Zn=Bn.width*Gn,In=Bn.height*er,cr=Bn.parentScale,sr=dn.thickness/2;Gt(Bn,Dt,!0),Gt(Bn,Ht,Math.round(Zn)),Gt(Bn,Ft,Math.round(In));const{paths:Hr,rect:Mr,rotation:Jr}=dn;for(let{bezier:Qn}of Hr){Qn=zt(Pr=Xn,mn,TS).call(Pr,Qn,Mr,Jr);const Dn=[];Bn.paths.push(Dn);let jn=cr*(Qn[0]-sr),pr=cr*(Qn[1]-sr);for(let Or=2,An=Qn.length;Or<An;Or+=6){const Yn=cr*(Qn[Or]-sr),lr=cr*(Qn[Or+1]-sr),br=cr*(Qn[Or+2]-sr),Ar=cr*(Qn[Or+3]-sr),fr=cr*(Qn[Or+4]-sr),bn=cr*(Qn[Or+5]-sr);Dn.push([[jn,pr],[Yn,lr],[br,Ar],[fr,bn]]),jn=fr,pr=bn}const vr=zt(this,mn,PS).call(this,Dn);Bn.bezierPath2D.push(vr)}const mr=zt(qr=Bn,Bt,oA).call(qr);return Gt(Bn,xt,Math.max(bt.AnnotationEditor.MIN_SIZE,mr[2]-mr[0])),Gt(Bn,Et,Math.max(bt.AnnotationEditor.MIN_SIZE,mr[3]-mr[1])),zt(os=Bn,Bt,iA).call(os,Zn,In),Bn}serialize(){if(this.isEmpty())return null;const dn=this.getRect(0,0),wn=bt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:vt.AnnotationEditorType.INK,color:wn,thickness:this.thickness,opacity:this.opacity,paths:zt(this,Bt,CS).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,dn),pageIndex:this.pageIndex,rect:dn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Et=new WeakMap,xt=new WeakMap,Pt=new WeakMap,$t=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,Lt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,Ft=new WeakMap,jt=new WeakMap,Bt=new WeakSet,gS=function(dn){const wn=this.thickness;this.addCommands({cmd:()=>{this.thickness=dn,zt(this,Bt,cm).call(this)},undo:()=>{this.thickness=wn,zt(this,Bt,cm).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},yS=function(dn){const wn=this.color;this.addCommands({cmd:()=>{this.color=dn,zt(this,Bt,Bl).call(this)},undo:()=>{this.color=wn,zt(this,Bt,Bl).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vS=function(dn){dn/=100;const wn=this.opacity;this.addCommands({cmd:()=>{this.opacity=dn,zt(this,Bt,Bl).call(this)},undo:()=>{this.opacity=wn,zt(this,Bt,Bl).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},bS=function(){const{parentRotation:dn,parentDimensions:[wn,Mn]}=this;switch(dn){case 90:return[0,Mn,Mn,wn];case 180:return[wn,Mn,wn,Mn];case 270:return[wn,0,Mn,wn];default:return[0,0,wn,Mn]}},tA=function(){const{ctx:dn,color:wn,opacity:Mn,thickness:Bn,parentScale:Gn,scaleFactor:er}=this;dn.lineWidth=Bn*Gn/er,dn.lineCap="round",dn.lineJoin="round",dn.miterLimit=10,dn.strokeStyle=`${wn}${(0,At.opacityToHex)(Mn)}`},_S=function(dn,wn){this.canvas.addEventListener("contextmenu",wt.noContextMenu),this.canvas.addEventListener("pointerleave",Ct(this,$t)),this.canvas.addEventListener("pointermove",Ct(this,Pt)),this.canvas.addEventListener("pointerup",Ct(this,kt)),this.canvas.removeEventListener("pointerdown",Ct(this,Rt)),this.isEditing=!0,Ct(this,Lt)||(Gt(this,Lt,!0),zt(this,Bt,lm).call(this),this.thickness||(this.thickness=Xn._defaultThickness),this.color||(this.color=Xn._defaultColor||bt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Xn._defaultOpacity)),this.currentPath.push([dn,wn]),Gt(this,Ot,!1),zt(this,Bt,tA).call(this),Gt(this,jt,()=>{zt(this,Bt,SS).call(this),Ct(this,jt)&&window.requestAnimationFrame(Ct(this,jt))}),window.requestAnimationFrame(Ct(this,jt))},nA=function(dn,wn){const[Mn,Bn]=this.currentPath.at(-1);if(this.currentPath.length>1&&dn===Mn&&wn===Bn)return;const Gn=this.currentPath;let er=Ct(this,Mt);if(Gn.push([dn,wn]),Gt(this,Ot,!0),Gn.length<=2){er.moveTo(...Gn[0]),er.lineTo(dn,wn);return}Gn.length===3&&(Gt(this,Mt,er=new Path2D),er.moveTo(...Gn[0])),zt(this,Bt,ES).call(this,er,...Gn.at(-3),...Gn.at(-2),dn,wn)},wS=function(){if(this.currentPath.length===0)return;const dn=this.currentPath.at(-1);Ct(this,Mt).lineTo(...dn)},AS=function(dn,wn){Gt(this,jt,null),dn=Math.min(Math.max(dn,0),this.canvas.width),wn=Math.min(Math.max(wn,0),this.canvas.height),zt(this,Bt,nA).call(this,dn,wn),zt(this,Bt,wS).call(this);let Mn;if(this.currentPath.length!==1)Mn=zt(this,Bt,xS).call(this);else{const In=[dn,wn];Mn=[[In,In.slice(),In.slice(),In]]}const Bn=Ct(this,Mt),Gn=this.currentPath;this.currentPath=[],Gt(this,Mt,new Path2D);const er=()=>{this.allRawPaths.push(Gn),this.paths.push(Mn),this.bezierPath2D.push(Bn),this.rebuild()},Zn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(zt(this,Bt,G0).call(this),zt(this,Bt,K0).call(this)),zt(this,Bt,cm).call(this))};this.addCommands({cmd:er,undo:Zn,mustExec:!0})},SS=function(){if(!Ct(this,Ot))return;Gt(this,Ot,!1);const dn=Math.ceil(this.thickness*this.parentScale),wn=this.currentPath.slice(-3),Mn=wn.map(er=>er[0]),Bn=wn.map(er=>er[1]);Math.min(...Mn)-dn,Math.max(...Mn)+dn,Math.min(...Bn)-dn,Math.max(...Bn)+dn;const{ctx:Gn}=this;Gn.save(),Gn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const er of this.bezierPath2D)Gn.stroke(er);Gn.stroke(Ct(this,Mt)),Gn.restore()},ES=function(dn,wn,Mn,Bn,Gn,er,Zn){const In=(wn+Bn)/2,cr=(Mn+Gn)/2,sr=(Bn+er)/2,Hr=(Gn+Zn)/2;dn.bezierCurveTo(In+2*(Bn-In)/3,cr+2*(Gn-cr)/3,sr+2*(Bn-sr)/3,Hr+2*(Gn-Hr)/3,sr,Hr)},xS=function(){const dn=this.currentPath;if(dn.length<=2)return[[dn[0],dn[0],dn.at(-1),dn.at(-1)]];const wn=[];let Mn,[Bn,Gn]=dn[0];for(Mn=1;Mn<dn.length-2;Mn++){const[Mr,Jr]=dn[Mn],[mr,Pr]=dn[Mn+1],qr=(Mr+mr)/2,os=(Jr+Pr)/2,Qn=[Bn+2*(Mr-Bn)/3,Gn+2*(Jr-Gn)/3],Dn=[qr+2*(Mr-qr)/3,os+2*(Jr-os)/3];wn.push([[Bn,Gn],Qn,Dn,[qr,os]]),[Bn,Gn]=[qr,os]}const[er,Zn]=dn[Mn],[In,cr]=dn[Mn+1],sr=[Bn+2*(er-Bn)/3,Gn+2*(Zn-Gn)/3],Hr=[In+2*(er-In)/3,cr+2*(Zn-cr)/3];return wn.push([[Bn,Gn],sr,Hr,[In,cr]]),wn},Bl=function(){if(this.isEmpty()){zt(this,Bt,X0).call(this);return}zt(this,Bt,tA).call(this);const{canvas:dn,ctx:wn}=this;wn.setTransform(1,0,0,1,0,0),wn.clearRect(0,0,dn.width,dn.height),zt(this,Bt,X0).call(this);for(const Mn of this.bezierPath2D)wn.stroke(Mn)},rA=function(dn){this.canvas.removeEventListener("pointerleave",Ct(this,$t)),this.canvas.removeEventListener("pointermove",Ct(this,Pt)),this.canvas.removeEventListener("pointerup",Ct(this,kt)),this.canvas.addEventListener("pointerdown",Ct(this,Rt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",wt.noContextMenu)},10),zt(this,Bt,AS).call(this,dn.offsetX,dn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},G0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",bt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(dn=>{var wn;return(wn=this.canvas)==null?void 0:wn.setAttribute("aria-label",dn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},K0=function(){Gt(this,Nt,new ResizeObserver(dn=>{const wn=dn[0].contentRect;wn.width&&wn.height&&this.setDimensions(wn.width,wn.height)})),Ct(this,Nt).observe(this.div)},lm=function(){if(!Ct(this,Lt))return;const[dn,wn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*dn),this.canvas.height=Math.ceil(this.height*wn),zt(this,Bt,X0).call(this)},iA=function(dn,wn){const Mn=zt(this,Bt,Y0).call(this),Bn=(dn-Mn)/Ct(this,xt),Gn=(wn-Mn)/Ct(this,Et);this.scaleFactor=Math.min(Bn,Gn)},X0=function(){const dn=zt(this,Bt,Y0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+dn,this.translationY*this.scaleFactor+dn)},mn=new WeakSet,PS=function(dn){const wn=new Path2D;for(let Mn=0,Bn=dn.length;Mn<Bn;Mn++){const[Gn,er,Zn,In]=dn[Mn];Mn===0&&wn.moveTo(...Gn),wn.bezierCurveTo(er[0],er[1],Zn[0],Zn[1],In[0],In[1])}return wn},sA=function(dn,wn,Mn){const[Bn,Gn,er,Zn]=wn;switch(Mn){case 0:for(let In=0,cr=dn.length;In<cr;In+=2)dn[In]+=Bn,dn[In+1]=Zn-dn[In+1];break;case 90:for(let In=0,cr=dn.length;In<cr;In+=2){const sr=dn[In];dn[In]=dn[In+1]+Bn,dn[In+1]=sr+Gn}break;case 180:for(let In=0,cr=dn.length;In<cr;In+=2)dn[In]=er-dn[In],dn[In+1]+=Gn;break;case 270:for(let In=0,cr=dn.length;In<cr;In+=2){const sr=dn[In];dn[In]=er-dn[In+1],dn[In+1]=Zn-sr}break;default:throw new Error("Invalid rotation")}return dn},TS=function(dn,wn,Mn){const[Bn,Gn,er,Zn]=wn;switch(Mn){case 0:for(let In=0,cr=dn.length;In<cr;In+=2)dn[In]-=Bn,dn[In+1]=Zn-dn[In+1];break;case 90:for(let In=0,cr=dn.length;In<cr;In+=2){const sr=dn[In];dn[In]=dn[In+1]-Gn,dn[In+1]=sr-Bn}break;case 180:for(let In=0,cr=dn.length;In<cr;In+=2)dn[In]=er-dn[In],dn[In+1]-=Gn;break;case 270:for(let In=0,cr=dn.length;In<cr;In+=2){const sr=dn[In];dn[In]=Zn-dn[In+1],dn[In+1]=er-sr}break;default:throw new Error("Invalid rotation")}return dn},CS=function(dn,wn,Mn,Bn){var cr,sr;const Gn=[],er=this.thickness/2,Zn=dn*wn+er,In=dn*Mn+er;for(const Hr of this.paths){const Mr=[],Jr=[];for(let mr=0,Pr=Hr.length;mr<Pr;mr++){const[qr,os,Qn,Dn]=Hr[mr],jn=dn*qr[0]+Zn,pr=dn*qr[1]+In,vr=dn*os[0]+Zn,Or=dn*os[1]+In,An=dn*Qn[0]+Zn,Yn=dn*Qn[1]+In,lr=dn*Dn[0]+Zn,br=dn*Dn[1]+In;mr===0&&(Mr.push(jn,pr),Jr.push(jn,pr)),Mr.push(vr,Or,An,Yn,lr,br),Jr.push(vr,Or),mr===Pr-1&&Jr.push(lr,br)}Gn.push({bezier:zt(cr=Xn,mn,sA).call(cr,Mr,Bn,this.rotation),points:zt(sr=Xn,mn,sA).call(sr,Jr,Bn,this.rotation)})}return Gn},oA=function(){let dn=1/0,wn=-1/0,Mn=1/0,Bn=-1/0;for(const Gn of this.paths)for(const[er,Zn,In,cr]of Gn){const sr=vt.Util.bezierBoundingBox(...er,...Zn,...In,...cr);dn=Math.min(dn,sr[0]),Mn=Math.min(Mn,sr[1]),wn=Math.max(wn,sr[2]),Bn=Math.max(Bn,sr[3])}return[dn,Mn,wn,Bn]},Y0=function(){return Ct(this,Dt)?Math.ceil(this.thickness*this.parentScale):0},cm=function(dn=!1){if(this.isEmpty())return;if(!Ct(this,Dt)){zt(this,Bt,Bl).call(this);return}const wn=zt(this,Bt,oA).call(this),Mn=zt(this,Bt,Y0).call(this);Gt(this,xt,Math.max(bt.AnnotationEditor.MIN_SIZE,wn[2]-wn[0])),Gt(this,Et,Math.max(bt.AnnotationEditor.MIN_SIZE,wn[3]-wn[1]));const Bn=Math.ceil(Mn+Ct(this,xt)*this.scaleFactor),Gn=Math.ceil(Mn+Ct(this,Et)*this.scaleFactor),[er,Zn]=this.parentDimensions;this.width=Bn/er,this.height=Gn/Zn,this.setAspectRatio(Bn,Gn);const In=this.translationX,cr=this.translationY;this.translationX=-wn[0],this.translationY=-wn[1],zt(this,Bt,lm).call(this),zt(this,Bt,Bl).call(this),Gt(this,Ht,Bn),Gt(this,Ft,Gn),this.setDims(Bn,Gn);const sr=dn?Mn/this.scaleFactor/2:0;this.translate(In-this.translationX-sr,cr-this.translationY-sr)},Xt(Xn,mn),Tr(Xn,"_defaultColor",null),Tr(Xn,"_defaultOpacity",1),Tr(Xn,"_defaultThickness",1),Tr(Xn,"_type","ink");let St=Xn;$.InkEditor=St},(_e,$,ht)=>{var St,Et,xt,Pt,$t,kt,Rt,Mt,Dt,Ot,Lt,Sy,Ey,Z0,aA,$S,kS,lA,Q0,RS;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var vt=ht(1),bt=ht(4),_t=ht(6),wt=ht(29);const Qt=class Qt extends bt.AnnotationEditor{constructor(nn){super({...nn,name:"stampEditor"});Xt(this,Lt);Xt(this,St,null);Xt(this,Et,null);Xt(this,xt,null);Xt(this,Pt,null);Xt(this,$t,null);Xt(this,kt,null);Xt(this,Rt,null);Xt(this,Mt,null);Xt(this,Dt,!1);Xt(this,Ot,!1);Gt(this,Pt,nn.bitmapUrl),Gt(this,$t,nn.bitmapFile)}static initialize(nn){bt.AnnotationEditor.initialize(nn)}static get supportedTypes(){const nn=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,vt.shadow)(this,"supportedTypes",nn.map(hn=>`image/${hn}`))}static get supportedTypesStr(){return(0,vt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(nn){return this.supportedTypes.includes(nn)}static paste(nn,hn){hn.pasteEditor(vt.AnnotationEditorType.STAMP,{bitmapFile:nn.getAsFile()})}remove(){var nn,hn;Ct(this,Et)&&(Gt(this,St,null),this._uiManager.imageManager.deleteId(Ct(this,Et)),(nn=Ct(this,kt))==null||nn.remove(),Gt(this,kt,null),(hn=Ct(this,Rt))==null||hn.disconnect(),Gt(this,Rt,null)),super.remove()}rebuild(){if(!this.parent){Ct(this,Et)&&zt(this,Lt,Z0).call(this);return}super.rebuild(),this.div!==null&&(Ct(this,Et)&&zt(this,Lt,Z0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ct(this,xt)||Ct(this,St)||Ct(this,Pt)||Ct(this,$t))}get isResizable(){return!0}render(){if(this.div)return this.div;let nn,hn;if(this.width&&(nn=this.x,hn=this.y),super.render(),this.div.hidden=!0,Ct(this,St)?zt(this,Lt,aA).call(this):zt(this,Lt,Z0).call(this),this.width){const[sn,un]=this.parentDimensions;this.setAt(nn*sn,hn*un,this.width*sn,this.height*un)}return this.div}static deserialize(nn,hn,sn){if(nn instanceof wt.StampAnnotationElement)return null;const un=super.deserialize(nn,hn,sn),{rect:en,bitmapUrl:fn,bitmapId:En,isSvg:rn,accessibilityData:qt}=nn;En&&sn.imageManager.isValidId(En)?Gt(un,Et,En):Gt(un,Pt,fn),Gt(un,Dt,rn);const[Yt,an]=un.pageDimensions;return un.width=(en[2]-en[0])/Yt,un.height=(en[3]-en[1])/an,qt&&(un.altTextData=qt),un}serialize(nn=!1,hn=null){if(this.isEmpty())return null;const sn={annotationType:vt.AnnotationEditorType.STAMP,bitmapId:Ct(this,Et),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ct(this,Dt),structTreeParentId:this._structTreeParentId};if(nn)return sn.bitmapUrl=zt(this,Lt,Q0).call(this,!0),sn.accessibilityData=this.altTextData,sn;const{decorative:un,altText:en}=this.altTextData;if(!un&&en&&(sn.accessibilityData={type:"Figure",alt:en}),hn===null)return sn;hn.stamps||(hn.stamps=new Map);const fn=Ct(this,Dt)?(sn.rect[2]-sn.rect[0])*(sn.rect[3]-sn.rect[1]):null;if(!hn.stamps.has(Ct(this,Et)))hn.stamps.set(Ct(this,Et),{area:fn,serialized:sn}),sn.bitmap=zt(this,Lt,Q0).call(this,!1);else if(Ct(this,Dt)){const En=hn.stamps.get(Ct(this,Et));fn>En.area&&(En.area=fn,En.serialized.bitmap.close(),En.serialized.bitmap=zt(this,Lt,Q0).call(this,!1))}return sn}};St=new WeakMap,Et=new WeakMap,xt=new WeakMap,Pt=new WeakMap,$t=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,Lt=new WeakSet,Sy=function(nn,hn=!1){if(!nn){this.remove();return}Gt(this,St,nn.bitmap),hn||(Gt(this,Et,nn.id),Gt(this,Dt,nn.isSvg)),zt(this,Lt,aA).call(this)},Ey=function(){Gt(this,xt,null),this._uiManager.enableWaiting(!1),Ct(this,kt)&&this.div.focus()},Z0=function(){if(Ct(this,Et)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ct(this,Et)).then(hn=>zt(this,Lt,Sy).call(this,hn,!0)).finally(()=>zt(this,Lt,Ey).call(this));return}if(Ct(this,Pt)){const hn=Ct(this,Pt);Gt(this,Pt,null),this._uiManager.enableWaiting(!0),Gt(this,xt,this._uiManager.imageManager.getFromUrl(hn).then(sn=>zt(this,Lt,Sy).call(this,sn)).finally(()=>zt(this,Lt,Ey).call(this)));return}if(Ct(this,$t)){const hn=Ct(this,$t);Gt(this,$t,null),this._uiManager.enableWaiting(!0),Gt(this,xt,this._uiManager.imageManager.getFromFile(hn).then(sn=>zt(this,Lt,Sy).call(this,sn)).finally(()=>zt(this,Lt,Ey).call(this)));return}const nn=document.createElement("input");nn.type="file",nn.accept=Qt.supportedTypesStr,Gt(this,xt,new Promise(hn=>{nn.addEventListener("change",async()=>{if(!nn.files||nn.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const sn=await this._uiManager.imageManager.getFromFile(nn.files[0]);zt(this,Lt,Sy).call(this,sn)}hn()}),nn.addEventListener("cancel",()=>{this.remove(),hn()})}).finally(()=>zt(this,Lt,Ey).call(this))),nn.click()},aA=function(){const{div:nn}=this;let{width:hn,height:sn}=Ct(this,St);const[un,en]=this.pageDimensions,fn=.75;if(this.width)hn=this.width*un,sn=this.height*en;else if(hn>fn*un||sn>fn*en){const Yt=Math.min(fn*un/hn,fn*en/sn);hn*=Yt,sn*=Yt}const[En,rn]=this.parentDimensions;this.setDims(hn*En/un,sn*rn/en),this._uiManager.enableWaiting(!1);const qt=Gt(this,kt,document.createElement("canvas"));nn.append(qt),nn.hidden=!1,zt(this,Lt,lA).call(this,hn,sn),zt(this,Lt,RS).call(this),Ct(this,Ot)||(this.parent.addUndoableEditor(this),Gt(this,Ot,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},$S=function(nn,hn){var fn;const[sn,un]=this.parentDimensions;this.width=nn/sn,this.height=hn/un,this.setDims(nn,hn),(fn=this._initialOptions)!=null&&fn.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ct(this,Mt)!==null&&clearTimeout(Ct(this,Mt)),Gt(this,Mt,setTimeout(()=>{Gt(this,Mt,null),zt(this,Lt,lA).call(this,nn,hn)},200))},kS=function(nn,hn){const{width:sn,height:un}=Ct(this,St);let en=sn,fn=un,En=Ct(this,St);for(;en>2*nn||fn>2*hn;){const rn=en,qt=fn;en>2*nn&&(en=en>=16384?Math.floor(en/2)-1:Math.ceil(en/2)),fn>2*hn&&(fn=fn>=16384?Math.floor(fn/2)-1:Math.ceil(fn/2));const Yt=new OffscreenCanvas(en,fn);Yt.getContext("2d").drawImage(En,0,0,rn,qt,0,0,en,fn),En=Yt.transferToImageBitmap()}return En},lA=function(nn,hn){nn=Math.ceil(nn),hn=Math.ceil(hn);const sn=Ct(this,kt);if(!sn||sn.width===nn&&sn.height===hn)return;sn.width=nn,sn.height=hn;const un=Ct(this,Dt)?Ct(this,St):zt(this,Lt,kS).call(this,nn,hn),en=sn.getContext("2d");en.filter=this._uiManager.hcmFilter,en.drawImage(un,0,0,un.width,un.height,0,0,nn,hn)},Q0=function(nn){if(nn){if(Ct(this,Dt)){const un=this._uiManager.imageManager.getSvgUrl(Ct(this,Et));if(un)return un}const hn=document.createElement("canvas");return{width:hn.width,height:hn.height}=Ct(this,St),hn.getContext("2d").drawImage(Ct(this,St),0,0),hn.toDataURL()}if(Ct(this,Dt)){const[hn,sn]=this.pageDimensions,un=Math.round(this.width*hn*_t.PixelsPerInch.PDF_TO_CSS_UNITS),en=Math.round(this.height*sn*_t.PixelsPerInch.PDF_TO_CSS_UNITS),fn=new OffscreenCanvas(un,en);return fn.getContext("2d").drawImage(Ct(this,St),0,0,Ct(this,St).width,Ct(this,St).height,0,0,un,en),fn.transferToImageBitmap()}return structuredClone(Ct(this,St))},RS=function(){Gt(this,Rt,new ResizeObserver(nn=>{const hn=nn[0].contentRect;hn.width&&hn.height&&zt(this,Lt,$S).call(this,hn.width,hn.height)})),Ct(this,Rt).observe(this.div)},Tr(Qt,"_type","stamp");let At=Qt;$.StampEditor=At}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var $=__webpack_module_cache__[_e];if($!==void 0)return $.exports;var ht=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](ht,ht.exports,__w_pdfjs_require__),ht.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(_e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _t.AnnotationEditorLayer}}),Object.defineProperty(_e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(_e,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(_e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return wt.AnnotationEditorUIManager}}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return At.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(_e,"DOMSVGFactory",{enumerable:!0,get:function(){return vt.DOMSVGFactory}}),Object.defineProperty(_e,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return St.GlobalWorkerOptions}}),Object.defineProperty(_e,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ht.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return vt.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return ht.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return vt.PixelsPerInch}}),Object.defineProperty(_e,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return vt.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return ht.SVGGraphics}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return Et.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return ht.build}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return ht.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return vt.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return vt.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return vt.getXfaPageViewport}}),Object.defineProperty(_e,"isDataScheme",{enumerable:!0,get:function(){return vt.isDataScheme}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return vt.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return vt.loadScript}}),Object.defineProperty(_e,"noContextMenu",{enumerable:!0,get:function(){return vt.noContextMenu}}),Object.defineProperty(_e,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return bt.renderTextLayer}}),Object.defineProperty(_e,"setLayerDimensions",{enumerable:!0,get:function(){return vt.setLayerDimensions}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(_e,"updateTextLayer",{enumerable:!0,get:function(){return bt.updateTextLayer}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return ht.version}});var $=__w_pdfjs_require__(1),ht=__w_pdfjs_require__(2),vt=__w_pdfjs_require__(6),bt=__w_pdfjs_require__(26),_t=__w_pdfjs_require__(27),wt=__w_pdfjs_require__(5),At=__w_pdfjs_require__(29),St=__w_pdfjs_require__(14),Et=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfjs=getDefaultExportFromCjs(pdfExports);var core_min={};(function(_e){var $=reactExports,ht=pdfExports;function vt(Kt){var cn=Object.create(null);return Kt&&Object.keys(Kt).forEach(function(Sn){if(Sn!=="default"){var Pn=Object.getOwnPropertyDescriptor(Kt,Sn);Object.defineProperty(cn,Sn,Pn.get?Pn:{enumerable:!0,get:function(){return Kt[Sn]}})}}),cn.default=Kt,Object.freeze(cn)}var bt,_t=vt($),wt=vt(ht);_e.AnnotationType=void 0,(bt=_e.AnnotationType||(_e.AnnotationType={}))[bt.Text=1]="Text",bt[bt.Link=2]="Link",bt[bt.FreeText=3]="FreeText",bt[bt.Line=4]="Line",bt[bt.Square=5]="Square",bt[bt.Circle=6]="Circle",bt[bt.Polygon=7]="Polygon",bt[bt.Polyline=8]="Polyline",bt[bt.Highlight=9]="Highlight",bt[bt.Underline=10]="Underline",bt[bt.Squiggly=11]="Squiggly",bt[bt.StrikeOut=12]="StrikeOut",bt[bt.Stamp=13]="Stamp",bt[bt.Caret=14]="Caret",bt[bt.Ink=15]="Ink",bt[bt.Popup=16]="Popup",bt[bt.FileAttachment=17]="FileAttachment";var At=function(Kt,cn){return At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Sn,Pn){Sn.__proto__=Pn}||function(Sn,Pn){for(var Cn in Pn)Object.prototype.hasOwnProperty.call(Pn,Cn)&&(Sn[Cn]=Pn[Cn])},At(Kt,cn)};function St(Kt,cn){if(typeof cn!="function"&&cn!==null)throw new TypeError("Class extends value "+String(cn)+" is not a constructor or null");function Sn(){this.constructor=Kt}At(Kt,cn),Kt.prototype=cn===null?Object.create(cn):(Sn.prototype=cn.prototype,new Sn)}var Et,xt=function(){return xt=Object.assign||function(Kt){for(var cn,Sn=1,Pn=arguments.length;Sn<Pn;Sn++)for(var Cn in cn=arguments[Sn])Object.prototype.hasOwnProperty.call(cn,Cn)&&(Kt[Cn]=cn[Cn]);return Kt},xt.apply(this,arguments)};_e.TextDirection=void 0,(Et=_e.TextDirection||(_e.TextDirection={})).RightToLeft="RTL",Et.LeftToRight="LTR";var Pt,$t=_t.createContext({currentTheme:"light",direction:_e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),kt=function(Kt){var cn=[];return Object.keys(Kt).forEach(function(Sn){Sn&&Kt[Sn]&&cn.push(Sn)}),cn.join(" ")},Rt=typeof window<"u"?_t.useLayoutEffect:_t.useEffect,Mt=function(Kt){var cn=_t.useRef(null),Sn=Kt.once,Pn=Kt.threshold,Cn=Kt.onVisibilityChanged;return Rt(function(){var Rn=cn.current;if(Rn){var Un=new IntersectionObserver(function(Fn){Fn.forEach(function(Tn){var Vn=Tn.isIntersecting,Hn=Tn.intersectionRatio;Cn({isVisible:Vn,ratio:Hn}),Vn&&Sn&&(Un.unobserve(Rn),Un.disconnect())})},{threshold:Pn||0});return Un.observe(Rn),function(){Un.unobserve(Rn),Un.disconnect()}}},[]),cn},Dt=function(Kt){var cn=Kt.children,Sn=Kt.ignoreDirection,Pn=Sn!==void 0&&Sn,Cn=Kt.size,Rn=Cn===void 0?24:Cn,Un=_t.useContext($t).direction,Fn=!Pn&&Un===_e.TextDirection.RightToLeft,Tn="".concat(Rn||24,"px");return _t.createElement("svg",{"aria-hidden":"true",className:kt({"rpv-core__icon":!0,"rpv-core__icon--rtl":Fn}),focusable:"false",height:Tn,viewBox:"0 0 24 24",width:Tn},cn)},Ot=function(){return _t.createElement(Dt,{size:16},_t.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Lt=function(Kt){var cn=Kt.children,Sn=Kt.testId,Pn=Kt.onClick,Cn=_t.useContext($t).direction===_e.TextDirection.RightToLeft,Rn=Sn?{"data-testid":Sn}:{};return _t.createElement("button",xt({className:kt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Cn}),type:"button",onClick:Pn},Rn),cn)},Nt=function(Kt){var cn=Kt.size,Sn=cn===void 0?"4rem":cn,Pn=Kt.testId,Cn=_t.useState(!1),Rn=Cn[0],Un=Cn[1],Fn=Pn?{"data-testid":Pn}:{},Tn=Mt({onVisibilityChanged:function(Vn){Un(Vn.isVisible)}});return _t.createElement("div",xt({},Fn,{className:kt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Rn}),ref:Tn,style:{height:Sn,width:Sn}}))},Ht=function(Kt){var cn=Kt.ariaLabel,Sn=cn===void 0?"":cn,Pn=Kt.autoFocus,Cn=Pn!==void 0&&Pn,Rn=Kt.placeholder,Un=Rn===void 0?"":Rn,Fn=Kt.testId,Tn=Kt.type,Vn=Tn===void 0?"text":Tn,Hn=Kt.value,rr=Hn===void 0?"":Hn,nr=Kt.onChange,tr=Kt.onKeyDown,hr=tr===void 0?function(){}:tr,ur=_t.useContext($t).direction,ar=_t.useRef(),ts=ur===_e.TextDirection.RightToLeft,Fr={ref:ar,"data-testid":"","aria-label":Sn,className:kt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":ts}),placeholder:Un,value:rr,onChange:function(jr){return nr(jr.target.value)},onKeyDown:hr};return Fn&&(Fr["data-testid"]=Fn),Rt(function(){if(Cn){var jr=ar.current;if(jr){var zr=window.scrollX,Cr=window.scrollY;jr.focus(),window.scrollTo(zr,Cr)}}},[]),Vn==="text"?_t.createElement("input",xt({type:"text"},Fr)):_t.createElement("input",xt({type:"password"},Fr))};(function(Kt){Kt[Kt.ExitFullScreen=0]="ExitFullScreen",Kt[Kt.FullScreenChange=1]="FullScreenChange",Kt[Kt.FullScreenElement=2]="FullScreenElement",Kt[Kt.FullScreenEnabled=3]="FullScreenEnabled",Kt[Kt.RequestFullScreen=4]="RequestFullScreen"})(Pt||(Pt={}));var Ft,jt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Bt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Vt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Ut=typeof window<"u",Jt=Ut&&(Pt.FullScreenEnabled in document&&jt||Bt.FullScreenEnabled in document&&Bt||Vt.FullScreenEnabled in document&&Vt)||jt,Wt=function(){return Ut&&Jt.FullScreenEnabled in document&&document[Jt.FullScreenEnabled]===!0},Qt=function(Kt){return Ut?Kt[Jt.ExitFullScreen]():Promise.resolve({})},tn=function(){return Ut?document[Jt.FullScreenElement]:null},pn=function(Kt,cn){var Sn=_t.useRef(),Pn=function(){Sn.current&&clearTimeout(Sn.current)};return _t.useEffect(function(){return function(){return Pn()}},[]),_t.useCallback(function(){for(var Cn=[],Rn=0;Rn<arguments.length;Rn++)Cn[Rn]=arguments[Rn];Pn(),Sn.current=setTimeout(function(){Kt.apply(void 0,Cn)},cn)},[Kt,cn])},nn=function(){var Kt=_t.useRef(!1);return _t.useEffect(function(){return Kt.current=!0,function(){Kt.current=!1}},[]),Kt},hn=function(Kt){var cn=_t.useRef(Kt);return _t.useEffect(function(){cn.current=Kt},[Kt]),cn.current};(function(Kt){Kt.NotRenderedYet="NotRenderedYet",Kt.Rendering="Rendering",Kt.Rendered="Rendered"})(Ft||(Ft={}));var sn,un=-9999,en=function(Kt){var cn=Kt.doc,Sn=cn.numPages,Pn=cn.loadingTask.docId,Cn=_t.useMemo(function(){return Array(Sn).fill(null).map(function(Fn,Tn){return{pageIndex:Tn,renderStatus:Ft.NotRenderedYet,visibility:un}})},[Pn]),Rn=_t.useRef({currentRenderingPage:-1,startRange:0,endRange:Sn-1,visibilities:Cn}),Un=function(Fn,Tn){Rn.current.visibilities[Fn].visibility=Tn};return{getHighestPriorityPage:function(){var Fn=Rn.current.visibilities.slice(Rn.current.startRange,Rn.current.endRange+1).filter(function(nr){return nr.visibility>un});if(!Fn.length)return-1;for(var Tn=Fn[0].pageIndex,Vn=Fn[Fn.length-1].pageIndex,Hn=Fn.length,rr=0;rr<Hn;rr++){if(Fn[rr].renderStatus===Ft.Rendering)return-1;if(Fn[rr].renderStatus===Ft.NotRenderedYet)return Fn[rr].pageIndex}return Vn+1<Sn&&Rn.current.visibilities[Vn+1].renderStatus!==Ft.Rendered?Vn+1:Tn-1>=0&&Rn.current.visibilities[Tn-1].renderStatus!==Ft.Rendered?Tn-1:-1},isInRange:function(Fn){return Fn>=Rn.current.startRange&&Fn<=Rn.current.endRange},markNotRendered:function(){for(var Fn=0;Fn<Sn;Fn++)Rn.current.visibilities[Fn].renderStatus=Ft.NotRenderedYet},markRendered:function(Fn){Rn.current.visibilities[Fn].renderStatus=Ft.Rendered},markRendering:function(Fn){Rn.current.currentRenderingPage!==-1&&Rn.current.currentRenderingPage!==Fn&&Rn.current.visibilities[Rn.current.currentRenderingPage].renderStatus===Ft.Rendering&&(Rn.current.visibilities[Rn.current.currentRenderingPage].renderStatus=Ft.NotRenderedYet),Rn.current.visibilities[Fn].renderStatus=Ft.Rendering,Rn.current.currentRenderingPage=Fn},setOutOfRange:function(Fn){Un(Fn,un)},setRange:function(Fn,Tn){Rn.current.startRange=Fn,Rn.current.endRange=Tn;for(var Vn=0;Vn<Sn;Vn++)(Vn<Fn||Vn>Tn)&&(Rn.current.visibilities[Vn].visibility=un,Rn.current.visibilities[Vn].renderStatus=Ft.NotRenderedYet)},setVisibility:Un}},fn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},En=_t.createContext({l10n:fn,setL10n:function(){}}),rn=0,qt=function(){return rn++},Yt=function(Kt,cn,Sn){var Pn=function(Cn){var Rn=cn.current;if(Rn){var Un=Cn.target;if(Un instanceof Element&&Un.shadowRoot){var Fn=Cn.composedPath();Fn.length>0&&!Rn.contains(Fn[0])&&Sn()}else Rn.contains(Un)||Sn()}};_t.useEffect(function(){if(Kt){var Cn={capture:!0};return document.addEventListener("click",Pn,Cn),function(){document.removeEventListener("click",Pn,Cn)}}},[])},an=function(Kt){var cn=function(Sn){Sn.key==="Escape"&&Kt()};_t.useEffect(function(){return document.addEventListener("keyup",cn),function(){document.removeEventListener("keyup",cn)}},[])},yn=function(Kt){var cn=Kt.ariaControlsSuffix,Sn=Kt.children,Pn=Kt.closeOnClickOutside,Cn=Kt.closeOnEscape,Rn=Kt.onToggle,Un=_t.useRef(),Fn=_t.useContext($t).direction===_e.TextDirection.RightToLeft;return _t.useEffect(function(){var Tn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Tn}},[]),an(function(){Un.current&&Cn&&Rn()}),Yt(Pn,Un,Rn),Rt(function(){var Tn=Un.current;if(Tn){var Vn=.75*document.body.clientHeight;Tn.getBoundingClientRect().height>=Vn&&(Tn.style.overflow="auto",Tn.style.maxHeight="".concat(Vn,"px"))}},[]),_t.createElement("div",{"aria-modal":"true",className:kt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Fn}),id:"rpv-core__modal-body-".concat(cn),ref:Un,role:"dialog",tabIndex:-1},Sn)},mn=function(Kt){var cn=Kt.children;return _t.createElement("div",{className:"rpv-core__modal-overlay"},cn)};_e.ToggleStatus=void 0,(sn=_e.ToggleStatus||(_e.ToggleStatus={})).Close="Close",sn.Open="Open",sn.Toggle="Toggle";var vn,_n=function(Kt){var cn=_t.useState(Kt),Sn=cn[0],Pn=cn[1];return{opened:Sn,toggle:function(Cn){switch(Cn){case _e.ToggleStatus.Close:Pn(!1);break;case _e.ToggleStatus.Open:Pn(!0);break;case _e.ToggleStatus.Toggle:default:Pn(function(Rn){return!Rn})}}}},kn=function(Kt){var cn=Kt.content,Sn=Kt.isOpened,Pn=Sn!==void 0&&Sn,Cn=Kt.target,Rn=_n(Pn),Un=Rn.opened,Fn=Rn.toggle;return _t.createElement(_t.Fragment,null,Cn&&Cn(Fn,Un),Un&&cn(Fn))};_e.Position=void 0,(vn=_e.Position||(_e.Position={})).TopLeft="TOP_LEFT",vn.TopCenter="TOP_CENTER",vn.TopRight="TOP_RIGHT",vn.RightTop="RIGHT_TOP",vn.RightCenter="RIGHT_CENTER",vn.RightBottom="RIGHT_BOTTOM",vn.BottomLeft="BOTTOM_LEFT",vn.BottomCenter="BOTTOM_CENTER",vn.BottomRight="BOTTOM_RIGHT",vn.LeftTop="LEFT_TOP",vn.LeftCenter="LEFT_CENTER",vn.LeftBottom="LEFT_BOTTOM";var Nn,xn,qn,zn,Xn,On,Ln,dn,wn=function(Kt,cn,Sn,Pn,Cn){Rt(function(){var Rn=cn.current,Un=Kt.current,Fn=Sn.current;if(Un&&Rn&&Fn){var Tn=Fn.getBoundingClientRect(),Vn=function(nr,tr,hr,ur){var ar=tr.getBoundingClientRect(),ts=nr.getBoundingClientRect(),Fr=ts.height,jr=ts.width,zr=0,Cr=0;switch(hr){case _e.Position.TopLeft:zr=ar.top-Fr,Cr=ar.left;break;case _e.Position.TopCenter:zr=ar.top-Fr,Cr=ar.left+ar.width/2-jr/2;break;case _e.Position.TopRight:zr=ar.top-Fr,Cr=ar.left+ar.width-jr;break;case _e.Position.RightTop:zr=ar.top,Cr=ar.left+ar.width;break;case _e.Position.RightCenter:zr=ar.top+ar.height/2-Fr/2,Cr=ar.left+ar.width;break;case _e.Position.RightBottom:zr=ar.top+ar.height-Fr,Cr=ar.left+ar.width;break;case _e.Position.BottomLeft:zr=ar.top+ar.height,Cr=ar.left;break;case _e.Position.BottomCenter:zr=ar.top+ar.height,Cr=ar.left+ar.width/2-jr/2;break;case _e.Position.BottomRight:zr=ar.top+ar.height,Cr=ar.left+ar.width-jr;break;case _e.Position.LeftTop:zr=ar.top,Cr=ar.left-jr;break;case _e.Position.LeftCenter:zr=ar.top+ar.height/2-Fr/2,Cr=ar.left-jr;break;case _e.Position.LeftBottom:zr=ar.top+ar.height-Fr,Cr=ar.left-jr}return{left:Cr+(ur.left||0),top:zr+(ur.top||0)}}(Un,Rn,Pn,Cn),Hn=Vn.top,rr=Vn.left;Un.style.top="".concat(Hn-Tn.top,"px"),Un.style.left="".concat(rr-Tn.left,"px")}},[])},Mn=function(Kt){var cn,Sn=Kt.customClassName,Pn=Kt.position;return _t.createElement("div",{className:kt((cn={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Pn===_e.Position.TopLeft,"rpv-core__arrow--tc":Pn===_e.Position.TopCenter,"rpv-core__arrow--tr":Pn===_e.Position.TopRight,"rpv-core__arrow--rt":Pn===_e.Position.RightTop,"rpv-core__arrow--rc":Pn===_e.Position.RightCenter,"rpv-core__arrow--rb":Pn===_e.Position.RightBottom,"rpv-core__arrow--bl":Pn===_e.Position.BottomLeft,"rpv-core__arrow--bc":Pn===_e.Position.BottomCenter,"rpv-core__arrow--br":Pn===_e.Position.BottomRight,"rpv-core__arrow--lt":Pn===_e.Position.LeftTop,"rpv-core__arrow--lc":Pn===_e.Position.LeftCenter,"rpv-core__arrow--lb":Pn===_e.Position.LeftBottom},cn["".concat(Sn)]=Sn!=="",cn))})},Bn=function(Kt){var cn=Kt.ariaControlsSuffix,Sn=Kt.children,Pn=Kt.closeOnClickOutside,Cn=Kt.offset,Rn=Kt.position,Un=Kt.targetRef,Fn=Kt.onClose,Tn=_t.useRef(),Vn=_t.useRef(),Hn=_t.useRef(),rr=_t.useContext($t).direction===_e.TextDirection.RightToLeft;Yt(Pn,Tn,Fn),wn(Tn,Un,Hn,Rn,Cn),Rt(function(){var tr=Vn.current;if(tr){var hr=.75*document.body.clientHeight;tr.getBoundingClientRect().height>=hr&&(tr.style.overflow="auto",tr.style.maxHeight="".concat(hr,"px"))}},[]);var nr="rpv-core__popover-body-inner-".concat(cn);return _t.createElement(_t.Fragment,null,_t.createElement("div",{ref:Hn,style:{left:0,position:"absolute",top:0}}),_t.createElement("div",{"aria-describedby":nr,className:kt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":rr}),id:"rpv-core__popover-body-".concat(cn),ref:Tn,role:"dialog",tabIndex:-1},_t.createElement(Mn,{customClassName:"rpv-core__popover-body-arrow",position:Rn}),_t.createElement("div",{id:nr,ref:Vn},Sn)))},Gn=function(Kt){var cn=Kt.closeOnEscape,Sn=Kt.onClose,Pn=_t.useRef();return an(function(){Pn.current&&cn&&Sn()}),_t.createElement("div",{className:"rpv-core__popover-overlay",ref:Pn})},er=function(Kt){var cn=Kt.ariaControlsSuffix,Sn=Kt.children,Pn=Kt.contentRef,Cn=Kt.offset,Rn=Kt.position,Un=Kt.targetRef,Fn=_t.useRef(),Tn=_t.useContext($t).direction===_e.TextDirection.RightToLeft;return wn(Pn,Un,Fn,Rn,Cn),_t.createElement(_t.Fragment,null,_t.createElement("div",{ref:Fn,style:{left:0,position:"absolute",top:0}}),_t.createElement("div",{className:kt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Tn}),id:"rpv-core__tooltip-body-".concat(cn),ref:Pn,role:"tooltip"},_t.createElement(Mn,{customClassName:"rpv-core__tooltip-body-arrow",position:Rn}),_t.createElement("div",{className:"rpv-core__tooltip-body-content"},Sn)))};_e.FullScreenMode=void 0,(Nn=_e.FullScreenMode||(_e.FullScreenMode={})).Normal="Normal",Nn.Entering="Entering",Nn.Entered="Entered",Nn.EnteredCompletely="EnteredCompletely",Nn.Exitting="Exitting",Nn.Exited="Exited",_e.LayerRenderStatus=void 0,(xn=_e.LayerRenderStatus||(_e.LayerRenderStatus={}))[xn.PreRender=0]="PreRender",xn[xn.DidRender=1]="DidRender",_e.PageMode=void 0,(qn=_e.PageMode||(_e.PageMode={})).Attachments="UseAttachments",qn.Bookmarks="UseOutlines",qn.ContentGroup="UseOC",qn.Default="UserNone",qn.FullScreen="FullScreen",qn.Thumbnails="UseThumbs",_e.PasswordStatus=void 0,(zn=_e.PasswordStatus||(_e.PasswordStatus={})).RequiredPassword="RequiredPassword",zn.WrongPassword="WrongPassword",_e.RotateDirection=void 0,(Xn=_e.RotateDirection||(_e.RotateDirection={})).Backward="Backward",Xn.Forward="Forward",_e.ScrollMode=void 0,(On=_e.ScrollMode||(_e.ScrollMode={})).Page="Page",On.Horizontal="Horizontal",On.Vertical="Vertical",On.Wrapped="Wrapped",_e.SpecialZoomLevel=void 0,(Ln=_e.SpecialZoomLevel||(_e.SpecialZoomLevel={})).ActualSize="ActualSize",Ln.PageFit="PageFit",Ln.PageWidth="PageWidth",_e.ViewMode=void 0,(dn=_e.ViewMode||(_e.ViewMode={})).DualPage="DualPage",dn.DualPageWithCover="DualPageWithCover",dn.SinglePage="SinglePage";var Zn,In=function(Kt,cn){return Kt.reduce(function(Sn,Pn,Cn){return Cn%cn?Sn[Sn.length-1].push(Pn):Sn.push([Pn]),Sn},[])},cr=function(Kt,cn){switch(cn[1].name){case"XYZ":return{bottomOffset:function(Sn,Pn){return cn[3]===null?Pn:cn[3]},leftOffset:function(Sn,Pn){return cn[2]===null?0:cn[2]},pageIndex:Kt,scaleTo:cn[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Kt,scaleTo:_e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:cn[2],leftOffset:0,pageIndex:Kt,scaleTo:_e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Kt,scaleTo:1}}},sr=new Map,Hr=new Map,Mr=function(Kt,cn){return"".concat(Kt.loadingTask.docId,"___").concat(cn.num,"R").concat(cn.gen===0?"":cn.gen)},Jr=function(Kt,cn,Sn){sr.set(Mr(Kt,cn),Sn)},mr=function(Kt,cn){if(!Kt)return Promise.reject("The document is not loaded yet");var Sn="".concat(Kt.loadingTask.docId,"___").concat(cn),Pn=Hr.get(Sn);return Pn?Promise.resolve(Pn):new Promise(function(Cn,Rn){Kt.getPage(cn+1).then(function(Un){Hr.set(Sn,Un),Un.ref&&Jr(Kt,Un.ref,cn),Cn(Un)})})},Pr=function(Kt,cn){return new Promise(function(Sn){new Promise(function(Pn){typeof cn=="string"?Kt.getDestination(cn).then(function(Cn){Pn(Cn)}):Pn(cn)}).then(function(Pn){if(typeof Pn[0]=="object"&&Pn[0]!==null){var Cn=Pn[0],Rn=function(Fn,Tn){var Vn=Mr(Fn,Tn);return sr.has(Vn)?sr.get(Vn):null}(Kt,Cn);Rn===null?Kt.getPageIndex(Cn).then(function(Fn){Jr(Kt,Cn,Fn),Pr(Kt,cn).then(function(Tn){return Sn(Tn)})}):Sn(cr(Rn,Pn))}else{var Un=cr(Pn[0],Pn);Sn(Un)}})})};(function(Kt){Kt[Kt.Solid=1]="Solid",Kt[Kt.Dashed=2]="Dashed",Kt[Kt.Beveled=3]="Beveled",Kt[Kt.Inset=4]="Inset",Kt[Kt.Underline=5]="Underline"})(Zn||(Zn={}));var qr,os=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Qn=function(Kt,cn,Sn,Pn){var Cn=parseInt(Kt,10);return Cn>=cn&&Cn<=Sn?Cn:Pn},Dn=function(Kt){return Kt.contentsObj?Kt.contentsObj.str:Kt.contents||""},jn=function(Kt){return Kt.titleObj?Kt.titleObj.str:Kt.title||""},pr=function(Kt){var cn=Kt.annotation,Sn=_t.useContext($t).direction,Pn=jn(cn),Cn=Dn(cn),Rn=Sn===_e.TextDirection.RightToLeft,Un=_t.useRef(),Fn="";if(cn.modificationDate){var Tn=function(Vn){var Hn=os.exec(Vn);if(!Hn)return null;var rr=parseInt(Hn[1],10),nr=Qn(Hn[2],1,12,1)-1,tr=Qn(Hn[3],1,31,1),hr=Qn(Hn[4],0,23,0),ur=Qn(Hn[5],0,59,0),ar=Qn(Hn[6],0,59,0),ts=Hn[7]||"Z",Fr=Qn(Hn[8],0,23,0),jr=Qn(Hn[9],0,59,0);switch(ts){case"-":hr+=Fr,ur+=jr;break;case"+":hr-=Fr,ur-=jr}return new Date(Date.UTC(rr,nr,tr,hr,ur,ar))}(cn.modificationDate);Fn=Tn?"".concat(Tn.toLocaleDateString(),", ").concat(Tn.toLocaleTimeString()):""}return _t.useLayoutEffect(function(){if(Un.current){var Vn=document.querySelector('[data-annotation-id="'.concat(cn.id,'"]'));if(Vn){var Hn=Vn;return Hn.style.zIndex+=1,function(){Hn.style.zIndex="".concat(parseInt(Hn.style.zIndex,10)-1)}}}},[]),_t.createElement("div",{ref:Un,className:kt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Rn}),style:{top:cn.annotationType===_e.AnnotationType.Popup?"":"100%"}},Pn&&_t.createElement(_t.Fragment,null,_t.createElement("div",{className:kt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Rn,"rpv-core__annotation-popup-title--rtl":Rn})},Pn),_t.createElement("div",{className:"rpv-core__annotation-popup-date"},Fn)),Cn&&_t.createElement("div",{className:"rpv-core__annotation-popup-content"},Cn.split(`
`).map(function(Vn,Hn){return _t.createElement(_t.Fragment,{key:Hn},Vn,_t.createElement("br",null))})))};(function(Kt){Kt.Click="Click",Kt.Hover="Hover"})(qr||(qr={}));var vr,Or=function(Kt){var cn,Sn=Kt.annotation,Pn=Kt.children,Cn=Kt.ignoreBorder,Rn=Kt.hasPopup,Un=Kt.isRenderable,Fn=Kt.page,Tn=Kt.viewport,Vn=Sn.rect,Hn=function(){var Vr=_n(!1),us=Vr.opened,as=Vr.toggle,ds=_t.useState(qr.Hover),fs=ds[0],gs=ds[1];return{opened:us,closeOnHover:function(){fs===qr.Hover&&as(_e.ToggleStatus.Close)},openOnHover:function(){fs===qr.Hover&&as(_e.ToggleStatus.Open)},toggleOnClick:function(){switch(fs){case qr.Click:us&&gs(qr.Hover),as(_e.ToggleStatus.Toggle);break;case qr.Hover:gs(qr.Click),as(_e.ToggleStatus.Open)}}}}(),rr=Hn.closeOnHover,nr=Hn.opened,tr=Hn.openOnHover,hr=Hn.toggleOnClick,ur=(cn=[Vn[0],Fn.view[3]+Fn.view[1]-Vn[1],Vn[2],Fn.view[3]+Fn.view[1]-Vn[3]],[Math.min(cn[0],cn[2]),Math.min(cn[1],cn[3]),Math.max(cn[0],cn[2]),Math.max(cn[1],cn[3])]),ar=Vn[2]-Vn[0],ts=Vn[3]-Vn[1],Fr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Cn&&Sn.borderStyle.width>0){switch(Sn.borderStyle.style){case Zn.Dashed:Fr.borderStyle="dashed";break;case Zn.Solid:Fr.borderStyle="solid";break;case Zn.Underline:Fr=Object.assign({borderBottomStyle:"solid"},Fr);case Zn.Beveled:case Zn.Inset:}var jr=Sn.borderStyle.width;Fr.borderWidth="".concat(jr,"px"),Sn.borderStyle.style!==Zn.Underline&&(ar-=2*jr,ts-=2*jr);var zr=Sn.borderStyle,Cr=zr.horizontalCornerRadius,Gr=zr.verticalCornerRadius;(Cr>0||Gr>0)&&(Fr.borderRadius="".concat(Cr,"px / ").concat(Gr,"px")),Sn.color?Fr.borderColor="rgb(".concat(0|Sn.color[0],", ").concat(0|Sn.color[1],", ").concat(0|Sn.color[2],")"):Fr.borderWidth="0"}return _t.createElement(_t.Fragment,null,Un&&Pn({popup:{opened:nr,closeOnHover:rr,openOnHover:tr,toggleOnClick:hr},slot:{attrs:{style:Object.assign({height:"".concat(ts,"px"),left:"".concat(ur[0],"px"),top:"".concat(ur[1],"px"),transform:"matrix(".concat(Tn.transform.join(","),")"),transformOrigin:"-".concat(ur[0],"px -").concat(ur[1],"px"),width:"".concat(ar,"px")},Fr)},children:_t.createElement(_t.Fragment,null,Rn&&nr&&_t.createElement(pr,{annotation:Sn}))}}))},An=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un);return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(Tn){return _t.createElement("div",xt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":cn.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Yn=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un),Tn=cn.rect,Vn=Tn[2]-Tn[0],Hn=Tn[3]-Tn[1],rr=cn.borderStyle.width;return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(nr){return _t.createElement("div",xt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":cn.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),_t.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Vn," ").concat(Hn),width:"".concat(Vn,"px")},_t.createElement("circle",{cy:Hn/2,fill:"none",rx:Vn/2-rr/2,ry:Hn/2-rr/2,stroke:"transparent",strokeWidth:rr||1})),nr.slot.children)})},lr=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=jn(cn),Rn=Dn(cn),Un=!(cn.hasPopup!==!1||!Cn&&!Rn),Fn=function(){var Tn,Vn,Hn,rr,nr=cn.file;nr&&(Tn=nr.filename,Vn=nr.content,Hn=typeof Vn=="string"?"":URL.createObjectURL(new Blob([Vn],{type:""})),(rr=document.createElement("a")).style.display="none",rr.href=Hn||Tn,rr.setAttribute("download",function(tr){var hr=tr.split("/").pop();return hr?hr.split("#")[0].split("?")[0]:tr}(Tn)),document.body.appendChild(rr),rr.click(),document.body.removeChild(rr),Hn&&URL.revokeObjectURL(Hn))};return _t.createElement(Or,{annotation:cn,hasPopup:Un,ignoreBorder:!0,isRenderable:!0,page:Sn,viewport:Pn},function(Tn){return _t.createElement("div",xt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":cn.id,onClick:Tn.popup.toggleOnClick,onDoubleClick:Fn,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},br=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un);return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(Tn){return _t.createElement("div",xt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":cn.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Ar=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=jn(cn),Rn=Dn(cn),Un=!(!Cn&&!Rn),Fn=!cn.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(cn.parentType)!==-1;return Rt(function(){if(cn.parentId){var Tn=document.querySelector('[data-annotation-id="'.concat(cn.parentId,'"]')),Vn=document.querySelector('[data-annotation-id="'.concat(cn.id,'"]'));if(Tn&&Vn){var Hn=parseFloat(Tn.style.left),rr=parseFloat(Tn.style.top)+parseFloat(Tn.style.height);Vn.style.left="".concat(Hn,"px"),Vn.style.top="".concat(rr,"px"),Vn.style.transformOrigin="-".concat(Hn,"px -").concat(rr,"px")}}},[]),_t.createElement(Or,{annotation:cn,hasPopup:Fn,ignoreBorder:!1,isRenderable:Un,page:Sn,viewport:Pn},function(Tn){return _t.createElement("div",xt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":cn.id}),_t.createElement(pr,{annotation:cn}))})},fr=function(Kt){var cn=Kt.annotation,Sn=Kt.childAnnotation,Pn=Kt.page,Cn=Kt.viewport,Rn=cn.hasPopup===!1,Un=jn(cn),Fn=Dn(cn),Tn=!!(cn.hasPopup||Un||Fn);if(cn.quadPoints&&cn.quadPoints.length>0){var Vn=cn.quadPoints.map(function(Hn){return Object.assign({},cn,{rect:[Hn[2].x,Hn[2].y,Hn[1].x,Hn[1].y],quadPoints:[]})});return _t.createElement(_t.Fragment,null,Vn.map(function(Hn,rr){return _t.createElement(fr,{key:rr,annotation:Hn,childAnnotation:Sn,page:Pn,viewport:Cn})}))}return _t.createElement(Or,{annotation:cn,hasPopup:Rn,ignoreBorder:!0,isRenderable:Tn,page:Pn,viewport:Cn},function(Hn){return _t.createElement(_t.Fragment,null,_t.createElement("div",xt({},Hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":cn.id,onClick:Hn.popup.toggleOnClick,onMouseEnter:Hn.popup.openOnHover,onMouseLeave:Hn.popup.closeOnHover}),Hn.slot.children),Sn&&Sn.annotationType===_e.AnnotationType.Popup&&Hn.popup.opened&&_t.createElement(Ar,{annotation:Sn,page:Pn,viewport:Cn}))})},bn=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un),Tn=cn.rect,Vn=Tn[2]-Tn[0],Hn=Tn[3]-Tn[1],rr=cn.borderStyle.width;return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(nr){return _t.createElement("div",xt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":cn.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),cn.inkLists&&cn.inkLists.length&&_t.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Vn," ").concat(Hn),width:"".concat(Vn,"px")},cn.inkLists.map(function(tr,hr){return _t.createElement("polyline",{key:hr,fill:"none",stroke:"transparent",strokeWidth:rr||1,points:tr.map(function(ur){return"".concat(ur.x-Tn[0],",").concat(Tn[3]-ur.y)}).join(" ")})})),nr.slot.children)})},gn=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un),Tn=cn.rect,Vn=Tn[2]-Tn[0],Hn=Tn[3]-Tn[1],rr=cn.borderStyle.width;return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(nr){return _t.createElement("div",xt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":cn.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),_t.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Vn," ").concat(Hn),width:"".concat(Vn,"px")},_t.createElement("line",{stroke:"transparent",strokeWidth:rr||1,x1:Tn[2]-cn.lineCoordinates[0],x2:Tn[2]-cn.lineCoordinates[2],y1:Tn[3]-cn.lineCoordinates[1],y2:Tn[3]-cn.lineCoordinates[3]})),nr.slot.children)})},$n=/^([^\w]*)(javascript|data|vbscript)/im,Wn=/&#(\w+)(^\w|;)?/g,Kn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Jn=/^([^:]+):/gm,ir=function(Kt,cn){var Sn,Pn=(Sn=Kt||"",Sn.replace(Wn,function(Fn,Tn){return String.fromCharCode(Tn)})).replace(Kn,"").trim();if(!Pn)return cn;var Cn=Pn[0];if(Cn==="."||Cn==="/")return Pn;var Rn=Pn.match(Jn);if(!Rn)return Pn;var Un=Rn[0];return $n.test(Un)?cn:Pn},_r=function(Kt){var cn,Sn=Kt.annotation,Pn=Kt.annotationContainerRef,Cn=Kt.doc,Rn=Kt.outlines,Un=Kt.page,Fn=Kt.pageIndex,Tn=Kt.scale,Vn=Kt.viewport,Hn=Kt.onExecuteNamedAction,rr=Kt.onJumpFromLinkAnnotation,nr=Kt.onJumpToDest,tr=_t.useRef(),hr=Rn&&Rn.length&&Sn.dest&&typeof Sn.dest=="string"?(cn=Rn.find(function(Fr){return Fr.dest===Sn.dest}))===null||cn===void 0?void 0:cn.title:"",ur=!!(Sn.url||Sn.dest||Sn.action||Sn.unsafeUrl),ar={};if(Sn.url||Sn.unsafeUrl){var ts=ir(Sn.url||Sn.unsafeUrl,"");ts?ar={"data-target":"external",href:ts,rel:"noopener noreferrer nofollow",target:Sn.newWindow?"_blank":"",title:ts}:ur=!1}else ar={href:"","data-annotation-link":Sn.id,onClick:function(Fr){Fr.preventDefault(),Sn.action?Hn(Sn.action):Pr(Cn,Sn.dest).then(function(jr){var zr=tr.current,Cr=Pn.current;if(zr&&Cr){var Gr=zr.getBoundingClientRect();Cr.style.setProperty("height","100%"),Cr.style.setProperty("width","100%");var Vr=Cr.getBoundingClientRect();Cr.style.removeProperty("height"),Cr.style.removeProperty("width");var us=(Gr.left-Vr.left)/Tn,as=(Vr.bottom-Gr.bottom+Gr.height)/Tn;rr({bottomOffset:as,label:hr,leftOffset:us,pageIndex:Fn})}nr(jr)})}};return hr&&(ar=Object.assign({},ar,{title:hr,"aria-label":hr})),_t.createElement(Or,{annotation:Sn,hasPopup:!1,ignoreBorder:!1,isRenderable:ur,page:Un,viewport:Vn},function(Fr){return _t.createElement("div",xt({},Fr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Sn.id,"data-testid":"core__annotation--link-".concat(Sn.id)}),_t.createElement("a",xt({ref:tr},ar)))})},gr=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un),Tn=cn.rect,Vn=Tn[2]-Tn[0],Hn=Tn[3]-Tn[1],rr=cn.borderStyle.width;return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(nr){return _t.createElement("div",xt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":cn.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),cn.vertices&&cn.vertices.length&&_t.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Vn," ").concat(Hn),width:"".concat(Vn,"px")},_t.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:rr||1,points:cn.vertices.map(function(tr){return"".concat(tr.x-Tn[0],",").concat(Tn[3]-tr.y)}).join(" ")})),nr.slot.children)})},dr=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un),Tn=cn.rect,Vn=Tn[2]-Tn[0],Hn=Tn[3]-Tn[1],rr=cn.borderStyle.width;return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(nr){return _t.createElement("div",xt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":cn.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),cn.vertices&&cn.vertices.length&&_t.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Vn," ").concat(Hn),width:"".concat(Vn,"px")},_t.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:rr||1,points:cn.vertices.map(function(tr){return"".concat(tr.x-Tn[0],",").concat(Tn[3]-tr.y)}).join(" ")})),nr.slot.children)})},Wr=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un),Tn=cn.rect,Vn=Tn[2]-Tn[0],Hn=Tn[3]-Tn[1],rr=cn.borderStyle.width;return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(nr){return _t.createElement("div",xt({},nr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":cn.id,onClick:nr.popup.toggleOnClick,onMouseEnter:nr.popup.openOnHover,onMouseLeave:nr.popup.closeOnHover}),_t.createElement("svg",{height:"".concat(Hn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Vn," ").concat(Hn),width:"".concat(Vn,"px")},_t.createElement("rect",{height:Hn-rr,fill:"none",stroke:"transparent",strokeWidth:rr||1,x:rr/2,y:rr/2,width:Vn-rr})),nr.slot.children)})},yr=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un);return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(Tn){return _t.createElement("div",xt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":cn.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Sr=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un);return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(Tn){return _t.createElement("div",xt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":cn.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Nr=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un);return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(Tn){return _t.createElement("div",xt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":cn.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Xr=function(){return _t.createElement(Dt,{size:16},_t.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),_t.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),_t.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),_t.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},rs=function(){return _t.createElement(Dt,{size:16},_t.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),_t.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),_t.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),_t.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),_t.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),_t.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),_t.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),_t.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),_t.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),_t.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},ms=function(){return _t.createElement(Dt,{size:16},_t.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),_t.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Us=function(){return _t.createElement(Dt,{size:16},_t.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),_t.createElement("path",{d:"M6 4.5L6 0.5"}),_t.createElement("path",{d:"M18 4.5L18 0.5"}),_t.createElement("path",{d:"M10 4.5L10 0.5"}),_t.createElement("path",{d:"M14 4.5L14 0.5"}))},Ms=function(){return _t.createElement(Dt,{size:16},_t.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),_t.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),_t.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Vo=function(){return _t.createElement(Dt,{size:16},_t.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},_a=function(Kt){var cn=Kt.annotation,Sn=Kt.childAnnotation,Pn=Kt.page,Cn=Kt.viewport,Rn=cn.hasPopup===!1,Un=jn(cn),Fn=Dn(cn),Tn=!!(cn.hasPopup||Un||Fn),Vn=cn.name?cn.name.toLowerCase():"";return _t.createElement(Or,{annotation:cn,hasPopup:Rn,ignoreBorder:!1,isRenderable:Tn,page:Pn,viewport:Cn},function(Hn){return _t.createElement(_t.Fragment,null,_t.createElement("div",xt({},Hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":cn.id,onClick:Hn.popup.toggleOnClick,onMouseEnter:Hn.popup.openOnHover,onMouseLeave:Hn.popup.closeOnHover}),Vn&&_t.createElement("div",{className:"rpv-core__annotation-text-icon"},Vn==="check"&&_t.createElement(Ot,null),Vn==="comment"&&_t.createElement(Xr,null),Vn==="help"&&_t.createElement(rs,null),Vn==="insert"&&_t.createElement(Vo,null),Vn==="key"&&_t.createElement(ms,null),Vn==="note"&&_t.createElement(Us,null),(Vn==="newparagraph"||Vn==="paragraph")&&_t.createElement(Ms,null)),Hn.slot.children),Sn&&Sn.annotationType===_e.AnnotationType.Popup&&Hn.popup.opened&&_t.createElement(Ar,{annotation:Sn,page:Pn,viewport:Cn}))})},xa=function(Kt){var cn=Kt.annotation,Sn=Kt.page,Pn=Kt.viewport,Cn=cn.hasPopup===!1,Rn=jn(cn),Un=Dn(cn),Fn=!!(cn.hasPopup||Rn||Un);return _t.createElement(Or,{annotation:cn,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:Sn,viewport:Pn},function(Tn){return _t.createElement("div",xt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":cn.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},o0=function(Kt){var cn=Kt.annotations,Sn=Kt.doc,Pn=Kt.outlines,Cn=Kt.page,Rn=Kt.pageIndex,Un=Kt.plugins,Fn=Kt.rotation,Tn=Kt.scale,Vn=Kt.onExecuteNamedAction,Hn=Kt.onJumpFromLinkAnnotation,rr=Kt.onJumpToDest,nr=_t.useRef(),tr=Cn.getViewport({rotation:Fn,scale:Tn}).clone({dontFlip:!0}),hr=cn.filter(function(ur){return!ur.parentId});return Rt(function(){var ur=nr.current;ur&&Un.forEach(function(ar){ar.onAnnotationLayerRender&&ar.onAnnotationLayerRender({annotations:hr,container:ur,pageIndex:Rn,rotation:Fn,scale:Tn})})},[]),_t.createElement("div",{ref:nr,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Rn)},hr.map(function(ur){var ar=cn.find(function(ts){return ts.parentId===ur.id});switch(ur.annotationType){case _e.AnnotationType.Caret:return _t.createElement(An,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Circle:return _t.createElement(Yn,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.FileAttachment:return _t.createElement(lr,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.FreeText:return _t.createElement(br,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Highlight:return _t.createElement(fr,{key:ur.id,annotation:ur,childAnnotation:ar,page:Cn,viewport:tr});case _e.AnnotationType.Ink:return _t.createElement(bn,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Line:return _t.createElement(gn,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Link:return _t.createElement(_r,{key:ur.id,annotation:ur,annotationContainerRef:nr,doc:Sn,outlines:Pn,page:Cn,pageIndex:Rn,scale:Tn,viewport:tr,onExecuteNamedAction:Vn,onJumpFromLinkAnnotation:Hn,onJumpToDest:rr});case _e.AnnotationType.Polygon:return _t.createElement(gr,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Polyline:return _t.createElement(dr,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Popup:return _t.createElement(Ar,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Square:return _t.createElement(Wr,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Squiggly:return _t.createElement(yr,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Stamp:return _t.createElement(Sr,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.StrikeOut:return _t.createElement(Nr,{key:ur.id,annotation:ur,page:Cn,viewport:tr});case _e.AnnotationType.Text:return _t.createElement(_a,{key:ur.id,annotation:ur,childAnnotation:ar,page:Cn,viewport:tr});case _e.AnnotationType.Underline:return _t.createElement(xa,{key:ur.id,annotation:ur,page:Cn,viewport:tr});default:return _t.createElement(_t.Fragment,{key:ur.id})}}))},OS=function(Kt){var cn=Kt.page,Sn=Kt.renderAnnotations,Pn=nn(),Cn=_t.useState({loading:!0,annotations:[]}),Rn=Cn[0],Un=Cn[1];return _t.useEffect(function(){cn.getAnnotations({intent:"display"}).then(function(Fn){Pn.current&&Un({loading:!1,annotations:Fn})})},[]),Rn.loading?_t.createElement(_t.Fragment,null):Sn(Rn.annotations)},MS=function(Kt){var cn=Kt.doc,Sn=Kt.outlines,Pn=Kt.page,Cn=Kt.pageIndex,Rn=Kt.plugins,Un=Kt.rotation,Fn=Kt.scale,Tn=Kt.onExecuteNamedAction,Vn=Kt.onJumpFromLinkAnnotation,Hn=Kt.onJumpToDest;return _t.createElement(OS,{page:Pn,renderAnnotations:function(rr){return _t.createElement(o0,{annotations:rr,doc:cn,outlines:Sn,page:Pn,pageIndex:Cn,plugins:Rn,rotation:Un,scale:Fn,onExecuteNamedAction:Tn,onJumpFromLinkAnnotation:Vn,onJumpToDest:Hn})}})},a0=function(Kt,cn){var Sn=Kt%cn;return Sn===0?Kt:Math.floor(Kt-Sn)},IS=function(Kt){var cn=Kt.canvasLayerRef,Sn=Kt.height,Pn=Kt.page,Cn=Kt.pageIndex,Rn=Kt.plugins,Un=Kt.rotation,Fn=Kt.scale,Tn=Kt.width,Vn=Kt.onRenderCanvasCompleted,Hn=_t.useRef();return Rt(function(){var rr=Hn.current;rr&&rr.cancel();var nr=cn.current;nr.removeAttribute("data-testid"),Rn.forEach(function(Vr){Vr.onCanvasLayerRender&&Vr.onCanvasLayerRender({ele:nr,pageIndex:Cn,rotation:Un,scale:Fn,status:_e.LayerRenderStatus.PreRender})});var tr=Pn.getViewport({rotation:Un,scale:Fn}),hr=window.devicePixelRatio||1,ur=Math.sqrt(16777216/(tr.width*tr.height)),ar=hr>ur;ar?nr.style.transform="scale(1, 1)":nr.style.removeProperty("transform");var ts=Math.min(ur,hr),Fr=function(Vr,us){var as,ds;if(Math.floor(Vr)===Vr)return[Vr,1];var fs=1/Vr;if(fs>us)return[1,us];if(Math.floor(fs)===fs)return[1,fs];for(var gs=Vr>1?fs:Vr,js=0,Cs=1,Hs=1,Is=1;;){var Ds=js+Hs,Fs=Cs+Is;if(Fs>us)break;gs<=Ds/Fs?(Hs=(as=[Ds,Fs])[0],Is=as[1]):(js=(ds=[Ds,Fs])[0],Cs=ds[1])}return gs<(js/Cs+Hs/Is)/2?gs===Vr?[js,Cs]:[Cs,js]:gs===Vr?[Hs,Is]:[Is,Hs]}(ts,8),jr=Fr[0],zr=Fr[1];nr.width=a0(tr.width*ts,jr),nr.height=a0(tr.height*ts,jr),nr.style.width="".concat(a0(tr.width,zr),"px"),nr.style.height="".concat(a0(tr.height,zr),"px"),nr.hidden=!0;var Cr=nr.getContext("2d",{alpha:!1}),Gr=ar||hr!==1?[ts,0,0,ts,0,0]:null;return Hn.current=Pn.render({canvasContext:Cr,transform:Gr,viewport:tr}),Hn.current.promise.then(function(){nr.hidden=!1,nr.setAttribute("data-testid","core__canvas-layer-".concat(Cn)),Rn.forEach(function(Vr){Vr.onCanvasLayerRender&&Vr.onCanvasLayerRender({ele:nr,pageIndex:Cn,rotation:Un,scale:Fn,status:_e.LayerRenderStatus.DidRender})}),Vn()},function(){Vn()}),function(){nr&&(nr.width=0,nr.height=0)}},[]),_t.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Sn,"px"),width:"".concat(Tn,"px")}},_t.createElement("canvas",{ref:cn}))},LS=function(Kt){var cn=Kt.height,Sn=Kt.page,Pn=Kt.rotation,Cn=Kt.scale,Rn=Kt.width,Un=_t.useRef();return Rt(function(){var Fn=Un.current,Tn=Sn.getViewport({rotation:Pn,scale:Cn});Sn.getOperatorList().then(function(Vn){(function(){var Hn=Un.current;Hn&&(Hn.innerHTML="")})(),new wt.SVGGraphics(Sn.commonObjs,Sn.objs).getSVG(Vn,Tn).then(function(Hn){Hn.style.height="".concat(cn,"px"),Hn.style.width="".concat(Rn,"px"),Fn.appendChild(Hn)})})},[]),_t.createElement("div",{className:"rpv-core__svg-layer",ref:Un})},DS=function(Kt){var cn=Kt.containerRef,Sn=Kt.page,Pn=Kt.pageIndex,Cn=Kt.plugins,Rn=Kt.rotation,Un=Kt.scale,Fn=Kt.onRenderTextCompleted,Tn=_t.useRef(),Vn=function(){var Hn=cn.current;Hn&&([].slice.call(Hn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(rr){return Hn.removeChild(rr)}),[].slice.call(Hn.querySelectorAll('br[role="presentation"]')).forEach(function(rr){return Hn.removeChild(rr)}))};return Rt(function(){var Hn=Tn.current;Hn&&Hn.cancel();var rr=cn.current;if(rr){rr.removeAttribute("data-testid");var nr=Sn.getViewport({rotation:Rn,scale:Un});return Cn.forEach(function(tr){tr.onTextLayerRender&&tr.onTextLayerRender({ele:rr,pageIndex:Pn,scale:Un,status:_e.LayerRenderStatus.PreRender})}),Sn.getTextContent().then(function(tr){Vn(),Tn.current=wt.renderTextLayer({container:rr,textContent:tr,textContentSource:tr,viewport:nr}),Tn.current.promise.then(function(){rr.setAttribute("data-testid","core__text-layer-".concat(Pn)),[].slice.call(rr.children).forEach(function(hr){hr.classList.contains("rpv-core__text-layer-text--not")||hr.classList.add("rpv-core__text-layer-text")}),Cn.forEach(function(hr){hr.onTextLayerRender&&hr.onTextLayerRender({ele:rr,pageIndex:Pn,scale:Un,status:_e.LayerRenderStatus.DidRender})}),Fn()},function(){rr.removeAttribute("data-testid"),Fn()})}),function(){var tr;Vn(),(tr=Tn.current)===null||tr===void 0||tr.cancel()}}},[]),_t.createElement("div",{className:"rpv-core__text-layer",ref:cn})},FS=function(Kt){var cn=Kt.doc,Sn=Kt.measureRef,Pn=Kt.outlines,Cn=Kt.pageIndex,Rn=Kt.pageRotation,Un=Kt.pageSize,Fn=Kt.plugins,Tn=Kt.renderPage,Vn=Kt.renderQueueKey,Hn=Kt.rotation,rr=Kt.scale,nr=Kt.shouldRender,tr=Kt.viewMode,hr=Kt.onExecuteNamedAction,ur=Kt.onJumpFromLinkAnnotation,ar=Kt.onJumpToDest,ts=Kt.onRenderCompleted,Fr=Kt.onRotatePage,jr=nn(),zr=_t.useState(null),Cr=zr[0],Gr=zr[1],Vr=_t.useState(!1),us=Vr[0],as=Vr[1],ds=_t.useState(!1),fs=ds[0],gs=ds[1],js=_t.useRef(),Cs=_t.useRef(),Hs=Math.abs(Hn+Rn)%180==0,Is=Un.pageWidth*rr,Ds=Un.pageHeight*rr,Fs=Hs?Is:Ds,Ls=Hs?Ds:Is,no=(Un.rotation+Hn+Rn)%360,$a=_t.useRef(0),Uo=Tn||function(Gs){return _t.createElement(_t.Fragment,null,Gs.canvasLayer.children,Gs.textLayer.children,Gs.annotationLayer.children)};return _t.useEffect(function(){Gr(null),as(!1),gs(!1)},[Rn,Hn,rr]),_t.useEffect(function(){nr&&jr.current&&!Cr&&mr(cn,Cn).then(function(Gs){jr.current&&($a.current=Vn,Gr(Gs))})},[nr,Cr]),_t.useEffect(function(){us&&fs&&(Vn!==$a.current?(Gr(null),as(!1),gs(!1)):ts(Cn))},[us,fs]),_t.createElement("div",{className:kt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":tr===_e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":tr===_e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":tr===_e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Cn),ref:Sn,style:{height:"".concat(Ls,"px"),width:"".concat(Fs,"px")}},Cr?_t.createElement(_t.Fragment,null,Uo({annotationLayer:{attrs:{},children:_t.createElement(MS,{doc:cn,outlines:Pn,page:Cr,pageIndex:Cn,plugins:Fn,rotation:no,scale:rr,onExecuteNamedAction:hr,onJumpFromLinkAnnotation:ur,onJumpToDest:ar})},canvasLayer:{attrs:{},children:_t.createElement(IS,{canvasLayerRef:js,height:Ls,page:Cr,pageIndex:Cn,plugins:Fn,rotation:no,scale:rr,width:Fs,onRenderCanvasCompleted:function(){jr.current&&as(!0)}})},canvasLayerRendered:us,doc:cn,height:Ls,pageIndex:Cn,rotation:no,scale:rr,svgLayer:{attrs:{},children:_t.createElement(LS,{height:Ls,page:Cr,rotation:no,scale:rr,width:Fs})},textLayer:{attrs:{},children:_t.createElement(DS,{containerRef:Cs,page:Cr,pageIndex:Cn,plugins:Fn,rotation:no,scale:rr,onRenderTextCompleted:function(){jr.current&&gs(!0)}})},textLayerRendered:fs,width:Fs,markRendered:ts,onRotatePage:function(Gs){return Fr(Cn,Gs)}}),Fn.map(function(Gs,wo){return Gs.renderPageLayer?_t.createElement(_t.Fragment,{key:wo},Gs.renderPageLayer({canvasLayerRef:js,canvasLayerRendered:us,doc:cn,height:Ls,pageIndex:Cn,rotation:no,scale:rr,textLayerRef:Cs,textLayerRendered:fs,width:Fs})):_t.createElement(_t.Fragment,{key:wo})})):_t.createElement(Nt,{testId:"core__page-layer-loading-".concat(Cn)}))},NS=function(Kt,cn){var Sn=cn.rect;return Kt.height!==Sn.height||Kt.width!==Sn.width?Sn:Kt};(function(Kt){Kt.Horizontal="Horizontal",Kt.Vertical="Vertical",Kt.Both="Both"})(vr||(vr={}));var jS=function(Kt){return 1-Math.pow(1-Kt,4)},l0=1e-4,hA={left:0,top:0},fA={capture:!1,passive:!0},BS=function(Kt){var cn=Kt.elementRef,Sn=Kt.enableSmoothScroll,Pn=Kt.isRtl,Cn=Kt.scrollDirection,Rn=Kt.onSmoothScroll,Un=_t.useState(hA),Fn=Un[0],Tn=Un[1],Vn=_t.useState(cn.current),Hn=Vn[0],rr=Vn[1],nr=Pn?-1:1,tr=_t.useRef(Cn);tr.current=Cn;var hr=_t.useRef(hA),ur=_t.useRef(!0),ar=_t.useCallback(function(){ur.current=!0,Sn&&Tn(hr.current),Rn(!1)},[]),ts=_t.useCallback(function(){if(Hn){switch(tr.current){case vr.Horizontal:hr.current={left:nr*Hn.scrollLeft,top:0};break;case vr.Both:hr.current={left:nr*Hn.scrollLeft,top:Hn.scrollTop};break;case vr.Vertical:default:hr.current={left:0,top:Hn.scrollTop}}Sn&&!ur.current||Tn(hr.current)}},[Hn]);Rt(function(){rr(cn.current)}),Rt(function(){if(Hn)return Hn.addEventListener("scroll",ts,fA),function(){Hn.removeEventListener("scroll",ts,fA)}},[Hn]);var Fr=_t.useCallback(function(jr,zr){var Cr=cn.current;if(!Cr)return Promise.resolve();var Gr={left:0,top:0};switch(tr.current){case vr.Horizontal:Gr.left=nr*jr.left;break;case vr.Both:Gr.left=nr*jr.left,Gr.top=jr.top;break;case vr.Vertical:default:Gr.top=jr.top}return zr?(ur.current=!1,Rn(!0),new Promise(function(Vr,us){(function(as,ds,fs,gs,js,Cs){js===void 0&&(js=function(wo){return wo}),Cs===void 0&&(Cs=function(){});var Hs=0,Is=0,Ds=!1;switch(ds){case vr.Horizontal:Is=as.scrollLeft,Hs=0;case vr.Both:Is=as.scrollLeft,Hs=as.scrollTop;break;case vr.Vertical:default:Is=0,Hs=as.scrollTop}var Fs=function(){Ds||(Ds=!0,as.scrollLeft=fs.left,as.scrollTop=fs.top,Cs())};if(Math.abs(Hs-fs.top)<=l0&&ds===vr.Vertical)Fs();else if(Math.abs(Is-fs.left)<=l0&&ds===vr.Horizontal)Fs();else{var Ls,no=-1,$a=Is-fs.left,Uo=Hs-fs.top,Gs=function(wo){no===-1&&(no=wo);var Nl=wo-no,Ur=Math.min(Nl/gs,1),Br=js(Ur),$r={left:Is-$a*Br,top:Hs-Uo*Br};switch(ds){case vr.Horizontal:as.scrollLeft=$r.left;break;case vr.Both:as.scrollLeft=$r.left,as.scrollTop=$r.top;break;case vr.Vertical:default:as.scrollTop=$r.top}Math.abs($r.top-fs.top)<=l0&&Math.abs($r.left-fs.left)<=l0&&!Ds&&(window.cancelAnimationFrame(Ls),Fs()),Nl<gs?Ls=window.requestAnimationFrame(Gs):window.cancelAnimationFrame(Ls)};Ls=window.requestAnimationFrame(Gs)}})(Cr,tr.current,Gr,400,jS,function(){ar(),Vr()})})):new Promise(function(Vr,us){switch(tr.current){case vr.Horizontal:Cr.scrollLeft=Gr.left;break;case vr.Both:Cr.scrollLeft=Gr.left,Cr.scrollTop=Gr.top;break;case vr.Vertical:default:Cr.scrollTop=Gr.top}Vr()})},[cn]);return{scrollOffset:Fn,scrollTo:Fr}},ry=function(Kt,cn,Sn){return Math.max(Kt,Math.min(Sn,cn))},HS=function(Kt,cn){if(cn!==_e.ViewMode.DualPageWithCover)return 0;if(!function(Cn){var Rn=Cn.length;if(Rn===1)return!1;for(var Un=1;Un<Rn;Un++)if(Cn[Un].height!==Cn[0].height||Cn[Un].width!==Cn[0].width)return!0;return!1}(Kt))return 2*Kt[0].width;var Sn=In(Kt.slice(1),2).map(function(Cn){return Cn.length===2?Cn[0].width+Cn[1].width:Cn[0].width}),Pn=[Kt[0].width].concat(Sn);return Math.max.apply(Math,Pn)},VS={left:0,top:0},US={left:0,top:0},v_={left:0,top:0},zS={left:0,top:0},qS={height:0,width:0},pA={left:0,top:0},mA="data-virtual-index",GS=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],KS=function(Kt){var cn=Kt.enableSmoothScroll,Sn=Kt.isRtl,Pn=Kt.numberOfItems,Cn=Kt.parentRef,Rn=Kt.setRenderRange,Un=Kt.sizes,Fn=Kt.scrollMode,Tn=Kt.viewMode,Vn=_t.useState(!1),Hn=Vn[0],rr=Vn[1],nr=_t.useCallback(function(Ur){return rr(Ur)},[]),tr=_t.useRef(Fn);tr.current=Fn;var hr=_t.useRef(Tn);hr.current=Tn;var ur=Fn===_e.ScrollMode.Wrapped||Tn===_e.ViewMode.DualPageWithCover||Tn===_e.ViewMode.DualPage?vr.Both:Fn===_e.ScrollMode.Horizontal?vr.Horizontal:vr.Vertical,ar=BS({elementRef:Cn,enableSmoothScroll:cn,isRtl:Sn,scrollDirection:ur,onSmoothScroll:nr}),ts=ar.scrollOffset,Fr=ar.scrollTo,jr=function(Ur){var Br=Ur.elementRef,$r=_t.useState(Br.current),Ir=$r[0],Rr=$r[1],Kr=_t.useRef(!1),Yr=_t.useReducer(NS,{height:0,width:0}),Lr=Yr[0],wr=Yr[1];return Rt(function(){Br.current!==Ir&&Rr(Br.current)}),Rt(function(){if(Ir&&!Kr.current){Kr.current=!0;var _i=Ir.getBoundingClientRect(),ns=_i.height,Es=_i.width;wr({rect:{height:ns,width:Es}})}},[Ir]),_t.useEffect(function(){if(Ir){var _i=new ResizeObserver(function(ns,Es){ns.forEach(function(ws){if(ws.target===Ir){var Qs=ws.contentRect,xo=Qs.height,es=Qs.width;wr({rect:{height:xo,width:es}})}})});return _i.observe(Ir),function(){_i.unobserve(Ir)}}},[Ir]),Lr}({elementRef:Cn}),zr=_t.useRef({scrollOffset:pA,measurements:[]});zr.current.scrollOffset=ts;var Cr=_t.useMemo(function(){return Array(Pn).fill(-1)},[]),Gr=_t.useState(Cr),Vr=Gr[0],us=Gr[1],as=_t.useMemo(function(){var Ur=new IntersectionObserver(function(Br){Br.forEach(function($r){var Ir=$r.isIntersecting?$r.intersectionRatio:-1,Rr=$r.target.getAttribute(mA);if(Rr){var Kr=parseInt(Rr,10);0<=Kr&&Kr<Pn&&us(function(Yr){return Yr[Kr]=Ir,function(Lr,wr,_i){for(var ns,Es=0,ws=wr.length;Es<ws;Es++)!ns&&Es in wr||(ns||(ns=Array.prototype.slice.call(wr,0,Es)),ns[Es]=wr[Es]);return Lr.concat(ns||Array.prototype.slice.call(wr))}([],Yr)})}})},{threshold:GS});return Ur},[]),ds=_t.useMemo(function(){return Fn===_e.ScrollMode.Page&&Tn===_e.ViewMode.SinglePage?function(Ur,Br,$r){for(var Ir=[],Rr=0;Rr<Ur;Rr++){var Kr={height:Math.max(Br.height,$r[Rr].height),width:Math.max(Br.width,$r[Rr].width)},Yr=Rr===0?zS:Ir[Rr-1].end,Lr={left:Yr.left+Kr.width,top:Yr.top+Kr.height};Ir[Rr]={index:Rr,start:Yr,size:Kr,end:Lr,visibility:-1}}return Ir}(Pn,jr,Un):Tn===_e.ViewMode.DualPageWithCover?function(Ur,Br,$r,Ir){for(var Rr=[],Kr=0,Yr=0,Lr=v_,wr=0;wr<Ur;wr++){var _i=wr===0?{height:Ir===_e.ScrollMode.Page?Math.max(Br.height,$r[wr].height):$r[wr].height,width:Ir===_e.ScrollMode.Page?Math.max(Br.width,$r[wr].width):$r[wr].width}:{height:Ir===_e.ScrollMode.Page?Math.max(Br.height,$r[wr].height):$r[wr].height,width:Math.max(Br.width/2,$r[wr].width)};Ir===_e.ScrollMode.Page?Lr=wr===0?v_:{left:wr%2==0?_i.width:0,top:Math.floor((wr-1)/2)*_i.height+Rr[0].end.top}:wr===0?(Lr=v_,Kr=$r[0].height,Yr=0):wr%2==1?(Lr={left:0,top:Kr+=Yr},Yr=wr===Ur-1?$r[wr].height:Math.max($r[wr].height,$r[wr+1].height)):Lr={left:Rr[wr-1].end.left,top:Kr};var ns={left:Lr.left+_i.width,top:Lr.top+_i.height};Rr[wr]={index:wr,start:Lr,size:_i,end:ns,visibility:-1}}return Rr}(Pn,jr,Un,Fn):Tn===_e.ViewMode.DualPage?function(Ur,Br,$r,Ir){for(var Rr=[],Kr=0,Yr=0,Lr=US,wr=0;wr<Ur;wr++){var _i={height:Ir===_e.ScrollMode.Page?Math.max(Br.height,$r[wr].height):$r[wr].height,width:Math.max(Br.width/2,$r[wr].width)};Ir===_e.ScrollMode.Page?Lr={left:wr%2==0?0:_i.width,top:Math.floor(wr/2)*_i.height}:wr%2==0?(Lr={left:0,top:Kr+=Yr},Yr=wr===Ur-1?$r[wr].height:Math.max($r[wr].height,$r[wr+1].height)):Lr={left:Rr[wr-1].end.left,top:Kr};var ns={left:Lr.left+_i.width,top:Lr.top+_i.height};Rr[wr]={index:wr,start:Lr,size:_i,end:ns,visibility:-1}}return Rr}(Pn,jr,Un,Fn):function(Ur,Br,$r,Ir){for(var Rr=[],Kr=0,Yr={left:0,top:0},Lr=0,wr=VS,_i=0;_i<Ur;_i++){var ns=$r[_i];if(_i===0)Kr=ns.width,Yr={left:0,top:0},Lr=ns.height;else switch(Ir){case _e.ScrollMode.Wrapped:(Kr+=ns.width)<Br.width?(wr={left:Rr[_i-1].end.left,top:Yr.top},Lr=Math.max(Lr,ns.height)):(Kr=ns.width,Yr={left:(wr={left:Yr.left,top:Yr.top+Lr}).left,top:wr.top},Lr=ns.height);break;case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:wr=Rr[_i-1].end}var Es={left:wr.left+ns.width,top:wr.top+ns.height};Rr[_i]={index:_i,start:wr,size:ns,end:Es,visibility:-1}}return Rr}(Pn,jr,Un,Fn)},[Fn,Un,Tn,jr]),fs=ds[Pn-1]?{height:ds[Pn-1].end.top,width:ds[Pn-1].end.left}:qS;zr.current.measurements=ds;var gs=_t.useMemo(function(){var Ur=function(_i,ns,Es,ws){var Qs=0;switch(_i){case vr.Horizontal:Qs=ws.left;break;case vr.Vertical:default:Qs=ws.top}var xo=ns.length-1,es=function(bs,vu,Zp,u0){for(;bs<=vu;){var Ku=(bs+vu)/2|0,iy=u0(Ku);if(iy<Zp)bs=Ku+1;else{if(!(iy>Zp))return Ku;vu=Ku-1}}return bs>0?bs-1:0}(0,xo,Qs,function(bs){switch(_i){case vr.Horizontal:return ns[bs].start.left;case vr.Both:case vr.Vertical:default:return ns[bs].start.top}});if(_i===vr.Both)for(var Js=ns[es].start.top;es-1>=0&&ns[es-1].start.top===Js&&ns[es-1].start.left>=ws.left;)es--;for(var xs=es;xs<=xo;){var $s={top:ns[xs].start.top-ws.top,left:ns[xs].start.left-ws.left},Ws={height:Es.height-$s.top,width:Es.width-$s.left};if(_i===vr.Horizontal&&Ws.width<0||_i===vr.Vertical&&Ws.height<0||_i===vr.Both&&(Ws.width<0||Ws.height<0))break;xs++}return{start:es,end:xs}}(ur,ds,jr,ts),Br=Ur.start,$r=Ur.end,Ir=Vr.slice(ry(0,Pn,Br),ry(0,Pn,$r)),Rr=Br+Ir.reduce(function(_i,ns,Es,ws){return ns>ws[_i]?Es:_i},0),Kr=Rr=ry(0,Pn-1,Rr),Yr=Rn({endPage:$r,numPages:Pn,startPage:Br}),Lr=Yr.startPage,wr=Yr.endPage;switch(Lr=Math.max(Lr,0),wr=Math.min(wr,Pn-1),Tn){case _e.ViewMode.DualPageWithCover:Rr>0&&(Kr=Rr%2==1?Rr:Rr-1),Lr=Lr===0?0:Lr%2==1?Lr:Lr-1,Pn-(wr=wr%2==1?wr-1:wr)<=2&&(wr=Pn-1);break;case _e.ViewMode.DualPage:Kr=Rr%2==0?Rr:Rr-1,Lr=Lr%2==0?Lr:Lr-1,wr=wr%2==1?wr:wr-1;break;case _e.ViewMode.SinglePage:default:Kr=Rr}return{startPage:Lr,endPage:wr,maxVisbilityIndex:Kr}},[ds,jr,ts,Tn,Vr]),js=gs.startPage,Cs=gs.endPage,Hs=gs.maxVisbilityIndex,Is=_t.useMemo(function(){for(var Ur=[],Br=function(Ir){var Rr=ds[Ir],Kr=xt(xt({},Rr),{visibility:Vr[Ir]!==void 0?Vr[Ir]:-1,measureRef:function(Yr){Yr&&(Yr.setAttribute(mA,"".concat(Ir)),as.observe(Yr))}});Ur.push(Kr)},$r=js;$r<=Cs;$r++)Br($r);return Ur},[js,Cs,Vr,ds]),Ds=_t.useCallback(function(Ur,Br){var $r=zr.current.measurements[ry(0,Pn-1,Ur)],Ir=tr.current===_e.ScrollMode.Page?pA:Br;return $r?Fr({left:Ir.left+$r.start.left,top:Ir.top+$r.start.top},cn):Promise.resolve()},[Fr,cn]),Fs=_t.useCallback(function(Ur,Br){var $r=zr.current.measurements,Ir=$r[Ur].start,Rr=$r.find(function(Yr){return Yr.start.top-Ir.top>1e-12});if(!Rr)return Promise.resolve();var Kr=Rr.index;switch(hr.current){case _e.ViewMode.DualPage:Kr=Kr%2==0?Kr:Kr+1;break;case _e.ViewMode.DualPageWithCover:Kr=Kr%2==1?Kr:Kr+1}return Ds(Kr,Br)},[]),Ls=_t.useCallback(function(Ur,Br){for(var $r=zr.current.measurements,Ir=$r[Ur].start,Rr=Ur,Kr=!1,Yr=Pn-1;Yr>=0;Yr--)if(Ir.top-$r[Yr].start.top>1e-12){Kr=!0,Rr=$r[Yr].index;break}if(!Kr)return Promise.resolve();switch(hr.current){case _e.ViewMode.DualPage:Rr=Rr%2==0?Rr:Rr-1;break;case _e.ViewMode.DualPageWithCover:Rr=Rr%2==0?Rr-1:Rr}return Rr===Ur&&(Rr=Ur-1),Ds(Rr,Br)},[]),no=_t.useCallback(function(Ur,Br){if(hr.current===_e.ViewMode.DualPageWithCover||hr.current===_e.ViewMode.DualPage)return Fs(Ur,Br);switch(tr.current){case _e.ScrollMode.Wrapped:return Fs(Ur,Br);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Ds(Ur+1,Br)}},[]),$a=_t.useCallback(function(Ur,Br){if(hr.current===_e.ViewMode.DualPageWithCover||hr.current===_e.ViewMode.DualPage)return Ls(Ur,Br);switch(tr.current){case _e.ScrollMode.Wrapped:return Ls(Ur,Br);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Ds(Ur-1,Br)}},[]),Uo=_t.useCallback(function(){return function(Ur,Br){switch(Br){case _e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Ur.width,"px")};case _e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Ur.height,"px"),width:"100%"}}}(fs,tr.current)},[fs]),Gs=_t.useCallback(function(Ur){return function(Br,$r,Ir){return Ir!==_e.ScrollMode.Page?{}:{height:"".concat($r.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Br.start.top,"px)")}}(Ur,jr,tr.current)},[jr]),wo=_t.useCallback(function(Ur){return function(Br,$r,Ir,Rr,Kr){var Yr,Lr,wr,_i,ns,Es,ws,Qs=$r?"right":"left",xo=$r?-1:1,es=Ir.length,Js=Br.start.left*xo,xs=Br.size,$s=xs.height,Ws=xs.width;if(Rr===_e.ViewMode.DualPageWithCover){var bs=Kr===_e.ScrollMode.Page?0:Br.start.top;return Br.index===0||es%2==0&&Br.index===es-1?((Yr={height:"".concat($s,"px"),minWidth:"".concat(HS(Ir,Rr),"px"),width:"100%"})[Qs]=0,Yr.position="absolute",Yr.top=0,Yr.transform="translate(".concat(Js,"px, ").concat(bs,"px)"),Yr):((Lr={height:"".concat($s,"px"),width:"".concat(Ws,"px")})[Qs]=0,Lr.position="absolute",Lr.top=0,Lr.transform="translate(".concat(Js,"px, ").concat(bs,"px)"),Lr)}if(Rr===_e.ViewMode.DualPage)return(wr={height:"".concat($s,"px"),width:"".concat(Ws,"px")})[Qs]=0,wr.position="absolute",wr.top=0,wr.transform="translate(".concat(Js,"px, ").concat(Kr===_e.ScrollMode.Page?0:Br.start.top,"px)"),wr;switch(Kr){case _e.ScrollMode.Horizontal:return(_i={height:"100%",width:"".concat(Ws,"px")})[Qs]=0,_i.position="absolute",_i.top=0,_i.transform="translateX(".concat(Js,"px)"),_i;case _e.ScrollMode.Page:return(ns={height:"".concat($s,"px"),width:"".concat(Ws,"px")})[Qs]=0,ns.position="absolute",ns.top=0,ns;case _e.ScrollMode.Wrapped:return(Es={height:"".concat($s,"px"),width:"".concat(Ws,"px")})[Qs]=0,Es.position="absolute",Es.top=0,Es.transform="translate(".concat(Js,"px, ").concat(Br.start.top,"px)"),Es;case _e.ScrollMode.Vertical:default:return(ws={height:"".concat($s,"px"),width:"100%"})[Qs]=0,ws.position="absolute",ws.top=0,ws.transform="translateY(".concat(Br.start.top,"px)"),ws}}(Ur,Sn,Un,hr.current,tr.current)},[Sn,Un]),Nl=_t.useCallback(function(Ur,Br){var $r=zr.current,Ir=$r.measurements,Rr=$r.scrollOffset,Kr=Ir[ry(0,Pn-1,Br)];if(Kr){var Yr=tr.current===_e.ScrollMode.Page?{left:Kr.start.left,top:Kr.start.top}:{left:Rr.left*Ur,top:Rr.top*Ur};return Fr(Yr,!1)}return Promise.resolve()},[]);return _t.useEffect(function(){return function(){as.disconnect()}},[]),{boundingClientRect:jr,isSmoothScrolling:Hn,startPage:js,endPage:Cs,maxVisbilityIndex:Hs,virtualItems:Is,getContainerStyles:Uo,getItemContainerStyles:Gs,getItemStyles:wo,scrollToItem:Ds,scrollToNextItem:no,scrollToPreviousItem:$a,zoom:Nl}},b_=function(Kt,cn,Sn,Pn,Cn,Rn){var Un=Sn;switch(!0){case(Cn===_e.ViewMode.DualPageWithCover&&Rn>=3):case(Cn===_e.ViewMode.DualPage&&Rn>=3):Un=2*Sn;break;default:Un=Sn}switch(Pn){case _e.SpecialZoomLevel.ActualSize:return 1;case _e.SpecialZoomLevel.PageFit:return Math.min((Kt.clientWidth-17)/Un,(Kt.clientHeight-16)/cn);case _e.SpecialZoomLevel.PageWidth:return(Kt.clientWidth-17)/Un}},XS=function(Kt){var cn,Sn,Pn=Kt.getCurrentPage,Cn=(cn=50,Sn=_t.useRef([]),_t.useEffect(function(){return function(){Sn.current=[]}},[]),{push:function(Vn){var Hn=Sn.current;Hn.length+1>cn&&Hn.shift(),Hn.push(Vn),Sn.current=Hn},map:function(Vn){return Sn.current.map(function(Hn){return Vn(Hn)})},pop:function(){var Vn=Sn.current;if(Vn.length===0)return null;var Hn=Vn.pop();return Sn.current=Vn,Hn}}),Rn=function(Vn){var Hn=_t.useRef([]);return _t.useEffect(function(){return function(){Hn.current=[]}},[]),{dequeue:function(){var rr=Hn.current;if(rr.length===0)return null;var nr=rr.shift();return Hn.current=rr,nr||null},enqueue:function(rr){var nr=Hn.current;nr.length+1>Vn&&nr.pop(),Hn.current=[rr].concat(nr)},map:function(rr){return Hn.current.map(function(nr){return rr(nr)})}}}(50),Un=function(){var Vn=Rn.dequeue();return Vn&&Cn.push(Vn),Vn&&Vn.pageIndex===Pn()?Un():Vn},Fn=function(){var Vn=Cn.pop();return Vn&&Rn.enqueue(Vn),Vn&&Vn.pageIndex===Pn()?Fn():Vn},Tn=_t.useCallback(function(Vn){Cn.push(Vn)},[]);return{getNextDestination:Un,getPreviousDestination:Fn,markVisitedDestination:Tn}},gA=function(Kt){var cn=[];return Kt.map(function(Sn){cn=cn.concat(Sn).concat(function(Pn){var Cn=[];return Pn.items&&Pn.items.length>0&&(Cn=Cn.concat(gA(Pn.items))),Cn}(Sn))}),cn},yA={capture:!1,passive:!0},YS={height:0,width:0},__={height:0,width:0},ZS=function(Kt){var cn=Kt.getCurrentPage,Sn=Kt.getCurrentScrollMode,Pn=Kt.jumpToPage,Cn=Kt.targetRef,Rn=_t.useState(_e.FullScreenMode.Normal),Un=Rn[0],Fn=Rn[1],Tn=function(){var Vr=_t.useState(YS),us=Vr[0],as=Vr[1],ds=pn(function(){as({height:window.innerHeight,width:window.innerWidth})},100);return Rt(function(){return window.addEventListener("resize",ds,yA),function(){window.removeEventListener("resize",ds,yA)}},[]),us}(),Vn=_t.useState(__),Hn=Vn[0],rr=Vn[1],nr=_t.useRef(__),tr=_t.useRef(cn()),hr=_t.useRef(__),ur=_t.useState(Cn.current),ar=ur[0],ts=ur[1],Fr=_t.useRef();Rt(function(){Cn.current!==ar&&ts(Cn.current)},[]),Rt(function(){if(ar){var Vr=new ResizeObserver(function(us){us.forEach(function(as){var ds=as.target.getBoundingClientRect(),fs=ds.height,gs=ds.width;rr({height:fs,width:gs})})});return Vr.observe(ar),function(){Vr.unobserve(ar),Vr.disconnect()}}},[ar]);var jr=_t.useCallback(function(Vr){var us=tn();return us&&us!==Vr?(Fn(_e.FullScreenMode.Normal),Qt(us)):Promise.resolve()},[]),zr=_t.useCallback(function(Vr){Vr&&Wt()&&(ts(Vr),jr(Vr).then(function(){Fr.current=Vr,Fn(_e.FullScreenMode.Entering),function(us){Ut&&us[Jt.RequestFullScreen]()}(Vr)}))},[]),Cr=_t.useCallback(function(){tn()&&(Fn(_e.FullScreenMode.Exitting),Qt(document))},[]),Gr=_t.useCallback(function(){ar&&tn()!==ar&&Fn(_e.FullScreenMode.Exitting)},[ar]);return _t.useEffect(function(){switch(Un){case _e.FullScreenMode.Entering:Fr.current&&(Fr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),tr.current=cn(),nr.current={height:window.innerHeight,width:window.innerWidth};break;case _e.FullScreenMode.Entered:Sn()===_e.ScrollMode.Page?Pn(tr.current).then(function(){Fn(_e.FullScreenMode.EnteredCompletely)}):Fn(_e.FullScreenMode.EnteredCompletely);break;case _e.FullScreenMode.Exitting:Fr.current&&(Fr.current.style.backgroundColor="",Fr.current=null),tr.current=cn();break;case _e.FullScreenMode.Exited:Fn(_e.FullScreenMode.Normal),Sn()===_e.ScrollMode.Page&&Pn(tr.current)}},[Un]),_t.useEffect(function(){if(Un!==_e.FullScreenMode.Normal)return Un===_e.FullScreenMode.Entering&&Tn.height===Hn.height&&Tn.width===Hn.width&&Tn.height>0&&Tn.width>0&&(hr.current.height===0||Tn.height==hr.current.height)?(hr.current={height:window.innerHeight,width:window.innerWidth},void Fn(_e.FullScreenMode.Entered)):void(Un===_e.FullScreenMode.Exitting&&nr.current.height===Tn.height&&nr.current.width===Tn.width&&Tn.height>0&&Tn.width>0&&Fn(_e.FullScreenMode.Exited))},[Un,Tn,Hn]),_t.useEffect(function(){var Vr;return Vr=Gr,Ut&&document.addEventListener(Jt.FullScreenChange,Vr),function(){(function(us){Ut&&document.removeEventListener(Jt.FullScreenChange,us)})(Gr)}},[ar]),{enterFullScreenMode:zr,exitFullScreenMode:Cr,fullScreenMode:Un}},QS={buildPageStyles:function(){return{}},transformSize:function(Kt){return Kt.size}},Yp={left:0,top:0},JS=function(Kt){var cn=Kt.currentFile,Sn=Kt.defaultScale,Pn=Kt.doc,Cn=Kt.enableSmoothScroll,Rn=Kt.initialPage,Un=Kt.initialRotation,Fn=Kt.initialScale,Tn=Kt.pageLayout,Vn=Kt.pageSizes,Hn=Kt.plugins,rr=Kt.renderPage,nr=Kt.scrollMode,tr=Kt.setRenderRange,hr=Kt.viewMode,ur=Kt.viewerState,ar=Kt.onDocumentLoad,ts=Kt.onOpenFile,Fr=Kt.onPageChange,jr=Kt.onRotate,zr=Kt.onRotatePage,Cr=Kt.onZoom,Gr=Pn.numPages,Vr=Pn.loadingTask.docId,us=_t.useContext(En).l10n,as=_t.useContext($t),ds=as.direction===_e.TextDirection.RightToLeft,fs=_t.useRef(),gs=_t.useRef(),js=_t.useState(Rn),Cs=js[0],Hs=js[1],Is=_t.useRef(null),Ds=XS({getCurrentPage:function(){return es.current.pageIndex}}),Fs=_t.useState(Un),Ls=Fs[0],no=Fs[1],$a=hn(Ls),Uo=_t.useState(!1),Gs=Uo[0],wo=Uo[1],Nl=_t.useState(new Map),Ur=Nl[0],Br=Nl[1],$r=_t.useState(nr),Ir=$r[0],Rr=$r[1],Kr=hn(Ir),Yr=_t.useState(hr),Lr=Yr[0],wr=Yr[1],_i=hn(Lr),ns=function(or){var Qr=nn(),is=_t.useState([]),ys=is[0],ps=is[1];return _t.useEffect(function(){or.getOutline().then(function(ss){if(Qr.current&&ss!==null){var zs=gA(ss);ps(zs)}})},[]),ys}(Pn),Es=_t.useState(Fn),ws=Es[0],Qs=Es[1],xo=hn(ws),es=_t.useRef(ur),Js=_t.useRef(typeof Sn=="string"?Sn:null),xs=_t.useRef(-1),$s=_t.useRef(-1),Ws=_t.useRef(Rn),bs=ZS({getCurrentPage:function(){return es.current.pageIndex},getCurrentScrollMode:function(){return es.current.scrollMode},jumpToPage:function(or){return _u(or)},targetRef:gs}),vu=_t.useState(-1),Zp=vu[0],u0=vu[1],Ku=_t.useState(0),iy=Ku[0],sE=Ku[1],Po=en({doc:Pn});_t.useEffect(function(){return function(){sr.clear(),Hr.clear()}},[Vr]);var wA=_t.useMemo(function(){return Object.assign({},QS,Tn)},[]),oE=_t.useMemo(function(){return Array(Gr).fill(0).map(function(or,Qr){var is=[Vn[Qr].pageHeight,Vn[Qr].pageWidth],ys=Math.abs(Ls)%180==0?{height:is[0],width:is[1]}:{height:is[1],width:is[0]},ps={height:ys.height*ws,width:ys.width*ws};return wA.transformSize({numPages:Gr,pageIndex:Qr,size:ps})})},[Ls,ws]),As=KS({enableSmoothScroll:Cn,isRtl:ds,numberOfItems:Gr,parentRef:gs,scrollMode:Ir,setRenderRange:tr,sizes:oE,viewMode:Lr}),aE=pn(function(){!Js.current||es.current.fullScreenMode!==_e.FullScreenMode.Normal||Rn>0&&Ws.current===Rn||Xu(Js.current)},200);(function(or){var Qr=or.targetRef,is=or.onResize;Rt(function(){var ys=new ResizeObserver(function(ss){ss.forEach(function(zs){is(zs.target)})}),ps=Qr.current;if(ps)return ys.observe(ps),function(){ys.unobserve(ps)}},[])})({targetRef:gs,onResize:aE});var bu=function(or){var Qr=or;Hn.forEach(function(is){is.onViewerStateChange&&(Qr=is.onViewerStateChange(Qr))}),es.current=Qr},lE=function(){return gs.current},cE=function(){return es.current},uE=_t.useCallback(function(or){Ds.markVisitedDestination(or)},[]),S_=_t.useCallback(function(or){var Qr=or.pageIndex,is=or.bottomOffset,ys=or.leftOffset,ps=or.scaleTo,ss=gs.current,zs=es.current;return ss&&zs?new Promise(function(wu,$_){mr(Pn,Qr).then(function(d0){var Au=d0.getViewport({scale:1}),h0=0,$A=(typeof is=="function"?is(Au.width,Au.height):is)||0,f0=(typeof ys=="function"?ys(Au.width,Au.height):ys)||0,Qp=zs.scale;switch(ps){case _e.SpecialZoomLevel.PageFit:h0=0,f0=0,Xu(_e.SpecialZoomLevel.PageFit);break;case _e.SpecialZoomLevel.PageWidth:Qp=b_(ss,Vn[Qr].pageHeight,Vn[Qr].pageWidth,_e.SpecialZoomLevel.PageWidth,hr,Gr),h0=(Au.height-$A)*Qp,f0*=Qp,Xu(Qp);break;default:h0=(Au.height-$A)*Qp,f0*=Qp}switch(zs.scrollMode){case _e.ScrollMode.Horizontal:As.scrollToItem(Qr,{left:f0,top:0}).then(function(){wu()});break;case _e.ScrollMode.Vertical:default:As.scrollToItem(Qr,{left:0,top:h0}).then(function(){wu()})}})}):Promise.resolve()},[]),AA=_t.useCallback(function(or){return Ds.markVisitedDestination(or),S_(or)},[]),dE=_t.useCallback(function(){var or=Ds.getNextDestination();return or?S_(or):Promise.resolve()},[]),hE=_t.useCallback(function(){var or=Ds.getPreviousDestination();return or?S_(or):Promise.resolve()},[]),fE=_t.useCallback(function(){return As.scrollToNextItem(es.current.pageIndex,Yp)},[]),_u=_t.useCallback(function(or){return 0<=or&&or<Gr?As.scrollToItem(or,Yp):Promise.resolve()},[]),pE=_t.useCallback(function(){return As.scrollToPreviousItem(es.current.pageIndex,Yp)},[]),SA=_t.useCallback(function(or){var Qr,is;(Qr=or.name,is=Qr.split(/\./).pop(),is?is.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(ys){var ps=new FileReader;ps.readAsArrayBuffer(or),ps.onload=function(){var ss=new Uint8Array(ps.result);ys(ss)}}).then(function(ys){ts(or.name,ys)})},[ts]),EA=_t.useCallback(function(or){var Qr=or===_e.RotateDirection.Backward?-90:90,is=es.current.rotation,ys=is===360||is===-360?Qr:is+Qr;Po.markNotRendered(),no(ys),bu(xt(xt({},es.current),{rotation:ys})),jr({direction:or,doc:Pn,rotation:ys})},[]),E_=_t.useCallback(function(or,Qr){var is=Qr===_e.RotateDirection.Backward?-90:90,ys=es.current.pagesRotation,ps=(ys.has(or)?ys.get(or):Un)+is,ss=ys.set(or,ps);Br(ss),wo(function(zs){return!zs}),bu(xt(xt({},es.current),{pagesRotation:ss,rotatedPage:or})),zr({direction:Qr,doc:Pn,pageIndex:or,rotation:ps}),Po.markRendering(or),u0(or)},[]),xA=_t.useCallback(function(or){bu(xt(xt({},es.current),{scrollMode:or})),Rr(or)},[]),PA=_t.useCallback(function(or){bu(xt(xt({},es.current),{viewMode:or})),wr(or)},[]),Xu=_t.useCallback(function(or){var Qr=gs.current,is=es.current.pageIndex;if(!(is<0||is>=Gr)){var ys=Vn[is].pageHeight,ps=Vn[is].pageWidth,ss=Qr?typeof or=="string"?b_(Qr,ys,ps,or,es.current.viewMode,Gr):or:1;Js.current=typeof or=="string"?or:null,ss!==es.current.scale&&(sE(function(zs){return zs+1}),Po.markNotRendered(),Qs(ss),Cr({doc:Pn,scale:ss}),bu(xt(xt({},es.current),{scale:ss})))}},[]),mE=_t.useCallback(function(or){bs.enterFullScreenMode(or)},[]),gE=_t.useCallback(function(){bs.exitFullScreenMode()},[]);_t.useEffect(function(){bu(xt(xt({},es.current),{fullScreenMode:bs.fullScreenMode}))},[bs.fullScreenMode]),_t.useEffect(function(){var or={enterFullScreenMode:mE,exitFullScreenMode:gE,getPagesContainer:lE,getViewerState:cE,jumpToDestination:AA,jumpToNextDestination:dE,jumpToPreviousDestination:hE,jumpToNextPage:fE,jumpToPreviousPage:pE,jumpToPage:_u,openFile:SA,rotate:EA,rotatePage:E_,setViewerState:bu,switchScrollMode:xA,switchViewMode:PA,zoom:Xu};return Hn.forEach(function(Qr){Qr.install&&Qr.install(or)}),function(){Hn.forEach(function(Qr){Qr.uninstall&&Qr.uninstall(or)})}},[Vr]),_t.useEffect(function(){ar({doc:Pn,file:cn}),Hn.forEach(function(or){or.onDocumentLoad&&or.onDocumentLoad({doc:Pn,file:cn})})},[Vr]);var x_,P_,T_,TA=As.boundingClientRect;x_=function(){Rn&&_u(Rn)},P_=TA.height>0&&TA.width>0,T_=_t.useRef(!1),Rt(function(){P_&&!T_.current&&(T_.current=!0,x_())},[x_,P_]),Rt(function(){var or=es.current.pageIndex;or>-1&&Kr!==Ir&&As.scrollToItem(or,Yp).then(function(){bs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(Cn||Po.markNotRendered(),xs.current=-1)})},[Ir]),Rt(function(){var or=es.current.pageIndex;or>-1&&$a!==Ls&&As.scrollToItem(or,Yp)},[Ls]),Rt(function(){xo!=0&&xo!=es.current.scale&&As.zoom(es.current.scale/xo,es.current.pageIndex).then(function(){bs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&($s.current=-1)})},[ws]),Rt(function(){if(_i!==es.current.viewMode){var or=As.startPage,Qr=As.endPage,is=As.virtualItems;Po.markNotRendered(),Po.setRange(or,Qr);for(var ys=function(ss){var zs=is.find(function(wu){return wu.index===ss});zs&&Po.setVisibility(ss,zs.visibility)},ps=or;ps<=Qr;ps++)ys(ps);C_()}},[Lr]),Rt(function(){var or=es.current.pageIndex;or>-1&&_i!==Lr&&As.scrollToItem(or,Yp)},[Lr]),Rt(function(){var or=es.current.pageIndex;or>0&&or===Rn&&Ws.current===Rn&&Js.current&&(Ws.current=-1,Xu(Js.current))},[Cs]),_t.useEffect(function(){As.isSmoothScrolling||Is.current!==null&&Is.current===Cs||(Is.current=Cs,Fr({currentPage:Cs,doc:Pn}))},[Cs,As.isSmoothScrolling]),_t.useEffect(function(){bs.fullScreenMode===_e.FullScreenMode.Entering&&es.current.scrollMode===_e.ScrollMode.Page&&(xs.current=es.current.pageIndex),bs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&es.current.scrollMode===_e.ScrollMode.Page&&Cn&&(xs.current=-1),bs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&Js.current&&($s.current=es.current.pageIndex,Xu(Js.current))},[bs.fullScreenMode]),_t.useEffect(function(){if(bs.fullScreenMode!==_e.FullScreenMode.Entering&&bs.fullScreenMode!==_e.FullScreenMode.Exitting&&!As.isSmoothScrolling){var or=As.startPage,Qr=As.endPage,is=As.maxVisbilityIndex,ys=As.virtualItems,ps=is,ss=bs.fullScreenMode===_e.FullScreenMode.Entered||bs.fullScreenMode===_e.FullScreenMode.EnteredCompletely;if(!(ss&&ps!==xs.current&&xs.current>-1||ss&&ps!==$s.current&&$s.current>-1)){Hs(ps),bu(xt(xt({},es.current),{pageIndex:ps})),Po.setRange(or,Qr);for(var zs=function($_){var d0=ys.find(function(Au){return Au.index===$_});d0&&Po.setVisibility($_,d0.visibility)},wu=or;wu<=Qr;wu++)zs(wu);C_()}}},[As.startPage,As.endPage,As.isSmoothScrolling,As.maxVisbilityIndex,bs.fullScreenMode,Gs,Ls,ws]);var yE=_t.useCallback(function(or){Po.markRendered(or),C_()},[iy]),C_=function(){var or=Po.getHighestPriorityPage();or>-1&&Po.isInRange(or)&&(Po.markRendering(or),u0(or))},vE=function(or){var Qr=Cs-1,is=Cs+1;switch(or){case"FirstPage":_u(0);break;case"LastPage":_u(Gr-1);break;case"NextPage":is<Gr&&_u(is);break;case"PrevPage":Qr>=0&&_u(Qr)}},bE=_t.useCallback(function(){var or=As.virtualItems,Qr=[];switch(Lr){case _e.ViewMode.DualPage:Qr=In(or,2);break;case _e.ViewMode.DualPageWithCover:or.length&&(Qr=or[0].index===0?[[or[0]]].concat(In(or.slice(1),2)):In(or,2));break;case _e.ViewMode.SinglePage:default:Qr=In(or,1)}var is=us&&us.core?us.core.pageLabel:"Page {{pageIndex}}",ys={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:fs,style:{height:"100%"}},children:_t.createElement(_t.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:kt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Ir===_e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":ds,"rpv-core__inner-pages--single":Ir===_e.ScrollMode.Page,"rpv-core__inner-pages--vertical":Ir===_e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Ir===_e.ScrollMode.Wrapped}),ref:gs,style:{height:"100%",position:"relative"}},children:_t.createElement("div",{"data-testid":"core__inner-current-page-".concat(Cs),style:Object.assign({"--scale-factor":ws},As.getContainerStyles())},Qr.map(function(ps){return _t.createElement("div",{className:kt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Ir===_e.ScrollMode.Page}),style:As.getItemContainerStyles(ps[0]),key:"".concat(ps[0].index,"-").concat(Lr)},ps.map(function(ss){var zs=Lr===_e.ViewMode.DualPageWithCover&&(ss.index===0||Gr%2==0&&ss.index===Gr-1);return _t.createElement("div",{"aria-label":is.replace("{{pageIndex}}","".concat(ss.index+1)),className:kt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Lr===_e.ViewMode.DualPage&&ss.index%2==0,"rpv-core__inner-page--dual-odd":Lr===_e.ViewMode.DualPage&&ss.index%2==1,"rpv-core__inner-page--dual-cover":zs,"rpv-core__inner-page--dual-cover-even":Lr===_e.ViewMode.DualPageWithCover&&!zs&&ss.index%2==0,"rpv-core__inner-page--dual-cover-odd":Lr===_e.ViewMode.DualPageWithCover&&!zs&&ss.index%2==1,"rpv-core__inner-page--single":Lr===_e.ViewMode.SinglePage&&Ir===_e.ScrollMode.Page}),role:"region",key:"".concat(ss.index,"-").concat(Lr),style:Object.assign({},As.getItemStyles(ss),wA.buildPageStyles({numPages:Gr,pageIndex:ss.index,scrollMode:Ir,viewMode:Lr}))},_t.createElement(FS,{doc:Pn,measureRef:ss.measureRef,outlines:ns,pageIndex:ss.index,pageRotation:Ur.has(ss.index)?Ur.get(ss.index):0,pageSize:Vn[ss.index],plugins:Hn,renderPage:rr,renderQueueKey:iy,rotation:Ls,scale:ws,shouldRender:Zp===ss.index,viewMode:Lr,onExecuteNamedAction:vE,onJumpFromLinkAnnotation:uE,onJumpToDest:AA,onRenderCompleted:yE,onRotatePage:E_}))}))}))}};return Hn.forEach(function(ps){ps.renderViewer&&(ys=ps.renderViewer({containerRef:fs,doc:Pn,pagesContainerRef:gs,pagesRotation:Ur,pageSizes:Vn,rotation:Ls,slot:ys,themeContext:as,jumpToPage:_u,openFile:SA,rotate:EA,rotatePage:E_,switchScrollMode:xA,switchViewMode:PA,zoom:Xu}))}),ys},[Hn,As]),CA=_t.useCallback(function(or){return _t.createElement("div",xt({},or.attrs,{style:or.attrs&&or.attrs.style?or.attrs.style:{}}),or.children,or.subSlot&&CA(or.subSlot))},[]);return CA(bE())},vA=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],eE=function(Kt){var cn=Kt.defaultScale,Sn=Kt.doc,Pn=Kt.render,Cn=Kt.scrollMode,Rn=Kt.viewMode,Un=_t.useRef(),Fn=_t.useState({pageSizes:[],scale:0}),Tn=Fn[0],Vn=Fn[1];return _t.useLayoutEffect(function(){var Hn=Array(Sn.numPages).fill(0).map(function(rr,nr){return new Promise(function(tr,hr){mr(Sn,nr).then(function(ur){var ar=ur.getViewport({scale:1});tr({pageHeight:ar.height,pageWidth:ar.width,rotation:ar.rotation})})})});Promise.all(Hn).then(function(rr){var nr=Un.current;if(nr&&rr.length!==0){var tr=rr[0].pageWidth,hr=rr[0].pageHeight,ur=nr.parentElement,ar=(ur.clientWidth-45)/tr,ts=(ur.clientHeight-45)/hr,Fr=ar;switch(Cn){case _e.ScrollMode.Horizontal:Fr=Math.min(ar,ts);break;case _e.ScrollMode.Vertical:default:Fr=ar}var jr,zr,Cr=cn?typeof cn=="string"?b_(ur,hr,tr,cn,Rn,Sn.numPages):cn:(jr=Fr,(zr=vA.findIndex(function(Gr){return Gr>=jr}))===-1||zr===0?jr:vA[zr-1]);Vn({pageSizes:rr,scale:Cr})}})},[Sn.loadingTask.docId]),Tn.pageSizes.length===0||Tn.scale===0?_t.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Un},_t.createElement(Nt,null)):Pn(Tn.pageSizes,Tn.scale)},c0=function(){},w_=function(Kt){function cn(Sn,Pn){var Cn=Kt.call(this)||this;return Cn.verifyPassword=Sn,Cn.passwordStatus=Pn,Cn}return St(cn,Kt),cn}(c0),tE=function(Kt){var cn=Kt.passwordStatus,Sn=Kt.renderProtectedView,Pn=Kt.verifyPassword,Cn=Kt.onDocumentAskPassword,Rn=_t.useContext(En).l10n,Un=_t.useState(""),Fn=Un[0],Tn=Un[1],Vn=_t.useContext($t).direction===_e.TextDirection.RightToLeft,Hn=function(){return Pn(Fn)};return _t.useEffect(function(){Cn&&Cn({verifyPassword:Pn})},[]),Sn?Sn({passwordStatus:cn,verifyPassword:Pn}):_t.createElement("div",{className:"rpv-core__asking-password-wrapper"},_t.createElement("div",{className:kt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Vn})},_t.createElement("div",{className:"rpv-core__asking-password-message"},cn===_e.PasswordStatus.RequiredPassword&&Rn.core.askingPassword.requirePasswordToOpen,cn===_e.PasswordStatus.WrongPassword&&Rn.core.wrongPassword.tryAgain),_t.createElement("div",{className:"rpv-core__asking-password-body"},_t.createElement("div",{className:kt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Vn,"rpv-core__asking-password-input--rtl":Vn})},_t.createElement(Ht,{testId:"core__asking-password-input",type:"password",value:Fn,onChange:Tn,onKeyDown:function(rr){rr.key==="Enter"&&Hn()}})),_t.createElement(Lt,{onClick:Hn},Rn.core.askingPassword.submit))))},bA=function(Kt){function cn(Sn){var Pn=Kt.call(this)||this;return Pn.doc=Sn,Pn}return St(cn,Kt),cn}(c0),_A=function(Kt){function cn(Sn){var Pn=Kt.call(this)||this;return Pn.error=Sn,Pn}return St(cn,Kt),cn}(c0),A_=function(Kt){function cn(Sn){var Pn=Kt.call(this)||this;return Pn.percentages=Sn,Pn}return St(cn,Kt),cn}(c0),nE=function(Kt){var cn=Kt.characterMap,Sn=Kt.file,Pn=Kt.httpHeaders,Cn=Kt.render,Rn=Kt.renderError,Un=Kt.renderLoader,Fn=Kt.renderProtectedView,Tn=Kt.transformGetDocumentParams,Vn=Kt.withCredentials,Hn=Kt.onDocumentAskPassword,rr=_t.useContext($t).direction===_e.TextDirection.RightToLeft,nr=_t.useState(new A_(0)),tr=nr[0],hr=nr[1],ur=_t.useRef(""),ar=nn();return _t.useEffect(function(){ur.current="",hr(new A_(0));var ts=new wt.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Fr=Object.assign({httpHeaders:Pn,withCredentials:Vn,worker:ts},typeof Sn=="string"?{url:Sn}:{data:Sn},cn?{cMapUrl:cn.url,cMapPacked:cn.isCompressed}:{}),jr=Tn?Tn(Fr):Fr,zr=wt.getDocument(jr);return zr.onPassword=function(Cr,Gr){switch(Gr){case wt.PasswordResponses.NEED_PASSWORD:ar.current&&hr(new w_(Cr,_e.PasswordStatus.RequiredPassword));break;case wt.PasswordResponses.INCORRECT_PASSWORD:ar.current&&hr(new w_(Cr,_e.PasswordStatus.WrongPassword))}},zr.onProgress=function(Cr){var Gr=Cr.total>0?Math.min(100,100*Cr.loaded/Cr.total):100;ar.current&&ur.current===""&&hr(new A_(Gr))},zr.promise.then(function(Cr){ur.current=Cr.loadingTask.docId,ar.current&&hr(new bA(Cr))},function(Cr){return ar.current&&!ts.destroyed&&hr(new _A({message:Cr.message||"Cannot load document",name:Cr.name}))}),function(){zr.destroy(),ts.destroy()}},[Sn]),tr instanceof w_?_t.createElement(tE,{passwordStatus:tr.passwordStatus,renderProtectedView:Fn,verifyPassword:tr.verifyPassword,onDocumentAskPassword:Hn}):tr instanceof bA?Cn(tr.doc):tr instanceof _A?Rn?Rn(tr.error):_t.createElement("div",{className:kt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":rr})},_t.createElement("div",{className:"rpv-core__doc-error-text"},tr.error.message)):_t.createElement("div",{"data-testid":"core__doc-loading",className:kt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":rr})},Un?Un(tr.percentages):_t.createElement(Nt,null))},rE=function(Kt,cn){var Sn=_t.useMemo(function(){return Kt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Kt},[]),Pn=_t.useState(Sn),Cn=Pn[0],Rn=Pn[1],Un=hn(Cn);return _t.useEffect(function(){if(Kt==="auto"){var Fn=window.matchMedia("(prefers-color-scheme: dark)"),Tn=function(Vn){Rn(Vn.matches?"dark":"light")};return Fn.addEventListener("change",Tn),function(){return Fn.removeEventListener("change",Tn)}}},[]),_t.useEffect(function(){Cn!==Un&&cn&&cn(Cn)},[Cn]),_t.useEffect(function(){Kt!==Cn&&Rn(Kt)},[Kt]),{currentTheme:Cn,setCurrentTheme:Rn}},iE=function(Kt){return{startPage:Kt.startPage-3,endPage:Kt.endPage+3}};_e.Button=function(Kt){var cn=Kt.children,Sn=Kt.testId,Pn=Kt.onClick,Cn=_t.useContext($t).direction===_e.TextDirection.RightToLeft,Rn=Sn?{"data-testid":Sn}:{};return _t.createElement("button",xt({className:kt({"rpv-core__button":!0,"rpv-core__button--rtl":Cn}),type:"button",onClick:Pn},Rn),cn)},_e.Icon=Dt,_e.LazyRender=function(Kt){var cn=Kt.attrs,Sn=Kt.children,Pn=Kt.testId,Cn=_t.useState(!1),Rn=Cn[0],Un=Cn[1],Fn=Pn?xt(xt({},cn),{"data-testid":Pn}):cn,Tn=Mt({once:!0,onVisibilityChanged:function(Vn){Vn.isVisible&&Un(!0)}});return _t.createElement("div",xt({ref:Tn},Fn),Rn&&Sn)},_e.LocalizationContext=En,_e.Menu=function(Kt){var cn=Kt.children,Sn=_t.useRef(),Pn=_t.useRef([]),Cn=_t.useContext($t).direction===_e.TextDirection.RightToLeft,Rn=function(Fn){if(Sn.current)switch(Fn.key){case"Tab":Fn.preventDefault();break;case"ArrowDown":Fn.preventDefault(),Un(function(Tn,Vn){return Vn+1});break;case"ArrowUp":Fn.preventDefault(),Un(function(Tn,Vn){return Vn-1});break;case"End":Fn.preventDefault(),Un(function(Tn,Vn){return Tn.length-1});break;case"Home":Fn.preventDefault(),Un(function(Tn,Vn){return 0})}},Un=function(Fn){if(Sn.current){var Tn=Pn.current,Vn=Tn.findIndex(function(rr){return rr.getAttribute("tabindex")==="0"}),Hn=Math.min(Tn.length-1,Math.max(0,Fn(Tn,Vn)));Vn>=0&&Vn<=Tn.length-1&&Tn[Vn].setAttribute("tabindex","-1"),Tn[Hn].setAttribute("tabindex","0"),Tn[Hn].focus()}};return Rt(function(){var Fn=Sn.current;if(Fn){var Tn=function(Vn){var Hn=[];return Vn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(rr){if(rr instanceof HTMLElement){var nr=rr.parentElement;(nr===Vn||window.getComputedStyle(nr).display!=="none")&&Hn.push(rr)}}),Hn}(Fn);Pn.current=Tn}},[]),Rt(function(){return document.addEventListener("keydown",Rn),function(){document.removeEventListener("keydown",Rn)}},[]),_t.createElement("div",{ref:Sn,"aria-orientation":"vertical",className:kt({"rpv-core__menu":!0,"rpv-core__menu--rtl":Cn}),role:"menu",tabIndex:0},cn)},_e.MenuDivider=function(){return _t.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},_e.MenuItem=function(Kt){var cn=Kt.checked,Sn=cn!==void 0&&cn,Pn=Kt.children,Cn=Kt.icon,Rn=Cn===void 0?null:Cn,Un=Kt.isDisabled,Fn=Un!==void 0&&Un,Tn=Kt.testId,Vn=Kt.onClick,Hn=_t.useContext($t).direction===_e.TextDirection.RightToLeft,rr=Tn?{"data-testid":Tn}:{};return _t.createElement("button",xt({className:kt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Fn,"rpv-core__menu-item--ltr":!Hn,"rpv-core__menu-item--rtl":Hn}),role:"menuitem",tabIndex:-1,type:"button",onClick:Vn},rr),_t.createElement("div",{className:kt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Hn,"rpv-core__menu-item-icon--rtl":Hn})},Rn),_t.createElement("div",{className:kt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Hn,"rpv-core__menu-item-label--rtl":Hn})},Pn),_t.createElement("div",{className:kt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Hn,"rpv-core__menu-item-check--rtl":Hn})},Sn&&_t.createElement(Ot,null)))},_e.MinimalButton=function(Kt){var cn=Kt.ariaLabel,Sn=cn===void 0?"":cn,Pn=Kt.ariaKeyShortcuts,Cn=Pn===void 0?"":Pn,Rn=Kt.children,Un=Kt.isDisabled,Fn=Un!==void 0&&Un,Tn=Kt.isSelected,Vn=Tn!==void 0&&Tn,Hn=Kt.testId,rr=Kt.onClick,nr=_t.useContext($t).direction===_e.TextDirection.RightToLeft,tr=Hn?{"data-testid":Hn}:{};return _t.createElement("button",xt({"aria-label":Sn},Cn&&{"aria-keyshortcuts":Cn},Fn&&{"aria-disabled":!0},{className:kt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Fn,"rpv-core__minimal-button--rtl":nr,"rpv-core__minimal-button--selected":Vn}),type:"button",onClick:rr},tr),Rn)},_e.Modal=function(Kt){var cn=Kt.ariaControlsSuffix,Sn=Kt.closeOnClickOutside,Pn=Kt.closeOnEscape,Cn=Kt.content,Rn=Kt.isOpened,Un=Rn!==void 0&&Rn,Fn=Kt.target,Tn=cn||"".concat(qt());return _t.createElement(kn,{target:Fn?function(Vn,Hn){return _t.createElement("div",{"aria-expanded":Hn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Tn)},Fn(Vn,Hn))}:null,content:function(Vn){return _t.createElement(mn,null,_t.createElement(yn,{ariaControlsSuffix:Tn,closeOnClickOutside:Sn,closeOnEscape:Pn,onToggle:Vn},Cn(Vn)))},isOpened:Un})},_e.Popover=function(Kt){var cn=Kt.ariaHasPopup,Sn=cn===void 0?"dialog":cn,Pn=Kt.ariaControlsSuffix,Cn=Kt.closeOnClickOutside,Rn=Kt.closeOnEscape,Un=Kt.content,Fn=Kt.lockScroll,Tn=Fn===void 0||Fn,Vn=Kt.offset,Hn=Kt.position,rr=Kt.target,nr=_n(!1),tr=nr.opened,hr=nr.toggle,ur=_t.useRef(),ar=_t.useMemo(function(){return Pn||"".concat(qt())},[]);return _t.createElement("div",{ref:ur,"aria-expanded":tr?"true":"false","aria-haspopup":Sn,"aria-controls":"rpv-core__popver-body-".concat(ar)},rr(hr,tr),tr&&_t.createElement(_t.Fragment,null,Tn&&_t.createElement(Gn,{closeOnEscape:Rn,onClose:hr}),_t.createElement(Bn,{ariaControlsSuffix:ar,closeOnClickOutside:Cn,offset:Vn,position:Hn,targetRef:ur,onClose:hr},Un(hr))))},_e.PrimaryButton=Lt,_e.ProgressBar=function(Kt){var cn=Kt.progress,Sn=_t.useContext($t).direction===_e.TextDirection.RightToLeft;return _t.createElement("div",{className:kt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Sn})},_t.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(cn,"%")}},cn,"%"))},_e.Separator=function(){return _t.createElement("div",{className:"rpv-core__separator"})},_e.Spinner=Nt,_e.Splitter=function(Kt){var cn=Kt.constrain,Sn=_t.useContext($t).direction===_e.TextDirection.RightToLeft,Pn=_t.useRef(),Cn=_t.useRef(),Rn=_t.useRef(),Un=_t.useRef(0),Fn=_t.useRef(0),Tn=_t.useRef(0),Vn=_t.useRef(0),Hn={capture:!0},rr=function(tr){var hr=Pn.current,ur=Cn.current,ar=Rn.current;if(hr&&ur&&ar){var ts=Vn.current,Fr=tr.clientX-Un.current,jr=Tn.current+(Sn?-Fr:Fr),zr=hr.parentElement.getBoundingClientRect().width,Cr=100*jr/zr;if(hr.classList.add("rpv-core__splitter--resizing"),cn){var Gr=zr-jr-ts;if(!cn({firstHalfPercentage:Cr,firstHalfSize:jr,secondHalfPercentage:100*Gr/zr,secondHalfSize:Gr}))return}ur.style.width="".concat(Cr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),ur.classList.add("rpv-core__splitter-sibling--resizing"),ar.classList.add("rpv-core__splitter-sibling--resizing")}},nr=function(tr){var hr=Pn.current,ur=Cn.current,ar=Rn.current;hr&&ur&&ar&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),hr.classList.remove("rpv-core__splitter--resizing"),ur.classList.remove("rpv-core__splitter-sibling--resizing"),ar.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",rr,Hn),document.removeEventListener("mouseup",nr,Hn))};return _t.useEffect(function(){var tr=Pn.current;tr&&(Vn.current=tr.getBoundingClientRect().width,Cn.current=tr.previousElementSibling,Rn.current=tr.nextElementSibling)},[]),_t.createElement("div",{ref:Pn,className:"rpv-core__splitter",onMouseDown:function(tr){var hr=Cn.current;hr&&(Un.current=tr.clientX,Fn.current=tr.clientY,Tn.current=hr.getBoundingClientRect().width,document.addEventListener("mousemove",rr,Hn),document.addEventListener("mouseup",nr,Hn))}})},_e.TextBox=Ht,_e.ThemeContext=$t,_e.Tooltip=function(Kt){var cn=Kt.ariaControlsSuffix,Sn=Kt.content,Pn=Kt.offset,Cn=Kt.position,Rn=Kt.target,Un=_n(!1),Fn=Un.opened,Tn=Un.toggle,Vn=_t.useRef(),Hn=_t.useRef(),rr=_t.useMemo(function(){return cn||"".concat(qt())},[]);an(function(){Vn.current&&document.activeElement&&Vn.current.contains(document.activeElement)&&tr()});var nr=function(){Tn(_e.ToggleStatus.Open)},tr=function(){Tn(_e.ToggleStatus.Close)};return _t.createElement(_t.Fragment,null,_t.createElement("div",{ref:Vn,"aria-describedby":"rpv-core__tooltip-body-".concat(rr),onBlur:function(hr){hr.relatedTarget instanceof HTMLElement&&hr.currentTarget.parentElement&&hr.currentTarget.parentElement.contains(hr.relatedTarget)?Hn.current&&(Hn.current.style.display="none"):tr()},onFocus:nr,onMouseEnter:nr,onMouseLeave:tr},Rn),Fn&&_t.createElement(er,{ariaControlsSuffix:rr,contentRef:Hn,offset:Pn,position:Cn,targetRef:Vn},Sn()))},_e.Viewer=function(Kt){var cn=Kt.characterMap,Sn=Kt.defaultScale,Pn=Kt.enableSmoothScroll,Cn=Pn===void 0||Pn,Rn=Kt.fileUrl,Un=Kt.httpHeaders,Fn=Un===void 0?{}:Un,Tn=Kt.initialPage,Vn=Tn===void 0?0:Tn,Hn=Kt.pageLayout,rr=Kt.initialRotation,nr=rr===void 0?0:rr,tr=Kt.localization,hr=Kt.plugins,ur=hr===void 0?[]:hr,ar=Kt.renderError,ts=Kt.renderLoader,Fr=Kt.renderPage,jr=Kt.renderProtectedView,zr=Kt.scrollMode,Cr=zr===void 0?_e.ScrollMode.Vertical:zr,Gr=Kt.setRenderRange,Vr=Gr===void 0?iE:Gr,us=Kt.transformGetDocumentParams,as=Kt.theme,ds=as===void 0?{direction:_e.TextDirection.LeftToRight,theme:"light"}:as,fs=Kt.viewMode,gs=fs===void 0?_e.ViewMode.SinglePage:fs,js=Kt.withCredentials,Cs=js!==void 0&&js,Hs=Kt.onDocumentAskPassword,Is=Kt.onDocumentLoad,Ds=Is===void 0?function(){}:Is,Fs=Kt.onPageChange,Ls=Fs===void 0?function(){}:Fs,no=Kt.onRotate,$a=no===void 0?function(){}:no,Uo=Kt.onRotatePage,Gs=Uo===void 0?function(){}:Uo,wo=Kt.onSwitchTheme,Nl=wo===void 0?function(){}:wo,Ur=Kt.onZoom,Br=Ur===void 0?function(){}:Ur,$r=_t.useState({data:Rn,name:typeof Rn=="string"?Rn:"",shouldLoad:!1}),Ir=$r[0],Rr=$r[1],Kr=function(xs,$s){Rr({data:$s,name:xs,shouldLoad:!0})},Yr=_t.useState(!1),Lr=Yr[0],wr=Yr[1],_i=hn(Ir);_t.useEffect(function(){var xs,$s,Ws,bs;xs=_i.data,bs=typeof($s=Rn),(Ws=typeof xs)=="string"&&bs==="string"&&xs===$s||Ws==="object"&&bs==="object"&&xs.length===$s.length&&xs.every(function(vu,Zp){return vu===$s[Zp]})||Rr({data:Rn,name:typeof Rn=="string"?Rn:"",shouldLoad:Lr})},[Rn,Lr]);var ns=Mt({onVisibilityChanged:function(xs){wr(xs.isVisible),xs.isVisible&&Rr(function($s){return Object.assign({},$s,{shouldLoad:!0})})}}),Es=typeof ds=="string"?{direction:_e.TextDirection.LeftToRight,theme:ds}:ds,ws=_t.useState(tr||fn),Qs=ws[0],xo=ws[1],es={l10n:Qs,setL10n:xo},Js=Object.assign({},{direction:Es.direction},rE(Es.theme||"light",Nl));return _t.useEffect(function(){tr&&xo(tr)},[tr]),_t.createElement(En.Provider,{value:es},_t.createElement($t.Provider,{value:Js},_t.createElement("div",{ref:ns,className:"rpv-core__viewer rpv-core__viewer--".concat(Js.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Ir.shouldLoad&&_t.createElement(nE,{characterMap:cn,file:Ir.data,httpHeaders:Fn,render:function(xs){return _t.createElement(eE,{defaultScale:Sn,doc:xs,render:function($s,Ws){return _t.createElement(JS,{currentFile:{data:Ir.data,name:Ir.name},defaultScale:Sn,doc:xs,enableSmoothScroll:Cn,initialPage:Vn,initialRotation:nr,initialScale:Ws,pageLayout:Hn,pageSizes:$s,plugins:ur,renderPage:Fr,scrollMode:Cr,setRenderRange:Vr,viewMode:gs,viewerState:{file:Ir,fullScreenMode:_e.FullScreenMode.Normal,pageIndex:-1,pageHeight:$s[0].pageHeight,pageWidth:$s[0].pageWidth,pagesRotation:new Map,rotation:nr,scale:Ws,scrollMode:Cr,viewMode:gs},onDocumentLoad:Ds,onOpenFile:Kr,onPageChange:Ls,onRotate:$a,onRotatePage:Gs,onZoom:Br})},scrollMode:Cr,viewMode:gs})},renderError:ar,renderLoader:ts,renderProtectedView:jr,transformGetDocumentParams:us,withCredentials:Cs,onDocumentAskPassword:Hs}))))},_e.Worker=function(Kt){var cn=Kt.children,Sn=Kt.workerUrl;return wt.GlobalWorkerOptions.workerSrc=Sn,_t.createElement(_t.Fragment,null,cn)},_e.chunk=In,_e.classNames=kt,_e.createStore=function(Kt){var cn=Kt||{},Sn={},Pn=function(Rn,Un){var Fn;cn=xt(xt({},cn),((Fn={})[Rn]=Un,Fn)),(Sn[Rn]||[]).forEach(function(Tn){return Tn(cn[Rn])})},Cn=function(Rn){return cn[Rn]};return{subscribe:function(Rn,Un){Sn[Rn]=(Sn[Rn]||[]).concat(Un)},unsubscribe:function(Rn,Un){Sn[Rn]=(Sn[Rn]||[]).filter(function(Fn){return Fn!==Un})},update:function(Rn,Un){Pn(Rn,Un)},updateCurrentValue:function(Rn,Un){var Fn=Cn(Rn);Fn!==void 0&&Pn(Rn,Un(Fn))},get:function(Rn){return Cn(Rn)}}},_e.getDestination=Pr,_e.getPage=mr,_e.isFullScreenEnabled=Wt,_e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},_e.useDebounceCallback=pn,_e.useIntersectionObserver=Mt,_e.useIsMounted=nn,_e.useIsomorphicLayoutEffect=Rt,_e.usePrevious=hn,_e.useRenderQueue=en})(core_min);var isArray$f=Array.isArray,isArray_1=isArray$f,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(_e){var $=hasOwnProperty$a.call(_e,symToStringTag$1),ht=_e[symToStringTag$1];try{_e[symToStringTag$1]=void 0;var vt=!0}catch{}var bt=nativeObjectToString$1.call(_e);return vt&&($?_e[symToStringTag$1]=ht:delete _e[symToStringTag$1]),bt}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(_e){return nativeObjectToString.call(_e)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(_e){return _e==null?_e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(_e)?getRawTag(_e):objectToString(_e)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(_e){return _e!=null&&typeof _e=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(_e){return typeof _e=="symbol"||isObjectLike$8(_e)&&baseGetTag$8(_e)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$e=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(_e,$){if(isArray$e(_e))return!1;var ht=typeof _e;return ht=="number"||ht=="symbol"||ht=="boolean"||_e==null||isSymbol$5(_e)?!0:reIsPlainProp.test(_e)||!reIsDeepProp.test(_e)||$!=null&&_e in Object($)}var _isKey=isKey$3;function isObject$7(_e){var $=typeof _e;return _e!=null&&($=="object"||$=="function")}var isObject_1=isObject$7;const isObject$8=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$6=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(_e){if(!isObject$6(_e))return!1;var $=baseGetTag$7(_e);return $==funcTag$1||$==genTag||$==asyncTag||$==proxyTag}var isFunction_1=isFunction$2;const isFunction$3=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var _e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return _e?"Symbol(src)_1."+_e:""}();function isMasked$1(_e){return!!maskSrcKey&&maskSrcKey in _e}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(_e){if(_e!=null){try{return funcToString$2.call(_e)}catch{}try{return _e+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(_e){if(!isObject$5(_e)||isMasked(_e))return!1;var $=isFunction$1(_e)?reIsNative:reIsHostCtor;return $.test(toSource$1(_e))}var _baseIsNative=baseIsNative$1;function getValue$1(_e,$){return _e==null?void 0:_e[$]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(_e,$){var ht=getValue(_e,$);return baseIsNative(ht)?ht:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(_e){var $=this.has(_e)&&delete this.__data__[_e];return this.size-=$?1:0,$}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(_e){var $=this.__data__;if(nativeCreate$2){var ht=$[_e];return ht===HASH_UNDEFINED$2?void 0:ht}return hasOwnProperty$8.call($,_e)?$[_e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(_e){var $=this.__data__;return nativeCreate$1?$[_e]!==void 0:hasOwnProperty$7.call($,_e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(_e,$){var ht=this.__data__;return this.size+=this.has(_e)?0:1,ht[_e]=nativeCreate&&$===void 0?HASH_UNDEFINED$1:$,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(_e){var $=-1,ht=_e==null?0:_e.length;for(this.clear();++$<ht;){var vt=_e[$];this.set(vt[0],vt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(_e,$){return _e===$||_e!==_e&&$!==$}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(_e,$){for(var ht=_e.length;ht--;)if(eq$2(_e[ht][0],$))return ht;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(_e){var $=this.__data__,ht=assocIndexOf$3($,_e);if(ht<0)return!1;var vt=$.length-1;return ht==vt?$.pop():splice.call($,ht,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(_e){var $=this.__data__,ht=assocIndexOf$2($,_e);return ht<0?void 0:$[ht][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(_e){return assocIndexOf$1(this.__data__,_e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(_e,$){var ht=this.__data__,vt=assocIndexOf(ht,_e);return vt<0?(++this.size,ht.push([_e,$])):ht[vt][1]=$,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(_e){var $=-1,ht=_e==null?0:_e.length;for(this.clear();++$<ht;){var vt=_e[$];this.set(vt[0],vt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(_e){var $=typeof _e;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?_e!=="__proto__":_e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(_e,$){var ht=_e.__data__;return isKeyable($)?ht[typeof $=="string"?"string":"hash"]:ht.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(_e){var $=getMapData$3(this,_e).delete(_e);return this.size-=$?1:0,$}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(_e){return getMapData$2(this,_e).get(_e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(_e){return getMapData$1(this,_e).has(_e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(_e,$){var ht=getMapData(this,_e),vt=ht.size;return ht.set(_e,$),this.size+=ht.size==vt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(_e){var $=-1,ht=_e==null?0:_e.length;for(this.clear();++$<ht;){var vt=_e[$];this.set(vt[0],vt[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(_e,$){if(typeof _e!="function"||$!=null&&typeof $!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var ht=function(){var vt=arguments,bt=$?$.apply(this,vt):vt[0],_t=ht.cache;if(_t.has(bt))return _t.get(bt);var wt=_e.apply(this,vt);return ht.cache=_t.set(bt,wt)||_t,wt};return ht.cache=new(memoize$2.Cache||MapCache$2),ht}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(_e){var $=memoize$1(_e,function(vt){return ht.size===MAX_MEMOIZE_SIZE&&ht.clear(),vt}),ht=$.cache;return $}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(_e){var $=[];return _e.charCodeAt(0)===46&&$.push(""),_e.replace(rePropName,function(ht,vt,bt,_t){$.push(bt?_t.replace(reEscapeChar,"$1"):vt||ht)}),$}),_stringToPath=stringToPath$1;function arrayMap$3(_e,$){for(var ht=-1,vt=_e==null?0:_e.length,bt=Array(vt);++ht<vt;)bt[ht]=$(_e[ht],ht,_e);return bt}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$d=isArray_1,isSymbol$4=isSymbol_1,INFINITY$3=1/0,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(_e){if(typeof _e=="string")return _e;if(isArray$d(_e))return arrayMap$2(_e,baseToString$1)+"";if(isSymbol$4(_e))return symbolToString?symbolToString.call(_e):"";var $=_e+"";return $=="0"&&1/_e==-INFINITY$3?"-0":$}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$3(_e){return _e==null?"":baseToString(_e)}var toString_1=toString$3,isArray$c=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$2=toString_1;function castPath$2(_e,$){return isArray$c(_e)?_e:isKey$2(_e,$)?[_e]:stringToPath(toString$2(_e))}var _castPath=castPath$2,isSymbol$3=isSymbol_1,INFINITY$2=1/0;function toKey$4(_e){if(typeof _e=="string"||isSymbol$3(_e))return _e;var $=_e+"";return $=="0"&&1/_e==-INFINITY$2?"-0":$}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(_e,$){$=castPath$1($,_e);for(var ht=0,vt=$.length;_e!=null&&ht<vt;)_e=_e[toKey$3($[ht++])];return ht&&ht==vt?_e:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(_e,$,ht){var vt=_e==null?void 0:baseGet$2(_e,$);return vt===void 0?ht:vt}var get_1=get$1;const get$2=getDefaultExportFromCjs(get_1);function isNil(_e){return _e==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$b=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString(_e){return typeof _e=="string"||!isArray$b(_e)&&isObjectLike$7(_e)&&baseGetTag$6(_e)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(_e){if(typeof _e=="object"&&_e!==null){var $=_e.$$typeof;switch($){case b:switch(_e=_e.type,_e){case d:case f:case e:case m:case n:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$1:case h:case l:case q:case p:case g:return _e;default:return $}}case c$1:return $}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(_e){return v(_e)===h};reactIs_production_min.isContextProvider=function(_e){return v(_e)===g};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===b};reactIs_production_min.isForwardRef=function(_e){return v(_e)===l};reactIs_production_min.isFragment=function(_e){return v(_e)===d};reactIs_production_min.isLazy=function(_e){return v(_e)===q};reactIs_production_min.isMemo=function(_e){return v(_e)===p};reactIs_production_min.isPortal=function(_e){return v(_e)===c$1};reactIs_production_min.isProfiler=function(_e){return v(_e)===f};reactIs_production_min.isStrictMode=function(_e){return v(_e)===e};reactIs_production_min.isSuspense=function(_e){return v(_e)===m};reactIs_production_min.isSuspenseList=function(_e){return v(_e)===n};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d||_e===f||_e===e||_e===m||_e===n||_e===t||typeof _e=="object"&&_e!==null&&(_e.$$typeof===q||_e.$$typeof===p||_e.$$typeof===g||_e.$$typeof===h||_e.$$typeof===l||_e.$$typeof===u||_e.getModuleId!==void 0)};reactIs_production_min.typeOf=v;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2(_e){return typeof _e=="number"||isObjectLike$6(_e)&&baseGetTag$5(_e)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1(_e){return isNumber$1(_e)&&_e!=+_e}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function _e($){return $===0?0:$>0?1:-1},isPercent=function _e($){return isString$1($)&&$.indexOf("%")===$.length-1},isNumber=function _e($){return isNumber$3($)&&!isNan($)},isNumOrStr=function _e($){return isNumber($)||isString$1($)},idCounter=0,uniqueId=function _e($){var ht=++idCounter;return"".concat($||"").concat(ht)},getPercentValue=function _e($,ht){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,bt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber($)&&!isString$1($))return vt;var _t;if(isPercent($)){var wt=$.indexOf("%");_t=ht*parseFloat($.slice(0,wt))/100}else _t=+$;return isNan(_t)&&(_t=vt),bt&&_t>ht&&(_t=ht),_t},getAnyElementOfObject=function _e($){if(!$)return null;var ht=Object.keys($);return ht&&ht.length?$[ht[0]]:null},hasDuplicate=function _e($){if(!Array.isArray($))return!1;for(var ht=$.length,vt={},bt=0;bt<ht;bt++)if(!vt[$[bt]])vt[$[bt]]=!0;else return!0;return!1},interpolateNumber$2=function _e($,ht){return isNumber($)&&isNumber(ht)?function(vt){return $+vt*(ht-$)}:function(){return ht}};function findEntryInArray(_e,$,ht){return!_e||!_e.length?null:_e.find(function(vt){return vt&&(typeof $=="function"?$(vt):get$2(vt,$))===ht})}function shallowEqual(_e,$){for(var ht in _e)if({}.hasOwnProperty.call(_e,ht)&&(!{}.hasOwnProperty.call($,ht)||_e[ht]!==$[ht]))return!1;for(var vt in $)if({}.hasOwnProperty.call($,vt)&&!{}.hasOwnProperty.call(_e,vt))return!1;return!0}function _typeof$C(_e){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$C(_e)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function _e($,ht){if(!$||typeof $=="function"||typeof $=="boolean")return null;var vt=$;if(reactExports.isValidElement($)&&(vt=$.props),!isObject$8(vt))return null;var bt={};return Object.keys(vt).forEach(function(_t){EventKeys.includes(_t)&&(bt[_t]=ht||function(wt){return vt[_t](vt,wt)})}),bt},getEventHandlerOfChild=function _e($,ht,vt){return function(bt){return $(ht,vt,bt),null}},adaptEventsOfChild=function _e($,ht,vt){if(!isObject$8($)||_typeof$C($)!=="object")return null;var bt=null;return Object.keys($).forEach(function(_t){var wt=$[_t];EventKeys.includes(_t)&&typeof wt=="function"&&(bt||(bt={}),bt[_t]=getEventHandlerOfChild(wt,ht,vt))}),bt},_excluded$e=["children"],_excluded2$4=["children"];function _objectWithoutProperties$e(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$e(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$e(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function _e($){return typeof $=="string"?$:$?$.displayName||$.name||"Component":""},lastChildren=null,lastResult=null,toArray=function _e($){if($===lastChildren&&Array.isArray(lastResult))return lastResult;var ht=[];return reactExports.Children.forEach($,function(vt){isNil$1(vt)||(reactIsExports.isFragment(vt)?ht=ht.concat(_e(vt.props.children)):ht.push(vt))}),lastResult=ht,lastChildren=$,ht};function findAllByType(_e,$){var ht=[],vt=[];return Array.isArray($)?vt=$.map(function(bt){return getDisplayName(bt)}):vt=[getDisplayName($)],toArray(_e).forEach(function(bt){var _t=get$2(bt,"type.displayName")||get$2(bt,"type.name");vt.indexOf(_t)!==-1&&ht.push(bt)}),ht}function findChildByType(_e,$){var ht=findAllByType(_e,$);return ht&&ht[0]}var validateWidthHeight=function _e($){if(!$||!$.props)return!1;var ht=$.props,vt=ht.width,bt=ht.height;return!(!isNumber(vt)||vt<=0||!isNumber(bt)||bt<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function _e($){return $&&$.type&&isString$1($.type)&&SVG_TAGS.indexOf($.type)>=0},isValidSpreadableProp=function _e($,ht,vt,bt){var _t,wt=(_t=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[bt])!==null&&_t!==void 0?_t:[];return!isFunction$3($)&&(bt&&wt.includes(ht)||SVGElementPropKeys.includes(ht))||vt&&EventKeys.includes(ht)},filterProps=function _e($,ht,vt){if(!$||typeof $=="function"||typeof $=="boolean")return null;var bt=$;if(reactExports.isValidElement($)&&(bt=$.props),!isObject$8(bt))return null;var _t={};return Object.keys(bt).forEach(function(wt){var At;isValidSpreadableProp((At=bt)===null||At===void 0?void 0:At[wt],wt,ht,vt)&&(_t[wt]=bt[wt])}),_t},isChildrenEqual=function _e($,ht){if($===ht)return!0;var vt=reactExports.Children.count($);if(vt!==reactExports.Children.count(ht))return!1;if(vt===0)return!0;if(vt===1)return isSingleChildEqual(Array.isArray($)?$[0]:$,Array.isArray(ht)?ht[0]:ht);for(var bt=0;bt<vt;bt++){var _t=$[bt],wt=ht[bt];if(Array.isArray(_t)||Array.isArray(wt)){if(!_e(_t,wt))return!1}else if(!isSingleChildEqual(_t,wt))return!1}return!0},isSingleChildEqual=function _e($,ht){if(isNil$1($)&&isNil$1(ht))return!0;if(!isNil$1($)&&!isNil$1(ht)){var vt=$.props||{},bt=vt.children,_t=_objectWithoutProperties$e(vt,_excluded$e),wt=ht.props||{},At=wt.children,St=_objectWithoutProperties$e(wt,_excluded2$4);return bt&&At?shallowEqual(_t,St)&&isChildrenEqual(bt,At):!bt&&!At?shallowEqual(_t,St):!1}return!1},renderByOrder=function _e($,ht){var vt=[],bt={};return toArray($).forEach(function(_t,wt){if(isSvgElement(_t))vt.push(_t);else if(_t){var At=getDisplayName(_t.type),St=ht[At]||{},Et=St.handler,xt=St.once;if(Et&&(!xt||!bt[At])){var Pt=Et(_t,At,wt);vt.push(Pt),bt[At]=!0}}}),vt},getReactEventByType=function _e($){var ht=$&&$.type;return ht&&REACT_BROWSER_EVENT_MAP[ht]?REACT_BROWSER_EVENT_MAP[ht]:null},parseChildIndex=function _e($,ht){return toArray(ht).indexOf($)},_excluded$d=["children","width","height","viewBox","className","style","title","desc"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$n.apply(this,arguments)}function _objectWithoutProperties$d(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$d(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$d(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function Surface(_e){var $=_e.children,ht=_e.width,vt=_e.height,bt=_e.viewBox,_t=_e.className,wt=_e.style,At=_e.title,St=_e.desc,Et=_objectWithoutProperties$d(_e,_excluded$d),xt=bt||{width:ht,height:vt,x:0,y:0},Pt=clsx("recharts-surface",_t);return React.createElement("svg",_extends$n({},filterProps(Et,!0,"svg"),{className:Pt,width:ht,height:vt,style:wt,viewBox:"".concat(xt.x," ").concat(xt.y," ").concat(xt.width," ").concat(xt.height)}),React.createElement("title",null,At),React.createElement("desc",null,St),$)}var _excluded$c=["children","className"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$m.apply(this,arguments)}function _objectWithoutProperties$c(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$c(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$c(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}var Layer=React.forwardRef(function(_e,$){var ht=_e.children,vt=_e.className,bt=_objectWithoutProperties$c(_e,_excluded$c),_t=clsx("recharts-layer",vt);return React.createElement("g",_extends$m({className:_t},filterProps(bt,!0),{ref:$}),ht)}),warn=function _e($,ht){for(var vt=arguments.length,bt=new Array(vt>2?vt-2:0),_t=2;_t<vt;_t++)bt[_t-2]=arguments[_t]};function baseSlice$1(_e,$,ht){var vt=-1,bt=_e.length;$<0&&($=-$>bt?0:bt+$),ht=ht>bt?bt:ht,ht<0&&(ht+=bt),bt=$>ht?0:ht-$>>>0,$>>>=0;for(var _t=Array(bt);++vt<bt;)_t[vt]=_e[vt+$];return _t}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(_e,$,ht){var vt=_e.length;return ht=ht===void 0?vt:ht,!$&&ht>=vt?_e:baseSlice(_e,$,ht)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(_e){return reHasUnicode.test(_e)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(_e){return _e.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(_e){return _e.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(_e){return hasUnicode$1(_e)?unicodeToArray(_e):asciiToArray(_e)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$1=toString_1;function createCaseFirst$1(_e){return function($){$=toString$1($);var ht=hasUnicode($)?stringToArray($):void 0,vt=ht?ht[0]:$.charAt(0),bt=ht?castSlice(ht,1).join(""):$.slice(1);return vt[_e]()+bt}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(_e){return function(){return _e}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(_e){this._+=_e[0];for(let $=1,ht=_e.length;$<ht;++$)this._+=arguments[$]+_e[$]}function appendRound(_e){let $=Math.floor(_e);if(!($>=0))throw new Error(`invalid digits: ${_e}`);if($>15)return append;const ht=10**$;return function(vt){this._+=vt[0];for(let bt=1,_t=vt.length;bt<_t;++bt)this._+=Math.round(arguments[bt]*ht)/ht+vt[bt]}}class Path{constructor($){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=$==null?append:appendRound($)}moveTo($,ht){this._append`M${this._x0=this._x1=+$},${this._y0=this._y1=+ht}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo($,ht){this._append`L${this._x1=+$},${this._y1=+ht}`}quadraticCurveTo($,ht,vt,bt){this._append`Q${+$},${+ht},${this._x1=+vt},${this._y1=+bt}`}bezierCurveTo($,ht,vt,bt,_t,wt){this._append`C${+$},${+ht},${+vt},${+bt},${this._x1=+_t},${this._y1=+wt}`}arcTo($,ht,vt,bt,_t){if($=+$,ht=+ht,vt=+vt,bt=+bt,_t=+_t,_t<0)throw new Error(`negative radius: ${_t}`);let wt=this._x1,At=this._y1,St=vt-$,Et=bt-ht,xt=wt-$,Pt=At-ht,$t=xt*xt+Pt*Pt;if(this._x1===null)this._append`M${this._x1=$},${this._y1=ht}`;else if($t>epsilon)if(!(Math.abs(Pt*St-Et*xt)>epsilon)||!_t)this._append`L${this._x1=$},${this._y1=ht}`;else{let kt=vt-wt,Rt=bt-At,Mt=St*St+Et*Et,Dt=kt*kt+Rt*Rt,Ot=Math.sqrt(Mt),Lt=Math.sqrt($t),Nt=_t*Math.tan((pi-Math.acos((Mt+$t-Dt)/(2*Ot*Lt)))/2),Ht=Nt/Lt,Ft=Nt/Ot;Math.abs(Ht-1)>epsilon&&this._append`L${$+Ht*xt},${ht+Ht*Pt}`,this._append`A${_t},${_t},0,0,${+(Pt*kt>xt*Rt)},${this._x1=$+Ft*St},${this._y1=ht+Ft*Et}`}}arc($,ht,vt,bt,_t,wt){if($=+$,ht=+ht,vt=+vt,wt=!!wt,vt<0)throw new Error(`negative radius: ${vt}`);let At=vt*Math.cos(bt),St=vt*Math.sin(bt),Et=$+At,xt=ht+St,Pt=1^wt,$t=wt?bt-_t:_t-bt;this._x1===null?this._append`M${Et},${xt}`:(Math.abs(this._x1-Et)>epsilon||Math.abs(this._y1-xt)>epsilon)&&this._append`L${Et},${xt}`,vt&&($t<0&&($t=$t%tau+tau),$t>tauEpsilon?this._append`A${vt},${vt},0,1,${Pt},${$-At},${ht-St}A${vt},${vt},0,1,${Pt},${this._x1=Et},${this._y1=xt}`:$t>epsilon&&this._append`A${vt},${vt},0,${+($t>=pi)},${Pt},${this._x1=$+vt*Math.cos(_t)},${this._y1=ht+vt*Math.sin(_t)}`)}rect($,ht,vt,bt){this._append`M${this._x0=this._x1=+$},${this._y0=this._y1=+ht}h${vt=+vt}v${+bt}h${-vt}Z`}toString(){return this._}}function withPath(_e){let $=3;return _e.digits=function(ht){if(!arguments.length)return $;if(ht==null)$=null;else{const vt=Math.floor(ht);if(!(vt>=0))throw new RangeError(`invalid digits: ${ht}`);$=vt}return _e},()=>new Path($)}function array(_e){return typeof _e=="object"&&"length"in _e?_e:Array.from(_e)}function Linear(_e){this._context=_e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,$):this._context.moveTo(_e,$);break;case 1:this._point=2;default:this._context.lineTo(_e,$);break}}};function curveLinear(_e){return new Linear(_e)}function x(_e){return _e[0]}function y(_e){return _e[1]}function shapeLine(_e,$){var ht=constant$3(!0),vt=null,bt=curveLinear,_t=null,wt=withPath(At);_e=typeof _e=="function"?_e:_e===void 0?x:constant$3(_e),$=typeof $=="function"?$:$===void 0?y:constant$3($);function At(St){var Et,xt=(St=array(St)).length,Pt,$t=!1,kt;for(vt==null&&(_t=bt(kt=wt())),Et=0;Et<=xt;++Et)!(Et<xt&&ht(Pt=St[Et],Et,St))===$t&&(($t=!$t)?_t.lineStart():_t.lineEnd()),$t&&_t.point(+_e(Pt,Et,St),+$(Pt,Et,St));if(kt)return _t=null,kt+""||null}return At.x=function(St){return arguments.length?(_e=typeof St=="function"?St:constant$3(+St),At):_e},At.y=function(St){return arguments.length?($=typeof St=="function"?St:constant$3(+St),At):$},At.defined=function(St){return arguments.length?(ht=typeof St=="function"?St:constant$3(!!St),At):ht},At.curve=function(St){return arguments.length?(bt=St,vt!=null&&(_t=bt(vt)),At):bt},At.context=function(St){return arguments.length?(St==null?vt=_t=null:_t=bt(vt=St),At):vt},At}function shapeArea(_e,$,ht){var vt=null,bt=constant$3(!0),_t=null,wt=curveLinear,At=null,St=withPath(Et);_e=typeof _e=="function"?_e:_e===void 0?x:constant$3(+_e),$=typeof $=="function"?$:constant$3($===void 0?0:+$),ht=typeof ht=="function"?ht:ht===void 0?y:constant$3(+ht);function Et(Pt){var $t,kt,Rt,Mt=(Pt=array(Pt)).length,Dt,Ot=!1,Lt,Nt=new Array(Mt),Ht=new Array(Mt);for(_t==null&&(At=wt(Lt=St())),$t=0;$t<=Mt;++$t){if(!($t<Mt&&bt(Dt=Pt[$t],$t,Pt))===Ot)if(Ot=!Ot)kt=$t,At.areaStart(),At.lineStart();else{for(At.lineEnd(),At.lineStart(),Rt=$t-1;Rt>=kt;--Rt)At.point(Nt[Rt],Ht[Rt]);At.lineEnd(),At.areaEnd()}Ot&&(Nt[$t]=+_e(Dt,$t,Pt),Ht[$t]=+$(Dt,$t,Pt),At.point(vt?+vt(Dt,$t,Pt):Nt[$t],ht?+ht(Dt,$t,Pt):Ht[$t]))}if(Lt)return At=null,Lt+""||null}function xt(){return shapeLine().defined(bt).curve(wt).context(_t)}return Et.x=function(Pt){return arguments.length?(_e=typeof Pt=="function"?Pt:constant$3(+Pt),vt=null,Et):_e},Et.x0=function(Pt){return arguments.length?(_e=typeof Pt=="function"?Pt:constant$3(+Pt),Et):_e},Et.x1=function(Pt){return arguments.length?(vt=Pt==null?null:typeof Pt=="function"?Pt:constant$3(+Pt),Et):vt},Et.y=function(Pt){return arguments.length?($=typeof Pt=="function"?Pt:constant$3(+Pt),ht=null,Et):$},Et.y0=function(Pt){return arguments.length?($=typeof Pt=="function"?Pt:constant$3(+Pt),Et):$},Et.y1=function(Pt){return arguments.length?(ht=Pt==null?null:typeof Pt=="function"?Pt:constant$3(+Pt),Et):ht},Et.lineX0=Et.lineY0=function(){return xt().x(_e).y($)},Et.lineY1=function(){return xt().x(_e).y(ht)},Et.lineX1=function(){return xt().x(vt).y($)},Et.defined=function(Pt){return arguments.length?(bt=typeof Pt=="function"?Pt:constant$3(!!Pt),Et):bt},Et.curve=function(Pt){return arguments.length?(wt=Pt,_t!=null&&(At=wt(_t)),Et):wt},Et.context=function(Pt){return arguments.length?(Pt==null?_t=At=null:At=wt(_t=Pt),Et):_t},Et}class Bump{constructor($,ht){this._context=$,this._x=ht}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point($,ht){switch($=+$,ht=+ht,this._point){case 0:{this._point=1,this._line?this._context.lineTo($,ht):this._context.moveTo($,ht);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+$)/2,this._y0,this._x0,ht,$,ht):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+ht)/2,$,this._y0,$,ht);break}}this._x0=$,this._y0=ht}}function bumpX(_e){return new Bump(_e,!0)}function bumpY(_e){return new Bump(_e,!1)}const symbolCircle={draw(_e,$){const ht=sqrt$1($/pi$1);_e.moveTo(ht,0),_e.arc(0,0,ht,0,tau$1)}},symbolCross={draw(_e,$){const ht=sqrt$1($/5)/2;_e.moveTo(-3*ht,-ht),_e.lineTo(-ht,-ht),_e.lineTo(-ht,-3*ht),_e.lineTo(ht,-3*ht),_e.lineTo(ht,-ht),_e.lineTo(3*ht,-ht),_e.lineTo(3*ht,ht),_e.lineTo(ht,ht),_e.lineTo(ht,3*ht),_e.lineTo(-ht,3*ht),_e.lineTo(-ht,ht),_e.lineTo(-3*ht,ht),_e.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(_e,$){const ht=sqrt$1($/tan30_2),vt=ht*tan30;_e.moveTo(0,-ht),_e.lineTo(vt,0),_e.lineTo(0,ht),_e.lineTo(-vt,0),_e.closePath()}},symbolSquare={draw(_e,$){const ht=sqrt$1($),vt=-ht/2;_e.rect(vt,vt,ht,ht)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(_e,$){const ht=sqrt$1($*ka),vt=kx*ht,bt=ky*ht;_e.moveTo(0,-ht),_e.lineTo(vt,bt);for(let _t=1;_t<5;++_t){const wt=tau$1*_t/5,At=cos(wt),St=sin(wt);_e.lineTo(St*ht,-At*ht),_e.lineTo(At*vt-St*bt,St*vt+At*bt)}_e.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(_e,$){const ht=-sqrt$1($/(sqrt3*3));_e.moveTo(0,ht*2),_e.lineTo(-sqrt3*ht,-ht),_e.lineTo(sqrt3*ht,-ht),_e.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(_e,$){const ht=sqrt$1($/a),vt=ht/2,bt=ht*k,_t=vt,wt=ht*k+ht,At=-_t,St=wt;_e.moveTo(vt,bt),_e.lineTo(_t,wt),_e.lineTo(At,St),_e.lineTo(c*vt-s*bt,s*vt+c*bt),_e.lineTo(c*_t-s*wt,s*_t+c*wt),_e.lineTo(c*At-s*St,s*At+c*St),_e.lineTo(c*vt+s*bt,c*bt-s*vt),_e.lineTo(c*_t+s*wt,c*wt-s*_t),_e.lineTo(c*At+s*St,c*St-s*At),_e.closePath()}};function Symbol$3(_e,$){let ht=null,vt=withPath(bt);_e=typeof _e=="function"?_e:constant$3(_e||symbolCircle),$=typeof $=="function"?$:constant$3($===void 0?64:+$);function bt(){let _t;if(ht||(ht=_t=vt()),_e.apply(this,arguments).draw(ht,+$.apply(this,arguments)),_t)return ht=null,_t+""||null}return bt.type=function(_t){return arguments.length?(_e=typeof _t=="function"?_t:constant$3(_t),bt):_e},bt.size=function(_t){return arguments.length?($=typeof _t=="function"?_t:constant$3(+_t),bt):$},bt.context=function(_t){return arguments.length?(ht=_t??null,bt):ht},bt}function noop$2(){}function point$2(_e,$,ht){_e._context.bezierCurveTo((2*_e._x0+_e._x1)/3,(2*_e._y0+_e._y1)/3,(_e._x0+2*_e._x1)/3,(_e._y0+2*_e._y1)/3,(_e._x0+4*_e._x1+$)/6,(_e._y0+4*_e._y1+ht)/6)}function Basis(_e){this._context=_e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,$):this._context.moveTo(_e,$);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,_e,$);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=$}};function curveBasis(_e){return new Basis(_e)}function BasisClosed(_e){this._context=_e}BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1,this._x2=_e,this._y2=$;break;case 1:this._point=2,this._x3=_e,this._y3=$;break;case 2:this._point=3,this._x4=_e,this._y4=$,this._context.moveTo((this._x0+4*this._x1+_e)/6,(this._y0+4*this._y1+$)/6);break;default:point$2(this,_e,$);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=$}};function curveBasisClosed(_e){return new BasisClosed(_e)}function BasisOpen(_e){this._context=_e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ht=(this._x0+4*this._x1+_e)/6,vt=(this._y0+4*this._y1+$)/6;this._line?this._context.lineTo(ht,vt):this._context.moveTo(ht,vt);break;case 3:this._point=4;default:point$2(this,_e,$);break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=$}};function curveBasisOpen(_e){return new BasisOpen(_e)}function LinearClosed(_e){this._context=_e}LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(_e,$){_e=+_e,$=+$,this._point?this._context.lineTo(_e,$):(this._point=1,this._context.moveTo(_e,$))}};function curveLinearClosed(_e){return new LinearClosed(_e)}function sign(_e){return _e<0?-1:1}function slope3(_e,$,ht){var vt=_e._x1-_e._x0,bt=$-_e._x1,_t=(_e._y1-_e._y0)/(vt||bt<0&&-0),wt=(ht-_e._y1)/(bt||vt<0&&-0),At=(_t*bt+wt*vt)/(vt+bt);return(sign(_t)+sign(wt))*Math.min(Math.abs(_t),Math.abs(wt),.5*Math.abs(At))||0}function slope2(_e,$){var ht=_e._x1-_e._x0;return ht?(3*(_e._y1-_e._y0)/ht-$)/2:$}function point$1(_e,$,ht){var vt=_e._x0,bt=_e._y0,_t=_e._x1,wt=_e._y1,At=(_t-vt)/3;_e._context.bezierCurveTo(vt+At,bt+At*$,_t-At,wt-At*ht,_t,wt)}function MonotoneX(_e){this._context=_e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(_e,$){var ht=NaN;if(_e=+_e,$=+$,!(_e===this._x1&&$===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,$):this._context.moveTo(_e,$);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,ht=slope3(this,_e,$)),ht);break;default:point$1(this,this._t0,ht=slope3(this,_e,$));break}this._x0=this._x1,this._x1=_e,this._y0=this._y1,this._y1=$,this._t0=ht}}};function MonotoneY(_e){this._context=new ReflectContext(_e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(_e,$){MonotoneX.prototype.point.call(this,$,_e)};function ReflectContext(_e){this._context=_e}ReflectContext.prototype={moveTo:function(_e,$){this._context.moveTo($,_e)},closePath:function(){this._context.closePath()},lineTo:function(_e,$){this._context.lineTo($,_e)},bezierCurveTo:function(_e,$,ht,vt,bt,_t){this._context.bezierCurveTo($,_e,vt,ht,_t,bt)}};function monotoneX(_e){return new MonotoneX(_e)}function monotoneY(_e){return new MonotoneY(_e)}function Natural(_e){this._context=_e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var _e=this._x,$=this._y,ht=_e.length;if(ht)if(this._line?this._context.lineTo(_e[0],$[0]):this._context.moveTo(_e[0],$[0]),ht===2)this._context.lineTo(_e[1],$[1]);else for(var vt=controlPoints(_e),bt=controlPoints($),_t=0,wt=1;wt<ht;++_t,++wt)this._context.bezierCurveTo(vt[0][_t],bt[0][_t],vt[1][_t],bt[1][_t],_e[wt],$[wt]);(this._line||this._line!==0&&ht===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(_e,$){this._x.push(+_e),this._y.push(+$)}};function controlPoints(_e){var $,ht=_e.length-1,vt,bt=new Array(ht),_t=new Array(ht),wt=new Array(ht);for(bt[0]=0,_t[0]=2,wt[0]=_e[0]+2*_e[1],$=1;$<ht-1;++$)bt[$]=1,_t[$]=4,wt[$]=4*_e[$]+2*_e[$+1];for(bt[ht-1]=2,_t[ht-1]=7,wt[ht-1]=8*_e[ht-1]+_e[ht],$=1;$<ht;++$)vt=bt[$]/_t[$-1],_t[$]-=vt,wt[$]-=vt*wt[$-1];for(bt[ht-1]=wt[ht-1]/_t[ht-1],$=ht-2;$>=0;--$)bt[$]=(wt[$]-bt[$+1])/_t[$];for(_t[ht-1]=(_e[ht]+bt[ht-1])/2,$=0;$<ht-1;++$)_t[$]=2*_e[$+1]-bt[$+1];return[bt,_t]}function curveNatural(_e){return new Natural(_e)}function Step(_e,$){this._context=_e,this._t=$}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(_e,$){switch(_e=+_e,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(_e,$):this._context.moveTo(_e,$);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,$),this._context.lineTo(_e,$);else{var ht=this._x*(1-this._t)+_e*this._t;this._context.lineTo(ht,this._y),this._context.lineTo(ht,$)}break}}this._x=_e,this._y=$}};function curveStep(_e){return new Step(_e,.5)}function stepBefore(_e){return new Step(_e,0)}function stepAfter(_e){return new Step(_e,1)}function stackOffsetNone(_e,$){if((wt=_e.length)>1)for(var ht=1,vt,bt,_t=_e[$[0]],wt,At=_t.length;ht<wt;++ht)for(bt=_t,_t=_e[$[ht]],vt=0;vt<At;++vt)_t[vt][1]+=_t[vt][0]=isNaN(bt[vt][1])?bt[vt][0]:bt[vt][1]}function stackOrderNone(_e){for(var $=_e.length,ht=new Array($);--$>=0;)ht[$]=$;return ht}function stackValue(_e,$){return _e[$]}function stackSeries(_e){const $=[];return $.key=_e,$}function shapeStack(){var _e=constant$3([]),$=stackOrderNone,ht=stackOffsetNone,vt=stackValue;function bt(_t){var wt=Array.from(_e.apply(this,arguments),stackSeries),At,St=wt.length,Et=-1,xt;for(const Pt of _t)for(At=0,++Et;At<St;++At)(wt[At][Et]=[0,+vt(Pt,wt[At].key,Et,_t)]).data=Pt;for(At=0,xt=array($(wt));At<St;++At)wt[xt[At]].index=At;return ht(wt,xt),wt}return bt.keys=function(_t){return arguments.length?(_e=typeof _t=="function"?_t:constant$3(Array.from(_t)),bt):_e},bt.value=function(_t){return arguments.length?(vt=typeof _t=="function"?_t:constant$3(+_t),bt):vt},bt.order=function(_t){return arguments.length?($=_t==null?stackOrderNone:typeof _t=="function"?_t:constant$3(Array.from(_t)),bt):$},bt.offset=function(_t){return arguments.length?(ht=_t??stackOffsetNone,bt):ht},bt}function stackOffsetExpand(_e,$){if((vt=_e.length)>0){for(var ht,vt,bt=0,_t=_e[0].length,wt;bt<_t;++bt){for(wt=ht=0;ht<vt;++ht)wt+=_e[ht][bt][1]||0;if(wt)for(ht=0;ht<vt;++ht)_e[ht][bt][1]/=wt}stackOffsetNone(_e,$)}}function stackOffsetSilhouette(_e,$){if((bt=_e.length)>0){for(var ht=0,vt=_e[$[0]],bt,_t=vt.length;ht<_t;++ht){for(var wt=0,At=0;wt<bt;++wt)At+=_e[wt][ht][1]||0;vt[ht][1]+=vt[ht][0]=-At/2}stackOffsetNone(_e,$)}}function stackOffsetWiggle(_e,$){if(!(!((wt=_e.length)>0)||!((_t=(bt=_e[$[0]]).length)>0))){for(var ht=0,vt=1,bt,_t,wt;vt<_t;++vt){for(var At=0,St=0,Et=0;At<wt;++At){for(var xt=_e[$[At]],Pt=xt[vt][1]||0,$t=xt[vt-1][1]||0,kt=(Pt-$t)/2,Rt=0;Rt<At;++Rt){var Mt=_e[$[Rt]],Dt=Mt[vt][1]||0,Ot=Mt[vt-1][1]||0;kt+=Dt-Ot}St+=Pt,Et+=kt*Pt}bt[vt-1][1]+=bt[vt-1][0]=ht,St&&(ht-=Et/St)}bt[vt-1][1]+=bt[vt-1][0]=ht,stackOffsetNone(_e,$)}}function _typeof$B(_e){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$B(_e)}var _excluded$b=["type","size","sizeType"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$l.apply(this,arguments)}function ownKeys$w(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$w(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$w(Object(ht),!0).forEach(function(vt){_defineProperty$A(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$w(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$A(_e,$,ht){return $=_toPropertyKey$A($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$A(_e){var $=_toPrimitive$A(_e,"string");return _typeof$B($)=="symbol"?$:$+""}function _toPrimitive$A(_e,$){if(_typeof$B(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$B(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _objectWithoutProperties$b(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$b(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$b(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function _e($){var ht="symbol".concat(upperFirst$1($));return symbolFactories[ht]||symbolCircle},calculateAreaSize=function _e($,ht,vt){if(ht==="area")return $;switch(vt){case"cross":return 5*$*$/9;case"diamond":return .5*$*$/Math.sqrt(3);case"square":return $*$;case"star":{var bt=18*RADIAN$2;return 1.25*$*$*(Math.tan(bt)-Math.tan(bt*2)*Math.pow(Math.tan(bt),2))}case"triangle":return Math.sqrt(3)*$*$/4;case"wye":return(21-10*Math.sqrt(3))*$*$/8;default:return Math.PI*$*$/4}},registerSymbol=function _e($,ht){symbolFactories["symbol".concat(upperFirst$1($))]=ht},Symbols=function _e($){var ht=$.type,vt=ht===void 0?"circle":ht,bt=$.size,_t=bt===void 0?64:bt,wt=$.sizeType,At=wt===void 0?"area":wt,St=_objectWithoutProperties$b($,_excluded$b),Et=_objectSpread$w(_objectSpread$w({},St),{},{type:vt,size:_t,sizeType:At}),xt=function(){var Dt=getSymbolFactory(vt),Ot=Symbol$3().type(Dt).size(calculateAreaSize(_t,At,vt));return Ot()},Pt=Et.className,$t=Et.cx,kt=Et.cy,Rt=filterProps(Et,!0);return $t===+$t&&kt===+kt&&_t===+_t?React.createElement("path",_extends$l({},Rt,{className:clsx("recharts-symbols",Pt),transform:"translate(".concat($t,", ").concat(kt,")"),d:xt()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$A(_e){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$A(_e)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$k.apply(this,arguments)}function ownKeys$v(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$v(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$v(Object(ht),!0).forEach(function(vt){_defineProperty$z(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$v(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _classCallCheck$g(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$z(vt.key),vt)}}function _createClass$g(_e,$,ht){return $&&_defineProperties$g(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$c(_e,$,ht){return $=_getPrototypeOf$d($),_possibleConstructorReturn$d(_e,_isNativeReflectConstruct$d()?Reflect.construct($,ht||[],_getPrototypeOf$d(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$d(_e,$){if($&&(_typeof$A($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(_e)}function _assertThisInitialized$d(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$d(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!_e})()}function _getPrototypeOf$d(_e){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$d(_e)}function _inherits$d(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$d(_e,$)}function _setPrototypeOf$d(_e,$){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$d(_e,$)}function _defineProperty$z(_e,$,ht){return $=_toPropertyKey$z($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$z(_e){var $=_toPrimitive$z(_e,"string");return _typeof$A($)=="symbol"?$:$+""}function _toPrimitive$z(_e,$){if(_typeof$A(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$A(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var SIZE=32,DefaultLegendContent=function(_e){function $(){return _classCallCheck$g(this,$),_callSuper$c(this,$,arguments)}return _inherits$d($,_e),_createClass$g($,[{key:"renderIcon",value:function(vt){var bt=this.props.inactiveColor,_t=SIZE/2,wt=SIZE/6,At=SIZE/3,St=vt.inactive?bt:vt.color;if(vt.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:St,strokeDasharray:vt.payload.strokeDasharray,x1:0,y1:_t,x2:SIZE,y2:_t,className:"recharts-legend-icon"});if(vt.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:St,d:"M0,".concat(_t,"h").concat(At,`
            A`).concat(wt,",").concat(wt,",0,1,1,").concat(2*At,",").concat(_t,`
            H`).concat(SIZE,"M").concat(2*At,",").concat(_t,`
            A`).concat(wt,",").concat(wt,",0,1,1,").concat(At,",").concat(_t),className:"recharts-legend-icon"});if(vt.type==="rect")return React.createElement("path",{stroke:"none",fill:St,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React.isValidElement(vt.legendIcon)){var Et=_objectSpread$v({},vt);return delete Et.legendIcon,React.cloneElement(vt.legendIcon,Et)}return React.createElement(Symbols,{fill:St,cx:_t,cy:_t,size:SIZE,sizeType:"diameter",type:vt.type})}},{key:"renderItems",value:function(){var vt=this,bt=this.props,_t=bt.payload,wt=bt.iconSize,At=bt.layout,St=bt.formatter,Et=bt.inactiveColor,xt={x:0,y:0,width:SIZE,height:SIZE},Pt={display:At==="horizontal"?"inline-block":"block",marginRight:10},$t={display:"inline-block",verticalAlign:"middle",marginRight:4};return _t.map(function(kt,Rt){var Mt=kt.formatter||St,Dt=clsx(_defineProperty$z(_defineProperty$z({"recharts-legend-item":!0},"legend-item-".concat(Rt),!0),"inactive",kt.inactive));if(kt.type==="none")return null;var Ot=isFunction$3(kt.value)?null:kt.value;warn(!isFunction$3(kt.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var Lt=kt.inactive?Et:kt.color;return React.createElement("li",_extends$k({className:Dt,style:Pt,key:"legend-item-".concat(Rt)},adaptEventsOfChild(vt.props,kt,Rt)),React.createElement(Surface,{width:wt,height:wt,viewBox:xt,style:$t},vt.renderIcon(kt)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:Lt}},Mt?Mt(Ot,kt,Rt):Ot))})}},{key:"render",value:function(){var vt=this.props,bt=vt.payload,_t=vt.layout,wt=vt.align;if(!bt||!bt.length)return null;var At={padding:0,margin:0,textAlign:_t==="horizontal"?wt:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:At},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$z(DefaultLegendContent,"displayName","Legend");_defineProperty$z(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(_e){var $=this.__data__,ht=$.delete(_e);return this.size=$.size,ht}var _stackDelete=stackDelete$1;function stackGet$1(_e){return this.__data__.get(_e)}var _stackGet=stackGet$1;function stackHas$1(_e){return this.__data__.has(_e)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(_e,$){var ht=this.__data__;if(ht instanceof ListCache$1){var vt=ht.__data__;if(!Map$2||vt.length<LARGE_ARRAY_SIZE$1-1)return vt.push([_e,$]),this.size=++ht.size,this;ht=this.__data__=new MapCache$1(vt)}return ht.set(_e,$),this.size=ht.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(_e){var $=this.__data__=new ListCache(_e);this.size=$.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(_e){return this.__data__.set(_e,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(_e){return this.__data__.has(_e)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(_e){var $=-1,ht=_e==null?0:_e.length;for(this.__data__=new MapCache;++$<ht;)this.add(_e[$])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(_e,$){for(var ht=-1,vt=_e==null?0:_e.length;++ht<vt;)if($(_e[ht],ht,_e))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(_e,$){return _e.has($)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(_e,$,ht,vt,bt,_t){var wt=ht&COMPARE_PARTIAL_FLAG$5,At=_e.length,St=$.length;if(At!=St&&!(wt&&St>At))return!1;var Et=_t.get(_e),xt=_t.get($);if(Et&&xt)return Et==$&&xt==_e;var Pt=-1,$t=!0,kt=ht&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(_t.set(_e,$),_t.set($,_e);++Pt<At;){var Rt=_e[Pt],Mt=$[Pt];if(vt)var Dt=wt?vt(Mt,Rt,Pt,$,_e,_t):vt(Rt,Mt,Pt,_e,$,_t);if(Dt!==void 0){if(Dt)continue;$t=!1;break}if(kt){if(!arraySome$1($,function(Ot,Lt){if(!cacheHas$1(kt,Lt)&&(Rt===Ot||bt(Rt,Ot,ht,vt,_t)))return kt.push(Lt)})){$t=!1;break}}else if(!(Rt===Mt||bt(Rt,Mt,ht,vt,_t))){$t=!1;break}}return _t.delete(_e),_t.delete($),$t}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(_e){var $=-1,ht=Array(_e.size);return _e.forEach(function(vt,bt){ht[++$]=[bt,vt]}),ht}var _mapToArray=mapToArray$1;function setToArray$3(_e){var $=-1,ht=Array(_e.size);return _e.forEach(function(vt){ht[++$]=vt}),ht}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(_e,$,ht,vt,bt,_t,wt){switch(ht){case dataViewTag$2:if(_e.byteLength!=$.byteLength||_e.byteOffset!=$.byteOffset)return!1;_e=_e.buffer,$=$.buffer;case arrayBufferTag$1:return!(_e.byteLength!=$.byteLength||!_t(new Uint8Array$1(_e),new Uint8Array$1($)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+_e,+$);case errorTag$1:return _e.name==$.name&&_e.message==$.message;case regexpTag$1:case stringTag$1:return _e==$+"";case mapTag$2:var At=mapToArray;case setTag$2:var St=vt&COMPARE_PARTIAL_FLAG$4;if(At||(At=setToArray$2),_e.size!=$.size&&!St)return!1;var Et=wt.get(_e);if(Et)return Et==$;vt|=COMPARE_UNORDERED_FLAG$2,wt.set(_e,$);var xt=equalArrays$1(At(_e),At($),vt,bt,_t,wt);return wt.delete(_e),xt;case symbolTag:if(symbolValueOf)return symbolValueOf.call(_e)==symbolValueOf.call($)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(_e,$){for(var ht=-1,vt=$.length,bt=_e.length;++ht<vt;)_e[bt+ht]=$[ht];return _e}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$1(_e,$,ht){var vt=$(_e);return isArray$a(_e)?vt:arrayPush$1(vt,ht(_e))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(_e,$){for(var ht=-1,vt=_e==null?0:_e.length,bt=0,_t=[];++ht<vt;){var wt=_e[ht];$(wt,ht,_e)&&(_t[bt++]=wt)}return _t}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(_e){return _e==null?[]:(_e=Object(_e),arrayFilter(nativeGetSymbols(_e),function($){return propertyIsEnumerable$1.call(_e,$)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(_e,$){for(var ht=-1,vt=Array(_e);++ht<_e;)vt[ht]=$(ht);return vt}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(_e){return isObjectLike$5(_e)&&baseGetTag$4(_e)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(_e){return isObjectLike$4(_e)&&hasOwnProperty$6.call(_e,"callee")&&!propertyIsEnumerable.call(_e,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(_e,$){var ht=_root,vt=stubFalse_1,bt=$&&!$.nodeType&&$,_t=bt&&!0&&_e&&!_e.nodeType&&_e,wt=_t&&_t.exports===bt,At=wt?ht.Buffer:void 0,St=At?At.isBuffer:void 0,Et=St||vt;_e.exports=Et})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(_e,$){var ht=typeof _e;return $=$??MAX_SAFE_INTEGER$2,!!$&&(ht=="number"||ht!="symbol"&&reIsUint.test(_e))&&_e>-1&&_e%1==0&&_e<$}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(_e){return typeof _e=="number"&&_e>-1&&_e%1==0&&_e<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(_e){return isObjectLike$3(_e)&&isLength$2(_e.length)&&!!typedArrayTags[baseGetTag$3(_e)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(_e){return function($){return _e($)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(_e,$){var ht=_freeGlobal,vt=$&&!$.nodeType&&$,bt=vt&&!0&&_e&&!_e.nodeType&&_e,_t=bt&&bt.exports===vt,wt=_t&&ht.process,At=function(){try{var St=bt&&bt.require&&bt.require("util").types;return St||wt&&wt.binding&&wt.binding("util")}catch{}}();_e.exports=At})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$9=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(_e,$){var ht=isArray$9(_e),vt=!ht&&isArguments$2(_e),bt=!ht&&!vt&&isBuffer$1(_e),_t=!ht&&!vt&&!bt&&isTypedArray$2(_e),wt=ht||vt||bt||_t,At=wt?baseTimes(_e.length,String):[],St=At.length;for(var Et in _e)($||hasOwnProperty$5.call(_e,Et))&&!(wt&&(Et=="length"||bt&&(Et=="offset"||Et=="parent")||_t&&(Et=="buffer"||Et=="byteLength"||Et=="byteOffset")||isIndex$2(Et,St)))&&At.push(Et);return At}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(_e){var $=_e&&_e.constructor,ht=typeof $=="function"&&$.prototype||objectProto$4;return _e===ht}var _isPrototype=isPrototype$1;function overArg$2(_e,$){return function(ht){return _e($(ht))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(_e){if(!isPrototype(_e))return nativeKeys(_e);var $=[];for(var ht in Object(_e))hasOwnProperty$4.call(_e,ht)&&ht!="constructor"&&$.push(ht);return $}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$4(_e){return _e!=null&&isLength$1(_e.length)&&!isFunction(_e)}var isArrayLike_1=isArrayLike$4,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$4(_e){return isArrayLike$3(_e)?arrayLikeKeys(_e):baseKeys(_e)}var keys_1=keys$4,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$3=keys_1;function getAllKeys$1(_e){return baseGetAllKeys(_e,keys$3,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(_e,$,ht,vt,bt,_t){var wt=ht&COMPARE_PARTIAL_FLAG$3,At=getAllKeys(_e),St=At.length,Et=getAllKeys($),xt=Et.length;if(St!=xt&&!wt)return!1;for(var Pt=St;Pt--;){var $t=At[Pt];if(!(wt?$t in $:hasOwnProperty$3.call($,$t)))return!1}var kt=_t.get(_e),Rt=_t.get($);if(kt&&Rt)return kt==$&&Rt==_e;var Mt=!0;_t.set(_e,$),_t.set($,_e);for(var Dt=wt;++Pt<St;){$t=At[Pt];var Ot=_e[$t],Lt=$[$t];if(vt)var Nt=wt?vt(Lt,Ot,$t,$,_e,_t):vt(Ot,Lt,$t,_e,$,_t);if(!(Nt===void 0?Ot===Lt||bt(Ot,Lt,ht,vt,_t):Nt)){Mt=!1;break}Dt||(Dt=$t=="constructor")}if(Mt&&!Dt){var Ht=_e.constructor,Ft=$.constructor;Ht!=Ft&&"constructor"in _e&&"constructor"in $&&!(typeof Ht=="function"&&Ht instanceof Ht&&typeof Ft=="function"&&Ft instanceof Ft)&&(Mt=!1)}return _t.delete(_e),_t.delete($),Mt}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&getTag$2(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$2(new Map$1)!=mapTag||Promise$1&&getTag$2(Promise$1.resolve())!=promiseTag||Set$2&&getTag$2(new Set$2)!=setTag||WeakMap$1&&getTag$2(new WeakMap$1)!=weakMapTag)&&(getTag$2=function(_e){var $=baseGetTag$2(_e),ht=$==objectTag$2?_e.constructor:void 0,vt=ht?toSource(ht):"";if(vt)switch(vt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return $});var _getTag=getTag$2,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$8=isArray_1,isBuffer=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(_e,$,ht,vt,bt,_t){var wt=isArray$8(_e),At=isArray$8($),St=wt?arrayTag:getTag$1(_e),Et=At?arrayTag:getTag$1($);St=St==argsTag?objectTag$1:St,Et=Et==argsTag?objectTag$1:Et;var xt=St==objectTag$1,Pt=Et==objectTag$1,$t=St==Et;if($t&&isBuffer(_e)){if(!isBuffer($))return!1;wt=!0,xt=!1}if($t&&!xt)return _t||(_t=new Stack$1),wt||isTypedArray$1(_e)?equalArrays(_e,$,ht,vt,bt,_t):equalByTag(_e,$,St,ht,vt,bt,_t);if(!(ht&COMPARE_PARTIAL_FLAG$2)){var kt=xt&&hasOwnProperty$2.call(_e,"__wrapped__"),Rt=Pt&&hasOwnProperty$2.call($,"__wrapped__");if(kt||Rt){var Mt=kt?_e.value():_e,Dt=Rt?$.value():$;return _t||(_t=new Stack$1),bt(Mt,Dt,ht,vt,_t)}}return $t?(_t||(_t=new Stack$1),equalObjects(_e,$,ht,vt,bt,_t)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(_e,$,ht,vt,bt){return _e===$?!0:_e==null||$==null||!isObjectLike$2(_e)&&!isObjectLike$2($)?_e!==_e&&$!==$:baseIsEqualDeep(_e,$,ht,vt,baseIsEqual$3,bt)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(_e,$,ht,vt){var bt=ht.length,_t=bt,wt=!vt;if(_e==null)return!_t;for(_e=Object(_e);bt--;){var At=ht[bt];if(wt&&At[2]?At[1]!==_e[At[0]]:!(At[0]in _e))return!1}for(;++bt<_t;){At=ht[bt];var St=At[0],Et=_e[St],xt=At[1];if(wt&&At[2]){if(Et===void 0&&!(St in _e))return!1}else{var Pt=new Stack;if(vt)var $t=vt(Et,xt,St,_e,$,Pt);if(!($t===void 0?baseIsEqual$2(xt,Et,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,vt,Pt):$t))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(_e){return _e===_e&&!isObject$4(_e)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$2=keys_1;function getMatchData$1(_e){for(var $=keys$2(_e),ht=$.length;ht--;){var vt=$[ht],bt=_e[vt];$[ht]=[vt,bt,isStrictComparable$1(bt)]}return $}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(_e,$){return function(ht){return ht==null?!1:ht[_e]===$&&($!==void 0||_e in Object(ht))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(_e){var $=getMatchData(_e);return $.length==1&&$[0][2]?matchesStrictComparable$1($[0][0],$[0][1]):function(ht){return ht===_e||baseIsMatch(ht,_e,$)}}var _baseMatches=baseMatches$1;function baseHasIn$1(_e,$){return _e!=null&&$ in Object(_e)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$7=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(_e,$,ht){$=castPath($,_e);for(var vt=-1,bt=$.length,_t=!1;++vt<bt;){var wt=toKey$2($[vt]);if(!(_t=_e!=null&&ht(_e,wt)))break;_e=_e[wt]}return _t||++vt!=bt?_t:(bt=_e==null?0:_e.length,!!bt&&isLength(bt)&&isIndex$1(wt,bt)&&(isArray$7(_e)||isArguments$1(_e)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(_e,$){return _e!=null&&hasPath(_e,$,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(_e,$){return isKey$1(_e)&&isStrictComparable($)?matchesStrictComparable(toKey$1(_e),$):function(ht){var vt=get(ht,_e);return vt===void 0&&vt===$?hasIn(ht,_e):baseIsEqual$1($,vt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(_e){return _e}var identity_1=identity$b;function baseProperty$1(_e){return function($){return $==null?void 0:$[_e]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(_e){return function($){return baseGet$1($,_e)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(_e){return isKey(_e)?baseProperty(toKey(_e)):basePropertyDeep(_e)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$6=isArray_1,property=property_1;function baseIteratee$8(_e){return typeof _e=="function"?_e:_e==null?identity$a:typeof _e=="object"?isArray$6(_e)?baseMatchesProperty(_e[0],_e[1]):baseMatches(_e):property(_e)}var _baseIteratee=baseIteratee$8;function baseFindIndex$1(_e,$,ht,vt){for(var bt=_e.length,_t=ht+(vt?1:-1);vt?_t--:++_t<bt;)if($(_e[_t],_t,_e))return _t;return-1}var _baseFindIndex=baseFindIndex$1;function baseIsNaN$1(_e){return _e!==_e}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(_e,$,ht){for(var vt=ht-1,bt=_e.length;++vt<bt;)if(_e[vt]===$)return vt;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(_e,$,ht){return $===$?strictIndexOf(_e,$,ht):baseFindIndex(_e,baseIsNaN,ht)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(_e,$){var ht=_e==null?0:_e.length;return!!ht&&baseIndexOf(_e,$,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(_e,$,ht){for(var vt=-1,bt=_e==null?0:_e.length;++vt<bt;)if(ht($,_e[vt]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$1(){}var noop_1=noop$1,Set$1=_Set,noop=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(_e){return new Set$1(_e)}:noop,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(_e,$,ht){var vt=-1,bt=arrayIncludes,_t=_e.length,wt=!0,At=[],St=At;if(ht)wt=!1,bt=arrayIncludesWith;else if(_t>=LARGE_ARRAY_SIZE){var Et=$?null:createSet(_e);if(Et)return setToArray(Et);wt=!1,bt=cacheHas,St=new SetCache}else St=$?[]:At;e:for(;++vt<_t;){var xt=_e[vt],Pt=$?$(xt):xt;if(xt=ht||xt!==0?xt:0,wt&&Pt===Pt){for(var $t=St.length;$t--;)if(St[$t]===Pt)continue e;$&&St.push(Pt),At.push(xt)}else bt(St,Pt,ht)||(St!==At&&St.push(Pt),At.push(xt))}return At}var _baseUniq=baseUniq$1,baseIteratee$7=_baseIteratee,baseUniq=_baseUniq;function uniqBy(_e,$){return _e&&_e.length?baseUniq(_e,baseIteratee$7($)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(_e,$,ht){return $===!0?uniqBy$1(_e,ht):isFunction$3($)?uniqBy$1(_e,$):_e}function _typeof$z(_e){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$z(_e)}var _excluded$a=["ref"];function ownKeys$u(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$u(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$u(Object(ht),!0).forEach(function(vt){_defineProperty$y(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$u(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _classCallCheck$f(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$y(vt.key),vt)}}function _createClass$f(_e,$,ht){return $&&_defineProperties$f(_e.prototype,$),ht&&_defineProperties$f(_e,ht),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$b(_e,$,ht){return $=_getPrototypeOf$c($),_possibleConstructorReturn$c(_e,_isNativeReflectConstruct$c()?Reflect.construct($,ht||[],_getPrototypeOf$c(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$c(_e,$){if($&&(_typeof$z($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(_e)}function _assertThisInitialized$c(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$c(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!_e})()}function _getPrototypeOf$c(_e){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$c(_e)}function _inherits$c(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$c(_e,$)}function _setPrototypeOf$c(_e,$){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$c(_e,$)}function _defineProperty$y(_e,$,ht){return $=_toPropertyKey$y($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$y(_e){var $=_toPrimitive$y(_e,"string");return _typeof$z($)=="symbol"?$:$+""}function _toPrimitive$y(_e,$){if(_typeof$z(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$z(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _objectWithoutProperties$a(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$a(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$a(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function defaultUniqBy$1(_e){return _e.value}function renderContent$1(_e,$){if(React.isValidElement(_e))return React.cloneElement(_e,$);if(typeof _e=="function")return React.createElement(_e,$);$.ref;var ht=_objectWithoutProperties$a($,_excluded$a);return React.createElement(DefaultLegendContent,ht)}var EPS$1=1,Legend=function(_e){function $(){var ht;_classCallCheck$f(this,$);for(var vt=arguments.length,bt=new Array(vt),_t=0;_t<vt;_t++)bt[_t]=arguments[_t];return ht=_callSuper$b(this,$,[].concat(bt)),_defineProperty$y(ht,"lastBoundingBox",{width:-1,height:-1}),ht}return _inherits$c($,_e),_createClass$f($,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var vt=this.wrapperNode.getBoundingClientRect();return vt.height=this.wrapperNode.offsetHeight,vt.width=this.wrapperNode.offsetWidth,vt}return null}},{key:"updateBBox",value:function(){var vt=this.props.onBBoxUpdate,bt=this.getBBox();bt?(Math.abs(bt.width-this.lastBoundingBox.width)>EPS$1||Math.abs(bt.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=bt.width,this.lastBoundingBox.height=bt.height,vt&&vt(bt)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,vt&&vt(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$u({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(vt){var bt=this.props,_t=bt.layout,wt=bt.align,At=bt.verticalAlign,St=bt.margin,Et=bt.chartWidth,xt=bt.chartHeight,Pt,$t;if(!vt||(vt.left===void 0||vt.left===null)&&(vt.right===void 0||vt.right===null))if(wt==="center"&&_t==="vertical"){var kt=this.getBBoxSnapshot();Pt={left:((Et||0)-kt.width)/2}}else Pt=wt==="right"?{right:St&&St.right||0}:{left:St&&St.left||0};if(!vt||(vt.top===void 0||vt.top===null)&&(vt.bottom===void 0||vt.bottom===null))if(At==="middle"){var Rt=this.getBBoxSnapshot();$t={top:((xt||0)-Rt.height)/2}}else $t=At==="bottom"?{bottom:St&&St.bottom||0}:{top:St&&St.top||0};return _objectSpread$u(_objectSpread$u({},Pt),$t)}},{key:"render",value:function(){var vt=this,bt=this.props,_t=bt.content,wt=bt.width,At=bt.height,St=bt.wrapperStyle,Et=bt.payloadUniqBy,xt=bt.payload,Pt=_objectSpread$u(_objectSpread$u({position:"absolute",width:wt||"auto",height:At||"auto"},this.getDefaultPosition(St)),St);return React.createElement("div",{className:"recharts-legend-wrapper",style:Pt,ref:function(kt){vt.wrapperNode=kt}},renderContent$1(_t,_objectSpread$u(_objectSpread$u({},this.props),{},{payload:getUniqPayload(xt,Et,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(vt,bt){var _t=_objectSpread$u(_objectSpread$u({},this.defaultProps),vt.props),wt=_t.layout;return wt==="vertical"&&isNumber(vt.props.height)?{height:vt.props.height}:wt==="horizontal"?{width:vt.props.width||bt}:null}}])}(reactExports.PureComponent);_defineProperty$y(Legend,"displayName","Legend");_defineProperty$y(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$5=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(_e){return isArray$5(_e)||isArguments(_e)||!!(spreadableSymbol&&_e&&_e[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(_e,$,ht,vt,bt){var _t=-1,wt=_e.length;for(ht||(ht=isFlattenable),bt||(bt=[]);++_t<wt;){var At=_e[_t];$>0&&ht(At)?$>1?baseFlatten$2(At,$-1,ht,vt,bt):arrayPush(bt,At):vt||(bt[bt.length]=At)}return bt}var _baseFlatten=baseFlatten$2;function createBaseFor$1(_e){return function($,ht,vt){for(var bt=-1,_t=Object($),wt=vt($),At=wt.length;At--;){var St=wt[_e?At:++bt];if(ht(_t[St],St,_t)===!1)break}return $}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$1=keys_1;function baseForOwn$2(_e,$){return _e&&baseFor(_e,$,keys$1)}var _baseForOwn=baseForOwn$2,isArrayLike$2=isArrayLike_1;function createBaseEach$1(_e,$){return function(ht,vt){if(ht==null)return ht;if(!isArrayLike$2(ht))return _e(ht,vt);for(var bt=ht.length,_t=$?bt:-1,wt=Object(ht);($?_t--:++_t<bt)&&vt(wt[_t],_t,wt)!==!1;);return ht}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$1=isArrayLike_1;function baseMap$2(_e,$){var ht=-1,vt=isArrayLike$1(_e)?Array(_e.length):[];return baseEach$2(_e,function(bt,_t,wt){vt[++ht]=$(bt,_t,wt)}),vt}var _baseMap=baseMap$2;function baseSortBy$1(_e,$){var ht=_e.length;for(_e.sort($);ht--;)_e[ht]=_e[ht].value;return _e}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(_e,$){if(_e!==$){var ht=_e!==void 0,vt=_e===null,bt=_e===_e,_t=isSymbol$2(_e),wt=$!==void 0,At=$===null,St=$===$,Et=isSymbol$2($);if(!At&&!Et&&!_t&&_e>$||_t&&wt&&St&&!At&&!Et||vt&&wt&&St||!ht&&St||!bt)return 1;if(!vt&&!_t&&!Et&&_e<$||Et&&ht&&bt&&!vt&&!_t||At&&ht&&bt||!wt&&bt||!St)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(_e,$,ht){for(var vt=-1,bt=_e.criteria,_t=$.criteria,wt=bt.length,At=ht.length;++vt<wt;){var St=compareAscending(bt[vt],_t[vt]);if(St){if(vt>=At)return St;var Et=ht[vt];return St*(Et=="desc"?-1:1)}}return _e.index-$.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$6=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$4=isArray_1;function baseOrderBy$1(_e,$,ht){$.length?$=arrayMap$1($,function(_t){return isArray$4(_t)?function(wt){return baseGet(wt,_t.length===1?_t[0]:_t)}:_t}):$=[identity$9];var vt=-1;$=arrayMap$1($,baseUnary(baseIteratee$6));var bt=baseMap$1(_e,function(_t,wt,At){var St=arrayMap$1($,function(Et){return Et(_t)});return{criteria:St,index:++vt,value:_t}});return baseSortBy(bt,function(_t,wt){return compareMultiple(_t,wt,ht)})}var _baseOrderBy=baseOrderBy$1;function apply$1(_e,$,ht){switch(ht.length){case 0:return _e.call($);case 1:return _e.call($,ht[0]);case 2:return _e.call($,ht[0],ht[1]);case 3:return _e.call($,ht[0],ht[1],ht[2])}return _e.apply($,ht)}var _apply=apply$1,apply=_apply,nativeMax$2=Math.max;function overRest$1(_e,$,ht){return $=nativeMax$2($===void 0?_e.length-1:$,0),function(){for(var vt=arguments,bt=-1,_t=nativeMax$2(vt.length-$,0),wt=Array(_t);++bt<_t;)wt[bt]=vt[$+bt];bt=-1;for(var At=Array($+1);++bt<$;)At[bt]=vt[bt];return At[$]=ht(wt),apply(_e,this,At)}}var _overRest=overRest$1;function constant$2(_e){return function(){return _e}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var _e=getNative(Object,"defineProperty");return _e({},"",{}),_e}catch{}}(),_defineProperty$x=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$x,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(_e,$){return defineProperty$1(_e,"toString",{configurable:!0,enumerable:!1,value:constant$1($),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(_e){var $=0,ht=0;return function(){var vt=nativeNow(),bt=HOT_SPAN-(vt-ht);if(ht=vt,bt>0){if(++$>=HOT_COUNT)return arguments[0]}else $=0;return _e.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(_e,$){return setToString(overRest(_e,$,identity$7),_e+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike=isArrayLike_1,isIndex=_isIndex,isObject$3=isObject_1;function isIterateeCall$4(_e,$,ht){if(!isObject$3(ht))return!1;var vt=typeof $;return(vt=="number"?isArrayLike(ht)&&isIndex($,ht.length):vt=="string"&&$ in ht)?eq(ht[$],_e):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(_e,$){if(_e==null)return[];var ht=$.length;return ht>1&&isIterateeCall$3(_e,$[0],$[1])?$=[]:ht>2&&isIterateeCall$3($[0],$[1],$[2])&&($=[$[0]]),baseOrderBy(_e,baseFlatten$1($,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$y(_e){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$y(_e)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$j.apply(this,arguments)}function _slicedToArray$c(_e,$){return _arrayWithHoles$d(_e)||_iterableToArrayLimit$c(_e,$)||_unsupportedIterableToArray$k(_e,$)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$k(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$k(_e,$)}}function _arrayLikeToArray$k(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$c(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$d(_e){if(Array.isArray(_e))return _e}function ownKeys$t(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$t(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$t(Object(ht),!0).forEach(function(vt){_defineProperty$w(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$t(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$w(_e,$,ht){return $=_toPropertyKey$x($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$x(_e){var $=_toPrimitive$x(_e,"string");return _typeof$y($)=="symbol"?$:$+""}function _toPrimitive$x(_e,$){if(_typeof$y(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$y(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function defaultFormatter(_e){return Array.isArray(_e)&&isNumOrStr(_e[0])&&isNumOrStr(_e[1])?_e.join(" ~ "):_e}var DefaultTooltipContent=function _e($){var ht=$.separator,vt=ht===void 0?" : ":ht,bt=$.contentStyle,_t=bt===void 0?{}:bt,wt=$.itemStyle,At=wt===void 0?{}:wt,St=$.labelStyle,Et=St===void 0?{}:St,xt=$.payload,Pt=$.formatter,$t=$.itemSorter,kt=$.wrapperClassName,Rt=$.labelClassName,Mt=$.label,Dt=$.labelFormatter,Ot=$.accessibilityLayer,Lt=Ot===void 0?!1:Ot,Nt=function(){if(xt&&xt.length){var Qt={padding:0,margin:0},tn=($t?sortBy$1(xt,$t):xt).map(function(pn,nn){if(pn.type==="none")return null;var hn=_objectSpread$t({display:"block",paddingTop:4,paddingBottom:4,color:pn.color||"#000"},At),sn=pn.formatter||Pt||defaultFormatter,un=pn.value,en=pn.name,fn=un,En=en;if(sn&&fn!=null&&En!=null){var rn=sn(un,en,pn,nn,xt);if(Array.isArray(rn)){var qt=_slicedToArray$c(rn,2);fn=qt[0],En=qt[1]}else fn=rn}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(nn),style:hn},isNumOrStr(En)?React.createElement("span",{className:"recharts-tooltip-item-name"},En):null,isNumOrStr(En)?React.createElement("span",{className:"recharts-tooltip-item-separator"},vt):null,React.createElement("span",{className:"recharts-tooltip-item-value"},fn),React.createElement("span",{className:"recharts-tooltip-item-unit"},pn.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:Qt},tn)}return null},Ht=_objectSpread$t({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},_t),Ft=_objectSpread$t({margin:0},Et),jt=!isNil$1(Mt),Bt=jt?Mt:"",Vt=clsx("recharts-default-tooltip",kt),Ut=clsx("recharts-tooltip-label",Rt);jt&&Dt&&xt!==void 0&&xt!==null&&(Bt=Dt(Mt,xt));var Jt=Lt?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$j({className:Vt,style:Ht},Jt),React.createElement("p",{className:Ut,style:Ft},React.isValidElement(Bt)?Bt:"".concat(Bt)),Nt())};function _typeof$x(_e){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$x(_e)}function _defineProperty$v(_e,$,ht){return $=_toPropertyKey$w($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$w(_e){var $=_toPrimitive$w(_e,"string");return _typeof$x($)=="symbol"?$:$+""}function _toPrimitive$w(_e,$){if(_typeof$x(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$x(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(_e){var $=_e.coordinate,ht=_e.translateX,vt=_e.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$v(_defineProperty$v(_defineProperty$v(_defineProperty$v({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(ht)&&$&&isNumber($.x)&&ht>=$.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(ht)&&$&&isNumber($.x)&&ht<$.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(vt)&&$&&isNumber($.y)&&vt>=$.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(vt)&&$&&isNumber($.y)&&vt<$.y))}function getTooltipTranslateXY(_e){var $=_e.allowEscapeViewBox,ht=_e.coordinate,vt=_e.key,bt=_e.offsetTopLeft,_t=_e.position,wt=_e.reverseDirection,At=_e.tooltipDimension,St=_e.viewBox,Et=_e.viewBoxDimension;if(_t&&isNumber(_t[vt]))return _t[vt];var xt=ht[vt]-At-bt,Pt=ht[vt]+bt;if($[vt])return wt[vt]?xt:Pt;if(wt[vt]){var $t=xt,kt=St[vt];return $t<kt?Math.max(Pt,St[vt]):Math.max(xt,St[vt])}var Rt=Pt+At,Mt=St[vt]+Et;return Rt>Mt?Math.max(xt,St[vt]):Math.max(Pt,St[vt])}function getTransformStyle(_e){var $=_e.translateX,ht=_e.translateY,vt=_e.useTranslate3d;return{transform:vt?"translate3d(".concat($,"px, ").concat(ht,"px, 0)"):"translate(".concat($,"px, ").concat(ht,"px)")}}function getTooltipTranslate(_e){var $=_e.allowEscapeViewBox,ht=_e.coordinate,vt=_e.offsetTopLeft,bt=_e.position,_t=_e.reverseDirection,wt=_e.tooltipBox,At=_e.useTranslate3d,St=_e.viewBox,Et,xt,Pt;return wt.height>0&&wt.width>0&&ht?(xt=getTooltipTranslateXY({allowEscapeViewBox:$,coordinate:ht,key:"x",offsetTopLeft:vt,position:bt,reverseDirection:_t,tooltipDimension:wt.width,viewBox:St,viewBoxDimension:St.width}),Pt=getTooltipTranslateXY({allowEscapeViewBox:$,coordinate:ht,key:"y",offsetTopLeft:vt,position:bt,reverseDirection:_t,tooltipDimension:wt.height,viewBox:St,viewBoxDimension:St.height}),Et=getTransformStyle({translateX:xt,translateY:Pt,useTranslate3d:At})):Et=TOOLTIP_HIDDEN,{cssProperties:Et,cssClasses:getTooltipCSSClassName({translateX:xt,translateY:Pt,coordinate:ht})}}function _typeof$w(_e){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$w(_e)}function ownKeys$s(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$s(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$s(Object(ht),!0).forEach(function(vt){_defineProperty$u(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$s(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _classCallCheck$e(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$v(vt.key),vt)}}function _createClass$e(_e,$,ht){return $&&_defineProperties$e(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$a(_e,$,ht){return $=_getPrototypeOf$b($),_possibleConstructorReturn$b(_e,_isNativeReflectConstruct$b()?Reflect.construct($,ht||[],_getPrototypeOf$b(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$b(_e,$){if($&&(_typeof$w($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(_e)}function _assertThisInitialized$b(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$b(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!_e})()}function _getPrototypeOf$b(_e){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$b(_e)}function _inherits$b(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$b(_e,$)}function _setPrototypeOf$b(_e,$){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$b(_e,$)}function _defineProperty$u(_e,$,ht){return $=_toPropertyKey$v($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$v(_e){var $=_toPrimitive$v(_e,"string");return _typeof$w($)=="symbol"?$:$+""}function _toPrimitive$v(_e,$){if(_typeof$w(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$w(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var EPSILON=1,TooltipBoundingBox=function(_e){function $(){var ht;_classCallCheck$e(this,$);for(var vt=arguments.length,bt=new Array(vt),_t=0;_t<vt;_t++)bt[_t]=arguments[_t];return ht=_callSuper$a(this,$,[].concat(bt)),_defineProperty$u(ht,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$u(ht,"handleKeyDown",function(wt){if(wt.key==="Escape"){var At,St,Et,xt;ht.setState({dismissed:!0,dismissedAtCoordinate:{x:(At=(St=ht.props.coordinate)===null||St===void 0?void 0:St.x)!==null&&At!==void 0?At:0,y:(Et=(xt=ht.props.coordinate)===null||xt===void 0?void 0:xt.y)!==null&&Et!==void 0?Et:0}})}}),ht}return _inherits$b($,_e),_createClass$e($,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var vt=this.wrapperNode.getBoundingClientRect();(Math.abs(vt.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(vt.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:vt.width,height:vt.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var vt,bt;this.props.active&&this.updateBBox(),this.state.dismissed&&(((vt=this.props.coordinate)===null||vt===void 0?void 0:vt.x)!==this.state.dismissedAtCoordinate.x||((bt=this.props.coordinate)===null||bt===void 0?void 0:bt.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var vt=this,bt=this.props,_t=bt.active,wt=bt.allowEscapeViewBox,At=bt.animationDuration,St=bt.animationEasing,Et=bt.children,xt=bt.coordinate,Pt=bt.hasPayload,$t=bt.isAnimationActive,kt=bt.offset,Rt=bt.position,Mt=bt.reverseDirection,Dt=bt.useTranslate3d,Ot=bt.viewBox,Lt=bt.wrapperStyle,Nt=getTooltipTranslate({allowEscapeViewBox:wt,coordinate:xt,offsetTopLeft:kt,position:Rt,reverseDirection:Mt,tooltipBox:this.state.lastBoundingBox,useTranslate3d:Dt,viewBox:Ot}),Ht=Nt.cssClasses,Ft=Nt.cssProperties,jt=_objectSpread$s(_objectSpread$s({transition:$t&&_t?"transform ".concat(At,"ms ").concat(St):void 0},Ft),{},{pointerEvents:"none",visibility:!this.state.dismissed&&_t&&Pt?"visible":"hidden",position:"absolute",top:0,left:0},Lt);return React.createElement("div",{tabIndex:-1,className:Ht,style:jt,ref:function(Vt){vt.wrapperNode=Vt}},Et)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function _e(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault(),get:function _e($){return Global[$]},set:function _e($,ht){if(typeof $=="string")Global[$]=ht;else{var vt=Object.keys($);vt&&vt.length&&vt.forEach(function(bt){Global[bt]=$[bt]})}}};function _typeof$v(_e){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$v(_e)}function ownKeys$r(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$r(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$r(Object(ht),!0).forEach(function(vt){_defineProperty$t(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$r(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _classCallCheck$d(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$u(vt.key),vt)}}function _createClass$d(_e,$,ht){return $&&_defineProperties$d(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$9(_e,$,ht){return $=_getPrototypeOf$a($),_possibleConstructorReturn$a(_e,_isNativeReflectConstruct$a()?Reflect.construct($,ht||[],_getPrototypeOf$a(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$a(_e,$){if($&&(_typeof$v($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(_e)}function _assertThisInitialized$a(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$a(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!_e})()}function _getPrototypeOf$a(_e){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$a(_e)}function _inherits$a(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$a(_e,$)}function _setPrototypeOf$a(_e,$){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$a(_e,$)}function _defineProperty$t(_e,$,ht){return $=_toPropertyKey$u($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$u(_e){var $=_toPrimitive$u(_e,"string");return _typeof$v($)=="symbol"?$:$+""}function _toPrimitive$u(_e,$){if(_typeof$v(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$v(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function defaultUniqBy(_e){return _e.dataKey}function renderContent(_e,$){return React.isValidElement(_e)?React.cloneElement(_e,$):typeof _e=="function"?React.createElement(_e,$):React.createElement(DefaultTooltipContent,$)}var Tooltip=function(_e){function $(){return _classCallCheck$d(this,$),_callSuper$9(this,$,arguments)}return _inherits$a($,_e),_createClass$d($,[{key:"render",value:function(){var vt=this,bt=this.props,_t=bt.active,wt=bt.allowEscapeViewBox,At=bt.animationDuration,St=bt.animationEasing,Et=bt.content,xt=bt.coordinate,Pt=bt.filterNull,$t=bt.isAnimationActive,kt=bt.offset,Rt=bt.payload,Mt=bt.payloadUniqBy,Dt=bt.position,Ot=bt.reverseDirection,Lt=bt.useTranslate3d,Nt=bt.viewBox,Ht=bt.wrapperStyle,Ft=Rt??[];Pt&&Ft.length&&(Ft=getUniqPayload(Rt.filter(function(Bt){return Bt.value!=null&&(Bt.hide!==!0||vt.props.includeHidden)}),Mt,defaultUniqBy));var jt=Ft.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:wt,animationDuration:At,animationEasing:St,isAnimationActive:$t,active:_t,coordinate:xt,hasPayload:jt,offset:kt,position:Dt,reverseDirection:Ot,useTranslate3d:Lt,viewBox:Nt,wrapperStyle:Ht},renderContent(Et,_objectSpread$r(_objectSpread$r({},this.props),{},{payload:Ft})))}}])}(reactExports.PureComponent);_defineProperty$t(Tooltip,"displayName","Tooltip");_defineProperty$t(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(_e){for(var $=_e.length;$--&&reWhitespace.test(_e.charAt($)););return $}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(_e){return _e&&_e.slice(0,trimmedEndIndex(_e)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(_e){if(typeof _e=="number")return _e;if(isSymbol$1(_e))return NAN;if(isObject$2(_e)){var $=typeof _e.valueOf=="function"?_e.valueOf():_e;_e=isObject$2($)?$+"":$}if(typeof _e!="string")return _e===0?_e:+_e;_e=baseTrim(_e);var ht=reIsBinary.test(_e);return ht||reIsOctal.test(_e)?freeParseInt(_e.slice(2),ht?2:8):reIsBadHex.test(_e)?NAN:+_e}var toNumber_1=toNumber$2,isObject$1=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$1=Math.max,nativeMin=Math.min;function debounce$1(_e,$,ht){var vt,bt,_t,wt,At,St,Et=0,xt=!1,Pt=!1,$t=!0;if(typeof _e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);$=toNumber$1($)||0,isObject$1(ht)&&(xt=!!ht.leading,Pt="maxWait"in ht,_t=Pt?nativeMax$1(toNumber$1(ht.maxWait)||0,$):_t,$t="trailing"in ht?!!ht.trailing:$t);function kt(jt){var Bt=vt,Vt=bt;return vt=bt=void 0,Et=jt,wt=_e.apply(Vt,Bt),wt}function Rt(jt){return Et=jt,At=setTimeout(Ot,$),xt?kt(jt):wt}function Mt(jt){var Bt=jt-St,Vt=jt-Et,Ut=$-Bt;return Pt?nativeMin(Ut,_t-Vt):Ut}function Dt(jt){var Bt=jt-St,Vt=jt-Et;return St===void 0||Bt>=$||Bt<0||Pt&&Vt>=_t}function Ot(){var jt=now();if(Dt(jt))return Lt(jt);At=setTimeout(Ot,Mt(jt))}function Lt(jt){return At=void 0,$t&&vt?kt(jt):(vt=bt=void 0,wt)}function Nt(){At!==void 0&&clearTimeout(At),Et=0,vt=St=bt=At=void 0}function Ht(){return At===void 0?wt:Lt(now())}function Ft(){var jt=now(),Bt=Dt(jt);if(vt=arguments,bt=this,St=jt,Bt){if(At===void 0)return Rt(St);if(Pt)return clearTimeout(At),At=setTimeout(Ot,$),kt(St)}return At===void 0&&(At=setTimeout(Ot,$)),wt}return Ft.cancel=Nt,Ft.flush=Ht,Ft}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(_e,$,ht){var vt=!0,bt=!0;if(typeof _e!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(ht)&&(vt="leading"in ht?!!ht.leading:vt,bt="trailing"in ht?!!ht.trailing:bt),debounce(_e,$,{leading:vt,maxWait:$,trailing:bt})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$u(_e){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$u(_e)}function ownKeys$q(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$q(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$q(Object(ht),!0).forEach(function(vt){_defineProperty$s(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$q(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$s(_e,$,ht){return $=_toPropertyKey$t($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$t(_e){var $=_toPrimitive$t(_e,"string");return _typeof$u($)=="symbol"?$:$+""}function _toPrimitive$t(_e,$){if(_typeof$u(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$u(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _slicedToArray$b(_e,$){return _arrayWithHoles$c(_e)||_iterableToArrayLimit$b(_e,$)||_unsupportedIterableToArray$j(_e,$)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$j(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$j(_e,$)}}function _arrayLikeToArray$j(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$b(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$c(_e){if(Array.isArray(_e))return _e}var ResponsiveContainer=reactExports.forwardRef(function(_e,$){var ht=_e.aspect,vt=_e.initialDimension,bt=vt===void 0?{width:-1,height:-1}:vt,_t=_e.width,wt=_t===void 0?"100%":_t,At=_e.height,St=At===void 0?"100%":At,Et=_e.minWidth,xt=Et===void 0?0:Et,Pt=_e.minHeight,$t=_e.maxHeight,kt=_e.children,Rt=_e.debounce,Mt=Rt===void 0?0:Rt,Dt=_e.id,Ot=_e.className,Lt=_e.onResize,Nt=_e.style,Ht=Nt===void 0?{}:Nt,Ft=reactExports.useRef(null),jt=reactExports.useRef();jt.current=Lt,reactExports.useImperativeHandle($,function(){return Object.defineProperty(Ft.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),Ft.current},configurable:!0})});var Bt=reactExports.useState({containerWidth:bt.width,containerHeight:bt.height}),Vt=_slicedToArray$b(Bt,2),Ut=Vt[0],Jt=Vt[1],Wt=reactExports.useCallback(function(tn,pn){Jt(function(nn){var hn=Math.round(tn),sn=Math.round(pn);return nn.containerWidth===hn&&nn.containerHeight===sn?nn:{containerWidth:hn,containerHeight:sn}})},[]);reactExports.useEffect(function(){var tn=function(en){var fn,En=en[0].contentRect,rn=En.width,qt=En.height;Wt(rn,qt),(fn=jt.current)===null||fn===void 0||fn.call(jt,rn,qt)};Mt>0&&(tn=throttle$1(tn,Mt,{trailing:!0,leading:!1}));var pn=new ResizeObserver(tn),nn=Ft.current.getBoundingClientRect(),hn=nn.width,sn=nn.height;return Wt(hn,sn),pn.observe(Ft.current),function(){pn.disconnect()}},[Wt,Mt]);var Qt=reactExports.useMemo(function(){var tn=Ut.containerWidth,pn=Ut.containerHeight;if(tn<0||pn<0)return null;warn(isPercent(wt)||isPercent(St),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,wt,St),warn(!ht||ht>0,"The aspect(%s) must be greater than zero.",ht);var nn=isPercent(wt)?tn:wt,hn=isPercent(St)?pn:St;ht&&ht>0&&(nn?hn=nn/ht:hn&&(nn=hn*ht),$t&&hn>$t&&(hn=$t)),warn(nn>0||hn>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,nn,hn,wt,St,xt,Pt,ht);var sn=!Array.isArray(kt)&&getDisplayName(kt.type).endsWith("Chart");return React.Children.map(kt,function(un){return React.isValidElement(un)?reactExports.cloneElement(un,_objectSpread$q({width:nn,height:hn},sn?{style:_objectSpread$q({height:"100%",width:"100%",maxHeight:hn,maxWidth:nn},un.props.style)}:{})):un})},[ht,kt,St,$t,Pt,xt,Ut,wt]);return React.createElement("div",{id:Dt?"".concat(Dt):void 0,className:clsx("recharts-responsive-container",Ot),style:_objectSpread$q(_objectSpread$q({},Ht),{},{width:wt,height:St,minWidth:xt,minHeight:Pt,maxHeight:$t}),ref:Ft},Qt)}),Cell=function _e($){return null};Cell.displayName="Cell";function _typeof$t(_e){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$t(_e)}function ownKeys$p(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$p(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$p(Object(ht),!0).forEach(function(vt){_defineProperty$r(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$p(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$r(_e,$,ht){return $=_toPropertyKey$s($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$s(_e){var $=_toPrimitive$s(_e,"string");return _typeof$t($)=="symbol"?$:$+""}function _toPrimitive$s(_e,$){if(_typeof$t(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$t(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(_e){var $=_objectSpread$p({},_e);return Object.keys($).forEach(function(ht){$[ht]||delete $[ht]}),$}var getStringSize=function _e($){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($==null||Global.isSsr)return{width:0,height:0};var vt=removeInvalidKeys(ht),bt=JSON.stringify({text:$,copyStyle:vt});if(stringCache.widthCache[bt])return stringCache.widthCache[bt];try{var _t=document.getElementById(MEASUREMENT_SPAN_ID);_t||(_t=document.createElement("span"),_t.setAttribute("id",MEASUREMENT_SPAN_ID),_t.setAttribute("aria-hidden","true"),document.body.appendChild(_t));var wt=_objectSpread$p(_objectSpread$p({},SPAN_STYLE),vt);Object.assign(_t.style,wt),_t.textContent="".concat($);var At=_t.getBoundingClientRect(),St={width:At.width,height:At.height};return stringCache.widthCache[bt]=St,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),St}catch{return{width:0,height:0}}},getOffset=function _e($){return{top:$.top+window.scrollY-document.documentElement.clientTop,left:$.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$s(_e){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$s(_e)}function _slicedToArray$a(_e,$){return _arrayWithHoles$b(_e)||_iterableToArrayLimit$a(_e,$)||_unsupportedIterableToArray$i(_e,$)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$i(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$i(_e,$)}}function _arrayLikeToArray$i(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$a(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$===0){if(Object(ht)!==ht)return;St=!1}else for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$b(_e){if(Array.isArray(_e))return _e}function _classCallCheck$c(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$r(vt.key),vt)}}function _createClass$c(_e,$,ht){return $&&_defineProperties$c(_e.prototype,$),ht&&_defineProperties$c(_e,ht),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _toPropertyKey$r(_e){var $=_toPrimitive$r(_e,"string");return _typeof$s($)=="symbol"?$:$+""}function _toPrimitive$r(_e,$){if(_typeof$s(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$);if(_typeof$s(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_e)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(_e,$){return _e*CONVERSION_RATES[$]}var DecimalCSS=function(){function _e($,ht){_classCallCheck$c(this,_e),this.num=$,this.unit=ht,this.num=$,this.unit=ht,Number.isNaN($)&&(this.unit=""),ht!==""&&!CSS_LENGTH_UNIT_REGEX.test(ht)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(ht)&&(this.num=convertToPx($,ht),this.unit="px")}return _createClass$c(_e,[{key:"add",value:function(ht){return this.unit!==ht.unit?new _e(NaN,""):new _e(this.num+ht.num,this.unit)}},{key:"subtract",value:function(ht){return this.unit!==ht.unit?new _e(NaN,""):new _e(this.num-ht.num,this.unit)}},{key:"multiply",value:function(ht){return this.unit!==""&&ht.unit!==""&&this.unit!==ht.unit?new _e(NaN,""):new _e(this.num*ht.num,this.unit||ht.unit)}},{key:"divide",value:function(ht){return this.unit!==""&&ht.unit!==""&&this.unit!==ht.unit?new _e(NaN,""):new _e(this.num/ht.num,this.unit||ht.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(ht){var vt,bt=(vt=NUM_SPLIT_REGEX.exec(ht))!==null&&vt!==void 0?vt:[],_t=_slicedToArray$a(bt,3),wt=_t[1],At=_t[2];return new _e(parseFloat(wt),At??"")}}])}();function calculateArithmetic(_e){if(_e.includes(STR_NAN))return STR_NAN;for(var $=_e;$.includes("*")||$.includes("/");){var ht,vt=(ht=MULTIPLY_OR_DIVIDE_REGEX.exec($))!==null&&ht!==void 0?ht:[],bt=_slicedToArray$a(vt,4),_t=bt[1],wt=bt[2],At=bt[3],St=DecimalCSS.parse(_t??""),Et=DecimalCSS.parse(At??""),xt=wt==="*"?St.multiply(Et):St.divide(Et);if(xt.isNaN())return STR_NAN;$=$.replace(MULTIPLY_OR_DIVIDE_REGEX,xt.toString())}for(;$.includes("+")||/.-\d+(?:\.\d+)?/.test($);){var Pt,$t=(Pt=ADD_OR_SUBTRACT_REGEX.exec($))!==null&&Pt!==void 0?Pt:[],kt=_slicedToArray$a($t,4),Rt=kt[1],Mt=kt[2],Dt=kt[3],Ot=DecimalCSS.parse(Rt??""),Lt=DecimalCSS.parse(Dt??""),Nt=Mt==="+"?Ot.add(Lt):Ot.subtract(Lt);if(Nt.isNaN())return STR_NAN;$=$.replace(ADD_OR_SUBTRACT_REGEX,Nt.toString())}return $}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(_e){for(var $=_e;$.includes("(");){var ht=PARENTHESES_REGEX.exec($),vt=_slicedToArray$a(ht,2),bt=vt[1];$=$.replace(PARENTHESES_REGEX,calculateArithmetic(bt))}return $}function evaluateExpression(_e){var $=_e.replace(/\s+/g,"");return $=calculateParentheses($),$=calculateArithmetic($),$}function safeEvaluateExpression(_e){try{return evaluateExpression(_e)}catch{return STR_NAN}}function reduceCSSCalc(_e){var $=safeEvaluateExpression(_e.slice(5,-1));return $===STR_NAN?"":$}var _excluded$9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$3=["dx","dy","angle","className","breakAll"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$i.apply(this,arguments)}function _objectWithoutProperties$9(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$9(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$9(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function _slicedToArray$9(_e,$){return _arrayWithHoles$a(_e)||_iterableToArrayLimit$9(_e,$)||_unsupportedIterableToArray$h(_e,$)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$h(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$h(_e,$)}}function _arrayLikeToArray$h(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$9(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$===0){if(Object(ht)!==ht)return;St=!1}else for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$a(_e){if(Array.isArray(_e))return _e}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function _e($){var ht=$.children,vt=$.breakAll,bt=$.style;try{var _t=[];isNil$1(ht)||(vt?_t=ht.toString().split(""):_t=ht.toString().split(BREAKING_SPACES));var wt=_t.map(function(St){return{word:St,width:getStringSize(St,bt).width}}),At=vt?0:getStringSize(" ",bt).width;return{wordsWithComputedWidth:wt,spaceWidth:At}}catch{return null}},calculateWordsByLines=function _e($,ht,vt,bt,_t){var wt=$.maxLines,At=$.children,St=$.style,Et=$.breakAll,xt=isNumber(wt),Pt=At,$t=function(){var nn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return nn.reduce(function(hn,sn){var un=sn.word,en=sn.width,fn=hn[hn.length-1];if(fn&&(bt==null||_t||fn.width+en+vt<Number(bt)))fn.words.push(un),fn.width+=en+vt;else{var En={words:[un],width:en};hn.push(En)}return hn},[])},kt=$t(ht),Rt=function(nn){return nn.reduce(function(hn,sn){return hn.width>sn.width?hn:sn})};if(!xt)return kt;for(var Mt="…",Dt=function(nn){var hn=Pt.slice(0,nn),sn=calculateWordWidths({breakAll:Et,style:St,children:hn+Mt}).wordsWithComputedWidth,un=$t(sn),en=un.length>wt||Rt(un).width>Number(bt);return[en,un]},Ot=0,Lt=Pt.length-1,Nt=0,Ht;Ot<=Lt&&Nt<=Pt.length-1;){var Ft=Math.floor((Ot+Lt)/2),jt=Ft-1,Bt=Dt(jt),Vt=_slicedToArray$9(Bt,2),Ut=Vt[0],Jt=Vt[1],Wt=Dt(Ft),Qt=_slicedToArray$9(Wt,1),tn=Qt[0];if(!Ut&&!tn&&(Ot=Ft+1),Ut&&tn&&(Lt=Ft-1),!Ut&&tn){Ht=Jt;break}Nt++}return Ht||kt},getWordsWithoutCalculate=function _e($){var ht=isNil$1($)?[]:$.toString().split(BREAKING_SPACES);return[{words:ht}]},getWordsByLines=function _e($){var ht=$.width,vt=$.scaleToFit,bt=$.children,_t=$.style,wt=$.breakAll,At=$.maxLines;if((ht||vt)&&!Global.isSsr){var St,Et,xt=calculateWordWidths({breakAll:wt,children:bt,style:_t});if(xt){var Pt=xt.wordsWithComputedWidth,$t=xt.spaceWidth;St=Pt,Et=$t}else return getWordsWithoutCalculate(bt);return calculateWordsByLines({breakAll:wt,children:bt,maxLines:At,style:_t},St,Et,ht,vt)}return getWordsWithoutCalculate(bt)},DEFAULT_FILL="#808080",Text=function _e($){var ht=$.x,vt=ht===void 0?0:ht,bt=$.y,_t=bt===void 0?0:bt,wt=$.lineHeight,At=wt===void 0?"1em":wt,St=$.capHeight,Et=St===void 0?"0.71em":St,xt=$.scaleToFit,Pt=xt===void 0?!1:xt,$t=$.textAnchor,kt=$t===void 0?"start":$t,Rt=$.verticalAnchor,Mt=Rt===void 0?"end":Rt,Dt=$.fill,Ot=Dt===void 0?DEFAULT_FILL:Dt,Lt=_objectWithoutProperties$9($,_excluded$9),Nt=reactExports.useMemo(function(){return getWordsByLines({breakAll:Lt.breakAll,children:Lt.children,maxLines:Lt.maxLines,scaleToFit:Pt,style:Lt.style,width:Lt.width})},[Lt.breakAll,Lt.children,Lt.maxLines,Pt,Lt.style,Lt.width]),Ht=Lt.dx,Ft=Lt.dy,jt=Lt.angle,Bt=Lt.className,Vt=Lt.breakAll,Ut=_objectWithoutProperties$9(Lt,_excluded2$3);if(!isNumOrStr(vt)||!isNumOrStr(_t))return null;var Jt=vt+(isNumber(Ht)?Ht:0),Wt=_t+(isNumber(Ft)?Ft:0),Qt;switch(Mt){case"start":Qt=reduceCSSCalc("calc(".concat(Et,")"));break;case"middle":Qt=reduceCSSCalc("calc(".concat((Nt.length-1)/2," * -").concat(At," + (").concat(Et," / 2))"));break;default:Qt=reduceCSSCalc("calc(".concat(Nt.length-1," * -").concat(At,")"));break}var tn=[];if(Pt){var pn=Nt[0].width,nn=Lt.width;tn.push("scale(".concat((isNumber(nn)?nn/pn:1)/pn,")"))}return jt&&tn.push("rotate(".concat(jt,", ").concat(Jt,", ").concat(Wt,")")),tn.length&&(Ut.transform=tn.join(" ")),React.createElement("text",_extends$i({},filterProps(Ut,!0),{x:Jt,y:Wt,className:clsx("recharts-text",Bt),textAnchor:kt,fill:Ot.includes("url")?DEFAULT_FILL:Ot}),Nt.map(function(hn,sn){var un=hn.words.join(Vt?"":" ");return React.createElement("tspan",{x:Jt,dy:sn===0?Qt:At,key:"".concat(un,"-").concat(sn)},un)}))};function ascending(_e,$){return _e==null||$==null?NaN:_e<$?-1:_e>$?1:_e>=$?0:NaN}function descending(_e,$){return _e==null||$==null?NaN:$<_e?-1:$>_e?1:$>=_e?0:NaN}function bisector(_e){let $,ht,vt;_e.length!==2?($=ascending,ht=(At,St)=>ascending(_e(At),St),vt=(At,St)=>_e(At)-St):($=_e===ascending||_e===descending?_e:zero$1,ht=_e,vt=_e);function bt(At,St,Et=0,xt=At.length){if(Et<xt){if($(St,St)!==0)return xt;do{const Pt=Et+xt>>>1;ht(At[Pt],St)<0?Et=Pt+1:xt=Pt}while(Et<xt)}return Et}function _t(At,St,Et=0,xt=At.length){if(Et<xt){if($(St,St)!==0)return xt;do{const Pt=Et+xt>>>1;ht(At[Pt],St)<=0?Et=Pt+1:xt=Pt}while(Et<xt)}return Et}function wt(At,St,Et=0,xt=At.length){const Pt=bt(At,St,Et,xt-1);return Pt>Et&&vt(At[Pt-1],St)>-vt(At[Pt],St)?Pt-1:Pt}return{left:bt,center:wt,right:_t}}function zero$1(){return 0}function number$2(_e){return _e===null?NaN:+_e}function*numbers(_e,$){for(let ht of _e)ht!=null&&(ht=+ht)>=ht&&(yield ht)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor($,ht=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:ht}}),$!=null)for(const[vt,bt]of $)this.set(vt,bt)}get($){return super.get(intern_get(this,$))}has($){return super.has(intern_get(this,$))}set($,ht){return super.set(intern_set(this,$),ht)}delete($){return super.delete(intern_delete(this,$))}}function intern_get({_intern:_e,_key:$},ht){const vt=$(ht);return _e.has(vt)?_e.get(vt):ht}function intern_set({_intern:_e,_key:$},ht){const vt=$(ht);return _e.has(vt)?_e.get(vt):(_e.set(vt,ht),ht)}function intern_delete({_intern:_e,_key:$},ht){const vt=$(ht);return _e.has(vt)&&(ht=_e.get(vt),_e.delete(vt)),ht}function keyof(_e){return _e!==null&&typeof _e=="object"?_e.valueOf():_e}function compareDefined(_e=ascending){if(_e===ascending)return ascendingDefined;if(typeof _e!="function")throw new TypeError("compare is not a function");return($,ht)=>{const vt=_e($,ht);return vt||vt===0?vt:(_e(ht,ht)===0)-(_e($,$)===0)}}function ascendingDefined(_e,$){return(_e==null||!(_e>=_e))-($==null||!($>=$))||(_e<$?-1:_e>$?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(_e,$,ht){const vt=($-_e)/Math.max(0,ht),bt=Math.floor(Math.log10(vt)),_t=vt/Math.pow(10,bt),wt=_t>=e10?10:_t>=e5?5:_t>=e2?2:1;let At,St,Et;return bt<0?(Et=Math.pow(10,-bt)/wt,At=Math.round(_e*Et),St=Math.round($*Et),At/Et<_e&&++At,St/Et>$&&--St,Et=-Et):(Et=Math.pow(10,bt)*wt,At=Math.round(_e/Et),St=Math.round($/Et),At*Et<_e&&++At,St*Et>$&&--St),St<At&&.5<=ht&&ht<2?tickSpec(_e,$,ht*2):[At,St,Et]}function ticks(_e,$,ht){if($=+$,_e=+_e,ht=+ht,!(ht>0))return[];if(_e===$)return[_e];const vt=$<_e,[bt,_t,wt]=vt?tickSpec($,_e,ht):tickSpec(_e,$,ht);if(!(_t>=bt))return[];const At=_t-bt+1,St=new Array(At);if(vt)if(wt<0)for(let Et=0;Et<At;++Et)St[Et]=(_t-Et)/-wt;else for(let Et=0;Et<At;++Et)St[Et]=(_t-Et)*wt;else if(wt<0)for(let Et=0;Et<At;++Et)St[Et]=(bt+Et)/-wt;else for(let Et=0;Et<At;++Et)St[Et]=(bt+Et)*wt;return St}function tickIncrement(_e,$,ht){return $=+$,_e=+_e,ht=+ht,tickSpec(_e,$,ht)[2]}function tickStep(_e,$,ht){$=+$,_e=+_e,ht=+ht;const vt=$<_e,bt=vt?tickIncrement($,_e,ht):tickIncrement(_e,$,ht);return(vt?-1:1)*(bt<0?1/-bt:bt)}function max$2(_e,$){let ht;for(const vt of _e)vt!=null&&(ht<vt||ht===void 0&&vt>=vt)&&(ht=vt);return ht}function min$2(_e,$){let ht;for(const vt of _e)vt!=null&&(ht>vt||ht===void 0&&vt>=vt)&&(ht=vt);return ht}function quickselect(_e,$,ht=0,vt=1/0,bt){if($=Math.floor($),ht=Math.floor(Math.max(0,ht)),vt=Math.floor(Math.min(_e.length-1,vt)),!(ht<=$&&$<=vt))return _e;for(bt=bt===void 0?ascendingDefined:compareDefined(bt);vt>ht;){if(vt-ht>600){const St=vt-ht+1,Et=$-ht+1,xt=Math.log(St),Pt=.5*Math.exp(2*xt/3),$t=.5*Math.sqrt(xt*Pt*(St-Pt)/St)*(Et-St/2<0?-1:1),kt=Math.max(ht,Math.floor($-Et*Pt/St+$t)),Rt=Math.min(vt,Math.floor($+(St-Et)*Pt/St+$t));quickselect(_e,$,kt,Rt,bt)}const _t=_e[$];let wt=ht,At=vt;for(swap(_e,ht,$),bt(_e[vt],_t)>0&&swap(_e,ht,vt);wt<At;){for(swap(_e,wt,At),++wt,--At;bt(_e[wt],_t)<0;)++wt;for(;bt(_e[At],_t)>0;)--At}bt(_e[ht],_t)===0?swap(_e,ht,At):(++At,swap(_e,At,vt)),At<=$&&(ht=At+1),$<=At&&(vt=At-1)}return _e}function swap(_e,$,ht){const vt=_e[$];_e[$]=_e[ht],_e[ht]=vt}function quantile$1(_e,$,ht){if(_e=Float64Array.from(numbers(_e)),!(!(vt=_e.length)||isNaN($=+$))){if($<=0||vt<2)return min$2(_e);if($>=1)return max$2(_e);var vt,bt=(vt-1)*$,_t=Math.floor(bt),wt=max$2(quickselect(_e,_t).subarray(0,_t+1)),At=min$2(_e.subarray(_t+1));return wt+(At-wt)*(bt-_t)}}function quantileSorted(_e,$,ht=number$2){if(!(!(vt=_e.length)||isNaN($=+$))){if($<=0||vt<2)return+ht(_e[0],0,_e);if($>=1)return+ht(_e[vt-1],vt-1,_e);var vt,bt=(vt-1)*$,_t=Math.floor(bt),wt=+ht(_e[_t],_t,_e),At=+ht(_e[_t+1],_t+1,_e);return wt+(At-wt)*(bt-_t)}}function range$3(_e,$,ht){_e=+_e,$=+$,ht=(bt=arguments.length)<2?($=_e,_e=0,1):bt<3?1:+ht;for(var vt=-1,bt=Math.max(0,Math.ceil(($-_e)/ht))|0,_t=new Array(bt);++vt<bt;)_t[vt]=_e+vt*ht;return _t}function initRange(_e,$){switch(arguments.length){case 0:break;case 1:this.range(_e);break;default:this.range($).domain(_e);break}return this}function initInterpolator(_e,$){switch(arguments.length){case 0:break;case 1:{typeof _e=="function"?this.interpolator(_e):this.range(_e);break}default:{this.domain(_e),typeof $=="function"?this.interpolator($):this.range($);break}}return this}const implicit=Symbol("implicit");function ordinal(){var _e=new InternMap,$=[],ht=[],vt=implicit;function bt(_t){let wt=_e.get(_t);if(wt===void 0){if(vt!==implicit)return vt;_e.set(_t,wt=$.push(_t)-1)}return ht[wt%ht.length]}return bt.domain=function(_t){if(!arguments.length)return $.slice();$=[],_e=new InternMap;for(const wt of _t)_e.has(wt)||_e.set(wt,$.push(wt)-1);return bt},bt.range=function(_t){return arguments.length?(ht=Array.from(_t),bt):ht.slice()},bt.unknown=function(_t){return arguments.length?(vt=_t,bt):vt},bt.copy=function(){return ordinal($,ht).unknown(vt)},initRange.apply(bt,arguments),bt}function band(){var _e=ordinal().unknown(void 0),$=_e.domain,ht=_e.range,vt=0,bt=1,_t,wt,At=!1,St=0,Et=0,xt=.5;delete _e.unknown;function Pt(){var $t=$().length,kt=bt<vt,Rt=kt?bt:vt,Mt=kt?vt:bt;_t=(Mt-Rt)/Math.max(1,$t-St+Et*2),At&&(_t=Math.floor(_t)),Rt+=(Mt-Rt-_t*($t-St))*xt,wt=_t*(1-St),At&&(Rt=Math.round(Rt),wt=Math.round(wt));var Dt=range$3($t).map(function(Ot){return Rt+_t*Ot});return ht(kt?Dt.reverse():Dt)}return _e.domain=function($t){return arguments.length?($($t),Pt()):$()},_e.range=function($t){return arguments.length?([vt,bt]=$t,vt=+vt,bt=+bt,Pt()):[vt,bt]},_e.rangeRound=function($t){return[vt,bt]=$t,vt=+vt,bt=+bt,At=!0,Pt()},_e.bandwidth=function(){return wt},_e.step=function(){return _t},_e.round=function($t){return arguments.length?(At=!!$t,Pt()):At},_e.padding=function($t){return arguments.length?(St=Math.min(1,Et=+$t),Pt()):St},_e.paddingInner=function($t){return arguments.length?(St=Math.min(1,$t),Pt()):St},_e.paddingOuter=function($t){return arguments.length?(Et=+$t,Pt()):Et},_e.align=function($t){return arguments.length?(xt=Math.max(0,Math.min(1,$t)),Pt()):xt},_e.copy=function(){return band($(),[vt,bt]).round(At).paddingInner(St).paddingOuter(Et).align(xt)},initRange.apply(Pt(),arguments)}function pointish(_e){var $=_e.copy;return _e.padding=_e.paddingOuter,delete _e.paddingInner,delete _e.paddingOuter,_e.copy=function(){return pointish($())},_e}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(_e,$,ht){_e.prototype=$.prototype=ht,ht.constructor=_e}function extend(_e,$){var ht=Object.create(_e.prototype);for(var vt in $)ht[vt]=$[vt];return ht}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(_e){return Object.assign(new this.constructor,this,_e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(_e){var $,ht;return _e=(_e+"").trim().toLowerCase(),($=reHex.exec(_e))?(ht=$[1].length,$=parseInt($[1],16),ht===6?rgbn($):ht===3?new Rgb($>>8&15|$>>4&240,$>>4&15|$&240,($&15)<<4|$&15,1):ht===8?rgba($>>24&255,$>>16&255,$>>8&255,($&255)/255):ht===4?rgba($>>12&15|$>>8&240,$>>8&15|$>>4&240,$>>4&15|$&240,(($&15)<<4|$&15)/255):null):($=reRgbInteger.exec(_e))?new Rgb($[1],$[2],$[3],1):($=reRgbPercent.exec(_e))?new Rgb($[1]*255/100,$[2]*255/100,$[3]*255/100,1):($=reRgbaInteger.exec(_e))?rgba($[1],$[2],$[3],$[4]):($=reRgbaPercent.exec(_e))?rgba($[1]*255/100,$[2]*255/100,$[3]*255/100,$[4]):($=reHslPercent.exec(_e))?hsla($[1],$[2]/100,$[3]/100,1):($=reHslaPercent.exec(_e))?hsla($[1],$[2]/100,$[3]/100,$[4]):named.hasOwnProperty(_e)?rgbn(named[_e]):_e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(_e){return new Rgb(_e>>16&255,_e>>8&255,_e&255,1)}function rgba(_e,$,ht,vt){return vt<=0&&(_e=$=ht=NaN),new Rgb(_e,$,ht,vt)}function rgbConvert(_e){return _e instanceof Color||(_e=color(_e)),_e?(_e=_e.rgb(),new Rgb(_e.r,_e.g,_e.b,_e.opacity)):new Rgb}function rgb$1(_e,$,ht,vt){return arguments.length===1?rgbConvert(_e):new Rgb(_e,$,ht,vt??1)}function Rgb(_e,$,ht,vt){this.r=+_e,this.g=+$,this.b=+ht,this.opacity=+vt}define(Rgb,rgb$1,extend(Color,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Rgb(this.r*_e,this.g*_e,this.b*_e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const _e=clampa(this.opacity);return`${_e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${_e===1?")":`, ${_e})`}`}function clampa(_e){return isNaN(_e)?1:Math.max(0,Math.min(1,_e))}function clampi(_e){return Math.max(0,Math.min(255,Math.round(_e)||0))}function hex(_e){return _e=clampi(_e),(_e<16?"0":"")+_e.toString(16)}function hsla(_e,$,ht,vt){return vt<=0?_e=$=ht=NaN:ht<=0||ht>=1?_e=$=NaN:$<=0&&(_e=NaN),new Hsl(_e,$,ht,vt)}function hslConvert(_e){if(_e instanceof Hsl)return new Hsl(_e.h,_e.s,_e.l,_e.opacity);if(_e instanceof Color||(_e=color(_e)),!_e)return new Hsl;if(_e instanceof Hsl)return _e;_e=_e.rgb();var $=_e.r/255,ht=_e.g/255,vt=_e.b/255,bt=Math.min($,ht,vt),_t=Math.max($,ht,vt),wt=NaN,At=_t-bt,St=(_t+bt)/2;return At?($===_t?wt=(ht-vt)/At+(ht<vt)*6:ht===_t?wt=(vt-$)/At+2:wt=($-ht)/At+4,At/=St<.5?_t+bt:2-_t-bt,wt*=60):At=St>0&&St<1?0:wt,new Hsl(wt,At,St,_e.opacity)}function hsl(_e,$,ht,vt){return arguments.length===1?hslConvert(_e):new Hsl(_e,$,ht,vt??1)}function Hsl(_e,$,ht,vt){this.h=+_e,this.s=+$,this.l=+ht,this.opacity=+vt}define(Hsl,hsl,extend(Color,{brighter(_e){return _e=_e==null?brighter:Math.pow(brighter,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},darker(_e){return _e=_e==null?darker:Math.pow(darker,_e),new Hsl(this.h,this.s,this.l*_e,this.opacity)},rgb(){var _e=this.h%360+(this.h<0)*360,$=isNaN(_e)||isNaN(this.s)?0:this.s,ht=this.l,vt=ht+(ht<.5?ht:1-ht)*$,bt=2*ht-vt;return new Rgb(hsl2rgb(_e>=240?_e-240:_e+120,bt,vt),hsl2rgb(_e,bt,vt),hsl2rgb(_e<120?_e+240:_e-120,bt,vt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const _e=clampa(this.opacity);return`${_e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${_e===1?")":`, ${_e})`}`}}));function clamph(_e){return _e=(_e||0)%360,_e<0?_e+360:_e}function clampt(_e){return Math.max(0,Math.min(1,_e||0))}function hsl2rgb(_e,$,ht){return(_e<60?$+(ht-$)*_e/60:_e<180?ht:_e<240?$+(ht-$)*(240-_e)/60:$)*255}const constant=_e=>()=>_e;function linear$1(_e,$){return function(ht){return _e+ht*$}}function exponential(_e,$,ht){return _e=Math.pow(_e,ht),$=Math.pow($,ht)-_e,ht=1/ht,function(vt){return Math.pow(_e+vt*$,ht)}}function gamma(_e){return(_e=+_e)==1?nogamma:function($,ht){return ht-$?exponential($,ht,_e):constant(isNaN($)?ht:$)}}function nogamma(_e,$){var ht=$-_e;return ht?linear$1(_e,ht):constant(isNaN(_e)?$:_e)}const rgb=function _e($){var ht=gamma($);function vt(bt,_t){var wt=ht((bt=rgb$1(bt)).r,(_t=rgb$1(_t)).r),At=ht(bt.g,_t.g),St=ht(bt.b,_t.b),Et=nogamma(bt.opacity,_t.opacity);return function(xt){return bt.r=wt(xt),bt.g=At(xt),bt.b=St(xt),bt.opacity=Et(xt),bt+""}}return vt.gamma=_e,vt}(1);function numberArray(_e,$){$||($=[]);var ht=_e?Math.min($.length,_e.length):0,vt=$.slice(),bt;return function(_t){for(bt=0;bt<ht;++bt)vt[bt]=_e[bt]*(1-_t)+$[bt]*_t;return vt}}function isNumberArray(_e){return ArrayBuffer.isView(_e)&&!(_e instanceof DataView)}function genericArray(_e,$){var ht=$?$.length:0,vt=_e?Math.min(ht,_e.length):0,bt=new Array(vt),_t=new Array(ht),wt;for(wt=0;wt<vt;++wt)bt[wt]=interpolate(_e[wt],$[wt]);for(;wt<ht;++wt)_t[wt]=$[wt];return function(At){for(wt=0;wt<vt;++wt)_t[wt]=bt[wt](At);return _t}}function date$1(_e,$){var ht=new Date;return _e=+_e,$=+$,function(vt){return ht.setTime(_e*(1-vt)+$*vt),ht}}function interpolateNumber$1(_e,$){return _e=+_e,$=+$,function(ht){return _e*(1-ht)+$*ht}}function object(_e,$){var ht={},vt={},bt;(_e===null||typeof _e!="object")&&(_e={}),($===null||typeof $!="object")&&($={});for(bt in $)bt in _e?ht[bt]=interpolate(_e[bt],$[bt]):vt[bt]=$[bt];return function(_t){for(bt in ht)vt[bt]=ht[bt](_t);return vt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(_e){return function(){return _e}}function one(_e){return function($){return _e($)+""}}function string(_e,$){var ht=reA.lastIndex=reB.lastIndex=0,vt,bt,_t,wt=-1,At=[],St=[];for(_e=_e+"",$=$+"";(vt=reA.exec(_e))&&(bt=reB.exec($));)(_t=bt.index)>ht&&(_t=$.slice(ht,_t),At[wt]?At[wt]+=_t:At[++wt]=_t),(vt=vt[0])===(bt=bt[0])?At[wt]?At[wt]+=bt:At[++wt]=bt:(At[++wt]=null,St.push({i:wt,x:interpolateNumber$1(vt,bt)})),ht=reB.lastIndex;return ht<$.length&&(_t=$.slice(ht),At[wt]?At[wt]+=_t:At[++wt]=_t),At.length<2?St[0]?one(St[0].x):zero($):($=St.length,function(Et){for(var xt=0,Pt;xt<$;++xt)At[(Pt=St[xt]).i]=Pt.x(Et);return At.join("")})}function interpolate(_e,$){var ht=typeof $,vt;return $==null||ht==="boolean"?constant($):(ht==="number"?interpolateNumber$1:ht==="string"?(vt=color($))?($=vt,rgb):string:$ instanceof color?rgb:$ instanceof Date?date$1:isNumberArray($)?numberArray:Array.isArray($)?genericArray:typeof $.valueOf!="function"&&typeof $.toString!="function"||isNaN($)?object:interpolateNumber$1)(_e,$)}function interpolateRound(_e,$){return _e=+_e,$=+$,function(ht){return Math.round(_e*(1-ht)+$*ht)}}function piecewise(_e,$){$===void 0&&($=_e,_e=interpolate);for(var ht=0,vt=$.length-1,bt=$[0],_t=new Array(vt<0?0:vt);ht<vt;)_t[ht]=_e(bt,bt=$[++ht]);return function(wt){var At=Math.max(0,Math.min(vt-1,Math.floor(wt*=vt)));return _t[At](wt-At)}}function constants(_e){return function(){return _e}}function number$1(_e){return+_e}var unit=[0,1];function identity$6(_e){return _e}function normalize(_e,$){return($-=_e=+_e)?function(ht){return(ht-_e)/$}:constants(isNaN($)?NaN:.5)}function clamper(_e,$){var ht;return _e>$&&(ht=_e,_e=$,$=ht),function(vt){return Math.max(_e,Math.min($,vt))}}function bimap(_e,$,ht){var vt=_e[0],bt=_e[1],_t=$[0],wt=$[1];return bt<vt?(vt=normalize(bt,vt),_t=ht(wt,_t)):(vt=normalize(vt,bt),_t=ht(_t,wt)),function(At){return _t(vt(At))}}function polymap(_e,$,ht){var vt=Math.min(_e.length,$.length)-1,bt=new Array(vt),_t=new Array(vt),wt=-1;for(_e[vt]<_e[0]&&(_e=_e.slice().reverse(),$=$.slice().reverse());++wt<vt;)bt[wt]=normalize(_e[wt],_e[wt+1]),_t[wt]=ht($[wt],$[wt+1]);return function(At){var St=bisectRight(_e,At,1,vt)-1;return _t[St](bt[St](At))}}function copy$1(_e,$){return $.domain(_e.domain()).range(_e.range()).interpolate(_e.interpolate()).clamp(_e.clamp()).unknown(_e.unknown())}function transformer$2(){var _e=unit,$=unit,ht=interpolate,vt,bt,_t,wt=identity$6,At,St,Et;function xt(){var $t=Math.min(_e.length,$.length);return wt!==identity$6&&(wt=clamper(_e[0],_e[$t-1])),At=$t>2?polymap:bimap,St=Et=null,Pt}function Pt($t){return $t==null||isNaN($t=+$t)?_t:(St||(St=At(_e.map(vt),$,ht)))(vt(wt($t)))}return Pt.invert=function($t){return wt(bt((Et||(Et=At($,_e.map(vt),interpolateNumber$1)))($t)))},Pt.domain=function($t){return arguments.length?(_e=Array.from($t,number$1),xt()):_e.slice()},Pt.range=function($t){return arguments.length?($=Array.from($t),xt()):$.slice()},Pt.rangeRound=function($t){return $=Array.from($t),ht=interpolateRound,xt()},Pt.clamp=function($t){return arguments.length?(wt=$t?!0:identity$6,xt()):wt!==identity$6},Pt.interpolate=function($t){return arguments.length?(ht=$t,xt()):ht},Pt.unknown=function($t){return arguments.length?(_t=$t,Pt):_t},function($t,kt){return vt=$t,bt=kt,xt()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(_e){return Math.abs(_e=Math.round(_e))>=1e21?_e.toLocaleString("en").replace(/,/g,""):_e.toString(10)}function formatDecimalParts(_e,$){if((ht=(_e=$?_e.toExponential($-1):_e.toExponential()).indexOf("e"))<0)return null;var ht,vt=_e.slice(0,ht);return[vt.length>1?vt[0]+vt.slice(2):vt,+_e.slice(ht+1)]}function exponent(_e){return _e=formatDecimalParts(Math.abs(_e)),_e?_e[1]:NaN}function formatGroup(_e,$){return function(ht,vt){for(var bt=ht.length,_t=[],wt=0,At=_e[0],St=0;bt>0&&At>0&&(St+At+1>vt&&(At=Math.max(1,vt-St)),_t.push(ht.substring(bt-=At,bt+At)),!((St+=At+1)>vt));)At=_e[wt=(wt+1)%_e.length];return _t.reverse().join($)}}function formatNumerals(_e){return function($){return $.replace(/[0-9]/g,function(ht){return _e[+ht]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(_e){if(!($=re.exec(_e)))throw new Error("invalid format: "+_e);var $;return new FormatSpecifier({fill:$[1],align:$[2],sign:$[3],symbol:$[4],zero:$[5],width:$[6],comma:$[7],precision:$[8]&&$[8].slice(1),trim:$[9],type:$[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(_e){this.fill=_e.fill===void 0?" ":_e.fill+"",this.align=_e.align===void 0?">":_e.align+"",this.sign=_e.sign===void 0?"-":_e.sign+"",this.symbol=_e.symbol===void 0?"":_e.symbol+"",this.zero=!!_e.zero,this.width=_e.width===void 0?void 0:+_e.width,this.comma=!!_e.comma,this.precision=_e.precision===void 0?void 0:+_e.precision,this.trim=!!_e.trim,this.type=_e.type===void 0?"":_e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(_e){e:for(var $=_e.length,ht=1,vt=-1,bt;ht<$;++ht)switch(_e[ht]){case".":vt=bt=ht;break;case"0":vt===0&&(vt=ht),bt=ht;break;default:if(!+_e[ht])break e;vt>0&&(vt=0);break}return vt>0?_e.slice(0,vt)+_e.slice(bt+1):_e}var prefixExponent;function formatPrefixAuto(_e,$){var ht=formatDecimalParts(_e,$);if(!ht)return _e+"";var vt=ht[0],bt=ht[1],_t=bt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(bt/3)))*3)+1,wt=vt.length;return _t===wt?vt:_t>wt?vt+new Array(_t-wt+1).join("0"):_t>0?vt.slice(0,_t)+"."+vt.slice(_t):"0."+new Array(1-_t).join("0")+formatDecimalParts(_e,Math.max(0,$+_t-1))[0]}function formatRounded(_e,$){var ht=formatDecimalParts(_e,$);if(!ht)return _e+"";var vt=ht[0],bt=ht[1];return bt<0?"0."+new Array(-bt).join("0")+vt:vt.length>bt+1?vt.slice(0,bt+1)+"."+vt.slice(bt+1):vt+new Array(bt-vt.length+2).join("0")}const formatTypes={"%":(_e,$)=>(_e*100).toFixed($),b:_e=>Math.round(_e).toString(2),c:_e=>_e+"",d:formatDecimal,e:(_e,$)=>_e.toExponential($),f:(_e,$)=>_e.toFixed($),g:(_e,$)=>_e.toPrecision($),o:_e=>Math.round(_e).toString(8),p:(_e,$)=>formatRounded(_e*100,$),r:formatRounded,s:formatPrefixAuto,X:_e=>Math.round(_e).toString(16).toUpperCase(),x:_e=>Math.round(_e).toString(16)};function identity$5(_e){return _e}var map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(_e){var $=_e.grouping===void 0||_e.thousands===void 0?identity$5:formatGroup(map$3.call(_e.grouping,Number),_e.thousands+""),ht=_e.currency===void 0?"":_e.currency[0]+"",vt=_e.currency===void 0?"":_e.currency[1]+"",bt=_e.decimal===void 0?".":_e.decimal+"",_t=_e.numerals===void 0?identity$5:formatNumerals(map$3.call(_e.numerals,String)),wt=_e.percent===void 0?"%":_e.percent+"",At=_e.minus===void 0?"−":_e.minus+"",St=_e.nan===void 0?"NaN":_e.nan+"";function Et(Pt){Pt=formatSpecifier(Pt);var $t=Pt.fill,kt=Pt.align,Rt=Pt.sign,Mt=Pt.symbol,Dt=Pt.zero,Ot=Pt.width,Lt=Pt.comma,Nt=Pt.precision,Ht=Pt.trim,Ft=Pt.type;Ft==="n"?(Lt=!0,Ft="g"):formatTypes[Ft]||(Nt===void 0&&(Nt=12),Ht=!0,Ft="g"),(Dt||$t==="0"&&kt==="=")&&(Dt=!0,$t="0",kt="=");var jt=Mt==="$"?ht:Mt==="#"&&/[boxX]/.test(Ft)?"0"+Ft.toLowerCase():"",Bt=Mt==="$"?vt:/[%p]/.test(Ft)?wt:"",Vt=formatTypes[Ft],Ut=/[defgprs%]/.test(Ft);Nt=Nt===void 0?6:/[gprs]/.test(Ft)?Math.max(1,Math.min(21,Nt)):Math.max(0,Math.min(20,Nt));function Jt(Wt){var Qt=jt,tn=Bt,pn,nn,hn;if(Ft==="c")tn=Vt(Wt)+tn,Wt="";else{Wt=+Wt;var sn=Wt<0||1/Wt<0;if(Wt=isNaN(Wt)?St:Vt(Math.abs(Wt),Nt),Ht&&(Wt=formatTrim(Wt)),sn&&+Wt==0&&Rt!=="+"&&(sn=!1),Qt=(sn?Rt==="("?Rt:At:Rt==="-"||Rt==="("?"":Rt)+Qt,tn=(Ft==="s"?prefixes[8+prefixExponent/3]:"")+tn+(sn&&Rt==="("?")":""),Ut){for(pn=-1,nn=Wt.length;++pn<nn;)if(hn=Wt.charCodeAt(pn),48>hn||hn>57){tn=(hn===46?bt+Wt.slice(pn+1):Wt.slice(pn))+tn,Wt=Wt.slice(0,pn);break}}}Lt&&!Dt&&(Wt=$(Wt,1/0));var un=Qt.length+Wt.length+tn.length,en=un<Ot?new Array(Ot-un+1).join($t):"";switch(Lt&&Dt&&(Wt=$(en+Wt,en.length?Ot-tn.length:1/0),en=""),kt){case"<":Wt=Qt+Wt+tn+en;break;case"=":Wt=Qt+en+Wt+tn;break;case"^":Wt=en.slice(0,un=en.length>>1)+Qt+Wt+tn+en.slice(un);break;default:Wt=en+Qt+Wt+tn;break}return _t(Wt)}return Jt.toString=function(){return Pt+""},Jt}function xt(Pt,$t){var kt=Et((Pt=formatSpecifier(Pt),Pt.type="f",Pt)),Rt=Math.max(-8,Math.min(8,Math.floor(exponent($t)/3)))*3,Mt=Math.pow(10,-Rt),Dt=prefixes[8+Rt/3];return function(Ot){return kt(Mt*Ot)+Dt}}return{format:Et,formatPrefix:xt}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(_e){return locale$1=formatLocale$1(_e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(_e){return Math.max(0,-exponent(Math.abs(_e)))}function precisionPrefix(_e,$){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent($)/3)))*3-exponent(Math.abs(_e)))}function precisionRound(_e,$){return _e=Math.abs(_e),$=Math.abs($)-_e,Math.max(0,exponent($)-exponent(_e))+1}function tickFormat(_e,$,ht,vt){var bt=tickStep(_e,$,ht),_t;switch(vt=formatSpecifier(vt??",f"),vt.type){case"s":{var wt=Math.max(Math.abs(_e),Math.abs($));return vt.precision==null&&!isNaN(_t=precisionPrefix(bt,wt))&&(vt.precision=_t),formatPrefix(vt,wt)}case"":case"e":case"g":case"p":case"r":{vt.precision==null&&!isNaN(_t=precisionRound(bt,Math.max(Math.abs(_e),Math.abs($))))&&(vt.precision=_t-(vt.type==="e"));break}case"f":case"%":{vt.precision==null&&!isNaN(_t=precisionFixed(bt))&&(vt.precision=_t-(vt.type==="%")*2);break}}return format(vt)}function linearish(_e){var $=_e.domain;return _e.ticks=function(ht){var vt=$();return ticks(vt[0],vt[vt.length-1],ht??10)},_e.tickFormat=function(ht,vt){var bt=$();return tickFormat(bt[0],bt[bt.length-1],ht??10,vt)},_e.nice=function(ht){ht==null&&(ht=10);var vt=$(),bt=0,_t=vt.length-1,wt=vt[bt],At=vt[_t],St,Et,xt=10;for(At<wt&&(Et=wt,wt=At,At=Et,Et=bt,bt=_t,_t=Et);xt-- >0;){if(Et=tickIncrement(wt,At,ht),Et===St)return vt[bt]=wt,vt[_t]=At,$(vt);if(Et>0)wt=Math.floor(wt/Et)*Et,At=Math.ceil(At/Et)*Et;else if(Et<0)wt=Math.ceil(wt*Et)/Et,At=Math.floor(At*Et)/Et;else break;St=Et}return _e},_e}function linear(){var _e=continuous();return _e.copy=function(){return copy$1(_e,linear())},initRange.apply(_e,arguments),linearish(_e)}function identity$4(_e){var $;function ht(vt){return vt==null||isNaN(vt=+vt)?$:vt}return ht.invert=ht,ht.domain=ht.range=function(vt){return arguments.length?(_e=Array.from(vt,number$1),ht):_e.slice()},ht.unknown=function(vt){return arguments.length?($=vt,ht):$},ht.copy=function(){return identity$4(_e).unknown($)},_e=arguments.length?Array.from(_e,number$1):[0,1],linearish(ht)}function nice(_e,$){_e=_e.slice();var ht=0,vt=_e.length-1,bt=_e[ht],_t=_e[vt],wt;return _t<bt&&(wt=ht,ht=vt,vt=wt,wt=bt,bt=_t,_t=wt),_e[ht]=$.floor(bt),_e[vt]=$.ceil(_t),_e}function transformLog(_e){return Math.log(_e)}function transformExp(_e){return Math.exp(_e)}function transformLogn(_e){return-Math.log(-_e)}function transformExpn(_e){return-Math.exp(-_e)}function pow10(_e){return isFinite(_e)?+("1e"+_e):_e<0?0:_e}function powp(_e){return _e===10?pow10:_e===Math.E?Math.exp:$=>Math.pow(_e,$)}function logp(_e){return _e===Math.E?Math.log:_e===10&&Math.log10||_e===2&&Math.log2||(_e=Math.log(_e),$=>Math.log($)/_e)}function reflect(_e){return($,ht)=>-_e(-$,ht)}function loggish(_e){const $=_e(transformLog,transformExp),ht=$.domain;let vt=10,bt,_t;function wt(){return bt=logp(vt),_t=powp(vt),ht()[0]<0?(bt=reflect(bt),_t=reflect(_t),_e(transformLogn,transformExpn)):_e(transformLog,transformExp),$}return $.base=function(At){return arguments.length?(vt=+At,wt()):vt},$.domain=function(At){return arguments.length?(ht(At),wt()):ht()},$.ticks=At=>{const St=ht();let Et=St[0],xt=St[St.length-1];const Pt=xt<Et;Pt&&([Et,xt]=[xt,Et]);let $t=bt(Et),kt=bt(xt),Rt,Mt;const Dt=At==null?10:+At;let Ot=[];if(!(vt%1)&&kt-$t<Dt){if($t=Math.floor($t),kt=Math.ceil(kt),Et>0){for(;$t<=kt;++$t)for(Rt=1;Rt<vt;++Rt)if(Mt=$t<0?Rt/_t(-$t):Rt*_t($t),!(Mt<Et)){if(Mt>xt)break;Ot.push(Mt)}}else for(;$t<=kt;++$t)for(Rt=vt-1;Rt>=1;--Rt)if(Mt=$t>0?Rt/_t(-$t):Rt*_t($t),!(Mt<Et)){if(Mt>xt)break;Ot.push(Mt)}Ot.length*2<Dt&&(Ot=ticks(Et,xt,Dt))}else Ot=ticks($t,kt,Math.min(kt-$t,Dt)).map(_t);return Pt?Ot.reverse():Ot},$.tickFormat=(At,St)=>{if(At==null&&(At=10),St==null&&(St=vt===10?"s":","),typeof St!="function"&&(!(vt%1)&&(St=formatSpecifier(St)).precision==null&&(St.trim=!0),St=format(St)),At===1/0)return St;const Et=Math.max(1,vt*At/$.ticks().length);return xt=>{let Pt=xt/_t(Math.round(bt(xt)));return Pt*vt<vt-.5&&(Pt*=vt),Pt<=Et?St(xt):""}},$.nice=()=>ht(nice(ht(),{floor:At=>_t(Math.floor(bt(At))),ceil:At=>_t(Math.ceil(bt(At)))})),$}function log(){const _e=loggish(transformer$2()).domain([1,10]);return _e.copy=()=>copy$1(_e,log()).base(_e.base()),initRange.apply(_e,arguments),_e}function transformSymlog(_e){return function($){return Math.sign($)*Math.log1p(Math.abs($/_e))}}function transformSymexp(_e){return function($){return Math.sign($)*Math.expm1(Math.abs($))*_e}}function symlogish(_e){var $=1,ht=_e(transformSymlog($),transformSymexp($));return ht.constant=function(vt){return arguments.length?_e(transformSymlog($=+vt),transformSymexp($)):$},linearish(ht)}function symlog(){var _e=symlogish(transformer$2());return _e.copy=function(){return copy$1(_e,symlog()).constant(_e.constant())},initRange.apply(_e,arguments)}function transformPow(_e){return function($){return $<0?-Math.pow(-$,_e):Math.pow($,_e)}}function transformSqrt(_e){return _e<0?-Math.sqrt(-_e):Math.sqrt(_e)}function transformSquare(_e){return _e<0?-_e*_e:_e*_e}function powish(_e){var $=_e(identity$6,identity$6),ht=1;function vt(){return ht===1?_e(identity$6,identity$6):ht===.5?_e(transformSqrt,transformSquare):_e(transformPow(ht),transformPow(1/ht))}return $.exponent=function(bt){return arguments.length?(ht=+bt,vt()):ht},linearish($)}function pow(){var _e=powish(transformer$2());return _e.copy=function(){return copy$1(_e,pow()).exponent(_e.exponent())},initRange.apply(_e,arguments),_e}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(_e){return Math.sign(_e)*_e*_e}function unsquare(_e){return Math.sign(_e)*Math.sqrt(Math.abs(_e))}function radial(){var _e=continuous(),$=[0,1],ht=!1,vt;function bt(_t){var wt=unsquare(_e(_t));return isNaN(wt)?vt:ht?Math.round(wt):wt}return bt.invert=function(_t){return _e.invert(square(_t))},bt.domain=function(_t){return arguments.length?(_e.domain(_t),bt):_e.domain()},bt.range=function(_t){return arguments.length?(_e.range(($=Array.from(_t,number$1)).map(square)),bt):$.slice()},bt.rangeRound=function(_t){return bt.range(_t).round(!0)},bt.round=function(_t){return arguments.length?(ht=!!_t,bt):ht},bt.clamp=function(_t){return arguments.length?(_e.clamp(_t),bt):_e.clamp()},bt.unknown=function(_t){return arguments.length?(vt=_t,bt):vt},bt.copy=function(){return radial(_e.domain(),$).round(ht).clamp(_e.clamp()).unknown(vt)},initRange.apply(bt,arguments),linearish(bt)}function quantile(){var _e=[],$=[],ht=[],vt;function bt(){var wt=0,At=Math.max(1,$.length);for(ht=new Array(At-1);++wt<At;)ht[wt-1]=quantileSorted(_e,wt/At);return _t}function _t(wt){return wt==null||isNaN(wt=+wt)?vt:$[bisectRight(ht,wt)]}return _t.invertExtent=function(wt){var At=$.indexOf(wt);return At<0?[NaN,NaN]:[At>0?ht[At-1]:_e[0],At<ht.length?ht[At]:_e[_e.length-1]]},_t.domain=function(wt){if(!arguments.length)return _e.slice();_e=[];for(let At of wt)At!=null&&!isNaN(At=+At)&&_e.push(At);return _e.sort(ascending),bt()},_t.range=function(wt){return arguments.length?($=Array.from(wt),bt()):$.slice()},_t.unknown=function(wt){return arguments.length?(vt=wt,_t):vt},_t.quantiles=function(){return ht.slice()},_t.copy=function(){return quantile().domain(_e).range($).unknown(vt)},initRange.apply(_t,arguments)}function quantize(){var _e=0,$=1,ht=1,vt=[.5],bt=[0,1],_t;function wt(St){return St!=null&&St<=St?bt[bisectRight(vt,St,0,ht)]:_t}function At(){var St=-1;for(vt=new Array(ht);++St<ht;)vt[St]=((St+1)*$-(St-ht)*_e)/(ht+1);return wt}return wt.domain=function(St){return arguments.length?([_e,$]=St,_e=+_e,$=+$,At()):[_e,$]},wt.range=function(St){return arguments.length?(ht=(bt=Array.from(St)).length-1,At()):bt.slice()},wt.invertExtent=function(St){var Et=bt.indexOf(St);return Et<0?[NaN,NaN]:Et<1?[_e,vt[0]]:Et>=ht?[vt[ht-1],$]:[vt[Et-1],vt[Et]]},wt.unknown=function(St){return arguments.length&&(_t=St),wt},wt.thresholds=function(){return vt.slice()},wt.copy=function(){return quantize().domain([_e,$]).range(bt).unknown(_t)},initRange.apply(linearish(wt),arguments)}function threshold(){var _e=[.5],$=[0,1],ht,vt=1;function bt(_t){return _t!=null&&_t<=_t?$[bisectRight(_e,_t,0,vt)]:ht}return bt.domain=function(_t){return arguments.length?(_e=Array.from(_t),vt=Math.min(_e.length,$.length-1),bt):_e.slice()},bt.range=function(_t){return arguments.length?($=Array.from(_t),vt=Math.min(_e.length,$.length-1),bt):$.slice()},bt.invertExtent=function(_t){var wt=$.indexOf(_t);return[_e[wt-1],_e[wt]]},bt.unknown=function(_t){return arguments.length?(ht=_t,bt):ht},bt.copy=function(){return threshold().domain(_e).range($).unknown(ht)},initRange.apply(bt,arguments)}const t0=new Date,t1=new Date;function timeInterval(_e,$,ht,vt){function bt(_t){return _e(_t=arguments.length===0?new Date:new Date(+_t)),_t}return bt.floor=_t=>(_e(_t=new Date(+_t)),_t),bt.ceil=_t=>(_e(_t=new Date(_t-1)),$(_t,1),_e(_t),_t),bt.round=_t=>{const wt=bt(_t),At=bt.ceil(_t);return _t-wt<At-_t?wt:At},bt.offset=(_t,wt)=>($(_t=new Date(+_t),wt==null?1:Math.floor(wt)),_t),bt.range=(_t,wt,At)=>{const St=[];if(_t=bt.ceil(_t),At=At==null?1:Math.floor(At),!(_t<wt)||!(At>0))return St;let Et;do St.push(Et=new Date(+_t)),$(_t,At),_e(_t);while(Et<_t&&_t<wt);return St},bt.filter=_t=>timeInterval(wt=>{if(wt>=wt)for(;_e(wt),!_t(wt);)wt.setTime(wt-1)},(wt,At)=>{if(wt>=wt)if(At<0)for(;++At<=0;)for(;$(wt,-1),!_t(wt););else for(;--At>=0;)for(;$(wt,1),!_t(wt););}),ht&&(bt.count=(_t,wt)=>(t0.setTime(+_t),t1.setTime(+wt),_e(t0),_e(t1),Math.floor(ht(t0,t1))),bt.every=_t=>(_t=Math.floor(_t),!isFinite(_t)||!(_t>0)?null:_t>1?bt.filter(vt?wt=>vt(wt)%_t===0:wt=>bt.count(0,wt)%_t===0):bt)),bt}const millisecond=timeInterval(()=>{},(_e,$)=>{_e.setTime(+_e+$)},(_e,$)=>$-_e);millisecond.every=_e=>(_e=Math.floor(_e),!isFinite(_e)||!(_e>0)?null:_e>1?timeInterval($=>{$.setTime(Math.floor($/_e)*_e)},($,ht)=>{$.setTime(+$+ht*_e)},($,ht)=>(ht-$)/_e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds())},(_e,$)=>{_e.setTime(+_e+$*durationSecond)},(_e,$)=>($-_e)/durationSecond,_e=>_e.getUTCSeconds());second.range;const timeMinute=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond)},(_e,$)=>{_e.setTime(+_e+$*durationMinute)},(_e,$)=>($-_e)/durationMinute,_e=>_e.getMinutes());timeMinute.range;const utcMinute=timeInterval(_e=>{_e.setUTCSeconds(0,0)},(_e,$)=>{_e.setTime(+_e+$*durationMinute)},(_e,$)=>($-_e)/durationMinute,_e=>_e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(_e=>{_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*durationSecond-_e.getMinutes()*durationMinute)},(_e,$)=>{_e.setTime(+_e+$*durationHour)},(_e,$)=>($-_e)/durationHour,_e=>_e.getHours());timeHour.range;const utcHour=timeInterval(_e=>{_e.setUTCMinutes(0,0,0)},(_e,$)=>{_e.setTime(+_e+$*durationHour)},(_e,$)=>($-_e)/durationHour,_e=>_e.getUTCHours());utcHour.range;const timeDay=timeInterval(_e=>_e.setHours(0,0,0,0),(_e,$)=>_e.setDate(_e.getDate()+$),(_e,$)=>($-_e-($.getTimezoneOffset()-_e.getTimezoneOffset())*durationMinute)/durationDay,_e=>_e.getDate()-1);timeDay.range;const utcDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,$)=>{_e.setUTCDate(_e.getUTCDate()+$)},(_e,$)=>($-_e)/durationDay,_e=>_e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(_e=>{_e.setUTCHours(0,0,0,0)},(_e,$)=>{_e.setUTCDate(_e.getUTCDate()+$)},(_e,$)=>($-_e)/durationDay,_e=>Math.floor(_e/durationDay));unixDay.range;function timeWeekday(_e){return timeInterval($=>{$.setDate($.getDate()-($.getDay()+7-_e)%7),$.setHours(0,0,0,0)},($,ht)=>{$.setDate($.getDate()+ht*7)},($,ht)=>(ht-$-(ht.getTimezoneOffset()-$.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(_e){return timeInterval($=>{$.setUTCDate($.getUTCDate()-($.getUTCDay()+7-_e)%7),$.setUTCHours(0,0,0,0)},($,ht)=>{$.setUTCDate($.getUTCDate()+ht*7)},($,ht)=>(ht-$)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(_e=>{_e.setDate(1),_e.setHours(0,0,0,0)},(_e,$)=>{_e.setMonth(_e.getMonth()+$)},(_e,$)=>$.getMonth()-_e.getMonth()+($.getFullYear()-_e.getFullYear())*12,_e=>_e.getMonth());timeMonth.range;const utcMonth=timeInterval(_e=>{_e.setUTCDate(1),_e.setUTCHours(0,0,0,0)},(_e,$)=>{_e.setUTCMonth(_e.getUTCMonth()+$)},(_e,$)=>$.getUTCMonth()-_e.getUTCMonth()+($.getUTCFullYear()-_e.getUTCFullYear())*12,_e=>_e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(_e=>{_e.setMonth(0,1),_e.setHours(0,0,0,0)},(_e,$)=>{_e.setFullYear(_e.getFullYear()+$)},(_e,$)=>$.getFullYear()-_e.getFullYear(),_e=>_e.getFullYear());timeYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval($=>{$.setFullYear(Math.floor($.getFullYear()/_e)*_e),$.setMonth(0,1),$.setHours(0,0,0,0)},($,ht)=>{$.setFullYear($.getFullYear()+ht*_e)});timeYear.range;const utcYear=timeInterval(_e=>{_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},(_e,$)=>{_e.setUTCFullYear(_e.getUTCFullYear()+$)},(_e,$)=>$.getUTCFullYear()-_e.getUTCFullYear(),_e=>_e.getUTCFullYear());utcYear.every=_e=>!isFinite(_e=Math.floor(_e))||!(_e>0)?null:timeInterval($=>{$.setUTCFullYear(Math.floor($.getUTCFullYear()/_e)*_e),$.setUTCMonth(0,1),$.setUTCHours(0,0,0,0)},($,ht)=>{$.setUTCFullYear($.getUTCFullYear()+ht*_e)});utcYear.range;function ticker(_e,$,ht,vt,bt,_t){const wt=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[_t,1,durationMinute],[_t,5,5*durationMinute],[_t,15,15*durationMinute],[_t,30,30*durationMinute],[bt,1,durationHour],[bt,3,3*durationHour],[bt,6,6*durationHour],[bt,12,12*durationHour],[vt,1,durationDay],[vt,2,2*durationDay],[ht,1,durationWeek],[$,1,durationMonth],[$,3,3*durationMonth],[_e,1,durationYear]];function At(Et,xt,Pt){const $t=xt<Et;$t&&([Et,xt]=[xt,Et]);const kt=Pt&&typeof Pt.range=="function"?Pt:St(Et,xt,Pt),Rt=kt?kt.range(Et,+xt+1):[];return $t?Rt.reverse():Rt}function St(Et,xt,Pt){const $t=Math.abs(xt-Et)/Pt,kt=bisector(([,,Dt])=>Dt).right(wt,$t);if(kt===wt.length)return _e.every(tickStep(Et/durationYear,xt/durationYear,Pt));if(kt===0)return millisecond.every(Math.max(tickStep(Et,xt,Pt),1));const[Rt,Mt]=wt[$t/wt[kt-1][2]<wt[kt][2]/$t?kt-1:kt];return Rt.every(Mt)}return[At,St]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(_e){if(0<=_e.y&&_e.y<100){var $=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return $.setFullYear(_e.y),$}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function utcDate(_e){if(0<=_e.y&&_e.y<100){var $=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return $.setUTCFullYear(_e.y),$}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function newDate(_e,$,ht){return{y:_e,m:$,d:ht,H:0,M:0,S:0,L:0}}function formatLocale(_e){var $=_e.dateTime,ht=_e.date,vt=_e.time,bt=_e.periods,_t=_e.days,wt=_e.shortDays,At=_e.months,St=_e.shortMonths,Et=formatRe(bt),xt=formatLookup(bt),Pt=formatRe(_t),$t=formatLookup(_t),kt=formatRe(wt),Rt=formatLookup(wt),Mt=formatRe(At),Dt=formatLookup(At),Ot=formatRe(St),Lt=formatLookup(St),Nt={a:sn,A:un,b:en,B:fn,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:En,q:rn,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Ht={a:qt,A:Yt,b:an,B:yn,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:mn,q:vn,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Ft={a:Jt,A:Wt,b:Qt,B:tn,c:pn,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Ut,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:nn,X:hn,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};Nt.x=jt(ht,Nt),Nt.X=jt(vt,Nt),Nt.c=jt($,Nt),Ht.x=jt(ht,Ht),Ht.X=jt(vt,Ht),Ht.c=jt($,Ht);function jt(_n,kn){return function(Nn){var xn=[],qn=-1,zn=0,Xn=_n.length,On,Ln,dn;for(Nn instanceof Date||(Nn=new Date(+Nn));++qn<Xn;)_n.charCodeAt(qn)===37&&(xn.push(_n.slice(zn,qn)),(Ln=pads[On=_n.charAt(++qn)])!=null?On=_n.charAt(++qn):Ln=On==="e"?" ":"0",(dn=kn[On])&&(On=dn(Nn,Ln)),xn.push(On),zn=qn+1);return xn.push(_n.slice(zn,qn)),xn.join("")}}function Bt(_n,kn){return function(Nn){var xn=newDate(1900,void 0,1),qn=Vt(xn,_n,Nn+="",0),zn,Xn;if(qn!=Nn.length)return null;if("Q"in xn)return new Date(xn.Q);if("s"in xn)return new Date(xn.s*1e3+("L"in xn?xn.L:0));if(kn&&!("Z"in xn)&&(xn.Z=0),"p"in xn&&(xn.H=xn.H%12+xn.p*12),xn.m===void 0&&(xn.m="q"in xn?xn.q:0),"V"in xn){if(xn.V<1||xn.V>53)return null;"w"in xn||(xn.w=1),"Z"in xn?(zn=utcDate(newDate(xn.y,0,1)),Xn=zn.getUTCDay(),zn=Xn>4||Xn===0?utcMonday.ceil(zn):utcMonday(zn),zn=utcDay.offset(zn,(xn.V-1)*7),xn.y=zn.getUTCFullYear(),xn.m=zn.getUTCMonth(),xn.d=zn.getUTCDate()+(xn.w+6)%7):(zn=localDate(newDate(xn.y,0,1)),Xn=zn.getDay(),zn=Xn>4||Xn===0?timeMonday.ceil(zn):timeMonday(zn),zn=timeDay.offset(zn,(xn.V-1)*7),xn.y=zn.getFullYear(),xn.m=zn.getMonth(),xn.d=zn.getDate()+(xn.w+6)%7)}else("W"in xn||"U"in xn)&&("w"in xn||(xn.w="u"in xn?xn.u%7:"W"in xn?1:0),Xn="Z"in xn?utcDate(newDate(xn.y,0,1)).getUTCDay():localDate(newDate(xn.y,0,1)).getDay(),xn.m=0,xn.d="W"in xn?(xn.w+6)%7+xn.W*7-(Xn+5)%7:xn.w+xn.U*7-(Xn+6)%7);return"Z"in xn?(xn.H+=xn.Z/100|0,xn.M+=xn.Z%100,utcDate(xn)):localDate(xn)}}function Vt(_n,kn,Nn,xn){for(var qn=0,zn=kn.length,Xn=Nn.length,On,Ln;qn<zn;){if(xn>=Xn)return-1;if(On=kn.charCodeAt(qn++),On===37){if(On=kn.charAt(qn++),Ln=Ft[On in pads?kn.charAt(qn++):On],!Ln||(xn=Ln(_n,Nn,xn))<0)return-1}else if(On!=Nn.charCodeAt(xn++))return-1}return xn}function Ut(_n,kn,Nn){var xn=Et.exec(kn.slice(Nn));return xn?(_n.p=xt.get(xn[0].toLowerCase()),Nn+xn[0].length):-1}function Jt(_n,kn,Nn){var xn=kt.exec(kn.slice(Nn));return xn?(_n.w=Rt.get(xn[0].toLowerCase()),Nn+xn[0].length):-1}function Wt(_n,kn,Nn){var xn=Pt.exec(kn.slice(Nn));return xn?(_n.w=$t.get(xn[0].toLowerCase()),Nn+xn[0].length):-1}function Qt(_n,kn,Nn){var xn=Ot.exec(kn.slice(Nn));return xn?(_n.m=Lt.get(xn[0].toLowerCase()),Nn+xn[0].length):-1}function tn(_n,kn,Nn){var xn=Mt.exec(kn.slice(Nn));return xn?(_n.m=Dt.get(xn[0].toLowerCase()),Nn+xn[0].length):-1}function pn(_n,kn,Nn){return Vt(_n,$,kn,Nn)}function nn(_n,kn,Nn){return Vt(_n,ht,kn,Nn)}function hn(_n,kn,Nn){return Vt(_n,vt,kn,Nn)}function sn(_n){return wt[_n.getDay()]}function un(_n){return _t[_n.getDay()]}function en(_n){return St[_n.getMonth()]}function fn(_n){return At[_n.getMonth()]}function En(_n){return bt[+(_n.getHours()>=12)]}function rn(_n){return 1+~~(_n.getMonth()/3)}function qt(_n){return wt[_n.getUTCDay()]}function Yt(_n){return _t[_n.getUTCDay()]}function an(_n){return St[_n.getUTCMonth()]}function yn(_n){return At[_n.getUTCMonth()]}function mn(_n){return bt[+(_n.getUTCHours()>=12)]}function vn(_n){return 1+~~(_n.getUTCMonth()/3)}return{format:function(_n){var kn=jt(_n+="",Nt);return kn.toString=function(){return _n},kn},parse:function(_n){var kn=Bt(_n+="",!1);return kn.toString=function(){return _n},kn},utcFormat:function(_n){var kn=jt(_n+="",Ht);return kn.toString=function(){return _n},kn},utcParse:function(_n){var kn=Bt(_n+="",!0);return kn.toString=function(){return _n},kn}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(_e,$,ht){var vt=_e<0?"-":"",bt=(vt?-_e:_e)+"",_t=bt.length;return vt+(_t<ht?new Array(ht-_t+1).join($)+bt:bt)}function requote(_e){return _e.replace(requoteRe,"\\$&")}function formatRe(_e){return new RegExp("^(?:"+_e.map(requote).join("|")+")","i")}function formatLookup(_e){return new Map(_e.map(($,ht)=>[$.toLowerCase(),ht]))}function parseWeekdayNumberSunday(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+1));return vt?(_e.w=+vt[0],ht+vt[0].length):-1}function parseWeekdayNumberMonday(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+1));return vt?(_e.u=+vt[0],ht+vt[0].length):-1}function parseWeekNumberSunday(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+2));return vt?(_e.U=+vt[0],ht+vt[0].length):-1}function parseWeekNumberISO(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+2));return vt?(_e.V=+vt[0],ht+vt[0].length):-1}function parseWeekNumberMonday(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+2));return vt?(_e.W=+vt[0],ht+vt[0].length):-1}function parseFullYear(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+4));return vt?(_e.y=+vt[0],ht+vt[0].length):-1}function parseYear(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+2));return vt?(_e.y=+vt[0]+(+vt[0]>68?1900:2e3),ht+vt[0].length):-1}function parseZone(_e,$,ht){var vt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec($.slice(ht,ht+6));return vt?(_e.Z=vt[1]?0:-(vt[2]+(vt[3]||"00")),ht+vt[0].length):-1}function parseQuarter(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+1));return vt?(_e.q=vt[0]*3-3,ht+vt[0].length):-1}function parseMonthNumber(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+2));return vt?(_e.m=vt[0]-1,ht+vt[0].length):-1}function parseDayOfMonth(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+2));return vt?(_e.d=+vt[0],ht+vt[0].length):-1}function parseDayOfYear(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+3));return vt?(_e.m=0,_e.d=+vt[0],ht+vt[0].length):-1}function parseHour24(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+2));return vt?(_e.H=+vt[0],ht+vt[0].length):-1}function parseMinutes(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+2));return vt?(_e.M=+vt[0],ht+vt[0].length):-1}function parseSeconds(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+2));return vt?(_e.S=+vt[0],ht+vt[0].length):-1}function parseMilliseconds(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+3));return vt?(_e.L=+vt[0],ht+vt[0].length):-1}function parseMicroseconds(_e,$,ht){var vt=numberRe.exec($.slice(ht,ht+6));return vt?(_e.L=Math.floor(vt[0]/1e3),ht+vt[0].length):-1}function parseLiteralPercent(_e,$,ht){var vt=percentRe.exec($.slice(ht,ht+1));return vt?ht+vt[0].length:-1}function parseUnixTimestamp(_e,$,ht){var vt=numberRe.exec($.slice(ht));return vt?(_e.Q=+vt[0],ht+vt[0].length):-1}function parseUnixTimestampSeconds(_e,$,ht){var vt=numberRe.exec($.slice(ht));return vt?(_e.s=+vt[0],ht+vt[0].length):-1}function formatDayOfMonth(_e,$){return pad(_e.getDate(),$,2)}function formatHour24(_e,$){return pad(_e.getHours(),$,2)}function formatHour12(_e,$){return pad(_e.getHours()%12||12,$,2)}function formatDayOfYear(_e,$){return pad(1+timeDay.count(timeYear(_e),_e),$,3)}function formatMilliseconds(_e,$){return pad(_e.getMilliseconds(),$,3)}function formatMicroseconds(_e,$){return formatMilliseconds(_e,$)+"000"}function formatMonthNumber(_e,$){return pad(_e.getMonth()+1,$,2)}function formatMinutes(_e,$){return pad(_e.getMinutes(),$,2)}function formatSeconds(_e,$){return pad(_e.getSeconds(),$,2)}function formatWeekdayNumberMonday(_e){var $=_e.getDay();return $===0?7:$}function formatWeekNumberSunday(_e,$){return pad(timeSunday.count(timeYear(_e)-1,_e),$,2)}function dISO(_e){var $=_e.getDay();return $>=4||$===0?timeThursday(_e):timeThursday.ceil(_e)}function formatWeekNumberISO(_e,$){return _e=dISO(_e),pad(timeThursday.count(timeYear(_e),_e)+(timeYear(_e).getDay()===4),$,2)}function formatWeekdayNumberSunday(_e){return _e.getDay()}function formatWeekNumberMonday(_e,$){return pad(timeMonday.count(timeYear(_e)-1,_e),$,2)}function formatYear(_e,$){return pad(_e.getFullYear()%100,$,2)}function formatYearISO(_e,$){return _e=dISO(_e),pad(_e.getFullYear()%100,$,2)}function formatFullYear(_e,$){return pad(_e.getFullYear()%1e4,$,4)}function formatFullYearISO(_e,$){var ht=_e.getDay();return _e=ht>=4||ht===0?timeThursday(_e):timeThursday.ceil(_e),pad(_e.getFullYear()%1e4,$,4)}function formatZone(_e){var $=_e.getTimezoneOffset();return($>0?"-":($*=-1,"+"))+pad($/60|0,"0",2)+pad($%60,"0",2)}function formatUTCDayOfMonth(_e,$){return pad(_e.getUTCDate(),$,2)}function formatUTCHour24(_e,$){return pad(_e.getUTCHours(),$,2)}function formatUTCHour12(_e,$){return pad(_e.getUTCHours()%12||12,$,2)}function formatUTCDayOfYear(_e,$){return pad(1+utcDay.count(utcYear(_e),_e),$,3)}function formatUTCMilliseconds(_e,$){return pad(_e.getUTCMilliseconds(),$,3)}function formatUTCMicroseconds(_e,$){return formatUTCMilliseconds(_e,$)+"000"}function formatUTCMonthNumber(_e,$){return pad(_e.getUTCMonth()+1,$,2)}function formatUTCMinutes(_e,$){return pad(_e.getUTCMinutes(),$,2)}function formatUTCSeconds(_e,$){return pad(_e.getUTCSeconds(),$,2)}function formatUTCWeekdayNumberMonday(_e){var $=_e.getUTCDay();return $===0?7:$}function formatUTCWeekNumberSunday(_e,$){return pad(utcSunday.count(utcYear(_e)-1,_e),$,2)}function UTCdISO(_e){var $=_e.getUTCDay();return $>=4||$===0?utcThursday(_e):utcThursday.ceil(_e)}function formatUTCWeekNumberISO(_e,$){return _e=UTCdISO(_e),pad(utcThursday.count(utcYear(_e),_e)+(utcYear(_e).getUTCDay()===4),$,2)}function formatUTCWeekdayNumberSunday(_e){return _e.getUTCDay()}function formatUTCWeekNumberMonday(_e,$){return pad(utcMonday.count(utcYear(_e)-1,_e),$,2)}function formatUTCYear(_e,$){return pad(_e.getUTCFullYear()%100,$,2)}function formatUTCYearISO(_e,$){return _e=UTCdISO(_e),pad(_e.getUTCFullYear()%100,$,2)}function formatUTCFullYear(_e,$){return pad(_e.getUTCFullYear()%1e4,$,4)}function formatUTCFullYearISO(_e,$){var ht=_e.getUTCDay();return _e=ht>=4||ht===0?utcThursday(_e):utcThursday.ceil(_e),pad(_e.getUTCFullYear()%1e4,$,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(_e){return+_e}function formatUnixTimestampSeconds(_e){return Math.floor(+_e/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(_e){return locale=formatLocale(_e),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(_e){return new Date(_e)}function number(_e){return _e instanceof Date?+_e:+new Date(+_e)}function calendar(_e,$,ht,vt,bt,_t,wt,At,St,Et){var xt=continuous(),Pt=xt.invert,$t=xt.domain,kt=Et(".%L"),Rt=Et(":%S"),Mt=Et("%I:%M"),Dt=Et("%I %p"),Ot=Et("%a %d"),Lt=Et("%b %d"),Nt=Et("%B"),Ht=Et("%Y");function Ft(jt){return(St(jt)<jt?kt:At(jt)<jt?Rt:wt(jt)<jt?Mt:_t(jt)<jt?Dt:vt(jt)<jt?bt(jt)<jt?Ot:Lt:ht(jt)<jt?Nt:Ht)(jt)}return xt.invert=function(jt){return new Date(Pt(jt))},xt.domain=function(jt){return arguments.length?$t(Array.from(jt,number)):$t().map(date)},xt.ticks=function(jt){var Bt=$t();return _e(Bt[0],Bt[Bt.length-1],jt??10)},xt.tickFormat=function(jt,Bt){return Bt==null?Ft:Et(Bt)},xt.nice=function(jt){var Bt=$t();return(!jt||typeof jt.range!="function")&&(jt=$(Bt[0],Bt[Bt.length-1],jt??10)),jt?$t(nice(Bt,jt)):xt},xt.copy=function(){return copy$1(xt,calendar(_e,$,ht,vt,bt,_t,wt,At,St,Et))},xt}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var _e=0,$=1,ht,vt,bt,_t,wt=identity$6,At=!1,St;function Et(Pt){return Pt==null||isNaN(Pt=+Pt)?St:wt(bt===0?.5:(Pt=(_t(Pt)-ht)*bt,At?Math.max(0,Math.min(1,Pt)):Pt))}Et.domain=function(Pt){return arguments.length?([_e,$]=Pt,ht=_t(_e=+_e),vt=_t($=+$),bt=ht===vt?0:1/(vt-ht),Et):[_e,$]},Et.clamp=function(Pt){return arguments.length?(At=!!Pt,Et):At},Et.interpolator=function(Pt){return arguments.length?(wt=Pt,Et):wt};function xt(Pt){return function($t){var kt,Rt;return arguments.length?([kt,Rt]=$t,wt=Pt(kt,Rt),Et):[wt(0),wt(1)]}}return Et.range=xt(interpolate),Et.rangeRound=xt(interpolateRound),Et.unknown=function(Pt){return arguments.length?(St=Pt,Et):St},function(Pt){return _t=Pt,ht=Pt(_e),vt=Pt($),bt=ht===vt?0:1/(vt-ht),Et}}function copy(_e,$){return $.domain(_e.domain()).interpolator(_e.interpolator()).clamp(_e.clamp()).unknown(_e.unknown())}function sequential(){var _e=linearish(transformer$1()(identity$6));return _e.copy=function(){return copy(_e,sequential())},initInterpolator.apply(_e,arguments)}function sequentialLog(){var _e=loggish(transformer$1()).domain([1,10]);return _e.copy=function(){return copy(_e,sequentialLog()).base(_e.base())},initInterpolator.apply(_e,arguments)}function sequentialSymlog(){var _e=symlogish(transformer$1());return _e.copy=function(){return copy(_e,sequentialSymlog()).constant(_e.constant())},initInterpolator.apply(_e,arguments)}function sequentialPow(){var _e=powish(transformer$1());return _e.copy=function(){return copy(_e,sequentialPow()).exponent(_e.exponent())},initInterpolator.apply(_e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var _e=[],$=identity$6;function ht(vt){if(vt!=null&&!isNaN(vt=+vt))return $((bisectRight(_e,vt,1)-1)/(_e.length-1))}return ht.domain=function(vt){if(!arguments.length)return _e.slice();_e=[];for(let bt of vt)bt!=null&&!isNaN(bt=+bt)&&_e.push(bt);return _e.sort(ascending),ht},ht.interpolator=function(vt){return arguments.length?($=vt,ht):$},ht.range=function(){return _e.map((vt,bt)=>$(bt/(_e.length-1)))},ht.quantiles=function(vt){return Array.from({length:vt+1},(bt,_t)=>quantile$1(_e,_t/vt))},ht.copy=function(){return sequentialQuantile($).domain(_e)},initInterpolator.apply(ht,arguments)}function transformer(){var _e=0,$=.5,ht=1,vt=1,bt,_t,wt,At,St,Et=identity$6,xt,Pt=!1,$t;function kt(Mt){return isNaN(Mt=+Mt)?$t:(Mt=.5+((Mt=+xt(Mt))-_t)*(vt*Mt<vt*_t?At:St),Et(Pt?Math.max(0,Math.min(1,Mt)):Mt))}kt.domain=function(Mt){return arguments.length?([_e,$,ht]=Mt,bt=xt(_e=+_e),_t=xt($=+$),wt=xt(ht=+ht),At=bt===_t?0:.5/(_t-bt),St=_t===wt?0:.5/(wt-_t),vt=_t<bt?-1:1,kt):[_e,$,ht]},kt.clamp=function(Mt){return arguments.length?(Pt=!!Mt,kt):Pt},kt.interpolator=function(Mt){return arguments.length?(Et=Mt,kt):Et};function Rt(Mt){return function(Dt){var Ot,Lt,Nt;return arguments.length?([Ot,Lt,Nt]=Dt,Et=piecewise(Mt,[Ot,Lt,Nt]),kt):[Et(0),Et(.5),Et(1)]}}return kt.range=Rt(interpolate),kt.rangeRound=Rt(interpolateRound),kt.unknown=function(Mt){return arguments.length?($t=Mt,kt):$t},function(Mt){return xt=Mt,bt=Mt(_e),_t=Mt($),wt=Mt(ht),At=bt===_t?0:.5/(_t-bt),St=_t===wt?0:.5/(wt-_t),vt=_t<bt?-1:1,kt}}function diverging(){var _e=linearish(transformer()(identity$6));return _e.copy=function(){return copy(_e,diverging())},initInterpolator.apply(_e,arguments)}function divergingLog(){var _e=loggish(transformer()).domain([.1,1,10]);return _e.copy=function(){return copy(_e,divergingLog()).base(_e.base())},initInterpolator.apply(_e,arguments)}function divergingSymlog(){var _e=symlogish(transformer());return _e.copy=function(){return copy(_e,divergingSymlog()).constant(_e.constant())},initInterpolator.apply(_e,arguments)}function divergingPow(){var _e=powish(transformer());return _e.copy=function(){return copy(_e,divergingPow()).exponent(_e.exponent())},initInterpolator.apply(_e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$4(_e,$,ht){for(var vt=-1,bt=_e.length;++vt<bt;){var _t=_e[vt],wt=$(_t);if(wt!=null&&(At===void 0?wt===wt&&!isSymbol(wt):ht(wt,At)))var At=wt,St=_t}return St}var _baseExtremum=baseExtremum$4;function baseGt$2(_e,$){return _e>$}var _baseGt=baseGt$2,baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;function max(_e){return _e&&_e.length?baseExtremum$3(_e,identity$3,baseGt$1):void 0}var max_1=max;const max$1=getDefaultExportFromCjs(max_1);function baseLt$2(_e,$){return _e<$}var _baseLt=baseLt$2,baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;function min(_e){return _e&&_e.length?baseExtremum$2(_e,identity$2,baseLt$1):void 0}var min_1=min;const min$1=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$5=_baseIteratee,baseMap=_baseMap,isArray$3=isArray_1;function map$2(_e,$){var ht=isArray$3(_e)?arrayMap:baseMap;return ht(_e,baseIteratee$5($))}var map_1=map$2,baseFlatten=_baseFlatten,map$1=map_1;function flatMap(_e,$){return baseFlatten(map$1(_e,$),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual(_e,$){return baseIsEqual(_e,$)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var _e=new this.constructor(this);return _e.s&&(_e.s=1),_e};P.comparedTo=P.cmp=function(_e){var $,ht,vt,bt,_t=this;if(_e=new _t.constructor(_e),_t.s!==_e.s)return _t.s||-_e.s;if(_t.e!==_e.e)return _t.e>_e.e^_t.s<0?1:-1;for(vt=_t.d.length,bt=_e.d.length,$=0,ht=vt<bt?vt:bt;$<ht;++$)if(_t.d[$]!==_e.d[$])return _t.d[$]>_e.d[$]^_t.s<0?1:-1;return vt===bt?0:vt>bt^_t.s<0?1:-1};P.decimalPlaces=P.dp=function(){var _e=this,$=_e.d.length-1,ht=($-_e.e)*LOG_BASE;if($=_e.d[$],$)for(;$%10==0;$/=10)ht--;return ht<0?0:ht};P.dividedBy=P.div=function(_e){return divide(this,new this.constructor(_e))};P.dividedToIntegerBy=P.idiv=function(_e){var $=this,ht=$.constructor;return round(divide($,new ht(_e),0,1),ht.precision)};P.equals=P.eq=function(_e){return!this.cmp(_e)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(_e){return this.cmp(_e)>0};P.greaterThanOrEqualTo=P.gte=function(_e){return this.cmp(_e)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(_e){return this.cmp(_e)<0};P.lessThanOrEqualTo=P.lte=function(_e){return this.cmp(_e)<1};P.logarithm=P.log=function(_e){var $,ht=this,vt=ht.constructor,bt=vt.precision,_t=bt+5;if(_e===void 0)_e=new vt(10);else if(_e=new vt(_e),_e.s<1||_e.eq(ONE))throw Error(decimalError+"NaN");if(ht.s<1)throw Error(decimalError+(ht.s?"NaN":"-Infinity"));return ht.eq(ONE)?new vt(0):(external=!1,$=divide(ln(ht,_t),ln(_e,_t),_t),external=!0,round($,bt))};P.minus=P.sub=function(_e){var $=this;return _e=new $.constructor(_e),$.s==_e.s?subtract($,_e):add($,(_e.s=-_e.s,_e))};P.modulo=P.mod=function(_e){var $,ht=this,vt=ht.constructor,bt=vt.precision;if(_e=new vt(_e),!_e.s)throw Error(decimalError+"NaN");return ht.s?(external=!1,$=divide(ht,_e,0,1).times(_e),external=!0,ht.minus($)):round(new vt(ht),bt)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var _e=new this.constructor(this);return _e.s=-_e.s||0,_e};P.plus=P.add=function(_e){var $=this;return _e=new $.constructor(_e),$.s==_e.s?add($,_e):subtract($,(_e.s=-_e.s,_e))};P.precision=P.sd=function(_e){var $,ht,vt,bt=this;if(_e!==void 0&&_e!==!!_e&&_e!==1&&_e!==0)throw Error(invalidArgument+_e);if($=getBase10Exponent(bt)+1,vt=bt.d.length-1,ht=vt*LOG_BASE+1,vt=bt.d[vt],vt){for(;vt%10==0;vt/=10)ht--;for(vt=bt.d[0];vt>=10;vt/=10)ht++}return _e&&$>ht?$:ht};P.squareRoot=P.sqrt=function(){var _e,$,ht,vt,bt,_t,wt,At=this,St=At.constructor;if(At.s<1){if(!At.s)return new St(0);throw Error(decimalError+"NaN")}for(_e=getBase10Exponent(At),external=!1,bt=Math.sqrt(+At),bt==0||bt==1/0?($=digitsToString(At.d),($.length+_e)%2==0&&($+="0"),bt=Math.sqrt($),_e=mathfloor((_e+1)/2)-(_e<0||_e%2),bt==1/0?$="5e"+_e:($=bt.toExponential(),$=$.slice(0,$.indexOf("e")+1)+_e),vt=new St($)):vt=new St(bt.toString()),ht=St.precision,bt=wt=ht+3;;)if(_t=vt,vt=_t.plus(divide(At,_t,wt+2)).times(.5),digitsToString(_t.d).slice(0,wt)===($=digitsToString(vt.d)).slice(0,wt)){if($=$.slice(wt-3,wt+1),bt==wt&&$=="4999"){if(round(_t,ht+1,0),_t.times(_t).eq(At)){vt=_t;break}}else if($!="9999")break;wt+=4}return external=!0,round(vt,ht)};P.times=P.mul=function(_e){var $,ht,vt,bt,_t,wt,At,St,Et,xt=this,Pt=xt.constructor,$t=xt.d,kt=(_e=new Pt(_e)).d;if(!xt.s||!_e.s)return new Pt(0);for(_e.s*=xt.s,ht=xt.e+_e.e,St=$t.length,Et=kt.length,St<Et&&(_t=$t,$t=kt,kt=_t,wt=St,St=Et,Et=wt),_t=[],wt=St+Et,vt=wt;vt--;)_t.push(0);for(vt=Et;--vt>=0;){for($=0,bt=St+vt;bt>vt;)At=_t[bt]+kt[vt]*$t[bt-vt-1]+$,_t[bt--]=At%BASE|0,$=At/BASE|0;_t[bt]=(_t[bt]+$)%BASE|0}for(;!_t[--wt];)_t.pop();return $?++ht:_t.shift(),_e.d=_t,_e.e=ht,external?round(_e,Pt.precision):_e};P.toDecimalPlaces=P.todp=function(_e,$){var ht=this,vt=ht.constructor;return ht=new vt(ht),_e===void 0?ht:(checkInt32(_e,0,MAX_DIGITS),$===void 0?$=vt.rounding:checkInt32($,0,8),round(ht,_e+getBase10Exponent(ht)+1,$))};P.toExponential=function(_e,$){var ht,vt=this,bt=vt.constructor;return _e===void 0?ht=toString(vt,!0):(checkInt32(_e,0,MAX_DIGITS),$===void 0?$=bt.rounding:checkInt32($,0,8),vt=round(new bt(vt),_e+1,$),ht=toString(vt,!0,_e+1)),ht};P.toFixed=function(_e,$){var ht,vt,bt=this,_t=bt.constructor;return _e===void 0?toString(bt):(checkInt32(_e,0,MAX_DIGITS),$===void 0?$=_t.rounding:checkInt32($,0,8),vt=round(new _t(bt),_e+getBase10Exponent(bt)+1,$),ht=toString(vt.abs(),!1,_e+getBase10Exponent(vt)+1),bt.isneg()&&!bt.isZero()?"-"+ht:ht)};P.toInteger=P.toint=function(){var _e=this,$=_e.constructor;return round(new $(_e),getBase10Exponent(_e)+1,$.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(_e){var $,ht,vt,bt,_t,wt,At=this,St=At.constructor,Et=12,xt=+(_e=new St(_e));if(!_e.s)return new St(ONE);if(At=new St(At),!At.s){if(_e.s<1)throw Error(decimalError+"Infinity");return At}if(At.eq(ONE))return At;if(vt=St.precision,_e.eq(ONE))return round(At,vt);if($=_e.e,ht=_e.d.length-1,wt=$>=ht,_t=At.s,wt){if((ht=xt<0?-xt:xt)<=MAX_SAFE_INTEGER){for(bt=new St(ONE),$=Math.ceil(vt/LOG_BASE+4),external=!1;ht%2&&(bt=bt.times(At),truncate(bt.d,$)),ht=mathfloor(ht/2),ht!==0;)At=At.times(At),truncate(At.d,$);return external=!0,_e.s<0?new St(ONE).div(bt):round(bt,vt)}}else if(_t<0)throw Error(decimalError+"NaN");return _t=_t<0&&_e.d[Math.max($,ht)]&1?-1:1,At.s=1,external=!1,bt=_e.times(ln(At,vt+Et)),external=!0,bt=exp(bt),bt.s=_t,bt};P.toPrecision=function(_e,$){var ht,vt,bt=this,_t=bt.constructor;return _e===void 0?(ht=getBase10Exponent(bt),vt=toString(bt,ht<=_t.toExpNeg||ht>=_t.toExpPos)):(checkInt32(_e,1,MAX_DIGITS),$===void 0?$=_t.rounding:checkInt32($,0,8),bt=round(new _t(bt),_e,$),ht=getBase10Exponent(bt),vt=toString(bt,_e<=ht||ht<=_t.toExpNeg,_e)),vt};P.toSignificantDigits=P.tosd=function(_e,$){var ht=this,vt=ht.constructor;return _e===void 0?(_e=vt.precision,$=vt.rounding):(checkInt32(_e,1,MAX_DIGITS),$===void 0?$=vt.rounding:checkInt32($,0,8)),round(new vt(ht),_e,$)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var _e=this,$=getBase10Exponent(_e),ht=_e.constructor;return toString(_e,$<=ht.toExpNeg||$>=ht.toExpPos)};function add(_e,$){var ht,vt,bt,_t,wt,At,St,Et,xt=_e.constructor,Pt=xt.precision;if(!_e.s||!$.s)return $.s||($=new xt(_e)),external?round($,Pt):$;if(St=_e.d,Et=$.d,wt=_e.e,bt=$.e,St=St.slice(),_t=wt-bt,_t){for(_t<0?(vt=St,_t=-_t,At=Et.length):(vt=Et,bt=wt,At=St.length),wt=Math.ceil(Pt/LOG_BASE),At=wt>At?wt+1:At+1,_t>At&&(_t=At,vt.length=1),vt.reverse();_t--;)vt.push(0);vt.reverse()}for(At=St.length,_t=Et.length,At-_t<0&&(_t=At,vt=Et,Et=St,St=vt),ht=0;_t;)ht=(St[--_t]=St[_t]+Et[_t]+ht)/BASE|0,St[_t]%=BASE;for(ht&&(St.unshift(ht),++bt),At=St.length;St[--At]==0;)St.pop();return $.d=St,$.e=bt,external?round($,Pt):$}function checkInt32(_e,$,ht){if(_e!==~~_e||_e<$||_e>ht)throw Error(invalidArgument+_e)}function digitsToString(_e){var $,ht,vt,bt=_e.length-1,_t="",wt=_e[0];if(bt>0){for(_t+=wt,$=1;$<bt;$++)vt=_e[$]+"",ht=LOG_BASE-vt.length,ht&&(_t+=getZeroString(ht)),_t+=vt;wt=_e[$],vt=wt+"",ht=LOG_BASE-vt.length,ht&&(_t+=getZeroString(ht))}else if(wt===0)return"0";for(;wt%10===0;)wt/=10;return _t+wt}var divide=function(){function _e(vt,bt){var _t,wt=0,At=vt.length;for(vt=vt.slice();At--;)_t=vt[At]*bt+wt,vt[At]=_t%BASE|0,wt=_t/BASE|0;return wt&&vt.unshift(wt),vt}function $(vt,bt,_t,wt){var At,St;if(_t!=wt)St=_t>wt?1:-1;else for(At=St=0;At<_t;At++)if(vt[At]!=bt[At]){St=vt[At]>bt[At]?1:-1;break}return St}function ht(vt,bt,_t){for(var wt=0;_t--;)vt[_t]-=wt,wt=vt[_t]<bt[_t]?1:0,vt[_t]=wt*BASE+vt[_t]-bt[_t];for(;!vt[0]&&vt.length>1;)vt.shift()}return function(vt,bt,_t,wt){var At,St,Et,xt,Pt,$t,kt,Rt,Mt,Dt,Ot,Lt,Nt,Ht,Ft,jt,Bt,Vt,Ut=vt.constructor,Jt=vt.s==bt.s?1:-1,Wt=vt.d,Qt=bt.d;if(!vt.s)return new Ut(vt);if(!bt.s)throw Error(decimalError+"Division by zero");for(St=vt.e-bt.e,Bt=Qt.length,Ft=Wt.length,kt=new Ut(Jt),Rt=kt.d=[],Et=0;Qt[Et]==(Wt[Et]||0);)++Et;if(Qt[Et]>(Wt[Et]||0)&&--St,_t==null?Lt=_t=Ut.precision:wt?Lt=_t+(getBase10Exponent(vt)-getBase10Exponent(bt))+1:Lt=_t,Lt<0)return new Ut(0);if(Lt=Lt/LOG_BASE+2|0,Et=0,Bt==1)for(xt=0,Qt=Qt[0],Lt++;(Et<Ft||xt)&&Lt--;Et++)Nt=xt*BASE+(Wt[Et]||0),Rt[Et]=Nt/Qt|0,xt=Nt%Qt|0;else{for(xt=BASE/(Qt[0]+1)|0,xt>1&&(Qt=_e(Qt,xt),Wt=_e(Wt,xt),Bt=Qt.length,Ft=Wt.length),Ht=Bt,Mt=Wt.slice(0,Bt),Dt=Mt.length;Dt<Bt;)Mt[Dt++]=0;Vt=Qt.slice(),Vt.unshift(0),jt=Qt[0],Qt[1]>=BASE/2&&++jt;do xt=0,At=$(Qt,Mt,Bt,Dt),At<0?(Ot=Mt[0],Bt!=Dt&&(Ot=Ot*BASE+(Mt[1]||0)),xt=Ot/jt|0,xt>1?(xt>=BASE&&(xt=BASE-1),Pt=_e(Qt,xt),$t=Pt.length,Dt=Mt.length,At=$(Pt,Mt,$t,Dt),At==1&&(xt--,ht(Pt,Bt<$t?Vt:Qt,$t))):(xt==0&&(At=xt=1),Pt=Qt.slice()),$t=Pt.length,$t<Dt&&Pt.unshift(0),ht(Mt,Pt,Dt),At==-1&&(Dt=Mt.length,At=$(Qt,Mt,Bt,Dt),At<1&&(xt++,ht(Mt,Bt<Dt?Vt:Qt,Dt))),Dt=Mt.length):At===0&&(xt++,Mt=[0]),Rt[Et++]=xt,At&&Mt[0]?Mt[Dt++]=Wt[Ht]||0:(Mt=[Wt[Ht]],Dt=1);while((Ht++<Ft||Mt[0]!==void 0)&&Lt--)}return Rt[0]||Rt.shift(),kt.e=St,round(kt,wt?_t+getBase10Exponent(kt)+1:_t)}}();function exp(_e,$){var ht,vt,bt,_t,wt,At,St=0,Et=0,xt=_e.constructor,Pt=xt.precision;if(getBase10Exponent(_e)>16)throw Error(exponentOutOfRange+getBase10Exponent(_e));if(!_e.s)return new xt(ONE);for($==null?(external=!1,At=Pt):At=$,wt=new xt(.03125);_e.abs().gte(.1);)_e=_e.times(wt),Et+=5;for(vt=Math.log(mathpow(2,Et))/Math.LN10*2+5|0,At+=vt,ht=bt=_t=new xt(ONE),xt.precision=At;;){if(bt=round(bt.times(_e),At),ht=ht.times(++St),wt=_t.plus(divide(bt,ht,At)),digitsToString(wt.d).slice(0,At)===digitsToString(_t.d).slice(0,At)){for(;Et--;)_t=round(_t.times(_t),At);return xt.precision=Pt,$==null?(external=!0,round(_t,Pt)):_t}_t=wt}}function getBase10Exponent(_e){for(var $=_e.e*LOG_BASE,ht=_e.d[0];ht>=10;ht/=10)$++;return $}function getLn10(_e,$,ht){if($>_e.LN10.sd())throw external=!0,ht&&(_e.precision=ht),Error(decimalError+"LN10 precision limit exceeded");return round(new _e(_e.LN10),$)}function getZeroString(_e){for(var $="";_e--;)$+="0";return $}function ln(_e,$){var ht,vt,bt,_t,wt,At,St,Et,xt,Pt=1,$t=10,kt=_e,Rt=kt.d,Mt=kt.constructor,Dt=Mt.precision;if(kt.s<1)throw Error(decimalError+(kt.s?"NaN":"-Infinity"));if(kt.eq(ONE))return new Mt(0);if($==null?(external=!1,Et=Dt):Et=$,kt.eq(10))return $==null&&(external=!0),getLn10(Mt,Et);if(Et+=$t,Mt.precision=Et,ht=digitsToString(Rt),vt=ht.charAt(0),_t=getBase10Exponent(kt),Math.abs(_t)<15e14){for(;vt<7&&vt!=1||vt==1&&ht.charAt(1)>3;)kt=kt.times(_e),ht=digitsToString(kt.d),vt=ht.charAt(0),Pt++;_t=getBase10Exponent(kt),vt>1?(kt=new Mt("0."+ht),_t++):kt=new Mt(vt+"."+ht.slice(1))}else return St=getLn10(Mt,Et+2,Dt).times(_t+""),kt=ln(new Mt(vt+"."+ht.slice(1)),Et-$t).plus(St),Mt.precision=Dt,$==null?(external=!0,round(kt,Dt)):kt;for(At=wt=kt=divide(kt.minus(ONE),kt.plus(ONE),Et),xt=round(kt.times(kt),Et),bt=3;;){if(wt=round(wt.times(xt),Et),St=At.plus(divide(wt,new Mt(bt),Et)),digitsToString(St.d).slice(0,Et)===digitsToString(At.d).slice(0,Et))return At=At.times(2),_t!==0&&(At=At.plus(getLn10(Mt,Et+2,Dt).times(_t+""))),At=divide(At,new Mt(Pt),Et),Mt.precision=Dt,$==null?(external=!0,round(At,Dt)):At;At=St,bt+=2}}function parseDecimal(_e,$){var ht,vt,bt;for((ht=$.indexOf("."))>-1&&($=$.replace(".","")),(vt=$.search(/e/i))>0?(ht<0&&(ht=vt),ht+=+$.slice(vt+1),$=$.substring(0,vt)):ht<0&&(ht=$.length),vt=0;$.charCodeAt(vt)===48;)++vt;for(bt=$.length;$.charCodeAt(bt-1)===48;)--bt;if($=$.slice(vt,bt),$){if(bt-=vt,ht=ht-vt-1,_e.e=mathfloor(ht/LOG_BASE),_e.d=[],vt=(ht+1)%LOG_BASE,ht<0&&(vt+=LOG_BASE),vt<bt){for(vt&&_e.d.push(+$.slice(0,vt)),bt-=LOG_BASE;vt<bt;)_e.d.push(+$.slice(vt,vt+=LOG_BASE));$=$.slice(vt),vt=LOG_BASE-$.length}else vt-=bt;for(;vt--;)$+="0";if(_e.d.push(+$),external&&(_e.e>MAX_E||_e.e<-MAX_E))throw Error(exponentOutOfRange+ht)}else _e.s=0,_e.e=0,_e.d=[0];return _e}function round(_e,$,ht){var vt,bt,_t,wt,At,St,Et,xt,Pt=_e.d;for(wt=1,_t=Pt[0];_t>=10;_t/=10)wt++;if(vt=$-wt,vt<0)vt+=LOG_BASE,bt=$,Et=Pt[xt=0];else{if(xt=Math.ceil((vt+1)/LOG_BASE),_t=Pt.length,xt>=_t)return _e;for(Et=_t=Pt[xt],wt=1;_t>=10;_t/=10)wt++;vt%=LOG_BASE,bt=vt-LOG_BASE+wt}if(ht!==void 0&&(_t=mathpow(10,wt-bt-1),At=Et/_t%10|0,St=$<0||Pt[xt+1]!==void 0||Et%_t,St=ht<4?(At||St)&&(ht==0||ht==(_e.s<0?3:2)):At>5||At==5&&(ht==4||St||ht==6&&(vt>0?bt>0?Et/mathpow(10,wt-bt):0:Pt[xt-1])%10&1||ht==(_e.s<0?8:7))),$<1||!Pt[0])return St?(_t=getBase10Exponent(_e),Pt.length=1,$=$-_t-1,Pt[0]=mathpow(10,(LOG_BASE-$%LOG_BASE)%LOG_BASE),_e.e=mathfloor(-$/LOG_BASE)||0):(Pt.length=1,Pt[0]=_e.e=_e.s=0),_e;if(vt==0?(Pt.length=xt,_t=1,xt--):(Pt.length=xt+1,_t=mathpow(10,LOG_BASE-vt),Pt[xt]=bt>0?(Et/mathpow(10,wt-bt)%mathpow(10,bt)|0)*_t:0),St)for(;;)if(xt==0){(Pt[0]+=_t)==BASE&&(Pt[0]=1,++_e.e);break}else{if(Pt[xt]+=_t,Pt[xt]!=BASE)break;Pt[xt--]=0,_t=1}for(vt=Pt.length;Pt[--vt]===0;)Pt.pop();if(external&&(_e.e>MAX_E||_e.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(_e));return _e}function subtract(_e,$){var ht,vt,bt,_t,wt,At,St,Et,xt,Pt,$t=_e.constructor,kt=$t.precision;if(!_e.s||!$.s)return $.s?$.s=-$.s:$=new $t(_e),external?round($,kt):$;if(St=_e.d,Pt=$.d,vt=$.e,Et=_e.e,St=St.slice(),wt=Et-vt,wt){for(xt=wt<0,xt?(ht=St,wt=-wt,At=Pt.length):(ht=Pt,vt=Et,At=St.length),bt=Math.max(Math.ceil(kt/LOG_BASE),At)+2,wt>bt&&(wt=bt,ht.length=1),ht.reverse(),bt=wt;bt--;)ht.push(0);ht.reverse()}else{for(bt=St.length,At=Pt.length,xt=bt<At,xt&&(At=bt),bt=0;bt<At;bt++)if(St[bt]!=Pt[bt]){xt=St[bt]<Pt[bt];break}wt=0}for(xt&&(ht=St,St=Pt,Pt=ht,$.s=-$.s),At=St.length,bt=Pt.length-At;bt>0;--bt)St[At++]=0;for(bt=Pt.length;bt>wt;){if(St[--bt]<Pt[bt]){for(_t=bt;_t&&St[--_t]===0;)St[_t]=BASE-1;--St[_t],St[bt]+=BASE}St[bt]-=Pt[bt]}for(;St[--At]===0;)St.pop();for(;St[0]===0;St.shift())--vt;return St[0]?($.d=St,$.e=vt,external?round($,kt):$):new $t(0)}function toString(_e,$,ht){var vt,bt=getBase10Exponent(_e),_t=digitsToString(_e.d),wt=_t.length;return $?(ht&&(vt=ht-wt)>0?_t=_t.charAt(0)+"."+_t.slice(1)+getZeroString(vt):wt>1&&(_t=_t.charAt(0)+"."+_t.slice(1)),_t=_t+(bt<0?"e":"e+")+bt):bt<0?(_t="0."+getZeroString(-bt-1)+_t,ht&&(vt=ht-wt)>0&&(_t+=getZeroString(vt))):bt>=wt?(_t+=getZeroString(bt+1-wt),ht&&(vt=ht-bt-1)>0&&(_t=_t+"."+getZeroString(vt))):((vt=bt+1)<wt&&(_t=_t.slice(0,vt)+"."+_t.slice(vt)),ht&&(vt=ht-wt)>0&&(bt+1===wt&&(_t+="."),_t+=getZeroString(vt))),_e.s<0?"-"+_t:_t}function truncate(_e,$){if(_e.length>$)return _e.length=$,!0}function clone(_e){var $,ht,vt;function bt(_t){var wt=this;if(!(wt instanceof bt))return new bt(_t);if(wt.constructor=bt,_t instanceof bt){wt.s=_t.s,wt.e=_t.e,wt.d=(_t=_t.d)?_t.slice():_t;return}if(typeof _t=="number"){if(_t*0!==0)throw Error(invalidArgument+_t);if(_t>0)wt.s=1;else if(_t<0)_t=-_t,wt.s=-1;else{wt.s=0,wt.e=0,wt.d=[0];return}if(_t===~~_t&&_t<1e7){wt.e=0,wt.d=[_t];return}return parseDecimal(wt,_t.toString())}else if(typeof _t!="string")throw Error(invalidArgument+_t);if(_t.charCodeAt(0)===45?(_t=_t.slice(1),wt.s=-1):wt.s=1,isDecimal.test(_t))parseDecimal(wt,_t);else throw Error(invalidArgument+_t)}if(bt.prototype=P,bt.ROUND_UP=0,bt.ROUND_DOWN=1,bt.ROUND_CEIL=2,bt.ROUND_FLOOR=3,bt.ROUND_HALF_UP=4,bt.ROUND_HALF_DOWN=5,bt.ROUND_HALF_EVEN=6,bt.ROUND_HALF_CEIL=7,bt.ROUND_HALF_FLOOR=8,bt.clone=clone,bt.config=bt.set=config,_e===void 0&&(_e={}),_e)for(vt=["precision","rounding","toExpNeg","toExpPos","LN10"],$=0;$<vt.length;)_e.hasOwnProperty(ht=vt[$++])||(_e[ht]=this[ht]);return bt.config(_e),bt}function config(_e){if(!_e||typeof _e!="object")throw Error(decimalError+"Object expected");var $,ht,vt,bt=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for($=0;$<bt.length;$+=3)if((vt=_e[ht=bt[$]])!==void 0)if(mathfloor(vt)===vt&&vt>=bt[$+1]&&vt<=bt[$+2])this[ht]=vt;else throw Error(invalidArgument+ht+": "+vt);if((vt=_e[ht="LN10"])!==void 0)if(vt==Math.LN10)this[ht]=new this(vt);else throw Error(invalidArgument+ht+": "+vt);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$a(_e){return _arrayWithoutHoles$a(_e)||_iterableToArray$b(_e)||_unsupportedIterableToArray$g(_e)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$g(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$g(_e,$)}}function _iterableToArray$b(_e){if(typeof Symbol<"u"&&Symbol.iterator in Object(_e))return Array.from(_e)}function _arrayWithoutHoles$a(_e){if(Array.isArray(_e))return _arrayLikeToArray$g(_e)}function _arrayLikeToArray$g(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}var identity$1=function _e($){return $},PLACE_HOLDER={"@@functional/placeholder":!0},isPlaceHolder=function _e($){return $===PLACE_HOLDER},curry0=function _e($){return function ht(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?ht:$.apply(void 0,arguments)}},curryN=function _e($,ht){return $===1?ht:curry0(function(){for(var vt=arguments.length,bt=new Array(vt),_t=0;_t<vt;_t++)bt[_t]=arguments[_t];var wt=bt.filter(function(At){return At!==PLACE_HOLDER}).length;return wt>=$?ht.apply(void 0,bt):_e($-wt,curry0(function(){for(var At=arguments.length,St=new Array(At),Et=0;Et<At;Et++)St[Et]=arguments[Et];var xt=bt.map(function(Pt){return isPlaceHolder(Pt)?St.shift():Pt});return ht.apply(void 0,_toConsumableArray$a(xt).concat(St))}))})},curry=function _e($){return curryN($.length,$)},range$2=function _e($,ht){for(var vt=[],bt=$;bt<ht;++bt)vt[bt-$]=bt;return vt},map=curry(function(_e,$){return Array.isArray($)?$.map(_e):Object.keys($).map(function(ht){return $[ht]}).map(_e)}),compose=function _e(){for(var $=arguments.length,ht=new Array($),vt=0;vt<$;vt++)ht[vt]=arguments[vt];if(!ht.length)return identity$1;var bt=ht.reverse(),_t=bt[0],wt=bt.slice(1);return function(){return wt.reduce(function(At,St){return St(At)},_t.apply(void 0,arguments))}},reverse=function _e($){return Array.isArray($)?$.reverse():$.split("").reverse.join("")},memoize=function _e($){var ht=null,vt=null;return function(){for(var bt=arguments.length,_t=new Array(bt),wt=0;wt<bt;wt++)_t[wt]=arguments[wt];return ht&&_t.every(function(At,St){return At===ht[St]})||(ht=_t,vt=$.apply(void 0,_t)),vt}};function getDigitCount(_e){var $;return _e===0?$=1:$=Math.floor(new Decimal$1(_e).abs().log(10).toNumber())+1,$}function rangeStep(_e,$,ht){for(var vt=new Decimal$1(_e),bt=0,_t=[];vt.lt($)&&bt<1e5;)_t.push(vt.toNumber()),vt=vt.add(ht),bt++;return _t}var interpolateNumber=curry(function(_e,$,ht){var vt=+_e,bt=+$;return vt+ht*(bt-vt)}),uninterpolateNumber=curry(function(_e,$,ht){var vt=$-+_e;return vt=vt||1/0,(ht-_e)/vt}),uninterpolateTruncation=curry(function(_e,$,ht){var vt=$-+_e;return vt=vt||1/0,Math.max(0,Math.min(1,(ht-_e)/vt))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$9(_e){return _arrayWithoutHoles$9(_e)||_iterableToArray$a(_e)||_unsupportedIterableToArray$f(_e)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$a(_e){if(typeof Symbol<"u"&&Symbol.iterator in Object(_e))return Array.from(_e)}function _arrayWithoutHoles$9(_e){if(Array.isArray(_e))return _arrayLikeToArray$f(_e)}function _slicedToArray$8(_e,$){return _arrayWithHoles$9(_e)||_iterableToArrayLimit$8(_e,$)||_unsupportedIterableToArray$f(_e,$)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$f(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$f(_e,$)}}function _arrayLikeToArray$f(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$8(_e,$){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(_e)))){var ht=[],vt=!0,bt=!1,_t=void 0;try{for(var wt=_e[Symbol.iterator](),At;!(vt=(At=wt.next()).done)&&(ht.push(At.value),!($&&ht.length===$));vt=!0);}catch(St){bt=!0,_t=St}finally{try{!vt&&wt.return!=null&&wt.return()}finally{if(bt)throw _t}}return ht}}function _arrayWithHoles$9(_e){if(Array.isArray(_e))return _e}function getValidInterval(_e){var $=_slicedToArray$8(_e,2),ht=$[0],vt=$[1],bt=ht,_t=vt;return ht>vt&&(bt=vt,_t=ht),[bt,_t]}function getFormatStep(_e,$,ht){if(_e.lte(0))return new Decimal$1(0);var vt=Arithmetic.getDigitCount(_e.toNumber()),bt=new Decimal$1(10).pow(vt),_t=_e.div(bt),wt=vt!==1?.05:.1,At=new Decimal$1(Math.ceil(_t.div(wt).toNumber())).add(ht).mul(wt),St=At.mul(bt);return $?St:new Decimal$1(Math.ceil(St))}function getTickOfSingleValue(_e,$,ht){var vt=1,bt=new Decimal$1(_e);if(!bt.isint()&&ht){var _t=Math.abs(_e);_t<1?(vt=new Decimal$1(10).pow(Arithmetic.getDigitCount(_e)-1),bt=new Decimal$1(Math.floor(bt.div(vt).toNumber())).mul(vt)):_t>1&&(bt=new Decimal$1(Math.floor(_e)))}else _e===0?bt=new Decimal$1(Math.floor(($-1)/2)):ht||(bt=new Decimal$1(Math.floor(_e)));var wt=Math.floor(($-1)/2),At=compose(map(function(St){return bt.add(new Decimal$1(St-wt).mul(vt)).toNumber()}),range$2);return At(0,$)}function calculateStep(_e,$,ht,vt){var bt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite(($-_e)/(ht-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var _t=getFormatStep(new Decimal$1($).sub(_e).div(ht-1),vt,bt),wt;_e<=0&&$>=0?wt=new Decimal$1(0):(wt=new Decimal$1(_e).add($).div(2),wt=wt.sub(new Decimal$1(wt).mod(_t)));var At=Math.ceil(wt.sub(_e).div(_t).toNumber()),St=Math.ceil(new Decimal$1($).sub(wt).div(_t).toNumber()),Et=At+St+1;return Et>ht?calculateStep(_e,$,ht,vt,bt+1):(Et<ht&&(St=$>0?St+(ht-Et):St,At=$>0?At:At+(ht-Et)),{step:_t,tickMin:wt.sub(new Decimal$1(At).mul(_t)),tickMax:wt.add(new Decimal$1(St).mul(_t))})}function getNiceTickValuesFn(_e){var $=_slicedToArray$8(_e,2),ht=$[0],vt=$[1],bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,wt=Math.max(bt,2),At=getValidInterval([ht,vt]),St=_slicedToArray$8(At,2),Et=St[0],xt=St[1];if(Et===-1/0||xt===1/0){var Pt=xt===1/0?[Et].concat(_toConsumableArray$9(range$2(0,bt-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$9(range$2(0,bt-1).map(function(){return-1/0})),[xt]);return ht>vt?reverse(Pt):Pt}if(Et===xt)return getTickOfSingleValue(Et,bt,_t);var $t=calculateStep(Et,xt,wt,_t),kt=$t.step,Rt=$t.tickMin,Mt=$t.tickMax,Dt=Arithmetic.rangeStep(Rt,Mt.add(new Decimal$1(.1).mul(kt)),kt);return ht>vt?reverse(Dt):Dt}function getTickValuesFixedDomainFn(_e,$){var ht=_slicedToArray$8(_e,2),vt=ht[0],bt=ht[1],_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,wt=getValidInterval([vt,bt]),At=_slicedToArray$8(wt,2),St=At[0],Et=At[1];if(St===-1/0||Et===1/0)return[vt,bt];if(St===Et)return[St];var xt=Math.max($,2),Pt=getFormatStep(new Decimal$1(Et).sub(St).div(xt-1),_t,0),$t=[].concat(_toConsumableArray$9(Arithmetic.rangeStep(new Decimal$1(St),new Decimal$1(Et).sub(new Decimal$1(.99).mul(Pt)),Pt)),[Et]);return vt>bt?reverse($t):$t}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),_excluded$8=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$r(_e){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$r(_e)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$h.apply(this,arguments)}function _slicedToArray$7(_e,$){return _arrayWithHoles$8(_e)||_iterableToArrayLimit$7(_e,$)||_unsupportedIterableToArray$e(_e,$)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$e(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$e(_e,$)}}function _arrayLikeToArray$e(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$7(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$8(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties$8(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$8(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$8(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function _classCallCheck$b(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$q(vt.key),vt)}}function _createClass$b(_e,$,ht){return $&&_defineProperties$b(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$8(_e,$,ht){return $=_getPrototypeOf$9($),_possibleConstructorReturn$9(_e,_isNativeReflectConstruct$9()?Reflect.construct($,ht||[],_getPrototypeOf$9(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$9(_e,$){if($&&(_typeof$r($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(_e)}function _assertThisInitialized$9(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$9(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!_e})()}function _getPrototypeOf$9(_e){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$9(_e)}function _inherits$9(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$9(_e,$)}function _setPrototypeOf$9(_e,$){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$9(_e,$)}function _defineProperty$q(_e,$,ht){return $=_toPropertyKey$q($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$q(_e){var $=_toPrimitive$q(_e,"string");return _typeof$r($)=="symbol"?$:$+""}function _toPrimitive$q(_e,$){if(_typeof$r(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$r(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var ErrorBar=function(_e){function $(){return _classCallCheck$b(this,$),_callSuper$8(this,$,arguments)}return _inherits$9($,_e),_createClass$b($,[{key:"render",value:function(){var vt=this.props,bt=vt.offset,_t=vt.layout,wt=vt.width,At=vt.dataKey,St=vt.data,Et=vt.dataPointFormatter,xt=vt.xAxis,Pt=vt.yAxis,$t=_objectWithoutProperties$8(vt,_excluded$8),kt=filterProps($t,!1);this.props.direction==="x"&&xt.type!=="number"&&invariant();var Rt=St.map(function(Mt){var Dt=Et(Mt,At),Ot=Dt.x,Lt=Dt.y,Nt=Dt.value,Ht=Dt.errorVal;if(!Ht)return null;var Ft=[],jt,Bt;if(Array.isArray(Ht)){var Vt=_slicedToArray$7(Ht,2);jt=Vt[0],Bt=Vt[1]}else jt=Bt=Ht;if(_t==="vertical"){var Ut=xt.scale,Jt=Lt+bt,Wt=Jt+wt,Qt=Jt-wt,tn=Ut(Nt-jt),pn=Ut(Nt+Bt);Ft.push({x1:pn,y1:Wt,x2:pn,y2:Qt}),Ft.push({x1:tn,y1:Jt,x2:pn,y2:Jt}),Ft.push({x1:tn,y1:Wt,x2:tn,y2:Qt})}else if(_t==="horizontal"){var nn=Pt.scale,hn=Ot+bt,sn=hn-wt,un=hn+wt,en=nn(Nt-jt),fn=nn(Nt+Bt);Ft.push({x1:sn,y1:fn,x2:un,y2:fn}),Ft.push({x1:hn,y1:en,x2:hn,y2:fn}),Ft.push({x1:sn,y1:en,x2:un,y2:en})}return React.createElement(Layer,_extends$h({className:"recharts-errorBar",key:"bar-".concat(Ft.map(function(En){return"".concat(En.x1,"-").concat(En.x2,"-").concat(En.y1,"-").concat(En.y2)}))},kt),Ft.map(function(En){return React.createElement("line",_extends$h({},En,{key:"line-".concat(En.x1,"-").concat(En.x2,"-").concat(En.y1,"-").concat(En.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},Rt)}}])}(React.Component);_defineProperty$q(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$q(ErrorBar,"displayName","ErrorBar");function _typeof$q(_e){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$q(_e)}function ownKeys$o(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$o(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$o(Object(ht),!0).forEach(function(vt){_defineProperty$p(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$o(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$p(_e,$,ht){return $=_toPropertyKey$p($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$p(_e){var $=_toPrimitive$p(_e,"string");return _typeof$q($)=="symbol"?$:$+""}function _toPrimitive$p(_e,$){if(_typeof$q(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$q(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getLegendProps=function _e($){var ht=$.children,vt=$.formattedGraphicalItems,bt=$.legendWidth,_t=$.legendContent,wt=findChildByType(ht,Legend);if(!wt)return null;var At=Legend.defaultProps,St=At!==void 0?_objectSpread$o(_objectSpread$o({},At),wt.props):{},Et;return wt.props&&wt.props.payload?Et=wt.props&&wt.props.payload:_t==="children"?Et=(vt||[]).reduce(function(xt,Pt){var $t=Pt.item,kt=Pt.props,Rt=kt.sectors||kt.data||[];return xt.concat(Rt.map(function(Mt){return{type:wt.props.iconType||$t.props.legendType,value:Mt.name,color:Mt.fill,payload:Mt}}))},[]):Et=(vt||[]).map(function(xt){var Pt=xt.item,$t=Pt.type.defaultProps,kt=$t!==void 0?_objectSpread$o(_objectSpread$o({},$t),Pt.props):{},Rt=kt.dataKey,Mt=kt.name,Dt=kt.legendType,Ot=kt.hide;return{inactive:Ot,dataKey:Rt,type:St.iconType||Dt||"square",color:getMainColorOfGraphicItem(Pt),value:Mt||Rt,payload:kt}}),_objectSpread$o(_objectSpread$o(_objectSpread$o({},St),Legend.getWithHeight(wt,bt)),{},{payload:Et,item:wt})};function _typeof$p(_e){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$p(_e)}function _toConsumableArray$8(_e){return _arrayWithoutHoles$8(_e)||_iterableToArray$9(_e)||_unsupportedIterableToArray$d(_e)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$d(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$d(_e,$)}}function _iterableToArray$9(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$8(_e){if(Array.isArray(_e))return _arrayLikeToArray$d(_e)}function _arrayLikeToArray$d(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function ownKeys$n(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$n(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$n(Object(ht),!0).forEach(function(vt){_defineProperty$o(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$n(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$o(_e,$,ht){return $=_toPropertyKey$o($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$o(_e){var $=_toPrimitive$o(_e,"string");return _typeof$p($)=="symbol"?$:$+""}function _toPrimitive$o(_e,$){if(_typeof$p(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$p(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function getValueByDataKey(_e,$,ht){return isNil$1(_e)||isNil$1($)?ht:isNumOrStr($)?get$2(_e,$,ht):isFunction$3($)?$(_e):ht}function getDomainOfDataByKey(_e,$,ht,vt){var bt=flatMap$1(_e,function(At){return getValueByDataKey(At,$)});if(ht==="number"){var _t=bt.filter(function(At){return isNumber(At)||parseFloat(At)});return _t.length?[min$1(_t),max$1(_t)]:[1/0,-1/0]}var wt=vt?bt.filter(function(At){return!isNil$1(At)}):bt;return wt.map(function(At){return isNumOrStr(At)||At instanceof Date?At:""})}var calculateActiveTickIndex=function _e($){var ht,vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],bt=arguments.length>2?arguments[2]:void 0,_t=arguments.length>3?arguments[3]:void 0,wt=-1,At=(ht=vt==null?void 0:vt.length)!==null&&ht!==void 0?ht:0;if(At<=1)return 0;if(_t&&_t.axisType==="angleAxis"&&Math.abs(Math.abs(_t.range[1]-_t.range[0])-360)<=1e-6)for(var St=_t.range,Et=0;Et<At;Et++){var xt=Et>0?bt[Et-1].coordinate:bt[At-1].coordinate,Pt=bt[Et].coordinate,$t=Et>=At-1?bt[0].coordinate:bt[Et+1].coordinate,kt=void 0;if(mathSign(Pt-xt)!==mathSign($t-Pt)){var Rt=[];if(mathSign($t-Pt)===mathSign(St[1]-St[0])){kt=$t;var Mt=Pt+St[1]-St[0];Rt[0]=Math.min(Mt,(Mt+xt)/2),Rt[1]=Math.max(Mt,(Mt+xt)/2)}else{kt=xt;var Dt=$t+St[1]-St[0];Rt[0]=Math.min(Pt,(Dt+Pt)/2),Rt[1]=Math.max(Pt,(Dt+Pt)/2)}var Ot=[Math.min(Pt,(kt+Pt)/2),Math.max(Pt,(kt+Pt)/2)];if($>Ot[0]&&$<=Ot[1]||$>=Rt[0]&&$<=Rt[1]){wt=bt[Et].index;break}}else{var Lt=Math.min(xt,$t),Nt=Math.max(xt,$t);if($>(Lt+Pt)/2&&$<=(Nt+Pt)/2){wt=bt[Et].index;break}}}else for(var Ht=0;Ht<At;Ht++)if(Ht===0&&$<=(vt[Ht].coordinate+vt[Ht+1].coordinate)/2||Ht>0&&Ht<At-1&&$>(vt[Ht].coordinate+vt[Ht-1].coordinate)/2&&$<=(vt[Ht].coordinate+vt[Ht+1].coordinate)/2||Ht===At-1&&$>(vt[Ht].coordinate+vt[Ht-1].coordinate)/2){wt=vt[Ht].index;break}return wt},getMainColorOfGraphicItem=function _e($){var ht,vt=$,bt=vt.type.displayName,_t=(ht=$.type)!==null&&ht!==void 0&&ht.defaultProps?_objectSpread$n(_objectSpread$n({},$.type.defaultProps),$.props):$.props,wt=_t.stroke,At=_t.fill,St;switch(bt){case"Line":St=wt;break;case"Area":case"Radar":St=wt&&wt!=="none"?wt:At;break;default:St=At;break}return St},getBarSizeList=function _e($){var ht=$.barSize,vt=$.totalSize,bt=$.stackGroups,_t=bt===void 0?{}:bt;if(!_t)return{};for(var wt={},At=Object.keys(_t),St=0,Et=At.length;St<Et;St++)for(var xt=_t[At[St]].stackGroups,Pt=Object.keys(xt),$t=0,kt=Pt.length;$t<kt;$t++){var Rt=xt[Pt[$t]],Mt=Rt.items,Dt=Rt.cateAxisId,Ot=Mt.filter(function(Bt){return getDisplayName(Bt.type).indexOf("Bar")>=0});if(Ot&&Ot.length){var Lt=Ot[0].type.defaultProps,Nt=Lt!==void 0?_objectSpread$n(_objectSpread$n({},Lt),Ot[0].props):Ot[0].props,Ht=Nt.barSize,Ft=Nt[Dt];wt[Ft]||(wt[Ft]=[]);var jt=isNil$1(Ht)?ht:Ht;wt[Ft].push({item:Ot[0],stackList:Ot.slice(1),barSize:isNil$1(jt)?void 0:getPercentValue(jt,vt,0)})}}return wt},getBarPosition=function _e($){var ht=$.barGap,vt=$.barCategoryGap,bt=$.bandSize,_t=$.sizeList,wt=_t===void 0?[]:_t,At=$.maxBarSize,St=wt.length;if(St<1)return null;var Et=getPercentValue(ht,bt,0,!0),xt,Pt=[];if(wt[0].barSize===+wt[0].barSize){var $t=!1,kt=bt/St,Rt=wt.reduce(function(Ht,Ft){return Ht+Ft.barSize||0},0);Rt+=(St-1)*Et,Rt>=bt&&(Rt-=(St-1)*Et,Et=0),Rt>=bt&&kt>0&&($t=!0,kt*=.9,Rt=St*kt);var Mt=(bt-Rt)/2>>0,Dt={offset:Mt-Et,size:0};xt=wt.reduce(function(Ht,Ft){var jt={item:Ft.item,position:{offset:Dt.offset+Dt.size+Et,size:$t?kt:Ft.barSize}},Bt=[].concat(_toConsumableArray$8(Ht),[jt]);return Dt=Bt[Bt.length-1].position,Ft.stackList&&Ft.stackList.length&&Ft.stackList.forEach(function(Vt){Bt.push({item:Vt,position:Dt})}),Bt},Pt)}else{var Ot=getPercentValue(vt,bt,0,!0);bt-2*Ot-(St-1)*Et<=0&&(Et=0);var Lt=(bt-2*Ot-(St-1)*Et)/St;Lt>1&&(Lt>>=0);var Nt=At===+At?Math.min(Lt,At):Lt;xt=wt.reduce(function(Ht,Ft,jt){var Bt=[].concat(_toConsumableArray$8(Ht),[{item:Ft.item,position:{offset:Ot+(Lt+Et)*jt+(Lt-Nt)/2,size:Nt}}]);return Ft.stackList&&Ft.stackList.length&&Ft.stackList.forEach(function(Vt){Bt.push({item:Vt,position:Bt[Bt.length-1].position})}),Bt},Pt)}return xt},appendOffsetOfLegend=function _e($,ht,vt,bt){var _t=vt.children,wt=vt.width,At=vt.margin,St=wt-(At.left||0)-(At.right||0),Et=getLegendProps({children:_t,legendWidth:St});if(Et){var xt=bt||{},Pt=xt.width,$t=xt.height,kt=Et.align,Rt=Et.verticalAlign,Mt=Et.layout;if((Mt==="vertical"||Mt==="horizontal"&&Rt==="middle")&&kt!=="center"&&isNumber($[kt]))return _objectSpread$n(_objectSpread$n({},$),{},_defineProperty$o({},kt,$[kt]+(Pt||0)));if((Mt==="horizontal"||Mt==="vertical"&&kt==="center")&&Rt!=="middle"&&isNumber($[Rt]))return _objectSpread$n(_objectSpread$n({},$),{},_defineProperty$o({},Rt,$[Rt]+($t||0)))}return $},isErrorBarRelevantForAxis=function _e($,ht,vt){return isNil$1(ht)?!0:$==="horizontal"?ht==="yAxis":$==="vertical"||vt==="x"?ht==="xAxis":vt==="y"?ht==="yAxis":!0},getDomainOfErrorBars=function _e($,ht,vt,bt,_t){var wt=ht.props.children,At=findAllByType(wt,ErrorBar).filter(function(Et){return isErrorBarRelevantForAxis(bt,_t,Et.props.direction)});if(At&&At.length){var St=At.map(function(Et){return Et.props.dataKey});return $.reduce(function(Et,xt){var Pt=getValueByDataKey(xt,vt);if(isNil$1(Pt))return Et;var $t=Array.isArray(Pt)?[min$1(Pt),max$1(Pt)]:[Pt,Pt],kt=St.reduce(function(Rt,Mt){var Dt=getValueByDataKey(xt,Mt,0),Ot=$t[0]-Math.abs(Array.isArray(Dt)?Dt[0]:Dt),Lt=$t[1]+Math.abs(Array.isArray(Dt)?Dt[1]:Dt);return[Math.min(Ot,Rt[0]),Math.max(Lt,Rt[1])]},[1/0,-1/0]);return[Math.min(kt[0],Et[0]),Math.max(kt[1],Et[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function _e($,ht,vt,bt,_t){var wt=ht.map(function(At){return getDomainOfErrorBars($,At,vt,_t,bt)}).filter(function(At){return!isNil$1(At)});return wt&&wt.length?wt.reduce(function(At,St){return[Math.min(At[0],St[0]),Math.max(At[1],St[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function _e($,ht,vt,bt,_t){var wt=ht.map(function(St){var Et=St.props.dataKey;return vt==="number"&&Et&&getDomainOfErrorBars($,St,Et,bt)||getDomainOfDataByKey($,Et,vt,_t)});if(vt==="number")return wt.reduce(function(St,Et){return[Math.min(St[0],Et[0]),Math.max(St[1],Et[1])]},[1/0,-1/0]);var At={};return wt.reduce(function(St,Et){for(var xt=0,Pt=Et.length;xt<Pt;xt++)At[Et[xt]]||(At[Et[xt]]=!0,St.push(Et[xt]));return St},[])},isCategoricalAxis=function _e($,ht){return $==="horizontal"&&ht==="xAxis"||$==="vertical"&&ht==="yAxis"||$==="centric"&&ht==="angleAxis"||$==="radial"&&ht==="radiusAxis"},getTicksOfAxis=function _e($,ht,vt){if(!$)return null;var bt=$.scale,_t=$.duplicateDomain,wt=$.type,At=$.range,St=$.realScaleType==="scaleBand"?bt.bandwidth()/2:2,Et=(ht||vt)&&wt==="category"&&bt.bandwidth?bt.bandwidth()/St:0;if(Et=$.axisType==="angleAxis"&&(At==null?void 0:At.length)>=2?mathSign(At[0]-At[1])*2*Et:Et,ht&&($.ticks||$.niceTicks)){var xt=($.ticks||$.niceTicks).map(function(Pt){var $t=_t?_t.indexOf(Pt):Pt;return{coordinate:bt($t)+Et,value:Pt,offset:Et}});return xt.filter(function(Pt){return!isNan(Pt.coordinate)})}return $.isCategorical&&$.categoricalDomain?$.categoricalDomain.map(function(Pt,$t){return{coordinate:bt(Pt)+Et,value:Pt,index:$t,offset:Et}}):bt.ticks&&!vt?bt.ticks($.tickCount).map(function(Pt){return{coordinate:bt(Pt)+Et,value:Pt,offset:Et}}):bt.domain().map(function(Pt,$t){return{coordinate:bt(Pt)+Et,value:_t?_t[Pt]:Pt,index:$t,offset:Et}})},handlerWeakMap=new WeakMap,combineEventHandlers=function _e($,ht){if(typeof ht!="function")return $;handlerWeakMap.has($)||handlerWeakMap.set($,new WeakMap);var vt=handlerWeakMap.get($);if(vt.has(ht))return vt.get(ht);var bt=function(){$.apply(void 0,arguments),ht.apply(void 0,arguments)};return vt.set(ht,bt),bt},parseScale=function _e($,ht,vt){var bt=$.scale,_t=$.type,wt=$.layout,At=$.axisType;if(bt==="auto")return wt==="radial"&&At==="radiusAxis"?{scale:band(),realScaleType:"band"}:wt==="radial"&&At==="angleAxis"?{scale:linear(),realScaleType:"linear"}:_t==="category"&&ht&&(ht.indexOf("LineChart")>=0||ht.indexOf("AreaChart")>=0||ht.indexOf("ComposedChart")>=0&&!vt)?{scale:point(),realScaleType:"point"}:_t==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(bt)){var St="scale".concat(upperFirst$1(bt));return{scale:(d3Scales[St]||point)(),realScaleType:d3Scales[St]?St:"point"}}return isFunction$3(bt)?{scale:bt}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function _e($){var ht=$.domain();if(!(!ht||ht.length<=2)){var vt=ht.length,bt=$.range(),_t=Math.min(bt[0],bt[1])-EPS,wt=Math.max(bt[0],bt[1])+EPS,At=$(ht[0]),St=$(ht[vt-1]);(At<_t||At>wt||St<_t||St>wt)&&$.domain([ht[0],ht[vt-1]])}},offsetSign=function _e($){var ht=$.length;if(!(ht<=0))for(var vt=0,bt=$[0].length;vt<bt;++vt)for(var _t=0,wt=0,At=0;At<ht;++At){var St=isNan($[At][vt][1])?$[At][vt][0]:$[At][vt][1];St>=0?($[At][vt][0]=_t,$[At][vt][1]=_t+St,_t=$[At][vt][1]):($[At][vt][0]=wt,$[At][vt][1]=wt+St,wt=$[At][vt][1])}},offsetPositive=function _e($){var ht=$.length;if(!(ht<=0))for(var vt=0,bt=$[0].length;vt<bt;++vt)for(var _t=0,wt=0;wt<ht;++wt){var At=isNan($[wt][vt][1])?$[wt][vt][0]:$[wt][vt][1];At>=0?($[wt][vt][0]=_t,$[wt][vt][1]=_t+At,_t=$[wt][vt][1]):($[wt][vt][0]=0,$[wt][vt][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function _e($,ht,vt){var bt=ht.map(function(At){return At.props.dataKey}),_t=STACK_OFFSET_MAP[vt],wt=shapeStack().keys(bt).value(function(At,St){return+getValueByDataKey(At,St,0)}).order(stackOrderNone).offset(_t);return wt($)},getStackGroupsByAxisId=function _e($,ht,vt,bt,_t,wt){if(!$)return null;var At=wt?ht.reverse():ht,St={},Et=At.reduce(function(Pt,$t){var kt,Rt=(kt=$t.type)!==null&&kt!==void 0&&kt.defaultProps?_objectSpread$n(_objectSpread$n({},$t.type.defaultProps),$t.props):$t.props,Mt=Rt.stackId,Dt=Rt.hide;if(Dt)return Pt;var Ot=Rt[vt],Lt=Pt[Ot]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(Mt)){var Nt=Lt.stackGroups[Mt]||{numericAxisId:vt,cateAxisId:bt,items:[]};Nt.items.push($t),Lt.hasStack=!0,Lt.stackGroups[Mt]=Nt}else Lt.stackGroups[uniqueId("_stackId_")]={numericAxisId:vt,cateAxisId:bt,items:[$t]};return _objectSpread$n(_objectSpread$n({},Pt),{},_defineProperty$o({},Ot,Lt))},St),xt={};return Object.keys(Et).reduce(function(Pt,$t){var kt=Et[$t];if(kt.hasStack){var Rt={};kt.stackGroups=Object.keys(kt.stackGroups).reduce(function(Mt,Dt){var Ot=kt.stackGroups[Dt];return _objectSpread$n(_objectSpread$n({},Mt),{},_defineProperty$o({},Dt,{numericAxisId:vt,cateAxisId:bt,items:Ot.items,stackedData:getStackedData($,Ot.items,_t)}))},Rt)}return _objectSpread$n(_objectSpread$n({},Pt),{},_defineProperty$o({},$t,kt))},xt)},getTicksOfScale=function _e($,ht){var vt=ht.realScaleType,bt=ht.type,_t=ht.tickCount,wt=ht.originalDomain,At=ht.allowDecimals,St=vt||ht.scale;if(St!=="auto"&&St!=="linear")return null;if(_t&&bt==="number"&&wt&&(wt[0]==="auto"||wt[1]==="auto")){var Et=$.domain();if(!Et.length)return null;var xt=getNiceTickValues(Et,_t,At);return $.domain([min$1(xt),max$1(xt)]),{niceTicks:xt}}if(_t&&bt==="number"){var Pt=$.domain(),$t=getTickValuesFixedDomain(Pt,_t,At);return{niceTicks:$t}}return null},getStackedDataOfItem=function _e($,ht){var vt,bt=(vt=$.type)!==null&&vt!==void 0&&vt.defaultProps?_objectSpread$n(_objectSpread$n({},$.type.defaultProps),$.props):$.props,_t=bt.stackId;if(isNumOrStr(_t)){var wt=ht[_t];if(wt){var At=wt.items.indexOf($);return At>=0?wt.stackedData[At]:null}}return null},getDomainOfSingle=function _e($){return $.reduce(function(ht,vt){return[min$1(vt.concat([ht[0]]).filter(isNumber)),max$1(vt.concat([ht[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function _e($,ht,vt){return Object.keys($).reduce(function(bt,_t){var wt=$[_t],At=wt.stackedData,St=At.reduce(function(Et,xt){var Pt=getDomainOfSingle(xt.slice(ht,vt+1));return[Math.min(Et[0],Pt[0]),Math.max(Et[1],Pt[1])]},[1/0,-1/0]);return[Math.min(St[0],bt[0]),Math.max(St[1],bt[1])]},[1/0,-1/0]).map(function(bt){return bt===1/0||bt===-1/0?0:bt})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function _e($,ht,vt){if(isFunction$3($))return $(ht,vt);if(!Array.isArray($))return ht;var bt=[];if(isNumber($[0]))bt[0]=vt?$[0]:Math.min($[0],ht[0]);else if(MIN_VALUE_REG.test($[0])){var _t=+MIN_VALUE_REG.exec($[0])[1];bt[0]=ht[0]-_t}else isFunction$3($[0])?bt[0]=$[0](ht[0]):bt[0]=ht[0];if(isNumber($[1]))bt[1]=vt?$[1]:Math.max($[1],ht[1]);else if(MAX_VALUE_REG.test($[1])){var wt=+MAX_VALUE_REG.exec($[1])[1];bt[1]=ht[1]+wt}else isFunction$3($[1])?bt[1]=$[1](ht[1]):bt[1]=ht[1];return bt},getBandSizeOfAxis=function _e($,ht,vt){if($&&$.scale&&$.scale.bandwidth){var bt=$.scale.bandwidth();if(!vt||bt>0)return bt}if($&&ht&&ht.length>=2){for(var _t=sortBy$1(ht,function(Pt){return Pt.coordinate}),wt=1/0,At=1,St=_t.length;At<St;At++){var Et=_t[At],xt=_t[At-1];wt=Math.min((Et.coordinate||0)-(xt.coordinate||0),wt)}return wt===1/0?0:wt}return vt?void 0:0},parseDomainOfCategoryAxis=function _e($,ht,vt){return!$||!$.length||isEqual$1($,get$2(vt,"type.defaultProps.domain"))?ht:$},getTooltipItem=function _e($,ht){var vt=$.type.defaultProps?_objectSpread$n(_objectSpread$n({},$.type.defaultProps),$.props):$.props,bt=vt.dataKey,_t=vt.name,wt=vt.unit,At=vt.formatter,St=vt.tooltipType,Et=vt.chartType,xt=vt.hide;return _objectSpread$n(_objectSpread$n({},filterProps($,!1)),{},{dataKey:bt,unit:wt,formatter:At,name:_t||bt,color:getMainColorOfGraphicItem($),value:getValueByDataKey(ht,bt),type:St,payload:ht,chartType:Et,hide:xt})};function _typeof$o(_e){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$o(_e)}function ownKeys$m(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$m(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$m(Object(ht),!0).forEach(function(vt){_defineProperty$n(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$m(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$n(_e,$,ht){return $=_toPropertyKey$n($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$n(_e){var $=_toPrimitive$n(_e,"string");return _typeof$o($)=="symbol"?$:$+""}function _toPrimitive$n(_e,$){if(_typeof$o(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$o(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _slicedToArray$6(_e,$){return _arrayWithHoles$7(_e)||_iterableToArrayLimit$6(_e,$)||_unsupportedIterableToArray$c(_e,$)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$c(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$c(_e,$)}}function _arrayLikeToArray$c(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$6(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$7(_e){if(Array.isArray(_e))return _e}var RADIAN$1=Math.PI/180,radianToDegree=function _e($){return $*180/Math.PI},polarToCartesian=function _e($,ht,vt,bt){return{x:$+Math.cos(-RADIAN$1*bt)*vt,y:ht+Math.sin(-RADIAN$1*bt)*vt}},getMaxRadius=function _e($,ht){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs($-(vt.left||0)-(vt.right||0)),Math.abs(ht-(vt.top||0)-(vt.bottom||0)))/2},formatAxisMap=function _e($,ht,vt,bt,_t){var wt=$.width,At=$.height,St=$.startAngle,Et=$.endAngle,xt=getPercentValue($.cx,wt,wt/2),Pt=getPercentValue($.cy,At,At/2),$t=getMaxRadius(wt,At,vt),kt=getPercentValue($.innerRadius,$t,0),Rt=getPercentValue($.outerRadius,$t,$t*.8),Mt=Object.keys(ht);return Mt.reduce(function(Dt,Ot){var Lt=ht[Ot],Nt=Lt.domain,Ht=Lt.reversed,Ft;if(isNil$1(Lt.range))bt==="angleAxis"?Ft=[St,Et]:bt==="radiusAxis"&&(Ft=[kt,Rt]),Ht&&(Ft=[Ft[1],Ft[0]]);else{Ft=Lt.range;var jt=Ft,Bt=_slicedToArray$6(jt,2);St=Bt[0],Et=Bt[1]}var Vt=parseScale(Lt,_t),Ut=Vt.realScaleType,Jt=Vt.scale;Jt.domain(Nt).range(Ft),checkDomainOfScale(Jt);var Wt=getTicksOfScale(Jt,_objectSpread$m(_objectSpread$m({},Lt),{},{realScaleType:Ut})),Qt=_objectSpread$m(_objectSpread$m(_objectSpread$m({},Lt),Wt),{},{range:Ft,radius:Rt,realScaleType:Ut,scale:Jt,cx:xt,cy:Pt,innerRadius:kt,outerRadius:Rt,startAngle:St,endAngle:Et});return _objectSpread$m(_objectSpread$m({},Dt),{},_defineProperty$n({},Ot,Qt))},{})},distanceBetweenPoints=function _e($,ht){var vt=$.x,bt=$.y,_t=ht.x,wt=ht.y;return Math.sqrt(Math.pow(vt-_t,2)+Math.pow(bt-wt,2))},getAngleOfPoint=function _e($,ht){var vt=$.x,bt=$.y,_t=ht.cx,wt=ht.cy,At=distanceBetweenPoints({x:vt,y:bt},{x:_t,y:wt});if(At<=0)return{radius:At};var St=(vt-_t)/At,Et=Math.acos(St);return bt>wt&&(Et=2*Math.PI-Et),{radius:At,angle:radianToDegree(Et),angleInRadian:Et}},formatAngleOfSector=function _e($){var ht=$.startAngle,vt=$.endAngle,bt=Math.floor(ht/360),_t=Math.floor(vt/360),wt=Math.min(bt,_t);return{startAngle:ht-wt*360,endAngle:vt-wt*360}},reverseFormatAngleOfSetor=function _e($,ht){var vt=ht.startAngle,bt=ht.endAngle,_t=Math.floor(vt/360),wt=Math.floor(bt/360),At=Math.min(_t,wt);return $+At*360},inRangeOfSector=function _e($,ht){var vt=$.x,bt=$.y,_t=getAngleOfPoint({x:vt,y:bt},ht),wt=_t.radius,At=_t.angle,St=ht.innerRadius,Et=ht.outerRadius;if(wt<St||wt>Et)return!1;if(wt===0)return!0;var xt=formatAngleOfSector(ht),Pt=xt.startAngle,$t=xt.endAngle,kt=At,Rt;if(Pt<=$t){for(;kt>$t;)kt-=360;for(;kt<Pt;)kt+=360;Rt=kt>=Pt&&kt<=$t}else{for(;kt>Pt;)kt-=360;for(;kt<$t;)kt+=360;Rt=kt>=$t&&kt<=Pt}return Rt?_objectSpread$m(_objectSpread$m({},ht),{},{radius:wt,angle:reverseFormatAngleOfSetor(kt,ht)}):null},getTickClassName=function _e($){return!reactExports.isValidElement($)&&!isFunction$3($)&&typeof $!="boolean"?$.className:""};function _typeof$n(_e){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$n(_e)}var _excluded$7=["offset"];function _toConsumableArray$7(_e){return _arrayWithoutHoles$7(_e)||_iterableToArray$8(_e)||_unsupportedIterableToArray$b(_e)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$b(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$b(_e,$)}}function _iterableToArray$8(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$7(_e){if(Array.isArray(_e))return _arrayLikeToArray$b(_e)}function _arrayLikeToArray$b(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _objectWithoutProperties$7(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$7(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$7(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function ownKeys$l(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$l(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$l(Object(ht),!0).forEach(function(vt){_defineProperty$m(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$l(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$m(_e,$,ht){return $=_toPropertyKey$m($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$m(_e){var $=_toPrimitive$m(_e,"string");return _typeof$n($)=="symbol"?$:$+""}function _toPrimitive$m(_e,$){if(_typeof$n(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$n(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$g.apply(this,arguments)}var getLabel=function _e($){var ht=$.value,vt=$.formatter,bt=isNil$1($.children)?ht:$.children;return isFunction$3(vt)?vt(bt):bt},getDeltaAngle$1=function _e($,ht){var vt=mathSign(ht-$),bt=Math.min(Math.abs(ht-$),360);return vt*bt},renderRadialLabel=function _e($,ht,vt){var bt=$.position,_t=$.viewBox,wt=$.offset,At=$.className,St=_t,Et=St.cx,xt=St.cy,Pt=St.innerRadius,$t=St.outerRadius,kt=St.startAngle,Rt=St.endAngle,Mt=St.clockWise,Dt=(Pt+$t)/2,Ot=getDeltaAngle$1(kt,Rt),Lt=Ot>=0?1:-1,Nt,Ht;bt==="insideStart"?(Nt=kt+Lt*wt,Ht=Mt):bt==="insideEnd"?(Nt=Rt-Lt*wt,Ht=!Mt):bt==="end"&&(Nt=Rt+Lt*wt,Ht=Mt),Ht=Ot<=0?Ht:!Ht;var Ft=polarToCartesian(Et,xt,Dt,Nt),jt=polarToCartesian(Et,xt,Dt,Nt+(Ht?1:-1)*359),Bt="M".concat(Ft.x,",").concat(Ft.y,`
    A`).concat(Dt,",").concat(Dt,",0,1,").concat(Ht?0:1,`,
    `).concat(jt.x,",").concat(jt.y),Vt=isNil$1($.id)?uniqueId("recharts-radial-line-"):$.id;return React.createElement("text",_extends$g({},vt,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",At)}),React.createElement("defs",null,React.createElement("path",{id:Vt,d:Bt})),React.createElement("textPath",{xlinkHref:"#".concat(Vt)},ht))},getAttrsOfPolarLabel=function _e($){var ht=$.viewBox,vt=$.offset,bt=$.position,_t=ht,wt=_t.cx,At=_t.cy,St=_t.innerRadius,Et=_t.outerRadius,xt=_t.startAngle,Pt=_t.endAngle,$t=(xt+Pt)/2;if(bt==="outside"){var kt=polarToCartesian(wt,At,Et+vt,$t),Rt=kt.x,Mt=kt.y;return{x:Rt,y:Mt,textAnchor:Rt>=wt?"start":"end",verticalAnchor:"middle"}}if(bt==="center")return{x:wt,y:At,textAnchor:"middle",verticalAnchor:"middle"};if(bt==="centerTop")return{x:wt,y:At,textAnchor:"middle",verticalAnchor:"start"};if(bt==="centerBottom")return{x:wt,y:At,textAnchor:"middle",verticalAnchor:"end"};var Dt=(St+Et)/2,Ot=polarToCartesian(wt,At,Dt,$t),Lt=Ot.x,Nt=Ot.y;return{x:Lt,y:Nt,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function _e($){var ht=$.viewBox,vt=$.parentViewBox,bt=$.offset,_t=$.position,wt=ht,At=wt.x,St=wt.y,Et=wt.width,xt=wt.height,Pt=xt>=0?1:-1,$t=Pt*bt,kt=Pt>0?"end":"start",Rt=Pt>0?"start":"end",Mt=Et>=0?1:-1,Dt=Mt*bt,Ot=Mt>0?"end":"start",Lt=Mt>0?"start":"end";if(_t==="top"){var Nt={x:At+Et/2,y:St-Pt*bt,textAnchor:"middle",verticalAnchor:kt};return _objectSpread$l(_objectSpread$l({},Nt),vt?{height:Math.max(St-vt.y,0),width:Et}:{})}if(_t==="bottom"){var Ht={x:At+Et/2,y:St+xt+$t,textAnchor:"middle",verticalAnchor:Rt};return _objectSpread$l(_objectSpread$l({},Ht),vt?{height:Math.max(vt.y+vt.height-(St+xt),0),width:Et}:{})}if(_t==="left"){var Ft={x:At-Dt,y:St+xt/2,textAnchor:Ot,verticalAnchor:"middle"};return _objectSpread$l(_objectSpread$l({},Ft),vt?{width:Math.max(Ft.x-vt.x,0),height:xt}:{})}if(_t==="right"){var jt={x:At+Et+Dt,y:St+xt/2,textAnchor:Lt,verticalAnchor:"middle"};return _objectSpread$l(_objectSpread$l({},jt),vt?{width:Math.max(vt.x+vt.width-jt.x,0),height:xt}:{})}var Bt=vt?{width:Et,height:xt}:{};return _t==="insideLeft"?_objectSpread$l({x:At+Dt,y:St+xt/2,textAnchor:Lt,verticalAnchor:"middle"},Bt):_t==="insideRight"?_objectSpread$l({x:At+Et-Dt,y:St+xt/2,textAnchor:Ot,verticalAnchor:"middle"},Bt):_t==="insideTop"?_objectSpread$l({x:At+Et/2,y:St+$t,textAnchor:"middle",verticalAnchor:Rt},Bt):_t==="insideBottom"?_objectSpread$l({x:At+Et/2,y:St+xt-$t,textAnchor:"middle",verticalAnchor:kt},Bt):_t==="insideTopLeft"?_objectSpread$l({x:At+Dt,y:St+$t,textAnchor:Lt,verticalAnchor:Rt},Bt):_t==="insideTopRight"?_objectSpread$l({x:At+Et-Dt,y:St+$t,textAnchor:Ot,verticalAnchor:Rt},Bt):_t==="insideBottomLeft"?_objectSpread$l({x:At+Dt,y:St+xt-$t,textAnchor:Lt,verticalAnchor:kt},Bt):_t==="insideBottomRight"?_objectSpread$l({x:At+Et-Dt,y:St+xt-$t,textAnchor:Ot,verticalAnchor:kt},Bt):isObject$8(_t)&&(isNumber(_t.x)||isPercent(_t.x))&&(isNumber(_t.y)||isPercent(_t.y))?_objectSpread$l({x:At+getPercentValue(_t.x,Et),y:St+getPercentValue(_t.y,xt),textAnchor:"end",verticalAnchor:"end"},Bt):_objectSpread$l({x:At+Et/2,y:St+xt/2,textAnchor:"middle",verticalAnchor:"middle"},Bt)},isPolar=function _e($){return"cx"in $&&isNumber($.cx)};function Label(_e){var $=_e.offset,ht=$===void 0?5:$,vt=_objectWithoutProperties$7(_e,_excluded$7),bt=_objectSpread$l({offset:ht},vt),_t=bt.viewBox,wt=bt.position,At=bt.value,St=bt.children,Et=bt.content,xt=bt.className,Pt=xt===void 0?"":xt,$t=bt.textBreakAll;if(!_t||isNil$1(At)&&isNil$1(St)&&!reactExports.isValidElement(Et)&&!isFunction$3(Et))return null;if(reactExports.isValidElement(Et))return reactExports.cloneElement(Et,bt);var kt;if(isFunction$3(Et)){if(kt=reactExports.createElement(Et,bt),reactExports.isValidElement(kt))return kt}else kt=getLabel(bt);var Rt=isPolar(_t),Mt=filterProps(bt,!0);if(Rt&&(wt==="insideStart"||wt==="insideEnd"||wt==="end"))return renderRadialLabel(bt,kt,Mt);var Dt=Rt?getAttrsOfPolarLabel(bt):getAttrsOfCartesianLabel(bt);return React.createElement(Text,_extends$g({className:clsx("recharts-label",Pt)},Mt,Dt,{breakAll:$t}),kt)}Label.displayName="Label";var parseViewBox=function _e($){var ht=$.cx,vt=$.cy,bt=$.angle,_t=$.startAngle,wt=$.endAngle,At=$.r,St=$.radius,Et=$.innerRadius,xt=$.outerRadius,Pt=$.x,$t=$.y,kt=$.top,Rt=$.left,Mt=$.width,Dt=$.height,Ot=$.clockWise,Lt=$.labelViewBox;if(Lt)return Lt;if(isNumber(Mt)&&isNumber(Dt)){if(isNumber(Pt)&&isNumber($t))return{x:Pt,y:$t,width:Mt,height:Dt};if(isNumber(kt)&&isNumber(Rt))return{x:kt,y:Rt,width:Mt,height:Dt}}return isNumber(Pt)&&isNumber($t)?{x:Pt,y:$t,width:0,height:0}:isNumber(ht)&&isNumber(vt)?{cx:ht,cy:vt,startAngle:_t||bt||0,endAngle:wt||bt||0,innerRadius:Et||0,outerRadius:xt||St||At||0,clockWise:Ot}:$.viewBox?$.viewBox:{}},parseLabel=function _e($,ht){return $?$===!0?React.createElement(Label,{key:"label-implicit",viewBox:ht}):isNumOrStr($)?React.createElement(Label,{key:"label-implicit",viewBox:ht,value:$}):reactExports.isValidElement($)?$.type===Label?reactExports.cloneElement($,{key:"label-implicit",viewBox:ht}):React.createElement(Label,{key:"label-implicit",content:$,viewBox:ht}):isFunction$3($)?React.createElement(Label,{key:"label-implicit",content:$,viewBox:ht}):isObject$8($)?React.createElement(Label,_extends$g({viewBox:ht},$,{key:"label-implicit"})):null:null},renderCallByParent$1=function _e($,ht){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!$||!$.children&&vt&&!$.label)return null;var bt=$.children,_t=parseViewBox($),wt=findAllByType(bt,Label).map(function(St,Et){return reactExports.cloneElement(St,{viewBox:ht||_t,key:"label-".concat(Et)})});if(!vt)return wt;var At=parseLabel($.label,ht||_t);return[At].concat(_toConsumableArray$7(wt))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(_e){var $=_e==null?0:_e.length;return $?_e[$-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$m(_e){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$m(_e)}var _excluded$6=["valueAccessor"],_excluded2$2=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$6(_e){return _arrayWithoutHoles$6(_e)||_iterableToArray$7(_e)||_unsupportedIterableToArray$a(_e)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$a(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$a(_e,$)}}function _iterableToArray$7(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$6(_e){if(Array.isArray(_e))return _arrayLikeToArray$a(_e)}function _arrayLikeToArray$a(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$f.apply(this,arguments)}function ownKeys$k(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$k(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$k(Object(ht),!0).forEach(function(vt){_defineProperty$l(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$k(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$l(_e,$,ht){return $=_toPropertyKey$l($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$l(_e){var $=_toPrimitive$l(_e,"string");return _typeof$m($)=="symbol"?$:$+""}function _toPrimitive$l(_e,$){if(_typeof$m(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$m(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _objectWithoutProperties$6(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$6(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$6(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}var defaultAccessor=function _e($){return Array.isArray($.value)?last$1($.value):$.value};function LabelList(_e){var $=_e.valueAccessor,ht=$===void 0?defaultAccessor:$,vt=_objectWithoutProperties$6(_e,_excluded$6),bt=vt.data,_t=vt.dataKey,wt=vt.clockWise,At=vt.id,St=vt.textBreakAll,Et=_objectWithoutProperties$6(vt,_excluded2$2);return!bt||!bt.length?null:React.createElement(Layer,{className:"recharts-label-list"},bt.map(function(xt,Pt){var $t=isNil$1(_t)?ht(xt,Pt):getValueByDataKey(xt&&xt.payload,_t),kt=isNil$1(At)?{}:{id:"".concat(At,"-").concat(Pt)};return React.createElement(Label,_extends$f({},filterProps(xt,!0),Et,kt,{parentViewBox:xt.parentViewBox,value:$t,textBreakAll:St,viewBox:Label.parseViewBox(isNil$1(wt)?xt:_objectSpread$k(_objectSpread$k({},xt),{},{clockWise:wt})),key:"label-".concat(Pt),index:Pt}))}))}LabelList.displayName="LabelList";function parseLabelList(_e,$){return _e?_e===!0?React.createElement(LabelList,{key:"labelList-implicit",data:$}):React.isValidElement(_e)||isFunction$3(_e)?React.createElement(LabelList,{key:"labelList-implicit",data:$,content:_e}):isObject$8(_e)?React.createElement(LabelList,_extends$f({data:$},_e,{key:"labelList-implicit"})):null:null}function renderCallByParent(_e,$){var ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!_e||!_e.children&&ht&&!_e.label)return null;var vt=_e.children,bt=findAllByType(vt,LabelList).map(function(wt,At){return reactExports.cloneElement(wt,{data:$,key:"labelList-".concat(At)})});if(!ht)return bt;var _t=parseLabelList(_e.label,$);return[_t].concat(_toConsumableArray$6(bt))}LabelList.renderCallByParent=renderCallByParent;function _typeof$l(_e){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$l(_e)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$e.apply(this,arguments)}function ownKeys$j(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$j(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$j(Object(ht),!0).forEach(function(vt){_defineProperty$k(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$j(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$k(_e,$,ht){return $=_toPropertyKey$k($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$k(_e){var $=_toPrimitive$k(_e,"string");return _typeof$l($)=="symbol"?$:$+""}function _toPrimitive$k(_e,$){if(_typeof$l(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$l(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getDeltaAngle=function _e($,ht){var vt=mathSign(ht-$),bt=Math.min(Math.abs(ht-$),359.999);return vt*bt},getTangentCircle=function _e($){var ht=$.cx,vt=$.cy,bt=$.radius,_t=$.angle,wt=$.sign,At=$.isExternal,St=$.cornerRadius,Et=$.cornerIsExternal,xt=St*(At?1:-1)+bt,Pt=Math.asin(St/xt)/RADIAN$1,$t=Et?_t:_t+wt*Pt,kt=polarToCartesian(ht,vt,xt,$t),Rt=polarToCartesian(ht,vt,bt,$t),Mt=Et?_t-wt*Pt:_t,Dt=polarToCartesian(ht,vt,xt*Math.cos(Pt*RADIAN$1),Mt);return{center:kt,circleTangency:Rt,lineTangency:Dt,theta:Pt}},getSectorPath=function _e($){var ht=$.cx,vt=$.cy,bt=$.innerRadius,_t=$.outerRadius,wt=$.startAngle,At=$.endAngle,St=getDeltaAngle(wt,At),Et=wt+St,xt=polarToCartesian(ht,vt,_t,wt),Pt=polarToCartesian(ht,vt,_t,Et),$t="M ".concat(xt.x,",").concat(xt.y,`
    A `).concat(_t,",").concat(_t,`,0,
    `).concat(+(Math.abs(St)>180),",").concat(+(wt>Et),`,
    `).concat(Pt.x,",").concat(Pt.y,`
  `);if(bt>0){var kt=polarToCartesian(ht,vt,bt,wt),Rt=polarToCartesian(ht,vt,bt,Et);$t+="L ".concat(Rt.x,",").concat(Rt.y,`
            A `).concat(bt,",").concat(bt,`,0,
            `).concat(+(Math.abs(St)>180),",").concat(+(wt<=Et),`,
            `).concat(kt.x,",").concat(kt.y," Z")}else $t+="L ".concat(ht,",").concat(vt," Z");return $t},getSectorWithCorner=function _e($){var ht=$.cx,vt=$.cy,bt=$.innerRadius,_t=$.outerRadius,wt=$.cornerRadius,At=$.forceCornerRadius,St=$.cornerIsExternal,Et=$.startAngle,xt=$.endAngle,Pt=mathSign(xt-Et),$t=getTangentCircle({cx:ht,cy:vt,radius:_t,angle:Et,sign:Pt,cornerRadius:wt,cornerIsExternal:St}),kt=$t.circleTangency,Rt=$t.lineTangency,Mt=$t.theta,Dt=getTangentCircle({cx:ht,cy:vt,radius:_t,angle:xt,sign:-Pt,cornerRadius:wt,cornerIsExternal:St}),Ot=Dt.circleTangency,Lt=Dt.lineTangency,Nt=Dt.theta,Ht=St?Math.abs(Et-xt):Math.abs(Et-xt)-Mt-Nt;if(Ht<0)return At?"M ".concat(Rt.x,",").concat(Rt.y,`
        a`).concat(wt,",").concat(wt,",0,0,1,").concat(wt*2,`,0
        a`).concat(wt,",").concat(wt,",0,0,1,").concat(-wt*2,`,0
      `):getSectorPath({cx:ht,cy:vt,innerRadius:bt,outerRadius:_t,startAngle:Et,endAngle:xt});var Ft="M ".concat(Rt.x,",").concat(Rt.y,`
    A`).concat(wt,",").concat(wt,",0,0,").concat(+(Pt<0),",").concat(kt.x,",").concat(kt.y,`
    A`).concat(_t,",").concat(_t,",0,").concat(+(Ht>180),",").concat(+(Pt<0),",").concat(Ot.x,",").concat(Ot.y,`
    A`).concat(wt,",").concat(wt,",0,0,").concat(+(Pt<0),",").concat(Lt.x,",").concat(Lt.y,`
  `);if(bt>0){var jt=getTangentCircle({cx:ht,cy:vt,radius:bt,angle:Et,sign:Pt,isExternal:!0,cornerRadius:wt,cornerIsExternal:St}),Bt=jt.circleTangency,Vt=jt.lineTangency,Ut=jt.theta,Jt=getTangentCircle({cx:ht,cy:vt,radius:bt,angle:xt,sign:-Pt,isExternal:!0,cornerRadius:wt,cornerIsExternal:St}),Wt=Jt.circleTangency,Qt=Jt.lineTangency,tn=Jt.theta,pn=St?Math.abs(Et-xt):Math.abs(Et-xt)-Ut-tn;if(pn<0&&wt===0)return"".concat(Ft,"L").concat(ht,",").concat(vt,"Z");Ft+="L".concat(Qt.x,",").concat(Qt.y,`
      A`).concat(wt,",").concat(wt,",0,0,").concat(+(Pt<0),",").concat(Wt.x,",").concat(Wt.y,`
      A`).concat(bt,",").concat(bt,",0,").concat(+(pn>180),",").concat(+(Pt>0),",").concat(Bt.x,",").concat(Bt.y,`
      A`).concat(wt,",").concat(wt,",0,0,").concat(+(Pt<0),",").concat(Vt.x,",").concat(Vt.y,"Z")}else Ft+="L".concat(ht,",").concat(vt,"Z");return Ft},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function _e($){var ht=_objectSpread$j(_objectSpread$j({},defaultProps$2),$),vt=ht.cx,bt=ht.cy,_t=ht.innerRadius,wt=ht.outerRadius,At=ht.cornerRadius,St=ht.forceCornerRadius,Et=ht.cornerIsExternal,xt=ht.startAngle,Pt=ht.endAngle,$t=ht.className;if(wt<_t||xt===Pt)return null;var kt=clsx("recharts-sector",$t),Rt=wt-_t,Mt=getPercentValue(At,Rt,0,!0),Dt;return Mt>0&&Math.abs(xt-Pt)<360?Dt=getSectorWithCorner({cx:vt,cy:bt,innerRadius:_t,outerRadius:wt,cornerRadius:Math.min(Mt,Rt/2),forceCornerRadius:St,cornerIsExternal:Et,startAngle:xt,endAngle:Pt}):Dt=getSectorPath({cx:vt,cy:bt,innerRadius:_t,outerRadius:wt,startAngle:xt,endAngle:Pt}),React.createElement("path",_extends$e({},filterProps(ht,!0),{className:kt,d:Dt,role:"img"}))};function _typeof$k(_e){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$k(_e)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$d.apply(this,arguments)}function ownKeys$i(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$i(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$i(Object(ht),!0).forEach(function(vt){_defineProperty$j(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$i(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$j(_e,$,ht){return $=_toPropertyKey$j($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$j(_e){var $=_toPrimitive$j(_e,"string");return _typeof$k($)=="symbol"?$:$+""}function _toPrimitive$j(_e,$){if(_typeof$k(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$k(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function _e($){return $.x===+$.x&&$.y===+$.y},getX=function _e($){return $.x},getY=function _e($){return $.y},getCurveFactory=function _e($,ht){if(isFunction$3($))return $;var vt="curve".concat(upperFirst$1($));return(vt==="curveMonotone"||vt==="curveBump")&&ht?CURVE_FACTORIES["".concat(vt).concat(ht==="vertical"?"Y":"X")]:CURVE_FACTORIES[vt]||curveLinear},getPath$1=function _e($){var ht=$.type,vt=ht===void 0?"linear":ht,bt=$.points,_t=bt===void 0?[]:bt,wt=$.baseLine,At=$.layout,St=$.connectNulls,Et=St===void 0?!1:St,xt=getCurveFactory(vt,At),Pt=Et?_t.filter(function(Mt){return defined(Mt)}):_t,$t;if(Array.isArray(wt)){var kt=Et?wt.filter(function(Mt){return defined(Mt)}):wt,Rt=Pt.map(function(Mt,Dt){return _objectSpread$i(_objectSpread$i({},Mt),{},{base:kt[Dt]})});return At==="vertical"?$t=shapeArea().y(getY).x1(getX).x0(function(Mt){return Mt.base.x}):$t=shapeArea().x(getX).y1(getY).y0(function(Mt){return Mt.base.y}),$t.defined(defined).curve(xt),$t(Rt)}return At==="vertical"&&isNumber(wt)?$t=shapeArea().y(getY).x1(getX).x0(wt):isNumber(wt)?$t=shapeArea().x(getX).y1(getY).y0(wt):$t=shapeLine().x(getX).y(getY),$t.defined(defined).curve(xt),$t(Pt)},Curve=function _e($){var ht=$.className,vt=$.points,bt=$.path,_t=$.pathRef;if((!vt||!vt.length)&&!bt)return null;var wt=vt&&vt.length?getPath$1($):bt;return React.createElement("path",_extends$d({},filterProps($,!1),adaptEventHandlers($),{className:clsx("recharts-curve",ht),d:wt,ref:_t}))},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _e(vt,bt,_t,wt,At,St){if(St!==ReactPropTypesSecret){var Et=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Et.name="Invariant Violation",Et}}_e.isRequired=_e;function $(){return _e}var ht={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:$,element:_e,elementType:_e,instanceOf:$,node:_e,objectOf:$,oneOf:$,oneOfType:$,shape:$,exact:$,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ht.PropTypes=ht,ht};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty;function combineComparators(_e,$){return function(vt,bt,_t){return _e(vt,bt,_t)&&$(vt,bt,_t)}}function createIsCircular(_e){return function(ht,vt,bt){if(!ht||!vt||typeof ht!="object"||typeof vt!="object")return _e(ht,vt,bt);var _t=bt.cache,wt=_t.get(ht),At=_t.get(vt);if(wt&&At)return wt===vt&&At===ht;_t.set(ht,vt),_t.set(vt,ht);var St=_e(ht,vt,bt);return _t.delete(ht),_t.delete(vt),St}}function getStrictProperties(_e){return getOwnPropertyNames(_e).concat(getOwnPropertySymbols(_e))}var hasOwn=Object.hasOwn||function(_e,$){return hasOwnProperty$1.call(_e,$)};function sameValueZeroEqual(_e,$){return _e||$?_e===$:_e===$||_e!==_e&&$!==$}var OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys=Object.keys;function areArraysEqual(_e,$,ht){var vt=_e.length;if($.length!==vt)return!1;for(;vt-- >0;)if(!ht.equals(_e[vt],$[vt],vt,vt,_e,$,ht))return!1;return!0}function areDatesEqual(_e,$){return sameValueZeroEqual(_e.getTime(),$.getTime())}function areMapsEqual(_e,$,ht){if(_e.size!==$.size)return!1;for(var vt={},bt=_e.entries(),_t=0,wt,At;(wt=bt.next())&&!wt.done;){for(var St=$.entries(),Et=!1,xt=0;(At=St.next())&&!At.done;){var Pt=wt.value,$t=Pt[0],kt=Pt[1],Rt=At.value,Mt=Rt[0],Dt=Rt[1];!Et&&!vt[xt]&&(Et=ht.equals($t,Mt,_t,xt,_e,$,ht)&&ht.equals(kt,Dt,$t,Mt,_e,$,ht))&&(vt[xt]=!0),xt++}if(!Et)return!1;_t++}return!0}function areObjectsEqual(_e,$,ht){var vt=keys(_e),bt=vt.length;if(keys($).length!==bt)return!1;for(var _t;bt-- >0;)if(_t=vt[bt],_t===OWNER&&(_e.$$typeof||$.$$typeof)&&_e.$$typeof!==$.$$typeof||!hasOwn($,_t)||!ht.equals(_e[_t],$[_t],_t,_t,_e,$,ht))return!1;return!0}function areObjectsEqualStrict(_e,$,ht){var vt=getStrictProperties(_e),bt=vt.length;if(getStrictProperties($).length!==bt)return!1;for(var _t,wt,At;bt-- >0;)if(_t=vt[bt],_t===OWNER&&(_e.$$typeof||$.$$typeof)&&_e.$$typeof!==$.$$typeof||!hasOwn($,_t)||!ht.equals(_e[_t],$[_t],_t,_t,_e,$,ht)||(wt=getOwnPropertyDescriptor(_e,_t),At=getOwnPropertyDescriptor($,_t),(wt||At)&&(!wt||!At||wt.configurable!==At.configurable||wt.enumerable!==At.enumerable||wt.writable!==At.writable)))return!1;return!0}function arePrimitiveWrappersEqual(_e,$){return sameValueZeroEqual(_e.valueOf(),$.valueOf())}function areRegExpsEqual(_e,$){return _e.source===$.source&&_e.flags===$.flags}function areSetsEqual(_e,$,ht){if(_e.size!==$.size)return!1;for(var vt={},bt=_e.values(),_t,wt;(_t=bt.next())&&!_t.done;){for(var At=$.values(),St=!1,Et=0;(wt=At.next())&&!wt.done;)!St&&!vt[Et]&&(St=ht.equals(_t.value,wt.value,_t.value,wt.value,_e,$,ht))&&(vt[Et]=!0),Et++;if(!St)return!1}return!0}function areTypedArraysEqual(_e,$){var ht=_e.length;if($.length!==ht)return!1;for(;ht-- >0;)if(_e[ht]!==$[ht])return!1;return!0}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",isArray$2=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(_e){var $=_e.areArraysEqual,ht=_e.areDatesEqual,vt=_e.areMapsEqual,bt=_e.areObjectsEqual,_t=_e.arePrimitiveWrappersEqual,wt=_e.areRegExpsEqual,At=_e.areSetsEqual,St=_e.areTypedArraysEqual;return function(xt,Pt,$t){if(xt===Pt)return!0;if(xt==null||Pt==null||typeof xt!="object"||typeof Pt!="object")return xt!==xt&&Pt!==Pt;var kt=xt.constructor;if(kt!==Pt.constructor)return!1;if(kt===Object)return bt(xt,Pt,$t);if(isArray$2(xt))return $(xt,Pt,$t);if(isTypedArray!=null&&isTypedArray(xt))return St(xt,Pt,$t);if(kt===Date)return ht(xt,Pt,$t);if(kt===RegExp)return wt(xt,Pt,$t);if(kt===Map)return vt(xt,Pt,$t);if(kt===Set)return At(xt,Pt,$t);var Rt=getTag(xt);return Rt===DATE_TAG?ht(xt,Pt,$t):Rt===REG_EXP_TAG?wt(xt,Pt,$t):Rt===MAP_TAG?vt(xt,Pt,$t):Rt===SET_TAG?At(xt,Pt,$t):Rt===OBJECT_TAG?typeof xt.then!="function"&&typeof Pt.then!="function"&&bt(xt,Pt,$t):Rt===ARGUMENTS_TAG?bt(xt,Pt,$t):Rt===BOOLEAN_TAG||Rt===NUMBER_TAG||Rt===STRING_TAG?_t(xt,Pt,$t):!1}}function createEqualityComparatorConfig(_e){var $=_e.circular,ht=_e.createCustomConfig,vt=_e.strict,bt={areArraysEqual:vt?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areMapsEqual:vt?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areObjectsEqual:vt?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:vt?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:vt?areObjectsEqualStrict:areTypedArraysEqual};if(ht&&(bt=assign({},bt,ht(bt))),$){var _t=createIsCircular(bt.areArraysEqual),wt=createIsCircular(bt.areMapsEqual),At=createIsCircular(bt.areObjectsEqual),St=createIsCircular(bt.areSetsEqual);bt=assign({},bt,{areArraysEqual:_t,areMapsEqual:wt,areObjectsEqual:At,areSetsEqual:St})}return bt}function createInternalEqualityComparator(_e){return function($,ht,vt,bt,_t,wt,At){return _e($,ht,At)}}function createIsEqual(_e){var $=_e.circular,ht=_e.comparator,vt=_e.createState,bt=_e.equals,_t=_e.strict;if(vt)return function(St,Et){var xt=vt(),Pt=xt.cache,$t=Pt===void 0?$?new WeakMap:void 0:Pt,kt=xt.meta;return ht(St,Et,{cache:$t,equals:bt,meta:kt,strict:_t})};if($)return function(St,Et){return ht(St,Et,{cache:new WeakMap,equals:bt,meta:void 0,strict:_t})};var wt={cache:void 0,equals:bt,meta:void 0,strict:_t};return function(St,Et){return ht(St,Et,wt)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(_e){_e===void 0&&(_e={});var $=_e.circular,ht=$===void 0?!1:$,vt=_e.createInternalComparator,bt=_e.createState,_t=_e.strict,wt=_t===void 0?!1:_t,At=createEqualityComparatorConfig(_e),St=createEqualityComparator(At),Et=vt?vt(St):createInternalEqualityComparator(St);return createIsEqual({circular:ht,comparator:St,createState:bt,equals:Et,strict:wt})}function safeRequestAnimationFrame(_e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(_e)}function setRafTimeout(_e){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ht=-1,vt=function bt(_t){ht<0&&(ht=_t),_t-ht>$?(_e(_t),ht=-1):safeRequestAnimationFrame(bt)};requestAnimationFrame(vt)}function _typeof$j(_e){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$j(_e)}function _toArray(_e){return _arrayWithHoles$6(_e)||_iterableToArray$6(_e)||_unsupportedIterableToArray$9(_e)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$9(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$9(_e,$)}}function _arrayLikeToArray$9(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArray$6(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithHoles$6(_e){if(Array.isArray(_e))return _e}function createAnimateManager(){var _e={},$=function(){return null},ht=!1,vt=function bt(_t){if(!ht){if(Array.isArray(_t)){if(!_t.length)return;var wt=_t,At=_toArray(wt),St=At[0],Et=At.slice(1);if(typeof St=="number"){setRafTimeout(bt.bind(null,Et),St);return}bt(St),setRafTimeout(bt.bind(null,Et));return}_typeof$j(_t)==="object"&&(_e=_t,$(_e)),typeof _t=="function"&&_t()}};return{stop:function(){ht=!0},start:function(_t){ht=!1,vt(_t)},subscribe:function(_t){return $=_t,function(){$=function(){return null}}}}}function _typeof$i(_e){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$i(_e)}function ownKeys$h(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$h(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$h(Object(ht),!0).forEach(function(vt){_defineProperty$i(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$h(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$i(_e,$,ht){return $=_toPropertyKey$i($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$i(_e){var $=_toPrimitive$i(_e,"string");return _typeof$i($)==="symbol"?$:String($)}function _toPrimitive$i(_e,$){if(_typeof$i(_e)!=="object"||_e===null)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$i(vt)!=="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getIntersectionKeys=function _e($,ht){return[Object.keys($),Object.keys(ht)].reduce(function(vt,bt){return vt.filter(function(_t){return bt.includes(_t)})})},identity=function _e($){return $},getDashCase=function _e($){return $.replace(/([A-Z])/g,function(ht){return"-".concat(ht.toLowerCase())})},mapObject=function _e($,ht){return Object.keys(ht).reduce(function(vt,bt){return _objectSpread$h(_objectSpread$h({},vt),{},_defineProperty$i({},bt,$(bt,ht[bt])))},{})},getTransitionVal=function _e($,ht,vt){return $.map(function(bt){return"".concat(getDashCase(bt)," ").concat(ht,"ms ").concat(vt)}).join(",")};function _slicedToArray$5(_e,$){return _arrayWithHoles$5(_e)||_iterableToArrayLimit$5(_e,$)||_unsupportedIterableToArray$8(_e,$)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$5(_e){if(Array.isArray(_e))return _e}function _toConsumableArray$5(_e){return _arrayWithoutHoles$5(_e)||_iterableToArray$5(_e)||_unsupportedIterableToArray$8(_e)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$8(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$8(_e,$)}}function _iterableToArray$5(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$5(_e){if(Array.isArray(_e))return _arrayLikeToArray$8(_e)}function _arrayLikeToArray$8(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}var ACCURACY=1e-4,cubicBezierFactor=function _e($,ht){return[0,3*$,3*ht-6*$,3*$-3*ht+1]},multyTime=function _e($,ht){return $.map(function(vt,bt){return vt*Math.pow(ht,bt)}).reduce(function(vt,bt){return vt+bt})},cubicBezier=function _e($,ht){return function(vt){var bt=cubicBezierFactor($,ht);return multyTime(bt,vt)}},derivativeCubicBezier=function _e($,ht){return function(vt){var bt=cubicBezierFactor($,ht),_t=[].concat(_toConsumableArray$5(bt.map(function(wt,At){return wt*At}).slice(1)),[0]);return multyTime(_t,vt)}},configBezier=function _e(){for(var $=arguments.length,ht=new Array($),vt=0;vt<$;vt++)ht[vt]=arguments[vt];var bt=ht[0],_t=ht[1],wt=ht[2],At=ht[3];if(ht.length===1)switch(ht[0]){case"linear":bt=0,_t=0,wt=1,At=1;break;case"ease":bt=.25,_t=.1,wt=.25,At=1;break;case"ease-in":bt=.42,_t=0,wt=1,At=1;break;case"ease-out":bt=.42,_t=0,wt=.58,At=1;break;case"ease-in-out":bt=0,_t=0,wt=.58,At=1;break;default:{var St=ht[0].split("(");if(St[0]==="cubic-bezier"&&St[1].split(")")[0].split(",").length===4){var Et=St[1].split(")")[0].split(",").map(function(Dt){return parseFloat(Dt)}),xt=_slicedToArray$5(Et,4);bt=xt[0],_t=xt[1],wt=xt[2],At=xt[3]}}}var Pt=cubicBezier(bt,wt),$t=cubicBezier(_t,At),kt=derivativeCubicBezier(bt,wt),Rt=function(Ot){return Ot>1?1:Ot<0?0:Ot},Mt=function(Ot){for(var Lt=Ot>1?1:Ot,Nt=Lt,Ht=0;Ht<8;++Ht){var Ft=Pt(Nt)-Lt,jt=kt(Nt);if(Math.abs(Ft-Lt)<ACCURACY||jt<ACCURACY)return $t(Nt);Nt=Rt(Nt-Ft/jt)}return $t(Nt)};return Mt.isStepper=!1,Mt},configSpring=function _e(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ht=$.stiff,vt=ht===void 0?100:ht,bt=$.damping,_t=bt===void 0?8:bt,wt=$.dt,At=wt===void 0?17:wt,St=function(xt,Pt,$t){var kt=-(xt-Pt)*vt,Rt=$t*_t,Mt=$t+(kt-Rt)*At/1e3,Dt=$t*At/1e3+xt;return Math.abs(Dt-Pt)<ACCURACY&&Math.abs(Mt)<ACCURACY?[Pt,0]:[Dt,Mt]};return St.isStepper=!0,St.dt=At,St},configEasing=function _e(){for(var $=arguments.length,ht=new Array($),vt=0;vt<$;vt++)ht[vt]=arguments[vt];var bt=ht[0];if(typeof bt=="string")switch(bt){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(bt);case"spring":return configSpring();default:if(bt.split("(")[0]==="cubic-bezier")return configBezier(bt)}return typeof bt=="function"?bt:null};function _typeof$h(_e){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$h(_e)}function _toConsumableArray$4(_e){return _arrayWithoutHoles$4(_e)||_iterableToArray$4(_e)||_unsupportedIterableToArray$7(_e)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$4(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$4(_e){if(Array.isArray(_e))return _arrayLikeToArray$7(_e)}function ownKeys$g(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$g(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$g(Object(ht),!0).forEach(function(vt){_defineProperty$h(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$g(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$h(_e,$,ht){return $=_toPropertyKey$h($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$h(_e){var $=_toPrimitive$h(_e,"string");return _typeof$h($)==="symbol"?$:String($)}function _toPrimitive$h(_e,$){if(_typeof$h(_e)!=="object"||_e===null)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$h(vt)!=="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _slicedToArray$4(_e,$){return _arrayWithHoles$4(_e)||_iterableToArrayLimit$4(_e,$)||_unsupportedIterableToArray$7(_e,$)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$7(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$7(_e,$)}}function _arrayLikeToArray$7(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$4(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$4(_e){if(Array.isArray(_e))return _e}var alpha=function _e($,ht,vt){return $+(ht-$)*vt},needContinue=function _e($){var ht=$.from,vt=$.to;return ht!==vt},calStepperVals=function _e($,ht,vt){var bt=mapObject(function(_t,wt){if(needContinue(wt)){var At=$(wt.from,wt.to,wt.velocity),St=_slicedToArray$4(At,2),Et=St[0],xt=St[1];return _objectSpread$g(_objectSpread$g({},wt),{},{from:Et,velocity:xt})}return wt},ht);return vt<1?mapObject(function(_t,wt){return needContinue(wt)?_objectSpread$g(_objectSpread$g({},wt),{},{velocity:alpha(wt.velocity,bt[_t].velocity,vt),from:alpha(wt.from,bt[_t].from,vt)}):wt},ht):_e($,bt,vt-1)};const configUpdate=function(_e,$,ht,vt,bt){var _t=getIntersectionKeys(_e,$),wt=_t.reduce(function(Dt,Ot){return _objectSpread$g(_objectSpread$g({},Dt),{},_defineProperty$h({},Ot,[_e[Ot],$[Ot]]))},{}),At=_t.reduce(function(Dt,Ot){return _objectSpread$g(_objectSpread$g({},Dt),{},_defineProperty$h({},Ot,{from:_e[Ot],velocity:0,to:$[Ot]}))},{}),St=-1,Et,xt,Pt=function(){return null},$t=function(){return mapObject(function(Ot,Lt){return Lt.from},At)},kt=function(){return!Object.values(At).filter(needContinue).length},Rt=function(Ot){Et||(Et=Ot);var Lt=Ot-Et,Nt=Lt/ht.dt;At=calStepperVals(ht,At,Nt),bt(_objectSpread$g(_objectSpread$g(_objectSpread$g({},_e),$),$t())),Et=Ot,kt()||(St=requestAnimationFrame(Pt))},Mt=function(Ot){xt||(xt=Ot);var Lt=(Ot-xt)/vt,Nt=mapObject(function(Ft,jt){return alpha.apply(void 0,_toConsumableArray$4(jt).concat([ht(Lt)]))},wt);if(bt(_objectSpread$g(_objectSpread$g(_objectSpread$g({},_e),$),Nt)),Lt<1)St=requestAnimationFrame(Pt);else{var Ht=mapObject(function(Ft,jt){return alpha.apply(void 0,_toConsumableArray$4(jt).concat([ht(1)]))},wt);bt(_objectSpread$g(_objectSpread$g(_objectSpread$g({},_e),$),Ht))}};return Pt=ht.isStepper?Rt:Mt,function(){return requestAnimationFrame(Pt),function(){cancelAnimationFrame(St)}}};function _typeof$g(_e){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$g(_e)}var _excluded$5=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$5(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$5(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$5(_e,$){if(_e==null)return{};var ht={},vt=Object.keys(_e),bt,_t;for(_t=0;_t<vt.length;_t++)bt=vt[_t],!($.indexOf(bt)>=0)&&(ht[bt]=_e[bt]);return ht}function _toConsumableArray$3(_e){return _arrayWithoutHoles$3(_e)||_iterableToArray$3(_e)||_unsupportedIterableToArray$6(_e)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$6(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$6(_e,$)}}function _iterableToArray$3(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$3(_e){if(Array.isArray(_e))return _arrayLikeToArray$6(_e)}function _arrayLikeToArray$6(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function ownKeys$f(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$f(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$f(Object(ht),!0).forEach(function(vt){_defineProperty$g(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$f(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$g(_e,$,ht){return $=_toPropertyKey$g($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _classCallCheck$a(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$g(vt.key),vt)}}function _createClass$a(_e,$,ht){return $&&_defineProperties$a(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _toPropertyKey$g(_e){var $=_toPrimitive$g(_e,"string");return _typeof$g($)==="symbol"?$:String($)}function _toPrimitive$g(_e,$){if(_typeof$g(_e)!=="object"||_e===null)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$g(vt)!=="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _inherits$8(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$8(_e,$)}function _setPrototypeOf$8(_e,$){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$8(_e,$)}function _createSuper(_e){var $=_isNativeReflectConstruct$8();return function(){var vt=_getPrototypeOf$8(_e),bt;if($){var _t=_getPrototypeOf$8(this).constructor;bt=Reflect.construct(vt,arguments,_t)}else bt=vt.apply(this,arguments);return _possibleConstructorReturn$8(this,bt)}}function _possibleConstructorReturn$8(_e,$){if($&&(_typeof$g($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(_e)}function _assertThisInitialized$8(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$8(_e){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$8(_e)}var Animate=function(_e){_inherits$8(ht,_e);var $=_createSuper(ht);function ht(vt,bt){var _t;_classCallCheck$a(this,ht),_t=$.call(this,vt,bt);var wt=_t.props,At=wt.isActive,St=wt.attributeName,Et=wt.from,xt=wt.to,Pt=wt.steps,$t=wt.children,kt=wt.duration;if(_t.handleStyleChange=_t.handleStyleChange.bind(_assertThisInitialized$8(_t)),_t.changeStyle=_t.changeStyle.bind(_assertThisInitialized$8(_t)),!At||kt<=0)return _t.state={style:{}},typeof $t=="function"&&(_t.state={style:xt}),_possibleConstructorReturn$8(_t);if(Pt&&Pt.length)_t.state={style:Pt[0].style};else if(Et){if(typeof $t=="function")return _t.state={style:Et},_possibleConstructorReturn$8(_t);_t.state={style:St?_defineProperty$g({},St,Et):Et}}else _t.state={style:{}};return _t}return _createClass$a(ht,[{key:"componentDidMount",value:function(){var bt=this.props,_t=bt.isActive,wt=bt.canBegin;this.mounted=!0,!(!_t||!wt)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(bt){var _t=this.props,wt=_t.isActive,At=_t.canBegin,St=_t.attributeName,Et=_t.shouldReAnimate,xt=_t.to,Pt=_t.from,$t=this.state.style;if(At){if(!wt){var kt={style:St?_defineProperty$g({},St,xt):xt};this.state&&$t&&(St&&$t[St]!==xt||!St&&$t!==xt)&&this.setState(kt);return}if(!(deepEqual(bt.to,xt)&&bt.canBegin&&bt.isActive)){var Rt=!bt.canBegin||!bt.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var Mt=Rt||Et?Pt:bt.to;if(this.state&&$t){var Dt={style:St?_defineProperty$g({},St,Mt):Mt};(St&&$t[St]!==Mt||!St&&$t!==Mt)&&this.setState(Dt)}this.runAnimation(_objectSpread$f(_objectSpread$f({},this.props),{},{from:Mt,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var bt=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),bt&&bt()}},{key:"handleStyleChange",value:function(bt){this.changeStyle(bt)}},{key:"changeStyle",value:function(bt){this.mounted&&this.setState({style:bt})}},{key:"runJSAnimation",value:function(bt){var _t=this,wt=bt.from,At=bt.to,St=bt.duration,Et=bt.easing,xt=bt.begin,Pt=bt.onAnimationEnd,$t=bt.onAnimationStart,kt=configUpdate(wt,At,configEasing(Et),St,this.changeStyle),Rt=function(){_t.stopJSAnimation=kt()};this.manager.start([$t,xt,Rt,St,Pt])}},{key:"runStepAnimation",value:function(bt){var _t=this,wt=bt.steps,At=bt.begin,St=bt.onAnimationStart,Et=wt[0],xt=Et.style,Pt=Et.duration,$t=Pt===void 0?0:Pt,kt=function(Mt,Dt,Ot){if(Ot===0)return Mt;var Lt=Dt.duration,Nt=Dt.easing,Ht=Nt===void 0?"ease":Nt,Ft=Dt.style,jt=Dt.properties,Bt=Dt.onAnimationEnd,Vt=Ot>0?wt[Ot-1]:Dt,Ut=jt||Object.keys(Ft);if(typeof Ht=="function"||Ht==="spring")return[].concat(_toConsumableArray$3(Mt),[_t.runJSAnimation.bind(_t,{from:Vt.style,to:Ft,duration:Lt,easing:Ht}),Lt]);var Jt=getTransitionVal(Ut,Lt,Ht),Wt=_objectSpread$f(_objectSpread$f(_objectSpread$f({},Vt.style),Ft),{},{transition:Jt});return[].concat(_toConsumableArray$3(Mt),[Wt,Lt,Bt]).filter(identity)};return this.manager.start([St].concat(_toConsumableArray$3(wt.reduce(kt,[xt,Math.max($t,At)])),[bt.onAnimationEnd]))}},{key:"runAnimation",value:function(bt){this.manager||(this.manager=createAnimateManager());var _t=bt.begin,wt=bt.duration,At=bt.attributeName,St=bt.to,Et=bt.easing,xt=bt.onAnimationStart,Pt=bt.onAnimationEnd,$t=bt.steps,kt=bt.children,Rt=this.manager;if(this.unSubscribe=Rt.subscribe(this.handleStyleChange),typeof Et=="function"||typeof kt=="function"||Et==="spring"){this.runJSAnimation(bt);return}if($t.length>1){this.runStepAnimation(bt);return}var Mt=At?_defineProperty$g({},At,St):St,Dt=getTransitionVal(Object.keys(Mt),wt,Et);Rt.start([xt,_t,_objectSpread$f(_objectSpread$f({},Mt),{},{transition:Dt}),wt,Pt])}},{key:"render",value:function(){var bt=this.props,_t=bt.children;bt.begin;var wt=bt.duration;bt.attributeName,bt.easing;var At=bt.isActive;bt.steps,bt.from,bt.to,bt.canBegin,bt.onAnimationEnd,bt.shouldReAnimate,bt.onAnimationReStart;var St=_objectWithoutProperties$5(bt,_excluded$5),Et=reactExports.Children.count(_t),xt=this.state.style;if(typeof _t=="function")return _t(xt);if(!At||Et===0||wt<=0)return _t;var Pt=function(kt){var Rt=kt.props,Mt=Rt.style,Dt=Mt===void 0?{}:Mt,Ot=Rt.className,Lt=reactExports.cloneElement(kt,_objectSpread$f(_objectSpread$f({},St),{},{style:_objectSpread$f(_objectSpread$f({},Dt),xt),className:Ot}));return Lt};return Et===1?Pt(reactExports.Children.only(_t)):React.createElement("div",null,reactExports.Children.map(_t,function($t){return Pt($t)}))}}]),ht}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function _e(){},onAnimationStart:function _e(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$f(_e){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$f(_e)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$c.apply(this,arguments)}function _slicedToArray$3(_e,$){return _arrayWithHoles$3(_e)||_iterableToArrayLimit$3(_e,$)||_unsupportedIterableToArray$5(_e,$)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$5(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$5(_e,$)}}function _arrayLikeToArray$5(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$3(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$3(_e){if(Array.isArray(_e))return _e}function ownKeys$e(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$e(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$e(Object(ht),!0).forEach(function(vt){_defineProperty$f(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$e(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$f(_e,$,ht){return $=_toPropertyKey$f($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$f(_e){var $=_toPrimitive$f(_e,"string");return _typeof$f($)=="symbol"?$:$+""}function _toPrimitive$f(_e,$){if(_typeof$f(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$f(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getRectanglePath=function _e($,ht,vt,bt,_t){var wt=Math.min(Math.abs(vt)/2,Math.abs(bt)/2),At=bt>=0?1:-1,St=vt>=0?1:-1,Et=bt>=0&&vt>=0||bt<0&&vt<0?1:0,xt;if(wt>0&&_t instanceof Array){for(var Pt=[0,0,0,0],$t=0,kt=4;$t<kt;$t++)Pt[$t]=_t[$t]>wt?wt:_t[$t];xt="M".concat($,",").concat(ht+At*Pt[0]),Pt[0]>0&&(xt+="A ".concat(Pt[0],",").concat(Pt[0],",0,0,").concat(Et,",").concat($+St*Pt[0],",").concat(ht)),xt+="L ".concat($+vt-St*Pt[1],",").concat(ht),Pt[1]>0&&(xt+="A ".concat(Pt[1],",").concat(Pt[1],",0,0,").concat(Et,`,
        `).concat($+vt,",").concat(ht+At*Pt[1])),xt+="L ".concat($+vt,",").concat(ht+bt-At*Pt[2]),Pt[2]>0&&(xt+="A ".concat(Pt[2],",").concat(Pt[2],",0,0,").concat(Et,`,
        `).concat($+vt-St*Pt[2],",").concat(ht+bt)),xt+="L ".concat($+St*Pt[3],",").concat(ht+bt),Pt[3]>0&&(xt+="A ".concat(Pt[3],",").concat(Pt[3],",0,0,").concat(Et,`,
        `).concat($,",").concat(ht+bt-At*Pt[3])),xt+="Z"}else if(wt>0&&_t===+_t&&_t>0){var Rt=Math.min(wt,_t);xt="M ".concat($,",").concat(ht+At*Rt,`
            A `).concat(Rt,",").concat(Rt,",0,0,").concat(Et,",").concat($+St*Rt,",").concat(ht,`
            L `).concat($+vt-St*Rt,",").concat(ht,`
            A `).concat(Rt,",").concat(Rt,",0,0,").concat(Et,",").concat($+vt,",").concat(ht+At*Rt,`
            L `).concat($+vt,",").concat(ht+bt-At*Rt,`
            A `).concat(Rt,",").concat(Rt,",0,0,").concat(Et,",").concat($+vt-St*Rt,",").concat(ht+bt,`
            L `).concat($+St*Rt,",").concat(ht+bt,`
            A `).concat(Rt,",").concat(Rt,",0,0,").concat(Et,",").concat($,",").concat(ht+bt-At*Rt," Z")}else xt="M ".concat($,",").concat(ht," h ").concat(vt," v ").concat(bt," h ").concat(-vt," Z");return xt},isInRectangle=function _e($,ht){if(!$||!ht)return!1;var vt=$.x,bt=$.y,_t=ht.x,wt=ht.y,At=ht.width,St=ht.height;if(Math.abs(At)>0&&Math.abs(St)>0){var Et=Math.min(_t,_t+At),xt=Math.max(_t,_t+At),Pt=Math.min(wt,wt+St),$t=Math.max(wt,wt+St);return vt>=Et&&vt<=xt&&bt>=Pt&&bt<=$t}return!1},defaultProps$1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function _e($){var ht=_objectSpread$e(_objectSpread$e({},defaultProps$1),$),vt=reactExports.useRef(),bt=reactExports.useState(-1),_t=_slicedToArray$3(bt,2),wt=_t[0],At=_t[1];reactExports.useEffect(function(){if(vt.current&&vt.current.getTotalLength)try{var Ht=vt.current.getTotalLength();Ht&&At(Ht)}catch{}},[]);var St=ht.x,Et=ht.y,xt=ht.width,Pt=ht.height,$t=ht.radius,kt=ht.className,Rt=ht.animationEasing,Mt=ht.animationDuration,Dt=ht.animationBegin,Ot=ht.isAnimationActive,Lt=ht.isUpdateAnimationActive;if(St!==+St||Et!==+Et||xt!==+xt||Pt!==+Pt||xt===0||Pt===0)return null;var Nt=clsx("recharts-rectangle",kt);return Lt?React.createElement(Animate,{canBegin:wt>0,from:{width:xt,height:Pt,x:St,y:Et},to:{width:xt,height:Pt,x:St,y:Et},duration:Mt,animationEasing:Rt,isActive:Lt},function(Ht){var Ft=Ht.width,jt=Ht.height,Bt=Ht.x,Vt=Ht.y;return React.createElement(Animate,{canBegin:wt>0,from:"0px ".concat(wt===-1?1:wt,"px"),to:"".concat(wt,"px 0px"),attributeName:"strokeDasharray",begin:Dt,duration:Mt,isActive:Ot,easing:Rt},React.createElement("path",_extends$c({},filterProps(ht,!0),{className:Nt,d:getRectanglePath(Bt,Vt,Ft,jt,$t),ref:vt})))}):React.createElement("path",_extends$c({},filterProps(ht,!0),{className:Nt,d:getRectanglePath(St,Et,xt,Pt,$t)}))},_excluded$4=["points","className","baseLinePoints","connectNulls"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$b.apply(this,arguments)}function _objectWithoutProperties$4(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$4(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$4(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function _toConsumableArray$2(_e){return _arrayWithoutHoles$2(_e)||_iterableToArray$2(_e)||_unsupportedIterableToArray$4(_e)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$4(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$4(_e,$)}}function _iterableToArray$2(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$2(_e){if(Array.isArray(_e))return _arrayLikeToArray$4(_e)}function _arrayLikeToArray$4(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}var isValidatePoint=function _e($){return $&&$.x===+$.x&&$.y===+$.y},getParsedPoints=function _e(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ht=[[]];return $.forEach(function(vt){isValidatePoint(vt)?ht[ht.length-1].push(vt):ht[ht.length-1].length>0&&ht.push([])}),isValidatePoint($[0])&&ht[ht.length-1].push($[0]),ht[ht.length-1].length<=0&&(ht=ht.slice(0,-1)),ht},getSinglePolygonPath=function _e($,ht){var vt=getParsedPoints($);ht&&(vt=[vt.reduce(function(_t,wt){return[].concat(_toConsumableArray$2(_t),_toConsumableArray$2(wt))},[])]);var bt=vt.map(function(_t){return _t.reduce(function(wt,At,St){return"".concat(wt).concat(St===0?"M":"L").concat(At.x,",").concat(At.y)},"")}).join("");return vt.length===1?"".concat(bt,"Z"):bt},getRanglePath=function _e($,ht,vt){var bt=getSinglePolygonPath($,vt);return"".concat(bt.slice(-1)==="Z"?bt.slice(0,-1):bt,"L").concat(getSinglePolygonPath(ht.reverse(),vt).slice(1))},Polygon=function _e($){var ht=$.points,vt=$.className,bt=$.baseLinePoints,_t=$.connectNulls,wt=_objectWithoutProperties$4($,_excluded$4);if(!ht||!ht.length)return null;var At=clsx("recharts-polygon",vt);if(bt&&bt.length){var St=wt.stroke&&wt.stroke!=="none",Et=getRanglePath(ht,bt,_t);return React.createElement("g",{className:At},React.createElement("path",_extends$b({},filterProps(wt,!0),{fill:Et.slice(-1)==="Z"?wt.fill:"none",stroke:"none",d:Et})),St?React.createElement("path",_extends$b({},filterProps(wt,!0),{fill:"none",d:getSinglePolygonPath(ht,_t)})):null,St?React.createElement("path",_extends$b({},filterProps(wt,!0),{fill:"none",d:getSinglePolygonPath(bt,_t)})):null)}var xt=getSinglePolygonPath(ht,_t);return React.createElement("path",_extends$b({},filterProps(wt,!0),{fill:xt.slice(-1)==="Z"?wt.fill:"none",className:At,d:xt}))};function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$a.apply(this,arguments)}var Dot=function _e($){var ht=$.cx,vt=$.cy,bt=$.r,_t=$.className,wt=clsx("recharts-dot",_t);return ht===+ht&&vt===+vt&&bt===+bt?React.createElement("circle",_extends$a({},filterProps($,!1),adaptEventHandlers($),{className:wt,cx:ht,cy:vt,r:bt})):null};function _typeof$e(_e){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$e(_e)}var _excluded$3=["x","y","top","left","width","height","className"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$9.apply(this,arguments)}function ownKeys$d(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$d(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$d(Object(ht),!0).forEach(function(vt){_defineProperty$e(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$d(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$e(_e,$,ht){return $=_toPropertyKey$e($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$e(_e){var $=_toPrimitive$e(_e,"string");return _typeof$e($)=="symbol"?$:$+""}function _toPrimitive$e(_e,$){if(_typeof$e(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$e(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _objectWithoutProperties$3(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$3(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$3(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}var getPath=function _e($,ht,vt,bt,_t,wt){return"M".concat($,",").concat(_t,"v").concat(bt,"M").concat(wt,",").concat(ht,"h").concat(vt)},Cross=function _e($){var ht=$.x,vt=ht===void 0?0:ht,bt=$.y,_t=bt===void 0?0:bt,wt=$.top,At=wt===void 0?0:wt,St=$.left,Et=St===void 0?0:St,xt=$.width,Pt=xt===void 0?0:xt,$t=$.height,kt=$t===void 0?0:$t,Rt=$.className,Mt=_objectWithoutProperties$3($,_excluded$3),Dt=_objectSpread$d({x:vt,y:_t,top:At,left:Et,width:Pt,height:kt},Mt);return!isNumber(vt)||!isNumber(_t)||!isNumber(Pt)||!isNumber(kt)||!isNumber(At)||!isNumber(Et)?null:React.createElement("path",_extends$9({},filterProps(Dt,!0),{className:clsx("recharts-cross",Rt),d:getPath(vt,_t,Pt,kt,At,Et)}))},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$4=_baseIteratee;function maxBy(_e,$){return _e&&_e.length?baseExtremum$1(_e,baseIteratee$4($),baseGt):void 0}var maxBy_1=maxBy;const maxBy$1=getDefaultExportFromCjs(maxBy_1);var baseExtremum=_baseExtremum,baseIteratee$3=_baseIteratee,baseLt=_baseLt;function minBy(_e,$){return _e&&_e.length?baseExtremum(_e,baseIteratee$3($),baseLt):void 0}var minBy_1=minBy;const minBy$1=getDefaultExportFromCjs(minBy_1);var _excluded$2=["cx","cy","angle","ticks","axisLine"],_excluded2$1=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$d(_e){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$d(_e)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$8.apply(this,arguments)}function ownKeys$c(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$c(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$c(Object(ht),!0).forEach(function(vt){_defineProperty$d(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$c(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _objectWithoutProperties$2(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$2(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$2(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function _classCallCheck$9(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$d(vt.key),vt)}}function _createClass$9(_e,$,ht){return $&&_defineProperties$9(_e.prototype,$),ht&&_defineProperties$9(_e,ht),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$7(_e,$,ht){return $=_getPrototypeOf$7($),_possibleConstructorReturn$7(_e,_isNativeReflectConstruct$7()?Reflect.construct($,ht||[],_getPrototypeOf$7(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$7(_e,$){if($&&(_typeof$d($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(_e)}function _assertThisInitialized$7(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$7(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!_e})()}function _getPrototypeOf$7(_e){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$7(_e)}function _inherits$7(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$7(_e,$)}function _setPrototypeOf$7(_e,$){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$7(_e,$)}function _defineProperty$d(_e,$,ht){return $=_toPropertyKey$d($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$d(_e){var $=_toPrimitive$d(_e,"string");return _typeof$d($)=="symbol"?$:$+""}function _toPrimitive$d(_e,$){if(_typeof$d(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$d(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var PolarRadiusAxis=function(_e){function $(){return _classCallCheck$9(this,$),_callSuper$7(this,$,arguments)}return _inherits$7($,_e),_createClass$9($,[{key:"getTickValueCoord",value:function(vt){var bt=vt.coordinate,_t=this.props,wt=_t.angle,At=_t.cx,St=_t.cy;return polarToCartesian(At,St,bt,wt)}},{key:"getTickTextAnchor",value:function(){var vt=this.props.orientation,bt;switch(vt){case"left":bt="end";break;case"right":bt="start";break;default:bt="middle";break}return bt}},{key:"getViewBox",value:function(){var vt=this.props,bt=vt.cx,_t=vt.cy,wt=vt.angle,At=vt.ticks,St=maxBy$1(At,function(xt){return xt.coordinate||0}),Et=minBy$1(At,function(xt){return xt.coordinate||0});return{cx:bt,cy:_t,startAngle:wt,endAngle:wt,innerRadius:Et.coordinate||0,outerRadius:St.coordinate||0}}},{key:"renderAxisLine",value:function(){var vt=this.props,bt=vt.cx,_t=vt.cy,wt=vt.angle,At=vt.ticks,St=vt.axisLine,Et=_objectWithoutProperties$2(vt,_excluded$2),xt=At.reduce(function(Rt,Mt){return[Math.min(Rt[0],Mt.coordinate),Math.max(Rt[1],Mt.coordinate)]},[1/0,-1/0]),Pt=polarToCartesian(bt,_t,xt[0],wt),$t=polarToCartesian(bt,_t,xt[1],wt),kt=_objectSpread$c(_objectSpread$c(_objectSpread$c({},filterProps(Et,!1)),{},{fill:"none"},filterProps(St,!1)),{},{x1:Pt.x,y1:Pt.y,x2:$t.x,y2:$t.y});return React.createElement("line",_extends$8({className:"recharts-polar-radius-axis-line"},kt))}},{key:"renderTicks",value:function(){var vt=this,bt=this.props,_t=bt.ticks,wt=bt.tick,At=bt.angle,St=bt.tickFormatter,Et=bt.stroke,xt=_objectWithoutProperties$2(bt,_excluded2$1),Pt=this.getTickTextAnchor(),$t=filterProps(xt,!1),kt=filterProps(wt,!1),Rt=_t.map(function(Mt,Dt){var Ot=vt.getTickValueCoord(Mt),Lt=_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c({textAnchor:Pt,transform:"rotate(".concat(90-At,", ").concat(Ot.x,", ").concat(Ot.y,")")},$t),{},{stroke:"none",fill:Et},kt),{},{index:Dt},Ot),{},{payload:Mt});return React.createElement(Layer,_extends$8({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(wt)),key:"tick-".concat(Mt.coordinate)},adaptEventsOfChild(vt.props,Mt,Dt)),$.renderTickItem(wt,Lt,St?St(Mt.value,Dt):Mt.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},Rt)}},{key:"render",value:function(){var vt=this.props,bt=vt.ticks,_t=vt.axisLine,wt=vt.tick;return!bt||!bt.length?null:React.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},_t&&this.renderAxisLine(),wt&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(vt,bt,_t){var wt;return React.isValidElement(vt)?wt=React.cloneElement(vt,bt):isFunction$3(vt)?wt=vt(bt):wt=React.createElement(Text,_extends$8({},bt,{className:"recharts-polar-radius-axis-tick-value"}),_t),wt}}])}(reactExports.PureComponent);_defineProperty$d(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$d(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$d(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$c(_e){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$c(_e)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$7.apply(this,arguments)}function ownKeys$b(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$b(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$b(Object(ht),!0).forEach(function(vt){_defineProperty$c(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$b(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _classCallCheck$8(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$c(vt.key),vt)}}function _createClass$8(_e,$,ht){return $&&_defineProperties$8(_e.prototype,$),ht&&_defineProperties$8(_e,ht),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$6(_e,$,ht){return $=_getPrototypeOf$6($),_possibleConstructorReturn$6(_e,_isNativeReflectConstruct$6()?Reflect.construct($,ht||[],_getPrototypeOf$6(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$6(_e,$){if($&&(_typeof$c($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(_e)}function _assertThisInitialized$6(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$6(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!_e})()}function _getPrototypeOf$6(_e){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$6(_e)}function _inherits$6(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$6(_e,$)}function _setPrototypeOf$6(_e,$){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$6(_e,$)}function _defineProperty$c(_e,$,ht){return $=_toPropertyKey$c($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$c(_e){var $=_toPrimitive$c(_e,"string");return _typeof$c($)=="symbol"?$:$+""}function _toPrimitive$c(_e,$){if(_typeof$c(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$c(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(_e){function $(){return _classCallCheck$8(this,$),_callSuper$6(this,$,arguments)}return _inherits$6($,_e),_createClass$8($,[{key:"getTickLineCoord",value:function(vt){var bt=this.props,_t=bt.cx,wt=bt.cy,At=bt.radius,St=bt.orientation,Et=bt.tickSize,xt=Et||8,Pt=polarToCartesian(_t,wt,At,vt.coordinate),$t=polarToCartesian(_t,wt,At+(St==="inner"?-1:1)*xt,vt.coordinate);return{x1:Pt.x,y1:Pt.y,x2:$t.x,y2:$t.y}}},{key:"getTickTextAnchor",value:function(vt){var bt=this.props.orientation,_t=Math.cos(-vt.coordinate*RADIAN),wt;return _t>eps?wt=bt==="outer"?"start":"end":_t<-eps?wt=bt==="outer"?"end":"start":wt="middle",wt}},{key:"renderAxisLine",value:function(){var vt=this.props,bt=vt.cx,_t=vt.cy,wt=vt.radius,At=vt.axisLine,St=vt.axisLineType,Et=_objectSpread$b(_objectSpread$b({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(At,!1));if(St==="circle")return React.createElement(Dot,_extends$7({className:"recharts-polar-angle-axis-line"},Et,{cx:bt,cy:_t,r:wt}));var xt=this.props.ticks,Pt=xt.map(function($t){return polarToCartesian(bt,_t,wt,$t.coordinate)});return React.createElement(Polygon,_extends$7({className:"recharts-polar-angle-axis-line"},Et,{points:Pt}))}},{key:"renderTicks",value:function(){var vt=this,bt=this.props,_t=bt.ticks,wt=bt.tick,At=bt.tickLine,St=bt.tickFormatter,Et=bt.stroke,xt=filterProps(this.props,!1),Pt=filterProps(wt,!1),$t=_objectSpread$b(_objectSpread$b({},xt),{},{fill:"none"},filterProps(At,!1)),kt=_t.map(function(Rt,Mt){var Dt=vt.getTickLineCoord(Rt),Ot=vt.getTickTextAnchor(Rt),Lt=_objectSpread$b(_objectSpread$b(_objectSpread$b({textAnchor:Ot},xt),{},{stroke:"none",fill:Et},Pt),{},{index:Mt,payload:Rt,x:Dt.x2,y:Dt.y2});return React.createElement(Layer,_extends$7({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(wt)),key:"tick-".concat(Rt.coordinate)},adaptEventsOfChild(vt.props,Rt,Mt)),At&&React.createElement("line",_extends$7({className:"recharts-polar-angle-axis-tick-line"},$t,Dt)),wt&&$.renderTickItem(wt,Lt,St?St(Rt.value,Mt):Rt.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},kt)}},{key:"render",value:function(){var vt=this.props,bt=vt.ticks,_t=vt.radius,wt=vt.axisLine;return _t<=0||!bt||!bt.length?null:React.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},wt&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(vt,bt,_t){var wt;return React.isValidElement(vt)?wt=React.cloneElement(vt,bt):isFunction$3(vt)?wt=vt(bt):wt=React.createElement(Text,_extends$7({},bt,{className:"recharts-polar-angle-axis-tick-value"}),_t),wt}}])}(reactExports.PureComponent);_defineProperty$c(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$c(PolarAngleAxis,"axisType","angleAxis");_defineProperty$c(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(_e){if(!isObjectLike$1(_e)||baseGetTag$1(_e)!=objectTag)return!1;var $=getPrototype(_e);if($===null)return!0;var ht=hasOwnProperty.call($,"constructor")&&$.constructor;return typeof ht=="function"&&ht instanceof ht&&funcToString.call(ht)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(_e){return _e===!0||_e===!1||isObjectLike(_e)&&baseGetTag(_e)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$b(_e){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$b(_e)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$6.apply(this,arguments)}function _slicedToArray$2(_e,$){return _arrayWithHoles$2(_e)||_iterableToArrayLimit$2(_e,$)||_unsupportedIterableToArray$3(_e,$)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$3(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$3(_e,$)}}function _arrayLikeToArray$3(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$2(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$2(_e){if(Array.isArray(_e))return _e}function ownKeys$a(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$a(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$a(Object(ht),!0).forEach(function(vt){_defineProperty$b(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$a(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$b(_e,$,ht){return $=_toPropertyKey$b($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$b(_e){var $=_toPrimitive$b(_e,"string");return _typeof$b($)=="symbol"?$:$+""}function _toPrimitive$b(_e,$){if(_typeof$b(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$b(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getTrapezoidPath=function _e($,ht,vt,bt,_t){var wt=vt-bt,At;return At="M ".concat($,",").concat(ht),At+="L ".concat($+vt,",").concat(ht),At+="L ".concat($+vt-wt/2,",").concat(ht+_t),At+="L ".concat($+vt-wt/2-bt,",").concat(ht+_t),At+="L ".concat($,",").concat(ht," Z"),At},defaultProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function _e($){var ht=_objectSpread$a(_objectSpread$a({},defaultProps),$),vt=reactExports.useRef(),bt=reactExports.useState(-1),_t=_slicedToArray$2(bt,2),wt=_t[0],At=_t[1];reactExports.useEffect(function(){if(vt.current&&vt.current.getTotalLength)try{var Nt=vt.current.getTotalLength();Nt&&At(Nt)}catch{}},[]);var St=ht.x,Et=ht.y,xt=ht.upperWidth,Pt=ht.lowerWidth,$t=ht.height,kt=ht.className,Rt=ht.animationEasing,Mt=ht.animationDuration,Dt=ht.animationBegin,Ot=ht.isUpdateAnimationActive;if(St!==+St||Et!==+Et||xt!==+xt||Pt!==+Pt||$t!==+$t||xt===0&&Pt===0||$t===0)return null;var Lt=clsx("recharts-trapezoid",kt);return Ot?React.createElement(Animate,{canBegin:wt>0,from:{upperWidth:0,lowerWidth:0,height:$t,x:St,y:Et},to:{upperWidth:xt,lowerWidth:Pt,height:$t,x:St,y:Et},duration:Mt,animationEasing:Rt,isActive:Ot},function(Nt){var Ht=Nt.upperWidth,Ft=Nt.lowerWidth,jt=Nt.height,Bt=Nt.x,Vt=Nt.y;return React.createElement(Animate,{canBegin:wt>0,from:"0px ".concat(wt===-1?1:wt,"px"),to:"".concat(wt,"px 0px"),attributeName:"strokeDasharray",begin:Dt,duration:Mt,easing:Rt},React.createElement("path",_extends$6({},filterProps(ht,!0),{className:Lt,d:getTrapezoidPath(Bt,Vt,Ht,Ft,jt),ref:vt})))}):React.createElement("g",null,React.createElement("path",_extends$6({},filterProps(ht,!0),{className:Lt,d:getTrapezoidPath(St,Et,xt,Pt,$t)})))},_excluded$1=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$a(_e){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$a(_e)}function _objectWithoutProperties$1(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose$1(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose$1(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function ownKeys$9(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$9(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$9(Object(ht),!0).forEach(function(vt){_defineProperty$a(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$9(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$a(_e,$,ht){return $=_toPropertyKey$a($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$a(_e){var $=_toPrimitive$a(_e,"string");return _typeof$a($)=="symbol"?$:$+""}function _toPrimitive$a(_e,$){if(_typeof$a(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$a(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function defaultPropTransformer(_e,$){return _objectSpread$9(_objectSpread$9({},$),_e)}function isSymbolsProps(_e,$){return _e==="symbols"}function ShapeSelector(_e){var $=_e.shapeType,ht=_e.elementProps;switch($){case"rectangle":return React.createElement(Rectangle,ht);case"trapezoid":return React.createElement(Trapezoid,ht);case"sector":return React.createElement(Sector,ht);case"symbols":if(isSymbolsProps($))return React.createElement(Symbols,ht);break;default:return null}}function getPropsFromShapeOption(_e){return reactExports.isValidElement(_e)?_e.props:_e}function Shape(_e){var $=_e.option,ht=_e.shapeType,vt=_e.propTransformer,bt=vt===void 0?defaultPropTransformer:vt,_t=_e.activeClassName,wt=_t===void 0?"recharts-active-shape":_t,At=_e.isActive,St=_objectWithoutProperties$1(_e,_excluded$1),Et;if(reactExports.isValidElement($))Et=reactExports.cloneElement($,_objectSpread$9(_objectSpread$9({},St),getPropsFromShapeOption($)));else if(isFunction$3($))Et=$(St);else if(isPlainObject$1($)&&!isBoolean$1($)){var xt=bt($,St);Et=React.createElement(ShapeSelector,{shapeType:ht,elementProps:xt})}else{var Pt=St;Et=React.createElement(ShapeSelector,{shapeType:ht,elementProps:Pt})}return At?React.createElement(Layer,{className:wt},Et):Et}function isFunnel(_e,$){return $!=null&&"trapezoids"in _e.props}function isPie(_e,$){return $!=null&&"sectors"in _e.props}function isScatter(_e,$){return $!=null&&"points"in _e.props}function compareFunnel(_e,$){var ht,vt,bt=_e.x===($==null||(ht=$.labelViewBox)===null||ht===void 0?void 0:ht.x)||_e.x===$.x,_t=_e.y===($==null||(vt=$.labelViewBox)===null||vt===void 0?void 0:vt.y)||_e.y===$.y;return bt&&_t}function comparePie(_e,$){var ht=_e.endAngle===$.endAngle,vt=_e.startAngle===$.startAngle;return ht&&vt}function compareScatter(_e,$){var ht=_e.x===$.x,vt=_e.y===$.y,bt=_e.z===$.z;return ht&&vt&&bt}function getComparisonFn(_e,$){var ht;return isFunnel(_e,$)?ht=compareFunnel:isPie(_e,$)?ht=comparePie:isScatter(_e,$)&&(ht=compareScatter),ht}function getShapeDataKey(_e,$){var ht;return isFunnel(_e,$)?ht="trapezoids":isPie(_e,$)?ht="sectors":isScatter(_e,$)&&(ht="points"),ht}function getActiveShapeTooltipPayload(_e,$){if(isFunnel(_e,$)){var ht;return(ht=$.tooltipPayload)===null||ht===void 0||(ht=ht[0])===null||ht===void 0||(ht=ht.payload)===null||ht===void 0?void 0:ht.payload}if(isPie(_e,$)){var vt;return(vt=$.tooltipPayload)===null||vt===void 0||(vt=vt[0])===null||vt===void 0||(vt=vt.payload)===null||vt===void 0?void 0:vt.payload}return isScatter(_e,$)?$.payload:{}}function getActiveShapeIndexForTooltip(_e){var $=_e.activeTooltipItem,ht=_e.graphicalItem,vt=_e.itemData,bt=getShapeDataKey(ht,$),_t=getActiveShapeTooltipPayload(ht,$),wt=vt.filter(function(St,Et){var xt=isEqual$1(_t,St),Pt=ht.props[bt].filter(function(Rt){var Mt=getComparisonFn(ht,$);return Mt(Rt,$)}),$t=ht.props[bt].indexOf(Pt[Pt.length-1]),kt=Et===$t;return xt&&kt}),At=vt.indexOf(wt[wt.length-1]);return At}var _Pie;function _typeof$9(_e){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$9(_e)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$5.apply(this,arguments)}function ownKeys$8(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$8(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$8(Object(ht),!0).forEach(function(vt){_defineProperty$9(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$8(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _classCallCheck$7(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$9(vt.key),vt)}}function _createClass$7(_e,$,ht){return $&&_defineProperties$7(_e.prototype,$),ht&&_defineProperties$7(_e,ht),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$5(_e,$,ht){return $=_getPrototypeOf$5($),_possibleConstructorReturn$5(_e,_isNativeReflectConstruct$5()?Reflect.construct($,ht||[],_getPrototypeOf$5(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$5(_e,$){if($&&(_typeof$9($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(_e)}function _assertThisInitialized$5(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$5(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!_e})()}function _getPrototypeOf$5(_e){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$5(_e)}function _inherits$5(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$5(_e,$)}function _setPrototypeOf$5(_e,$){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$5(_e,$)}function _defineProperty$9(_e,$,ht){return $=_toPropertyKey$9($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$9(_e){var $=_toPrimitive$9(_e,"string");return _typeof$9($)=="symbol"?$:$+""}function _toPrimitive$9(_e,$){if(_typeof$9(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$9(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var Pie=function(_e){function $(ht){var vt;return _classCallCheck$7(this,$),vt=_callSuper$5(this,$,[ht]),_defineProperty$9(vt,"pieRef",null),_defineProperty$9(vt,"sectorRefs",[]),_defineProperty$9(vt,"id",uniqueId("recharts-pie-")),_defineProperty$9(vt,"handleAnimationEnd",function(){var bt=vt.props.onAnimationEnd;vt.setState({isAnimationFinished:!0}),isFunction$3(bt)&&bt()}),_defineProperty$9(vt,"handleAnimationStart",function(){var bt=vt.props.onAnimationStart;vt.setState({isAnimationFinished:!1}),isFunction$3(bt)&&bt()}),vt.state={isAnimationFinished:!ht.isAnimationActive,prevIsAnimationActive:ht.isAnimationActive,prevAnimationId:ht.animationId,sectorToFocus:0},vt}return _inherits$5($,_e),_createClass$7($,[{key:"isActiveIndex",value:function(vt){var bt=this.props.activeIndex;return Array.isArray(bt)?bt.indexOf(vt)!==-1:vt===bt}},{key:"hasActiveIndex",value:function(){var vt=this.props.activeIndex;return Array.isArray(vt)?vt.length!==0:vt||vt===0}},{key:"renderLabels",value:function(vt){var bt=this.props.isAnimationActive;if(bt&&!this.state.isAnimationFinished)return null;var _t=this.props,wt=_t.label,At=_t.labelLine,St=_t.dataKey,Et=_t.valueKey,xt=filterProps(this.props,!1),Pt=filterProps(wt,!1),$t=filterProps(At,!1),kt=wt&&wt.offsetRadius||20,Rt=vt.map(function(Mt,Dt){var Ot=(Mt.startAngle+Mt.endAngle)/2,Lt=polarToCartesian(Mt.cx,Mt.cy,Mt.outerRadius+kt,Ot),Nt=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},xt),Mt),{},{stroke:"none"},Pt),{},{index:Dt,textAnchor:$.getTextAnchor(Lt.x,Mt.cx)},Lt),Ht=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},xt),Mt),{},{fill:"none",stroke:Mt.fill},$t),{},{index:Dt,points:[polarToCartesian(Mt.cx,Mt.cy,Mt.outerRadius,Ot),Lt]}),Ft=St;return isNil$1(St)&&isNil$1(Et)?Ft="value":isNil$1(St)&&(Ft=Et),React.createElement(Layer,{key:"label-".concat(Mt.startAngle,"-").concat(Mt.endAngle,"-").concat(Mt.midAngle,"-").concat(Dt)},At&&$.renderLabelLineItem(At,Ht,"line"),$.renderLabelItem(wt,Nt,getValueByDataKey(Mt,Ft)))});return React.createElement(Layer,{className:"recharts-pie-labels"},Rt)}},{key:"renderSectorsStatically",value:function(vt){var bt=this,_t=this.props,wt=_t.activeShape,At=_t.blendStroke,St=_t.inactiveShape;return vt.map(function(Et,xt){if((Et==null?void 0:Et.startAngle)===0&&(Et==null?void 0:Et.endAngle)===0&&vt.length!==1)return null;var Pt=bt.isActiveIndex(xt),$t=St&&bt.hasActiveIndex()?St:null,kt=Pt?wt:$t,Rt=_objectSpread$8(_objectSpread$8({},Et),{},{stroke:At?Et.fill:Et.stroke,tabIndex:-1});return React.createElement(Layer,_extends$5({ref:function(Dt){Dt&&!bt.sectorRefs.includes(Dt)&&bt.sectorRefs.push(Dt)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(bt.props,Et,xt),{key:"sector-".concat(Et==null?void 0:Et.startAngle,"-").concat(Et==null?void 0:Et.endAngle,"-").concat(Et.midAngle,"-").concat(xt)}),React.createElement(Shape,_extends$5({option:kt,isActive:Pt,shapeType:"sector"},Rt)))})}},{key:"renderSectorsWithAnimation",value:function(){var vt=this,bt=this.props,_t=bt.sectors,wt=bt.isAnimationActive,At=bt.animationBegin,St=bt.animationDuration,Et=bt.animationEasing,xt=bt.animationId,Pt=this.state,$t=Pt.prevSectors,kt=Pt.prevIsAnimationActive;return React.createElement(Animate,{begin:At,duration:St,isActive:wt,easing:Et,from:{t:0},to:{t:1},key:"pie-".concat(xt,"-").concat(kt),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(Rt){var Mt=Rt.t,Dt=[],Ot=_t&&_t[0],Lt=Ot.startAngle;return _t.forEach(function(Nt,Ht){var Ft=$t&&$t[Ht],jt=Ht>0?get$2(Nt,"paddingAngle",0):0;if(Ft){var Bt=interpolateNumber$2(Ft.endAngle-Ft.startAngle,Nt.endAngle-Nt.startAngle),Vt=_objectSpread$8(_objectSpread$8({},Nt),{},{startAngle:Lt+jt,endAngle:Lt+Bt(Mt)+jt});Dt.push(Vt),Lt=Vt.endAngle}else{var Ut=Nt.endAngle,Jt=Nt.startAngle,Wt=interpolateNumber$2(0,Ut-Jt),Qt=Wt(Mt),tn=_objectSpread$8(_objectSpread$8({},Nt),{},{startAngle:Lt+jt,endAngle:Lt+Qt+jt});Dt.push(tn),Lt=tn.endAngle}}),React.createElement(Layer,null,vt.renderSectorsStatically(Dt))})}},{key:"attachKeyboardHandlers",value:function(vt){var bt=this;vt.onkeydown=function(_t){if(!_t.altKey)switch(_t.key){case"ArrowLeft":{var wt=++bt.state.sectorToFocus%bt.sectorRefs.length;bt.sectorRefs[wt].focus(),bt.setState({sectorToFocus:wt});break}case"ArrowRight":{var At=--bt.state.sectorToFocus<0?bt.sectorRefs.length-1:bt.state.sectorToFocus%bt.sectorRefs.length;bt.sectorRefs[At].focus(),bt.setState({sectorToFocus:At});break}case"Escape":{bt.sectorRefs[bt.state.sectorToFocus].blur(),bt.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var vt=this.props,bt=vt.sectors,_t=vt.isAnimationActive,wt=this.state.prevSectors;return _t&&bt&&bt.length&&(!wt||!isEqual$1(wt,bt))?this.renderSectorsWithAnimation():this.renderSectorsStatically(bt)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var vt=this,bt=this.props,_t=bt.hide,wt=bt.sectors,At=bt.className,St=bt.label,Et=bt.cx,xt=bt.cy,Pt=bt.innerRadius,$t=bt.outerRadius,kt=bt.isAnimationActive,Rt=this.state.isAnimationFinished;if(_t||!wt||!wt.length||!isNumber(Et)||!isNumber(xt)||!isNumber(Pt)||!isNumber($t))return null;var Mt=clsx("recharts-pie",At);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:Mt,ref:function(Ot){vt.pieRef=Ot}},this.renderSectors(),St&&this.renderLabels(wt),Label.renderCallByParent(this.props,null,!1),(!kt||Rt)&&LabelList.renderCallByParent(this.props,wt,!1))}}],[{key:"getDerivedStateFromProps",value:function(vt,bt){return bt.prevIsAnimationActive!==vt.isAnimationActive?{prevIsAnimationActive:vt.isAnimationActive,prevAnimationId:vt.animationId,curSectors:vt.sectors,prevSectors:[],isAnimationFinished:!0}:vt.isAnimationActive&&vt.animationId!==bt.prevAnimationId?{prevAnimationId:vt.animationId,curSectors:vt.sectors,prevSectors:bt.curSectors,isAnimationFinished:!0}:vt.sectors!==bt.curSectors?{curSectors:vt.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(vt,bt){return vt>bt?"start":vt<bt?"end":"middle"}},{key:"renderLabelLineItem",value:function(vt,bt,_t){if(React.isValidElement(vt))return React.cloneElement(vt,bt);if(isFunction$3(vt))return vt(bt);var wt=clsx("recharts-pie-label-line",typeof vt!="boolean"?vt.className:"");return React.createElement(Curve,_extends$5({},bt,{key:_t,type:"linear",className:wt}))}},{key:"renderLabelItem",value:function(vt,bt,_t){if(React.isValidElement(vt))return React.cloneElement(vt,bt);var wt=_t;if(isFunction$3(vt)&&(wt=vt(bt),React.isValidElement(wt)))return wt;var At=clsx("recharts-pie-label-text",typeof vt!="boolean"&&!isFunction$3(vt)?vt.className:"");return React.createElement(Text,_extends$5({},bt,{alignmentBaseline:"middle",className:At}),wt)}}])}(reactExports.PureComponent);_Pie=Pie;_defineProperty$9(Pie,"displayName","Pie");_defineProperty$9(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$9(Pie,"parseDeltaAngle",function(_e,$){var ht=mathSign($-_e),vt=Math.min(Math.abs($-_e),360);return ht*vt});_defineProperty$9(Pie,"getRealPieData",function(_e){var $=_e.data,ht=_e.children,vt=filterProps(_e,!1),bt=findAllByType(ht,Cell);return $&&$.length?$.map(function(_t,wt){return _objectSpread$8(_objectSpread$8(_objectSpread$8({payload:_t},vt),_t),bt&&bt[wt]&&bt[wt].props)}):bt&&bt.length?bt.map(function(_t){return _objectSpread$8(_objectSpread$8({},vt),_t.props)}):[]});_defineProperty$9(Pie,"parseCoordinateOfPie",function(_e,$){var ht=$.top,vt=$.left,bt=$.width,_t=$.height,wt=getMaxRadius(bt,_t),At=vt+getPercentValue(_e.cx,bt,bt/2),St=ht+getPercentValue(_e.cy,_t,_t/2),Et=getPercentValue(_e.innerRadius,wt,0),xt=getPercentValue(_e.outerRadius,wt,wt*.8),Pt=_e.maxRadius||Math.sqrt(bt*bt+_t*_t)/2;return{cx:At,cy:St,innerRadius:Et,outerRadius:xt,maxRadius:Pt}});_defineProperty$9(Pie,"getComposedData",function(_e){var $=_e.item,ht=_e.offset,vt=$.type.defaultProps!==void 0?_objectSpread$8(_objectSpread$8({},$.type.defaultProps),$.props):$.props,bt=_Pie.getRealPieData(vt);if(!bt||!bt.length)return null;var _t=vt.cornerRadius,wt=vt.startAngle,At=vt.endAngle,St=vt.paddingAngle,Et=vt.dataKey,xt=vt.nameKey,Pt=vt.valueKey,$t=vt.tooltipType,kt=Math.abs(vt.minAngle),Rt=_Pie.parseCoordinateOfPie(vt,ht),Mt=_Pie.parseDeltaAngle(wt,At),Dt=Math.abs(Mt),Ot=Et;isNil$1(Et)&&isNil$1(Pt)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),Ot="value"):isNil$1(Et)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),Ot=Pt);var Lt=bt.filter(function(Vt){return getValueByDataKey(Vt,Ot,0)!==0}).length,Nt=(Dt>=360?Lt:Lt-1)*St,Ht=Dt-Lt*kt-Nt,Ft=bt.reduce(function(Vt,Ut){var Jt=getValueByDataKey(Ut,Ot,0);return Vt+(isNumber(Jt)?Jt:0)},0),jt;if(Ft>0){var Bt;jt=bt.map(function(Vt,Ut){var Jt=getValueByDataKey(Vt,Ot,0),Wt=getValueByDataKey(Vt,xt,Ut),Qt=(isNumber(Jt)?Jt:0)/Ft,tn;Ut?tn=Bt.endAngle+mathSign(Mt)*St*(Jt!==0?1:0):tn=wt;var pn=tn+mathSign(Mt)*((Jt!==0?kt:0)+Qt*Ht),nn=(tn+pn)/2,hn=(Rt.innerRadius+Rt.outerRadius)/2,sn=[{name:Wt,value:Jt,payload:Vt,dataKey:Ot,type:$t}],un=polarToCartesian(Rt.cx,Rt.cy,hn,nn);return Bt=_objectSpread$8(_objectSpread$8(_objectSpread$8({percent:Qt,cornerRadius:_t,name:Wt,tooltipPayload:sn,midAngle:nn,middleRadius:hn,tooltipPosition:un},Vt),Rt),{},{value:getValueByDataKey(Vt,Ot),startAngle:tn,endAngle:pn,payload:Vt,paddingAngle:mathSign(Mt)*St}),Bt})}return _objectSpread$8(_objectSpread$8({},Rt),{},{sectors:jt,data:bt})});var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange$1(_e,$,ht,vt){for(var bt=-1,_t=nativeMax(nativeCeil(($-_e)/(ht||1)),0),wt=Array(_t);_t--;)wt[vt?_t:++bt]=_e,_e+=ht;return wt}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$1(_e){if(!_e)return _e===0?_e:0;if(_e=toNumber(_e),_e===INFINITY||_e===-INFINITY){var $=_e<0?-1:1;return $*MAX_INTEGER}return _e===_e?_e:0}var toFinite_1=toFinite$1,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite=toFinite_1;function createRange$1(_e){return function($,ht,vt){return vt&&typeof vt!="number"&&isIterateeCall$2($,ht,vt)&&(ht=vt=void 0),$=toFinite($),ht===void 0?(ht=$,$=0):ht=toFinite(ht),vt=vt===void 0?$<ht?1:-1:toFinite(vt),baseRange($,ht,vt,_e)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$8(_e){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$8(_e)}function ownKeys$7(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$7(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$7(Object(ht),!0).forEach(function(vt){_defineProperty$8(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$7(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$8(_e,$,ht){return $=_toPropertyKey$8($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$8(_e){var $=_toPrimitive$8(_e,"string");return _typeof$8($)=="symbol"?$:$+""}function _toPrimitive$8(_e,$){if(_typeof$8(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$8(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function _e($,ht){var vt=$.replace(/(\w)/,function(_t){return _t.toUpperCase()}),bt=PREFIX_LIST.reduce(function(_t,wt){return _objectSpread$7(_objectSpread$7({},_t),{},_defineProperty$8({},wt+vt,ht))},{});return bt[$]=ht,bt};function _typeof$7(_e){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$7(_e)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$4.apply(this,arguments)}function ownKeys$6(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$6(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$6(Object(ht),!0).forEach(function(vt){_defineProperty$7(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$6(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _classCallCheck$6(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$7(vt.key),vt)}}function _createClass$6(_e,$,ht){return $&&_defineProperties$6(_e.prototype,$),ht&&_defineProperties$6(_e,ht),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$4(_e,$,ht){return $=_getPrototypeOf$4($),_possibleConstructorReturn$4(_e,_isNativeReflectConstruct$4()?Reflect.construct($,ht||[],_getPrototypeOf$4(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$4(_e,$){if($&&(_typeof$7($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(_e)}function _assertThisInitialized$4(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$4(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!_e})()}function _getPrototypeOf$4(_e){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$4(_e)}function _inherits$4(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$4(_e,$)}function _setPrototypeOf$4(_e,$){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$4(_e,$)}function _defineProperty$7(_e,$,ht){return $=_toPropertyKey$7($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$7(_e){var $=_toPrimitive$7(_e,"string");return _typeof$7($)=="symbol"?$:$+""}function _toPrimitive$7(_e,$){if(_typeof$7(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$7(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var createScale=function _e($){var ht=$.data,vt=$.startIndex,bt=$.endIndex,_t=$.x,wt=$.width,At=$.travellerWidth;if(!ht||!ht.length)return{};var St=ht.length,Et=point().domain(range$1(0,St)).range([_t,_t+wt-At]),xt=Et.domain().map(function(Pt){return Et(Pt)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:Et(vt),endX:Et(bt),scale:Et,scaleValues:xt}},isTouch=function _e($){return $.changedTouches&&!!$.changedTouches.length},Brush=function(_e){function $(ht){var vt;return _classCallCheck$6(this,$),vt=_callSuper$4(this,$,[ht]),_defineProperty$7(vt,"handleDrag",function(bt){vt.leaveTimer&&(clearTimeout(vt.leaveTimer),vt.leaveTimer=null),vt.state.isTravellerMoving?vt.handleTravellerMove(bt):vt.state.isSlideMoving&&vt.handleSlideDrag(bt)}),_defineProperty$7(vt,"handleTouchMove",function(bt){bt.changedTouches!=null&&bt.changedTouches.length>0&&vt.handleDrag(bt.changedTouches[0])}),_defineProperty$7(vt,"handleDragEnd",function(){vt.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var bt=vt.props,_t=bt.endIndex,wt=bt.onDragEnd,At=bt.startIndex;wt==null||wt({endIndex:_t,startIndex:At})}),vt.detachDragEndListener()}),_defineProperty$7(vt,"handleLeaveWrapper",function(){(vt.state.isTravellerMoving||vt.state.isSlideMoving)&&(vt.leaveTimer=window.setTimeout(vt.handleDragEnd,vt.props.leaveTimeOut))}),_defineProperty$7(vt,"handleEnterSlideOrTraveller",function(){vt.setState({isTextActive:!0})}),_defineProperty$7(vt,"handleLeaveSlideOrTraveller",function(){vt.setState({isTextActive:!1})}),_defineProperty$7(vt,"handleSlideDragStart",function(bt){var _t=isTouch(bt)?bt.changedTouches[0]:bt;vt.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:_t.pageX}),vt.attachDragEndListener()}),vt.travellerDragStartHandlers={startX:vt.handleTravellerDragStart.bind(vt,"startX"),endX:vt.handleTravellerDragStart.bind(vt,"endX")},vt.state={},vt}return _inherits$4($,_e),_createClass$6($,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(vt){var bt=vt.startX,_t=vt.endX,wt=this.state.scaleValues,At=this.props,St=At.gap,Et=At.data,xt=Et.length-1,Pt=Math.min(bt,_t),$t=Math.max(bt,_t),kt=$.getIndexInRange(wt,Pt),Rt=$.getIndexInRange(wt,$t);return{startIndex:kt-kt%St,endIndex:Rt===xt?xt:Rt-Rt%St}}},{key:"getTextOfTick",value:function(vt){var bt=this.props,_t=bt.data,wt=bt.tickFormatter,At=bt.dataKey,St=getValueByDataKey(_t[vt],At,vt);return isFunction$3(wt)?wt(St,vt):St}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(vt){var bt=this.state,_t=bt.slideMoveStartX,wt=bt.startX,At=bt.endX,St=this.props,Et=St.x,xt=St.width,Pt=St.travellerWidth,$t=St.startIndex,kt=St.endIndex,Rt=St.onChange,Mt=vt.pageX-_t;Mt>0?Mt=Math.min(Mt,Et+xt-Pt-At,Et+xt-Pt-wt):Mt<0&&(Mt=Math.max(Mt,Et-wt,Et-At));var Dt=this.getIndex({startX:wt+Mt,endX:At+Mt});(Dt.startIndex!==$t||Dt.endIndex!==kt)&&Rt&&Rt(Dt),this.setState({startX:wt+Mt,endX:At+Mt,slideMoveStartX:vt.pageX})}},{key:"handleTravellerDragStart",value:function(vt,bt){var _t=isTouch(bt)?bt.changedTouches[0]:bt;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:vt,brushMoveStartX:_t.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(vt){var bt=this.state,_t=bt.brushMoveStartX,wt=bt.movingTravellerId,At=bt.endX,St=bt.startX,Et=this.state[wt],xt=this.props,Pt=xt.x,$t=xt.width,kt=xt.travellerWidth,Rt=xt.onChange,Mt=xt.gap,Dt=xt.data,Ot={startX:this.state.startX,endX:this.state.endX},Lt=vt.pageX-_t;Lt>0?Lt=Math.min(Lt,Pt+$t-kt-Et):Lt<0&&(Lt=Math.max(Lt,Pt-Et)),Ot[wt]=Et+Lt;var Nt=this.getIndex(Ot),Ht=Nt.startIndex,Ft=Nt.endIndex,jt=function(){var Vt=Dt.length-1;return wt==="startX"&&(At>St?Ht%Mt===0:Ft%Mt===0)||At<St&&Ft===Vt||wt==="endX"&&(At>St?Ft%Mt===0:Ht%Mt===0)||At>St&&Ft===Vt};this.setState(_defineProperty$7(_defineProperty$7({},wt,Et+Lt),"brushMoveStartX",vt.pageX),function(){Rt&&jt()&&Rt(Nt)})}},{key:"handleTravellerMoveKeyboard",value:function(vt,bt){var _t=this,wt=this.state,At=wt.scaleValues,St=wt.startX,Et=wt.endX,xt=this.state[bt],Pt=At.indexOf(xt);if(Pt!==-1){var $t=Pt+vt;if(!($t===-1||$t>=At.length)){var kt=At[$t];bt==="startX"&&kt>=Et||bt==="endX"&&kt<=St||this.setState(_defineProperty$7({},bt,kt),function(){_t.props.onChange(_t.getIndex({startX:_t.state.startX,endX:_t.state.endX}))})}}}},{key:"renderBackground",value:function(){var vt=this.props,bt=vt.x,_t=vt.y,wt=vt.width,At=vt.height,St=vt.fill,Et=vt.stroke;return React.createElement("rect",{stroke:Et,fill:St,x:bt,y:_t,width:wt,height:At})}},{key:"renderPanorama",value:function(){var vt=this.props,bt=vt.x,_t=vt.y,wt=vt.width,At=vt.height,St=vt.data,Et=vt.children,xt=vt.padding,Pt=reactExports.Children.only(Et);return Pt?React.cloneElement(Pt,{x:bt,y:_t,width:wt,height:At,margin:xt,compact:!0,data:St}):null}},{key:"renderTravellerLayer",value:function(vt,bt){var _t,wt,At=this,St=this.props,Et=St.y,xt=St.travellerWidth,Pt=St.height,$t=St.traveller,kt=St.ariaLabel,Rt=St.data,Mt=St.startIndex,Dt=St.endIndex,Ot=Math.max(vt,this.props.x),Lt=_objectSpread$6(_objectSpread$6({},filterProps(this.props,!1)),{},{x:Ot,y:Et,width:xt,height:Pt}),Nt=kt||"Min value: ".concat((_t=Rt[Mt])===null||_t===void 0?void 0:_t.name,", Max value: ").concat((wt=Rt[Dt])===null||wt===void 0?void 0:wt.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":Nt,"aria-valuenow":vt,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[bt],onTouchStart:this.travellerDragStartHandlers[bt],onKeyDown:function(Ft){["ArrowLeft","ArrowRight"].includes(Ft.key)&&(Ft.preventDefault(),Ft.stopPropagation(),At.handleTravellerMoveKeyboard(Ft.key==="ArrowRight"?1:-1,bt))},onFocus:function(){At.setState({isTravellerFocused:!0})},onBlur:function(){At.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},$.renderTraveller($t,Lt))}},{key:"renderSlide",value:function(vt,bt){var _t=this.props,wt=_t.y,At=_t.height,St=_t.stroke,Et=_t.travellerWidth,xt=Math.min(vt,bt)+Et,Pt=Math.max(Math.abs(bt-vt)-Et,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:St,fillOpacity:.2,x:xt,y:wt,width:Pt,height:At})}},{key:"renderText",value:function(){var vt=this.props,bt=vt.startIndex,_t=vt.endIndex,wt=vt.y,At=vt.height,St=vt.travellerWidth,Et=vt.stroke,xt=this.state,Pt=xt.startX,$t=xt.endX,kt=5,Rt={pointerEvents:"none",fill:Et};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$4({textAnchor:"end",verticalAnchor:"middle",x:Math.min(Pt,$t)-kt,y:wt+At/2},Rt),this.getTextOfTick(bt)),React.createElement(Text,_extends$4({textAnchor:"start",verticalAnchor:"middle",x:Math.max(Pt,$t)+St+kt,y:wt+At/2},Rt),this.getTextOfTick(_t)))}},{key:"render",value:function(){var vt=this.props,bt=vt.data,_t=vt.className,wt=vt.children,At=vt.x,St=vt.y,Et=vt.width,xt=vt.height,Pt=vt.alwaysShowText,$t=this.state,kt=$t.startX,Rt=$t.endX,Mt=$t.isTextActive,Dt=$t.isSlideMoving,Ot=$t.isTravellerMoving,Lt=$t.isTravellerFocused;if(!bt||!bt.length||!isNumber(At)||!isNumber(St)||!isNumber(Et)||!isNumber(xt)||Et<=0||xt<=0)return null;var Nt=clsx("recharts-brush",_t),Ht=React.Children.count(wt)===1,Ft=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:Nt,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:Ft},this.renderBackground(),Ht&&this.renderPanorama(),this.renderSlide(kt,Rt),this.renderTravellerLayer(kt,"startX"),this.renderTravellerLayer(Rt,"endX"),(Mt||Dt||Ot||Lt||Pt)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(vt){var bt=vt.x,_t=vt.y,wt=vt.width,At=vt.height,St=vt.stroke,Et=Math.floor(_t+At/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:bt,y:_t,width:wt,height:At,fill:St,stroke:"none"}),React.createElement("line",{x1:bt+1,y1:Et,x2:bt+wt-1,y2:Et,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:bt+1,y1:Et+2,x2:bt+wt-1,y2:Et+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(vt,bt){var _t;return React.isValidElement(vt)?_t=React.cloneElement(vt,bt):isFunction$3(vt)?_t=vt(bt):_t=$.renderDefaultTraveller(bt),_t}},{key:"getDerivedStateFromProps",value:function(vt,bt){var _t=vt.data,wt=vt.width,At=vt.x,St=vt.travellerWidth,Et=vt.updateId,xt=vt.startIndex,Pt=vt.endIndex;if(_t!==bt.prevData||Et!==bt.prevUpdateId)return _objectSpread$6({prevData:_t,prevTravellerWidth:St,prevUpdateId:Et,prevX:At,prevWidth:wt},_t&&_t.length?createScale({data:_t,width:wt,x:At,travellerWidth:St,startIndex:xt,endIndex:Pt}):{scale:null,scaleValues:null});if(bt.scale&&(wt!==bt.prevWidth||At!==bt.prevX||St!==bt.prevTravellerWidth)){bt.scale.range([At,At+wt-St]);var $t=bt.scale.domain().map(function(kt){return bt.scale(kt)});return{prevData:_t,prevTravellerWidth:St,prevUpdateId:Et,prevX:At,prevWidth:wt,startX:bt.scale(vt.startIndex),endX:bt.scale(vt.endIndex),scaleValues:$t}}return null}},{key:"getIndexInRange",value:function(vt,bt){for(var _t=vt.length,wt=0,At=_t-1;At-wt>1;){var St=Math.floor((wt+At)/2);vt[St]>bt?At=St:wt=St}return bt>=vt[At]?At:wt}}])}(reactExports.PureComponent);_defineProperty$7(Brush,"displayName","Brush");_defineProperty$7(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(_e,$){var ht;return baseEach$1(_e,function(vt,bt,_t){return ht=$(vt,bt,_t),!ht}),!!ht}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$2=_baseIteratee,baseSome=_baseSome,isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;function some(_e,$,ht){var vt=isArray$1(_e)?arraySome:baseSome;return ht&&isIterateeCall$1(_e,$,ht)&&($=void 0),vt(_e,baseIteratee$2($))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function _e($,ht){var vt=$.alwaysShow,bt=$.ifOverflow;return vt&&(bt="extendDomain"),bt===ht},defineProperty=_defineProperty$x;function baseAssignValue$1(_e,$,ht){$=="__proto__"&&defineProperty?defineProperty(_e,$,{configurable:!0,enumerable:!0,value:ht,writable:!0}):_e[$]=ht}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$1=_baseIteratee;function mapValues(_e,$){var ht={};return $=baseIteratee$1($),baseForOwn(_e,function(vt,bt,_t){baseAssignValue(ht,bt,$(vt,bt,_t))}),ht}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(_e,$){for(var ht=-1,vt=_e==null?0:_e.length;++ht<vt;)if(!$(_e[ht],ht,_e))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(_e,$){var ht=!0;return baseEach(_e,function(vt,bt,_t){return ht=!!$(vt,bt,_t),ht}),ht}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;function every(_e,$,ht){var vt=isArray(_e)?arrayEvery:baseEvery;return ht&&isIterateeCall(_e,$,ht)&&($=void 0),vt(_e,baseIteratee($))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);function _typeof$6(_e){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$6(_e)}function _classCallCheck$5(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$6(vt.key),vt)}}function _createClass$5(_e,$,ht){return $&&_defineProperties$5(_e.prototype,$),ht&&_defineProperties$5(_e,ht),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function ownKeys$5(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$5(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$5(Object(ht),!0).forEach(function(vt){_defineProperty$6(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$5(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$6(_e,$,ht){return $=_toPropertyKey$6($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$6(_e){var $=_toPrimitive$6(_e,"string");return _typeof$6($)=="symbol"?$:$+""}function _toPrimitive$6(_e,$){if(_typeof$6(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$6(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var rectWithPoints=function _e($,ht){var vt=$.x,bt=$.y,_t=ht.x,wt=ht.y;return{x:Math.min(vt,_t),y:Math.min(bt,wt),width:Math.abs(_t-vt),height:Math.abs(wt-bt)}},rectWithCoords=function _e($){var ht=$.x1,vt=$.y1,bt=$.x2,_t=$.y2;return rectWithPoints({x:ht,y:vt},{x:bt,y:_t})},ScaleHelper=function(){function _e($){_classCallCheck$5(this,_e),this.scale=$}return _createClass$5(_e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(ht){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bt=vt.bandAware,_t=vt.position;if(ht!==void 0){if(_t)switch(_t){case"start":return this.scale(ht);case"middle":{var wt=this.bandwidth?this.bandwidth()/2:0;return this.scale(ht)+wt}case"end":{var At=this.bandwidth?this.bandwidth():0;return this.scale(ht)+At}default:return this.scale(ht)}if(bt){var St=this.bandwidth?this.bandwidth()/2:0;return this.scale(ht)+St}return this.scale(ht)}}},{key:"isInRange",value:function(ht){var vt=this.range(),bt=vt[0],_t=vt[vt.length-1];return bt<=_t?ht>=bt&&ht<=_t:ht>=_t&&ht<=bt}}],[{key:"create",value:function(ht){return new _e(ht)}}])}();_defineProperty$6(ScaleHelper,"EPS",1e-4);var createLabeledScales=function _e($){var ht=Object.keys($).reduce(function(vt,bt){return _objectSpread$5(_objectSpread$5({},vt),{},_defineProperty$6({},bt,ScaleHelper.create($[bt])))},{});return _objectSpread$5(_objectSpread$5({},ht),{},{apply:function(bt){var _t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},wt=_t.bandAware,At=_t.position;return mapValues$1(bt,function(St,Et){return ht[Et].apply(St,{bandAware:wt,position:At})})},isInRange:function(bt){return every$1(bt,function(_t,wt){return ht[wt].isInRange(_t)})}})},calculateViewBox=memoize$3(function(_e){return{x:_e.left,y:_e.top,width:_e.width,height:_e.height}},function(_e){return["l",_e.left,"t",_e.top,"w",_e.width,"h",_e.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function _e($){var ht=$.state,vt=ht.xAxisMap,bt=ht.yAxisMap,_t=ht.offset,wt=$.clipPathId,At=$.children,St=$.width,Et=$.height,xt=calculateViewBox(_t);return React.createElement(XAxisContext.Provider,{value:vt},React.createElement(YAxisContext.Provider,{value:bt},React.createElement(OffsetContext.Provider,{value:_t},React.createElement(ViewBoxContext.Provider,{value:xt},React.createElement(ClipPathIdContext.Provider,{value:wt},React.createElement(ChartHeightContext.Provider,{value:Et},React.createElement(ChartWidthContext.Provider,{value:St},At)))))))},useClipPathId=function _e(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function _e($){var ht=reactExports.useContext(XAxisContext);ht==null&&invariant();var vt=ht[$];return vt==null&&invariant(),vt},useYAxisOrThrow=function _e($){var ht=reactExports.useContext(YAxisContext);ht==null&&invariant();var vt=ht[$];return vt==null&&invariant(),vt},useViewBox=function _e(){var $=reactExports.useContext(ViewBoxContext);return $};function _typeof$5(_e){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$5(_e)}function _classCallCheck$4(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$5(vt.key),vt)}}function _createClass$4(_e,$,ht){return $&&_defineProperties$4(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$3(_e,$,ht){return $=_getPrototypeOf$3($),_possibleConstructorReturn$3(_e,_isNativeReflectConstruct$3()?Reflect.construct($,ht||[],_getPrototypeOf$3(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$3(_e,$){if($&&(_typeof$5($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(_e)}function _assertThisInitialized$3(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$3(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!_e})()}function _getPrototypeOf$3(_e){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$3(_e)}function _inherits$3(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$3(_e,$)}function _setPrototypeOf$3(_e,$){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$3(_e,$)}function ownKeys$4(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$4(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$4(Object(ht),!0).forEach(function(vt){_defineProperty$5(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$4(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$5(_e,$,ht){return $=_toPropertyKey$5($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$5(_e){var $=_toPrimitive$5(_e,"string");return _typeof$5($)=="symbol"?$:$+""}function _toPrimitive$5(_e,$){if(_typeof$5(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$5(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _slicedToArray$1(_e,$){return _arrayWithHoles$1(_e)||_iterableToArrayLimit$1(_e,$)||_unsupportedIterableToArray$2(_e,$)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$2(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$2(_e,$)}}function _arrayLikeToArray$2(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function _iterableToArrayLimit$1(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles$1(_e){if(Array.isArray(_e))return _e}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$3.apply(this,arguments)}var renderLine=function _e($,ht){var vt;return React.isValidElement($)?vt=React.cloneElement($,ht):isFunction$3($)?vt=$(ht):vt=React.createElement("line",_extends$3({},ht,{className:"recharts-reference-line-line"})),vt},getEndPoints=function _e($,ht,vt,bt,_t,wt,At,St,Et){var xt=_t.x,Pt=_t.y,$t=_t.width,kt=_t.height;if(vt){var Rt=Et.y,Mt=$.y.apply(Rt,{position:wt});if(ifOverflowMatches(Et,"discard")&&!$.y.isInRange(Mt))return null;var Dt=[{x:xt+$t,y:Mt},{x:xt,y:Mt}];return St==="left"?Dt.reverse():Dt}if(ht){var Ot=Et.x,Lt=$.x.apply(Ot,{position:wt});if(ifOverflowMatches(Et,"discard")&&!$.x.isInRange(Lt))return null;var Nt=[{x:Lt,y:Pt+kt},{x:Lt,y:Pt}];return At==="top"?Nt.reverse():Nt}if(bt){var Ht=Et.segment,Ft=Ht.map(function(jt){return $.apply(jt,{position:wt})});return ifOverflowMatches(Et,"discard")&&some$1(Ft,function(jt){return!$.isInRange(jt)})?null:Ft}return null};function ReferenceLineImpl(_e){var $=_e.x,ht=_e.y,vt=_e.segment,bt=_e.xAxisId,_t=_e.yAxisId,wt=_e.shape,At=_e.className,St=_e.alwaysShow,Et=useClipPathId(),xt=useXAxisOrThrow(bt),Pt=useYAxisOrThrow(_t),$t=useViewBox();if(!Et||!$t)return null;warn(St===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var kt=createLabeledScales({x:xt.scale,y:Pt.scale}),Rt=isNumOrStr($),Mt=isNumOrStr(ht),Dt=vt&&vt.length===2,Ot=getEndPoints(kt,Rt,Mt,Dt,$t,_e.position,xt.orientation,Pt.orientation,_e);if(!Ot)return null;var Lt=_slicedToArray$1(Ot,2),Nt=Lt[0],Ht=Nt.x,Ft=Nt.y,jt=Lt[1],Bt=jt.x,Vt=jt.y,Ut=ifOverflowMatches(_e,"hidden")?"url(#".concat(Et,")"):void 0,Jt=_objectSpread$4(_objectSpread$4({clipPath:Ut},filterProps(_e,!0)),{},{x1:Ht,y1:Ft,x2:Bt,y2:Vt});return React.createElement(Layer,{className:clsx("recharts-reference-line",At)},renderLine(wt,Jt),Label.renderCallByParent(_e,rectWithCoords({x1:Ht,y1:Ft,x2:Bt,y2:Vt})))}var ReferenceLine=function(_e){function $(){return _classCallCheck$4(this,$),_callSuper$3(this,$,arguments)}return _inherits$3($,_e),_createClass$4($,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$5(ReferenceLine,"displayName","ReferenceLine");_defineProperty$5(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$2.apply(this,arguments)}function _typeof$4(_e){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$4(_e)}function ownKeys$3(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$3(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$3(Object(ht),!0).forEach(function(vt){_defineProperty$4(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$3(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _classCallCheck$3(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$4(vt.key),vt)}}function _createClass$3(_e,$,ht){return $&&_defineProperties$3(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$2(_e,$,ht){return $=_getPrototypeOf$2($),_possibleConstructorReturn$2(_e,_isNativeReflectConstruct$2()?Reflect.construct($,ht||[],_getPrototypeOf$2(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$2(_e,$){if($&&(_typeof$4($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(_e)}function _assertThisInitialized$2(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$2(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!_e})()}function _getPrototypeOf$2(_e){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$2(_e)}function _inherits$2(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$2(_e,$)}function _setPrototypeOf$2(_e,$){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$2(_e,$)}function _defineProperty$4(_e,$,ht){return $=_toPropertyKey$4($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$4(_e){var $=_toPrimitive$4(_e,"string");return _typeof$4($)=="symbol"?$:$+""}function _toPrimitive$4(_e,$){if(_typeof$4(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$4(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getCoordinate=function _e($){var ht=$.x,vt=$.y,bt=$.xAxis,_t=$.yAxis,wt=createLabeledScales({x:bt.scale,y:_t.scale}),At=wt.apply({x:ht,y:vt},{bandAware:!0});return ifOverflowMatches($,"discard")&&!wt.isInRange(At)?null:At},ReferenceDot=function(_e){function $(){return _classCallCheck$3(this,$),_callSuper$2(this,$,arguments)}return _inherits$2($,_e),_createClass$3($,[{key:"render",value:function(){var vt=this.props,bt=vt.x,_t=vt.y,wt=vt.r,At=vt.alwaysShow,St=vt.clipPathId,Et=isNumOrStr(bt),xt=isNumOrStr(_t);if(warn(At===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!Et||!xt)return null;var Pt=getCoordinate(this.props);if(!Pt)return null;var $t=Pt.x,kt=Pt.y,Rt=this.props,Mt=Rt.shape,Dt=Rt.className,Ot=ifOverflowMatches(this.props,"hidden")?"url(#".concat(St,")"):void 0,Lt=_objectSpread$3(_objectSpread$3({clipPath:Ot},filterProps(this.props,!0)),{},{cx:$t,cy:kt});return React.createElement(Layer,{className:clsx("recharts-reference-dot",Dt)},$.renderDot(Mt,Lt),Label.renderCallByParent(this.props,{x:$t-wt,y:kt-wt,width:2*wt,height:2*wt}))}}])}(React.Component);_defineProperty$4(ReferenceDot,"displayName","ReferenceDot");_defineProperty$4(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$4(ReferenceDot,"renderDot",function(_e,$){var ht;return React.isValidElement(_e)?ht=React.cloneElement(_e,$):isFunction$3(_e)?ht=_e($):ht=React.createElement(Dot,_extends$2({},$,{cx:$.cx,cy:$.cy,className:"recharts-reference-dot-dot"})),ht});function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$1.apply(this,arguments)}function _typeof$3(_e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$3(_e)}function ownKeys$2(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$2(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$2(Object(ht),!0).forEach(function(vt){_defineProperty$3(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$2(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _classCallCheck$2(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$3(vt.key),vt)}}function _createClass$2(_e,$,ht){return $&&_defineProperties$2(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$1(_e,$,ht){return $=_getPrototypeOf$1($),_possibleConstructorReturn$1(_e,_isNativeReflectConstruct$1()?Reflect.construct($,ht||[],_getPrototypeOf$1(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn$1(_e,$){if($&&(_typeof$3($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(_e)}function _assertThisInitialized$1(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$1(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!_e})()}function _getPrototypeOf$1(_e){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf$1(_e)}function _inherits$1(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf$1(_e,$)}function _setPrototypeOf$1(_e,$){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf$1(_e,$)}function _defineProperty$3(_e,$,ht){return $=_toPropertyKey$3($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$3(_e){var $=_toPrimitive$3(_e,"string");return _typeof$3($)=="symbol"?$:$+""}function _toPrimitive$3(_e,$){if(_typeof$3(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$3(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var getRect=function _e($,ht,vt,bt,_t){var wt=_t.x1,At=_t.x2,St=_t.y1,Et=_t.y2,xt=_t.xAxis,Pt=_t.yAxis;if(!xt||!Pt)return null;var $t=createLabeledScales({x:xt.scale,y:Pt.scale}),kt={x:$?$t.x.apply(wt,{position:"start"}):$t.x.rangeMin,y:vt?$t.y.apply(St,{position:"start"}):$t.y.rangeMin},Rt={x:ht?$t.x.apply(At,{position:"end"}):$t.x.rangeMax,y:bt?$t.y.apply(Et,{position:"end"}):$t.y.rangeMax};return ifOverflowMatches(_t,"discard")&&(!$t.isInRange(kt)||!$t.isInRange(Rt))?null:rectWithPoints(kt,Rt)},ReferenceArea=function(_e){function $(){return _classCallCheck$2(this,$),_callSuper$1(this,$,arguments)}return _inherits$1($,_e),_createClass$2($,[{key:"render",value:function(){var vt=this.props,bt=vt.x1,_t=vt.x2,wt=vt.y1,At=vt.y2,St=vt.className,Et=vt.alwaysShow,xt=vt.clipPathId;warn(Et===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var Pt=isNumOrStr(bt),$t=isNumOrStr(_t),kt=isNumOrStr(wt),Rt=isNumOrStr(At),Mt=this.props.shape;if(!Pt&&!$t&&!kt&&!Rt&&!Mt)return null;var Dt=getRect(Pt,$t,kt,Rt,this.props);if(!Dt&&!Mt)return null;var Ot=ifOverflowMatches(this.props,"hidden")?"url(#".concat(xt,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",St)},$.renderRect(Mt,_objectSpread$2(_objectSpread$2({clipPath:Ot},filterProps(this.props,!0)),Dt)),Label.renderCallByParent(this.props,Dt))}}])}(React.Component);_defineProperty$3(ReferenceArea,"displayName","ReferenceArea");_defineProperty$3(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$3(ReferenceArea,"renderRect",function(_e,$){var ht;return React.isValidElement(_e)?ht=React.cloneElement(_e,$):isFunction$3(_e)?ht=_e($):ht=React.createElement(Rectangle,_extends$1({},$,{className:"recharts-reference-area-rect"})),ht});function _toConsumableArray$1(_e){return _arrayWithoutHoles$1(_e)||_iterableToArray$1(_e)||_unsupportedIterableToArray$1(_e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray$1(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray$1(_e,$)}}function _iterableToArray$1(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles$1(_e){if(Array.isArray(_e))return _arrayLikeToArray$1(_e)}function _arrayLikeToArray$1(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}var detectReferenceElementsDomain=function _e($,ht,vt,bt,_t){var wt=findAllByType($,ReferenceLine),At=findAllByType($,ReferenceDot),St=[].concat(_toConsumableArray$1(wt),_toConsumableArray$1(At)),Et=findAllByType($,ReferenceArea),xt="".concat(bt,"Id"),Pt=bt[0],$t=ht;if(St.length&&($t=St.reduce(function(Mt,Dt){if(Dt.props[xt]===vt&&ifOverflowMatches(Dt.props,"extendDomain")&&isNumber(Dt.props[Pt])){var Ot=Dt.props[Pt];return[Math.min(Mt[0],Ot),Math.max(Mt[1],Ot)]}return Mt},$t)),Et.length){var kt="".concat(Pt,"1"),Rt="".concat(Pt,"2");$t=Et.reduce(function(Mt,Dt){if(Dt.props[xt]===vt&&ifOverflowMatches(Dt.props,"extendDomain")&&isNumber(Dt.props[kt])&&isNumber(Dt.props[Rt])){var Ot=Dt.props[kt],Lt=Dt.props[Rt];return[Math.min(Mt[0],Ot,Lt),Math.max(Mt[1],Ot,Lt)]}return Mt},$t)}return _t&&_t.length&&($t=_t.reduce(function(Mt,Dt){return isNumber(Dt)?[Math.min(Mt[0],Dt),Math.max(Mt[1],Dt)]:Mt},$t)),$t},eventemitter3={exports:{}};(function(_e){var $=Object.prototype.hasOwnProperty,ht="~";function vt(){}Object.create&&(vt.prototype=Object.create(null),new vt().__proto__||(ht=!1));function bt(St,Et,xt){this.fn=St,this.context=Et,this.once=xt||!1}function _t(St,Et,xt,Pt,$t){if(typeof xt!="function")throw new TypeError("The listener must be a function");var kt=new bt(xt,Pt||St,$t),Rt=ht?ht+Et:Et;return St._events[Rt]?St._events[Rt].fn?St._events[Rt]=[St._events[Rt],kt]:St._events[Rt].push(kt):(St._events[Rt]=kt,St._eventsCount++),St}function wt(St,Et){--St._eventsCount===0?St._events=new vt:delete St._events[Et]}function At(){this._events=new vt,this._eventsCount=0}At.prototype.eventNames=function(){var Et=[],xt,Pt;if(this._eventsCount===0)return Et;for(Pt in xt=this._events)$.call(xt,Pt)&&Et.push(ht?Pt.slice(1):Pt);return Object.getOwnPropertySymbols?Et.concat(Object.getOwnPropertySymbols(xt)):Et},At.prototype.listeners=function(Et){var xt=ht?ht+Et:Et,Pt=this._events[xt];if(!Pt)return[];if(Pt.fn)return[Pt.fn];for(var $t=0,kt=Pt.length,Rt=new Array(kt);$t<kt;$t++)Rt[$t]=Pt[$t].fn;return Rt},At.prototype.listenerCount=function(Et){var xt=ht?ht+Et:Et,Pt=this._events[xt];return Pt?Pt.fn?1:Pt.length:0},At.prototype.emit=function(Et,xt,Pt,$t,kt,Rt){var Mt=ht?ht+Et:Et;if(!this._events[Mt])return!1;var Dt=this._events[Mt],Ot=arguments.length,Lt,Nt;if(Dt.fn){switch(Dt.once&&this.removeListener(Et,Dt.fn,void 0,!0),Ot){case 1:return Dt.fn.call(Dt.context),!0;case 2:return Dt.fn.call(Dt.context,xt),!0;case 3:return Dt.fn.call(Dt.context,xt,Pt),!0;case 4:return Dt.fn.call(Dt.context,xt,Pt,$t),!0;case 5:return Dt.fn.call(Dt.context,xt,Pt,$t,kt),!0;case 6:return Dt.fn.call(Dt.context,xt,Pt,$t,kt,Rt),!0}for(Nt=1,Lt=new Array(Ot-1);Nt<Ot;Nt++)Lt[Nt-1]=arguments[Nt];Dt.fn.apply(Dt.context,Lt)}else{var Ht=Dt.length,Ft;for(Nt=0;Nt<Ht;Nt++)switch(Dt[Nt].once&&this.removeListener(Et,Dt[Nt].fn,void 0,!0),Ot){case 1:Dt[Nt].fn.call(Dt[Nt].context);break;case 2:Dt[Nt].fn.call(Dt[Nt].context,xt);break;case 3:Dt[Nt].fn.call(Dt[Nt].context,xt,Pt);break;case 4:Dt[Nt].fn.call(Dt[Nt].context,xt,Pt,$t);break;default:if(!Lt)for(Ft=1,Lt=new Array(Ot-1);Ft<Ot;Ft++)Lt[Ft-1]=arguments[Ft];Dt[Nt].fn.apply(Dt[Nt].context,Lt)}}return!0},At.prototype.on=function(Et,xt,Pt){return _t(this,Et,xt,Pt,!1)},At.prototype.once=function(Et,xt,Pt){return _t(this,Et,xt,Pt,!0)},At.prototype.removeListener=function(Et,xt,Pt,$t){var kt=ht?ht+Et:Et;if(!this._events[kt])return this;if(!xt)return wt(this,kt),this;var Rt=this._events[kt];if(Rt.fn)Rt.fn===xt&&(!$t||Rt.once)&&(!Pt||Rt.context===Pt)&&wt(this,kt);else{for(var Mt=0,Dt=[],Ot=Rt.length;Mt<Ot;Mt++)(Rt[Mt].fn!==xt||$t&&!Rt[Mt].once||Pt&&Rt[Mt].context!==Pt)&&Dt.push(Rt[Mt]);Dt.length?this._events[kt]=Dt.length===1?Dt[0]:Dt:wt(this,kt)}return this},At.prototype.removeAllListeners=function(Et){var xt;return Et?(xt=ht?ht+Et:Et,this._events[xt]&&wt(this,xt)):(this._events=new vt,this._eventsCount=0),this},At.prototype.off=At.prototype.removeListener,At.prototype.addListener=At.prototype.on,At.prefixed=ht,At.EventEmitter=At,_e.exports=At})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(_e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$2(_e)}function _classCallCheck$1(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey$2(vt.key),vt)}}function _createClass$1(_e,$,ht){return $&&_defineProperties$1(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _defineProperty$2(_e,$,ht){return $=_toPropertyKey$2($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$2(_e){var $=_toPrimitive$2(_e,"string");return _typeof$2($)=="symbol"?$:$+""}function _toPrimitive$2(_e,$){if(_typeof$2(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$);if(_typeof$2(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_e)}var AccessibilityManager=function(){function _e(){_classCallCheck$1(this,_e),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(_e,[{key:"setDetails",value:function(ht){var vt,bt=ht.coordinateList,_t=bt===void 0?null:bt,wt=ht.container,At=wt===void 0?null:wt,St=ht.layout,Et=St===void 0?null:St,xt=ht.offset,Pt=xt===void 0?null:xt,$t=ht.mouseHandlerCallback,kt=$t===void 0?null:$t;this.coordinateList=(vt=_t??this.coordinateList)!==null&&vt!==void 0?vt:[],this.container=At??this.container,this.layout=Et??this.layout,this.offset=Pt??this.offset,this.mouseHandlerCallback=kt??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(ht){if(this.coordinateList.length!==0)switch(ht.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(ht){this.activeIndex=ht}},{key:"spoofMouse",value:function(){var ht,vt;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var bt=this.container.getBoundingClientRect(),_t=bt.x,wt=bt.y,At=bt.height,St=this.coordinateList[this.activeIndex].coordinate,Et=((ht=window)===null||ht===void 0?void 0:ht.scrollX)||0,xt=((vt=window)===null||vt===void 0?void 0:vt.scrollY)||0,Pt=_t+St+Et,$t=wt+this.offset.top+At/2+xt;this.mouseHandlerCallback({pageX:Pt,pageY:$t})}}}])}();function isDomainSpecifiedByUser(_e,$,ht){if(ht==="number"&&$===!0&&Array.isArray(_e)){var vt=_e==null?void 0:_e[0],bt=_e==null?void 0:_e[1];if(vt&&bt&&isNumber(vt)&&isNumber(bt))return!0}return!1}function getCursorRectangle(_e,$,ht,vt){var bt=vt/2;return{stroke:"none",fill:"#ccc",x:_e==="horizontal"?$.x-bt:ht.left+.5,y:_e==="horizontal"?ht.top+.5:$.y-bt,width:_e==="horizontal"?vt:ht.width-1,height:_e==="horizontal"?ht.height-1:vt}}function getRadialCursorPoints(_e){var $=_e.cx,ht=_e.cy,vt=_e.radius,bt=_e.startAngle,_t=_e.endAngle,wt=polarToCartesian($,ht,vt,bt),At=polarToCartesian($,ht,vt,_t);return{points:[wt,At],cx:$,cy:ht,radius:vt,startAngle:bt,endAngle:_t}}function getCursorPoints(_e,$,ht){var vt,bt,_t,wt;if(_e==="horizontal")vt=$.x,_t=vt,bt=ht.top,wt=ht.top+ht.height;else if(_e==="vertical")bt=$.y,wt=bt,vt=ht.left,_t=ht.left+ht.width;else if($.cx!=null&&$.cy!=null)if(_e==="centric"){var At=$.cx,St=$.cy,Et=$.innerRadius,xt=$.outerRadius,Pt=$.angle,$t=polarToCartesian(At,St,Et,Pt),kt=polarToCartesian(At,St,xt,Pt);vt=$t.x,bt=$t.y,_t=kt.x,wt=kt.y}else return getRadialCursorPoints($);return[{x:vt,y:bt},{x:_t,y:wt}]}function _typeof$1(_e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$1(_e)}function ownKeys$1(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread$1(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys$1(Object(ht),!0).forEach(function(vt){_defineProperty$1(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys$1(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty$1(_e,$,ht){return $=_toPropertyKey$1($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey$1(_e){var $=_toPrimitive$1(_e,"string");return _typeof$1($)=="symbol"?$:$+""}function _toPrimitive$1(_e,$){if(_typeof$1(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof$1(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function Cursor(_e){var $,ht,vt=_e.element,bt=_e.tooltipEventType,_t=_e.isActive,wt=_e.activeCoordinate,At=_e.activePayload,St=_e.offset,Et=_e.activeTooltipIndex,xt=_e.tooltipAxisBandSize,Pt=_e.layout,$t=_e.chartName,kt=($=vt.props.cursor)!==null&&$!==void 0?$:(ht=vt.type.defaultProps)===null||ht===void 0?void 0:ht.cursor;if(!vt||!kt||!_t||!wt||$t!=="ScatterChart"&&bt!=="axis")return null;var Rt,Mt=Curve;if($t==="ScatterChart")Rt=wt,Mt=Cross;else if($t==="BarChart")Rt=getCursorRectangle(Pt,wt,St,xt),Mt=Rectangle;else if(Pt==="radial"){var Dt=getRadialCursorPoints(wt),Ot=Dt.cx,Lt=Dt.cy,Nt=Dt.radius,Ht=Dt.startAngle,Ft=Dt.endAngle;Rt={cx:Ot,cy:Lt,startAngle:Ht,endAngle:Ft,innerRadius:Nt,outerRadius:Nt},Mt=Sector}else Rt={points:getCursorPoints(Pt,wt,St)},Mt=Curve;var jt=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},St),Rt),filterProps(kt,!1)),{},{payload:At,payloadIndex:Et,className:clsx("recharts-tooltip-cursor",kt.className)});return reactExports.isValidElement(kt)?reactExports.cloneElement(kt,jt):reactExports.createElement(Mt,jt)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(_e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(_e)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends.apply(this,arguments)}function _slicedToArray(_e,$){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,$)||_unsupportedIterableToArray(_e,$)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(_e,$){var ht=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(ht!=null){var vt,bt,_t,wt,At=[],St=!0,Et=!1;try{if(_t=(ht=ht.call(_e)).next,$!==0)for(;!(St=(vt=_t.call(ht)).done)&&(At.push(vt.value),At.length!==$);St=!0);}catch(xt){Et=!0,bt=xt}finally{try{if(!St&&ht.return!=null&&(wt=ht.return(),Object(wt)!==wt))return}finally{if(Et)throw bt}}return At}}function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(_e);for(bt=0;bt<_t.length;bt++)vt=_t[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function _classCallCheck(_e,$){if(!(_e instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_e,$){for(var ht=0;ht<$.length;ht++){var vt=$[ht];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(_e,_toPropertyKey(vt.key),vt)}}function _createClass(_e,$,ht){return $&&_defineProperties(_e.prototype,$),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper(_e,$,ht){return $=_getPrototypeOf($),_possibleConstructorReturn(_e,_isNativeReflectConstruct()?Reflect.construct($,ht||[],_getPrototypeOf(_e).constructor):$.apply(_e,ht))}function _possibleConstructorReturn(_e,$){if($&&(_typeof($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(_e)}function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!_e})()}function _getPrototypeOf(_e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ht){return ht.__proto__||Object.getPrototypeOf(ht)},_getPrototypeOf(_e)}function _inherits(_e,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create($&&$.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),$&&_setPrototypeOf(_e,$)}function _setPrototypeOf(_e,$){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,bt){return vt.__proto__=bt,vt},_setPrototypeOf(_e,$)}function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(_e,$){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,$);var ht=Object.prototype.toString.call(_e).slice(8,-1);if(ht==="Object"&&_e.constructor&&(ht=_e.constructor.name),ht==="Map"||ht==="Set")return Array.from(_e);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return _arrayLikeToArray(_e,$)}}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _arrayLikeToArray(_e,$){($==null||$>_e.length)&&($=_e.length);for(var ht=0,vt=new Array($);ht<$;ht++)vt[ht]=_e[ht];return vt}function ownKeys(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(ht),!0).forEach(function(vt){_defineProperty(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty(_e,$,ht){return $=_toPropertyKey($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey(_e){var $=_toPrimitive(_e,"string");return _typeof($)=="symbol"?$:$+""}function _toPrimitive(_e,$){if(_typeof(_e)!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(_typeof(vt)!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(_e){return _e}var calculateTooltipPos=function _e($,ht){return ht==="horizontal"?$.x:ht==="vertical"?$.y:ht==="centric"?$.angle:$.radius},getActiveCoordinate=function _e($,ht,vt,bt){var _t=ht.find(function(xt){return xt&&xt.index===vt});if(_t){if($==="horizontal")return{x:_t.coordinate,y:bt.y};if($==="vertical")return{x:bt.x,y:_t.coordinate};if($==="centric"){var wt=_t.coordinate,At=bt.radius;return _objectSpread(_objectSpread(_objectSpread({},bt),polarToCartesian(bt.cx,bt.cy,At,wt)),{},{angle:wt,radius:At})}var St=_t.coordinate,Et=bt.angle;return _objectSpread(_objectSpread(_objectSpread({},bt),polarToCartesian(bt.cx,bt.cy,St,Et)),{},{angle:Et,radius:St})}return originCoordinate},getDisplayedData=function _e($,ht){var vt=ht.graphicalItems,bt=ht.dataStartIndex,_t=ht.dataEndIndex,wt=(vt??[]).reduce(function(At,St){var Et=St.props.data;return Et&&Et.length?[].concat(_toConsumableArray(At),_toConsumableArray(Et)):At},[]);return wt.length>0?wt:$&&$.length&&isNumber(bt)&&isNumber(_t)?$.slice(bt,_t+1):[]};function getDefaultDomainByAxisType(_e){return _e==="number"?[0,"auto"]:void 0}var getTooltipContent=function _e($,ht,vt,bt){var _t=$.graphicalItems,wt=$.tooltipAxis,At=getDisplayedData(ht,$);return vt<0||!_t||!_t.length||vt>=At.length?null:_t.reduce(function(St,Et){var xt,Pt=(xt=Et.props.data)!==null&&xt!==void 0?xt:ht;Pt&&$.dataStartIndex+$.dataEndIndex!==0&&$.dataEndIndex-$.dataStartIndex>=vt&&(Pt=Pt.slice($.dataStartIndex,$.dataEndIndex+1));var $t;if(wt.dataKey&&!wt.allowDuplicatedCategory){var kt=Pt===void 0?At:Pt;$t=findEntryInArray(kt,wt.dataKey,bt)}else $t=Pt&&Pt[vt]||At[vt];return $t?[].concat(_toConsumableArray(St),[getTooltipItem(Et,$t)]):St},[])},getTooltipData=function _e($,ht,vt,bt){var _t=bt||{x:$.chartX,y:$.chartY},wt=calculateTooltipPos(_t,vt),At=$.orderedTooltipTicks,St=$.tooltipAxis,Et=$.tooltipTicks,xt=calculateActiveTickIndex(wt,At,Et,St);if(xt>=0&&Et){var Pt=Et[xt]&&Et[xt].value,$t=getTooltipContent($,ht,xt,Pt),kt=getActiveCoordinate(vt,At,xt,_t);return{activeTooltipIndex:xt,activeLabel:Pt,activePayload:$t,activeCoordinate:kt}}return null},getAxisMapByAxes=function _e($,ht){var vt=ht.axes,bt=ht.graphicalItems,_t=ht.axisType,wt=ht.axisIdKey,At=ht.stackGroups,St=ht.dataStartIndex,Et=ht.dataEndIndex,xt=$.layout,Pt=$.children,$t=$.stackOffset,kt=isCategoricalAxis(xt,_t);return vt.reduce(function(Rt,Mt){var Dt,Ot=Mt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Mt.type.defaultProps),Mt.props):Mt.props,Lt=Ot.type,Nt=Ot.dataKey,Ht=Ot.allowDataOverflow,Ft=Ot.allowDuplicatedCategory,jt=Ot.scale,Bt=Ot.ticks,Vt=Ot.includeHidden,Ut=Ot[wt];if(Rt[Ut])return Rt;var Jt=getDisplayedData($.data,{graphicalItems:bt.filter(function(rn){var qt,Yt=wt in rn.props?rn.props[wt]:(qt=rn.type.defaultProps)===null||qt===void 0?void 0:qt[wt];return Yt===Ut}),dataStartIndex:St,dataEndIndex:Et}),Wt=Jt.length,Qt,tn,pn;isDomainSpecifiedByUser(Ot.domain,Ht,Lt)&&(Qt=parseSpecifiedDomain(Ot.domain,null,Ht),kt&&(Lt==="number"||jt!=="auto")&&(pn=getDomainOfDataByKey(Jt,Nt,"category")));var nn=getDefaultDomainByAxisType(Lt);if(!Qt||Qt.length===0){var hn,sn=(hn=Ot.domain)!==null&&hn!==void 0?hn:nn;if(Nt){if(Qt=getDomainOfDataByKey(Jt,Nt,Lt),Lt==="category"&&kt){var un=hasDuplicate(Qt);Ft&&un?(tn=Qt,Qt=range$1(0,Wt)):Ft||(Qt=parseDomainOfCategoryAxis(sn,Qt,Mt).reduce(function(rn,qt){return rn.indexOf(qt)>=0?rn:[].concat(_toConsumableArray(rn),[qt])},[]))}else if(Lt==="category")Ft?Qt=Qt.filter(function(rn){return rn!==""&&!isNil$1(rn)}):Qt=parseDomainOfCategoryAxis(sn,Qt,Mt).reduce(function(rn,qt){return rn.indexOf(qt)>=0||qt===""||isNil$1(qt)?rn:[].concat(_toConsumableArray(rn),[qt])},[]);else if(Lt==="number"){var en=parseErrorBarsOfAxis(Jt,bt.filter(function(rn){var qt,Yt,an=wt in rn.props?rn.props[wt]:(qt=rn.type.defaultProps)===null||qt===void 0?void 0:qt[wt],yn="hide"in rn.props?rn.props.hide:(Yt=rn.type.defaultProps)===null||Yt===void 0?void 0:Yt.hide;return an===Ut&&(Vt||!yn)}),Nt,_t,xt);en&&(Qt=en)}kt&&(Lt==="number"||jt!=="auto")&&(pn=getDomainOfDataByKey(Jt,Nt,"category"))}else kt?Qt=range$1(0,Wt):At&&At[Ut]&&At[Ut].hasStack&&Lt==="number"?Qt=$t==="expand"?[0,1]:getDomainOfStackGroups(At[Ut].stackGroups,St,Et):Qt=getDomainOfItemsWithSameAxis(Jt,bt.filter(function(rn){var qt=wt in rn.props?rn.props[wt]:rn.type.defaultProps[wt],Yt="hide"in rn.props?rn.props.hide:rn.type.defaultProps.hide;return qt===Ut&&(Vt||!Yt)}),Lt,xt,!0);if(Lt==="number")Qt=detectReferenceElementsDomain(Pt,Qt,Ut,_t,Bt),sn&&(Qt=parseSpecifiedDomain(sn,Qt,Ht));else if(Lt==="category"&&sn){var fn=sn,En=Qt.every(function(rn){return fn.indexOf(rn)>=0});En&&(Qt=fn)}}return _objectSpread(_objectSpread({},Rt),{},_defineProperty({},Ut,_objectSpread(_objectSpread({},Ot),{},{axisType:_t,domain:Qt,categoricalDomain:pn,duplicateDomain:tn,originalDomain:(Dt=Ot.domain)!==null&&Dt!==void 0?Dt:nn,isCategorical:kt,layout:xt})))},{})},getAxisMapByItems=function _e($,ht){var vt=ht.graphicalItems,bt=ht.Axis,_t=ht.axisType,wt=ht.axisIdKey,At=ht.stackGroups,St=ht.dataStartIndex,Et=ht.dataEndIndex,xt=$.layout,Pt=$.children,$t=getDisplayedData($.data,{graphicalItems:vt,dataStartIndex:St,dataEndIndex:Et}),kt=$t.length,Rt=isCategoricalAxis(xt,_t),Mt=-1;return vt.reduce(function(Dt,Ot){var Lt=Ot.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Ot.type.defaultProps),Ot.props):Ot.props,Nt=Lt[wt],Ht=getDefaultDomainByAxisType("number");if(!Dt[Nt]){Mt++;var Ft;return Rt?Ft=range$1(0,kt):At&&At[Nt]&&At[Nt].hasStack?(Ft=getDomainOfStackGroups(At[Nt].stackGroups,St,Et),Ft=detectReferenceElementsDomain(Pt,Ft,Nt,_t)):(Ft=parseSpecifiedDomain(Ht,getDomainOfItemsWithSameAxis($t,vt.filter(function(jt){var Bt,Vt,Ut=wt in jt.props?jt.props[wt]:(Bt=jt.type.defaultProps)===null||Bt===void 0?void 0:Bt[wt],Jt="hide"in jt.props?jt.props.hide:(Vt=jt.type.defaultProps)===null||Vt===void 0?void 0:Vt.hide;return Ut===Nt&&!Jt}),"number",xt),bt.defaultProps.allowDataOverflow),Ft=detectReferenceElementsDomain(Pt,Ft,Nt,_t)),_objectSpread(_objectSpread({},Dt),{},_defineProperty({},Nt,_objectSpread(_objectSpread({axisType:_t},bt.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(_t,".").concat(Mt%2),null),domain:Ft,originalDomain:Ht,isCategorical:Rt,layout:xt})))}return Dt},{})},getAxisMap=function _e($,ht){var vt=ht.axisType,bt=vt===void 0?"xAxis":vt,_t=ht.AxisComp,wt=ht.graphicalItems,At=ht.stackGroups,St=ht.dataStartIndex,Et=ht.dataEndIndex,xt=$.children,Pt="".concat(bt,"Id"),$t=findAllByType(xt,_t),kt={};return $t&&$t.length?kt=getAxisMapByAxes($,{axes:$t,graphicalItems:wt,axisType:bt,axisIdKey:Pt,stackGroups:At,dataStartIndex:St,dataEndIndex:Et}):wt&&wt.length&&(kt=getAxisMapByItems($,{Axis:_t,graphicalItems:wt,axisType:bt,axisIdKey:Pt,stackGroups:At,dataStartIndex:St,dataEndIndex:Et})),kt},tooltipTicksGenerator=function _e($){var ht=getAnyElementOfObject($),vt=getTicksOfAxis(ht,!1,!0);return{tooltipTicks:vt,orderedTooltipTicks:sortBy$1(vt,function(bt){return bt.coordinate}),tooltipAxis:ht,tooltipAxisBandSize:getBandSizeOfAxis(ht,vt)}},createDefaultState=function _e($){var ht=$.children,vt=$.defaultShowTooltip,bt=findChildByType(ht,Brush),_t=0,wt=0;return $.data&&$.data.length!==0&&(wt=$.data.length-1),bt&&bt.props&&(bt.props.startIndex>=0&&(_t=bt.props.startIndex),bt.props.endIndex>=0&&(wt=bt.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:_t,dataEndIndex:wt,activeTooltipIndex:-1,isTooltipActive:!!vt}},hasGraphicalBarItem=function _e($){return!$||!$.length?!1:$.some(function(ht){var vt=getDisplayName(ht&&ht.type);return vt&&vt.indexOf("Bar")>=0})},getAxisNameByLayout=function _e($){return $==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:$==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:$==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function _e($,ht){var vt=$.props,bt=$.graphicalItems,_t=$.xAxisMap,wt=_t===void 0?{}:_t,At=$.yAxisMap,St=At===void 0?{}:At,Et=vt.width,xt=vt.height,Pt=vt.children,$t=vt.margin||{},kt=findChildByType(Pt,Brush),Rt=findChildByType(Pt,Legend),Mt=Object.keys(St).reduce(function(Ft,jt){var Bt=St[jt],Vt=Bt.orientation;return!Bt.mirror&&!Bt.hide?_objectSpread(_objectSpread({},Ft),{},_defineProperty({},Vt,Ft[Vt]+Bt.width)):Ft},{left:$t.left||0,right:$t.right||0}),Dt=Object.keys(wt).reduce(function(Ft,jt){var Bt=wt[jt],Vt=Bt.orientation;return!Bt.mirror&&!Bt.hide?_objectSpread(_objectSpread({},Ft),{},_defineProperty({},Vt,get$2(Ft,"".concat(Vt))+Bt.height)):Ft},{top:$t.top||0,bottom:$t.bottom||0}),Ot=_objectSpread(_objectSpread({},Dt),Mt),Lt=Ot.bottom;kt&&(Ot.bottom+=kt.props.height||Brush.defaultProps.height),Rt&&ht&&(Ot=appendOffsetOfLegend(Ot,bt,vt,ht));var Nt=Et-Ot.left-Ot.right,Ht=xt-Ot.top-Ot.bottom;return _objectSpread(_objectSpread({brushBottom:Lt},Ot),{},{width:Math.max(Nt,0),height:Math.max(Ht,0)})},getCartesianAxisSize=function _e($,ht){if(ht==="xAxis")return $[ht].width;if(ht==="yAxis")return $[ht].height},generateCategoricalChart=function _e($){var ht=$.chartName,vt=$.GraphicalChild,bt=$.defaultTooltipEventType,_t=bt===void 0?"axis":bt,wt=$.validateTooltipEventTypes,At=wt===void 0?["axis"]:wt,St=$.axisComponents,Et=$.legendContent,xt=$.formatAxisMap,Pt=$.defaultProps,$t=function(Ot,Lt){var Nt=Lt.graphicalItems,Ht=Lt.stackGroups,Ft=Lt.offset,jt=Lt.updateId,Bt=Lt.dataStartIndex,Vt=Lt.dataEndIndex,Ut=Ot.barSize,Jt=Ot.layout,Wt=Ot.barGap,Qt=Ot.barCategoryGap,tn=Ot.maxBarSize,pn=getAxisNameByLayout(Jt),nn=pn.numericAxisName,hn=pn.cateAxisName,sn=hasGraphicalBarItem(Nt),un=[];return Nt.forEach(function(en,fn){var En=getDisplayedData(Ot.data,{graphicalItems:[en],dataStartIndex:Bt,dataEndIndex:Vt}),rn=en.type.defaultProps!==void 0?_objectSpread(_objectSpread({},en.type.defaultProps),en.props):en.props,qt=rn.dataKey,Yt=rn.maxBarSize,an=rn["".concat(nn,"Id")],yn=rn["".concat(hn,"Id")],mn={},vn=St.reduce(function(Bn,Gn){var er=Lt["".concat(Gn.axisType,"Map")],Zn=rn["".concat(Gn.axisType,"Id")];er&&er[Zn]||Gn.axisType==="zAxis"||invariant();var In=er[Zn];return _objectSpread(_objectSpread({},Bn),{},_defineProperty(_defineProperty({},Gn.axisType,In),"".concat(Gn.axisType,"Ticks"),getTicksOfAxis(In)))},mn),_n=vn[hn],kn=vn["".concat(hn,"Ticks")],Nn=Ht&&Ht[an]&&Ht[an].hasStack&&getStackedDataOfItem(en,Ht[an].stackGroups),xn=getDisplayName(en.type).indexOf("Bar")>=0,qn=getBandSizeOfAxis(_n,kn),zn=[],Xn=sn&&getBarSizeList({barSize:Ut,stackGroups:Ht,totalSize:getCartesianAxisSize(vn,hn)});if(xn){var On,Ln,dn=isNil$1(Yt)?tn:Yt,wn=(On=(Ln=getBandSizeOfAxis(_n,kn,!0))!==null&&Ln!==void 0?Ln:dn)!==null&&On!==void 0?On:0;zn=getBarPosition({barGap:Wt,barCategoryGap:Qt,bandSize:wn!==qn?wn:qn,sizeList:Xn[yn],maxBarSize:dn}),wn!==qn&&(zn=zn.map(function(Bn){return _objectSpread(_objectSpread({},Bn),{},{position:_objectSpread(_objectSpread({},Bn.position),{},{offset:Bn.position.offset-wn/2})})}))}var Mn=en&&en.type&&en.type.getComposedData;Mn&&un.push({props:_objectSpread(_objectSpread({},Mn(_objectSpread(_objectSpread({},vn),{},{displayedData:En,props:Ot,dataKey:qt,item:en,bandSize:qn,barPosition:zn,offset:Ft,stackedData:Nn,layout:Jt,dataStartIndex:Bt,dataEndIndex:Vt}))),{},_defineProperty(_defineProperty(_defineProperty({key:en.key||"item-".concat(fn)},nn,vn[nn]),hn,vn[hn]),"animationId",jt)),childIndex:parseChildIndex(en,Ot.children),item:en})}),un},kt=function(Ot,Lt){var Nt=Ot.props,Ht=Ot.dataStartIndex,Ft=Ot.dataEndIndex,jt=Ot.updateId;if(!validateWidthHeight({props:Nt}))return null;var Bt=Nt.children,Vt=Nt.layout,Ut=Nt.stackOffset,Jt=Nt.data,Wt=Nt.reverseStackOrder,Qt=getAxisNameByLayout(Vt),tn=Qt.numericAxisName,pn=Qt.cateAxisName,nn=findAllByType(Bt,vt),hn=getStackGroupsByAxisId(Jt,nn,"".concat(tn,"Id"),"".concat(pn,"Id"),Ut,Wt),sn=St.reduce(function(rn,qt){var Yt="".concat(qt.axisType,"Map");return _objectSpread(_objectSpread({},rn),{},_defineProperty({},Yt,getAxisMap(Nt,_objectSpread(_objectSpread({},qt),{},{graphicalItems:nn,stackGroups:qt.axisType===tn&&hn,dataStartIndex:Ht,dataEndIndex:Ft}))))},{}),un=calculateOffset(_objectSpread(_objectSpread({},sn),{},{props:Nt,graphicalItems:nn}),Lt==null?void 0:Lt.legendBBox);Object.keys(sn).forEach(function(rn){sn[rn]=xt(Nt,sn[rn],un,rn.replace("Map",""),ht)});var en=sn["".concat(pn,"Map")],fn=tooltipTicksGenerator(en),En=$t(Nt,_objectSpread(_objectSpread({},sn),{},{dataStartIndex:Ht,dataEndIndex:Ft,updateId:jt,graphicalItems:nn,stackGroups:hn,offset:un}));return _objectSpread(_objectSpread({formattedGraphicalItems:En,graphicalItems:nn,offset:un,stackGroups:hn},fn),sn)},Rt=function(Dt){function Ot(Lt){var Nt,Ht,Ft;return _classCallCheck(this,Ot),Ft=_callSuper(this,Ot,[Lt]),_defineProperty(Ft,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(Ft,"accessibilityManager",new AccessibilityManager),_defineProperty(Ft,"handleLegendBBoxUpdate",function(jt){if(jt){var Bt=Ft.state,Vt=Bt.dataStartIndex,Ut=Bt.dataEndIndex,Jt=Bt.updateId;Ft.setState(_objectSpread({legendBBox:jt},kt({props:Ft.props,dataStartIndex:Vt,dataEndIndex:Ut,updateId:Jt},_objectSpread(_objectSpread({},Ft.state),{},{legendBBox:jt}))))}}),_defineProperty(Ft,"handleReceiveSyncEvent",function(jt,Bt,Vt){if(Ft.props.syncId===jt){if(Vt===Ft.eventEmitterSymbol&&typeof Ft.props.syncMethod!="function")return;Ft.applySyncEvent(Bt)}}),_defineProperty(Ft,"handleBrushChange",function(jt){var Bt=jt.startIndex,Vt=jt.endIndex;if(Bt!==Ft.state.dataStartIndex||Vt!==Ft.state.dataEndIndex){var Ut=Ft.state.updateId;Ft.setState(function(){return _objectSpread({dataStartIndex:Bt,dataEndIndex:Vt},kt({props:Ft.props,dataStartIndex:Bt,dataEndIndex:Vt,updateId:Ut},Ft.state))}),Ft.triggerSyncEvent({dataStartIndex:Bt,dataEndIndex:Vt})}}),_defineProperty(Ft,"handleMouseEnter",function(jt){var Bt=Ft.getMouseInfo(jt);if(Bt){var Vt=_objectSpread(_objectSpread({},Bt),{},{isTooltipActive:!0});Ft.setState(Vt),Ft.triggerSyncEvent(Vt);var Ut=Ft.props.onMouseEnter;isFunction$3(Ut)&&Ut(Vt,jt)}}),_defineProperty(Ft,"triggeredAfterMouseMove",function(jt){var Bt=Ft.getMouseInfo(jt),Vt=Bt?_objectSpread(_objectSpread({},Bt),{},{isTooltipActive:!0}):{isTooltipActive:!1};Ft.setState(Vt),Ft.triggerSyncEvent(Vt);var Ut=Ft.props.onMouseMove;isFunction$3(Ut)&&Ut(Vt,jt)}),_defineProperty(Ft,"handleItemMouseEnter",function(jt){Ft.setState(function(){return{isTooltipActive:!0,activeItem:jt,activePayload:jt.tooltipPayload,activeCoordinate:jt.tooltipPosition||{x:jt.cx,y:jt.cy}}})}),_defineProperty(Ft,"handleItemMouseLeave",function(){Ft.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(Ft,"handleMouseMove",function(jt){jt.persist(),Ft.throttleTriggeredAfterMouseMove(jt)}),_defineProperty(Ft,"handleMouseLeave",function(jt){Ft.throttleTriggeredAfterMouseMove.cancel();var Bt={isTooltipActive:!1};Ft.setState(Bt),Ft.triggerSyncEvent(Bt);var Vt=Ft.props.onMouseLeave;isFunction$3(Vt)&&Vt(Bt,jt)}),_defineProperty(Ft,"handleOuterEvent",function(jt){var Bt=getReactEventByType(jt),Vt=get$2(Ft.props,"".concat(Bt));if(Bt&&isFunction$3(Vt)){var Ut,Jt;/.*touch.*/i.test(Bt)?Jt=Ft.getMouseInfo(jt.changedTouches[0]):Jt=Ft.getMouseInfo(jt),Vt((Ut=Jt)!==null&&Ut!==void 0?Ut:{},jt)}}),_defineProperty(Ft,"handleClick",function(jt){var Bt=Ft.getMouseInfo(jt);if(Bt){var Vt=_objectSpread(_objectSpread({},Bt),{},{isTooltipActive:!0});Ft.setState(Vt),Ft.triggerSyncEvent(Vt);var Ut=Ft.props.onClick;isFunction$3(Ut)&&Ut(Vt,jt)}}),_defineProperty(Ft,"handleMouseDown",function(jt){var Bt=Ft.props.onMouseDown;if(isFunction$3(Bt)){var Vt=Ft.getMouseInfo(jt);Bt(Vt,jt)}}),_defineProperty(Ft,"handleMouseUp",function(jt){var Bt=Ft.props.onMouseUp;if(isFunction$3(Bt)){var Vt=Ft.getMouseInfo(jt);Bt(Vt,jt)}}),_defineProperty(Ft,"handleTouchMove",function(jt){jt.changedTouches!=null&&jt.changedTouches.length>0&&Ft.throttleTriggeredAfterMouseMove(jt.changedTouches[0])}),_defineProperty(Ft,"handleTouchStart",function(jt){jt.changedTouches!=null&&jt.changedTouches.length>0&&Ft.handleMouseDown(jt.changedTouches[0])}),_defineProperty(Ft,"handleTouchEnd",function(jt){jt.changedTouches!=null&&jt.changedTouches.length>0&&Ft.handleMouseUp(jt.changedTouches[0])}),_defineProperty(Ft,"handleDoubleClick",function(jt){var Bt=Ft.props.onDoubleClick;if(isFunction$3(Bt)){var Vt=Ft.getMouseInfo(jt);Bt(Vt,jt)}}),_defineProperty(Ft,"handleContextMenu",function(jt){var Bt=Ft.props.onContextMenu;if(isFunction$3(Bt)){var Vt=Ft.getMouseInfo(jt);Bt(Vt,jt)}}),_defineProperty(Ft,"triggerSyncEvent",function(jt){Ft.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,Ft.props.syncId,jt,Ft.eventEmitterSymbol)}),_defineProperty(Ft,"applySyncEvent",function(jt){var Bt=Ft.props,Vt=Bt.layout,Ut=Bt.syncMethod,Jt=Ft.state.updateId,Wt=jt.dataStartIndex,Qt=jt.dataEndIndex;if(jt.dataStartIndex!==void 0||jt.dataEndIndex!==void 0)Ft.setState(_objectSpread({dataStartIndex:Wt,dataEndIndex:Qt},kt({props:Ft.props,dataStartIndex:Wt,dataEndIndex:Qt,updateId:Jt},Ft.state)));else if(jt.activeTooltipIndex!==void 0){var tn=jt.chartX,pn=jt.chartY,nn=jt.activeTooltipIndex,hn=Ft.state,sn=hn.offset,un=hn.tooltipTicks;if(!sn)return;if(typeof Ut=="function")nn=Ut(un,jt);else if(Ut==="value"){nn=-1;for(var en=0;en<un.length;en++)if(un[en].value===jt.activeLabel){nn=en;break}}var fn=_objectSpread(_objectSpread({},sn),{},{x:sn.left,y:sn.top}),En=Math.min(tn,fn.x+fn.width),rn=Math.min(pn,fn.y+fn.height),qt=un[nn]&&un[nn].value,Yt=getTooltipContent(Ft.state,Ft.props.data,nn),an=un[nn]?{x:Vt==="horizontal"?un[nn].coordinate:En,y:Vt==="horizontal"?rn:un[nn].coordinate}:originCoordinate;Ft.setState(_objectSpread(_objectSpread({},jt),{},{activeLabel:qt,activeCoordinate:an,activePayload:Yt,activeTooltipIndex:nn}))}else Ft.setState(jt)}),_defineProperty(Ft,"renderCursor",function(jt){var Bt,Vt=Ft.state,Ut=Vt.isTooltipActive,Jt=Vt.activeCoordinate,Wt=Vt.activePayload,Qt=Vt.offset,tn=Vt.activeTooltipIndex,pn=Vt.tooltipAxisBandSize,nn=Ft.getTooltipEventType(),hn=(Bt=jt.props.active)!==null&&Bt!==void 0?Bt:Ut,sn=Ft.props.layout,un=jt.key||"_recharts-cursor";return React.createElement(Cursor,{key:un,activeCoordinate:Jt,activePayload:Wt,activeTooltipIndex:tn,chartName:ht,element:jt,isActive:hn,layout:sn,offset:Qt,tooltipAxisBandSize:pn,tooltipEventType:nn})}),_defineProperty(Ft,"renderPolarAxis",function(jt,Bt,Vt){var Ut=get$2(jt,"type.axisType"),Jt=get$2(Ft.state,"".concat(Ut,"Map")),Wt=jt.type.defaultProps,Qt=Wt!==void 0?_objectSpread(_objectSpread({},Wt),jt.props):jt.props,tn=Jt&&Jt[Qt["".concat(Ut,"Id")]];return reactExports.cloneElement(jt,_objectSpread(_objectSpread({},tn),{},{className:clsx(Ut,tn.className),key:jt.key||"".concat(Bt,"-").concat(Vt),ticks:getTicksOfAxis(tn,!0)}))}),_defineProperty(Ft,"renderPolarGrid",function(jt){var Bt=jt.props,Vt=Bt.radialLines,Ut=Bt.polarAngles,Jt=Bt.polarRadius,Wt=Ft.state,Qt=Wt.radiusAxisMap,tn=Wt.angleAxisMap,pn=getAnyElementOfObject(Qt),nn=getAnyElementOfObject(tn),hn=nn.cx,sn=nn.cy,un=nn.innerRadius,en=nn.outerRadius;return reactExports.cloneElement(jt,{polarAngles:Array.isArray(Ut)?Ut:getTicksOfAxis(nn,!0).map(function(fn){return fn.coordinate}),polarRadius:Array.isArray(Jt)?Jt:getTicksOfAxis(pn,!0).map(function(fn){return fn.coordinate}),cx:hn,cy:sn,innerRadius:un,outerRadius:en,key:jt.key||"polar-grid",radialLines:Vt})}),_defineProperty(Ft,"renderLegend",function(){var jt=Ft.state.formattedGraphicalItems,Bt=Ft.props,Vt=Bt.children,Ut=Bt.width,Jt=Bt.height,Wt=Ft.props.margin||{},Qt=Ut-(Wt.left||0)-(Wt.right||0),tn=getLegendProps({children:Vt,formattedGraphicalItems:jt,legendWidth:Qt,legendContent:Et});if(!tn)return null;var pn=tn.item,nn=_objectWithoutProperties(tn,_excluded);return reactExports.cloneElement(pn,_objectSpread(_objectSpread({},nn),{},{chartWidth:Ut,chartHeight:Jt,margin:Wt,onBBoxUpdate:Ft.handleLegendBBoxUpdate}))}),_defineProperty(Ft,"renderTooltip",function(){var jt,Bt=Ft.props,Vt=Bt.children,Ut=Bt.accessibilityLayer,Jt=findChildByType(Vt,Tooltip);if(!Jt)return null;var Wt=Ft.state,Qt=Wt.isTooltipActive,tn=Wt.activeCoordinate,pn=Wt.activePayload,nn=Wt.activeLabel,hn=Wt.offset,sn=(jt=Jt.props.active)!==null&&jt!==void 0?jt:Qt;return reactExports.cloneElement(Jt,{viewBox:_objectSpread(_objectSpread({},hn),{},{x:hn.left,y:hn.top}),active:sn,label:nn,payload:sn?pn:[],coordinate:tn,accessibilityLayer:Ut})}),_defineProperty(Ft,"renderBrush",function(jt){var Bt=Ft.props,Vt=Bt.margin,Ut=Bt.data,Jt=Ft.state,Wt=Jt.offset,Qt=Jt.dataStartIndex,tn=Jt.dataEndIndex,pn=Jt.updateId;return reactExports.cloneElement(jt,{key:jt.key||"_recharts-brush",onChange:combineEventHandlers(Ft.handleBrushChange,jt.props.onChange),data:Ut,x:isNumber(jt.props.x)?jt.props.x:Wt.left,y:isNumber(jt.props.y)?jt.props.y:Wt.top+Wt.height+Wt.brushBottom-(Vt.bottom||0),width:isNumber(jt.props.width)?jt.props.width:Wt.width,startIndex:Qt,endIndex:tn,updateId:"brush-".concat(pn)})}),_defineProperty(Ft,"renderReferenceElement",function(jt,Bt,Vt){if(!jt)return null;var Ut=Ft,Jt=Ut.clipPathId,Wt=Ft.state,Qt=Wt.xAxisMap,tn=Wt.yAxisMap,pn=Wt.offset,nn=jt.type.defaultProps||{},hn=jt.props,sn=hn.xAxisId,un=sn===void 0?nn.xAxisId:sn,en=hn.yAxisId,fn=en===void 0?nn.yAxisId:en;return reactExports.cloneElement(jt,{key:jt.key||"".concat(Bt,"-").concat(Vt),xAxis:Qt[un],yAxis:tn[fn],viewBox:{x:pn.left,y:pn.top,width:pn.width,height:pn.height},clipPathId:Jt})}),_defineProperty(Ft,"renderActivePoints",function(jt){var Bt=jt.item,Vt=jt.activePoint,Ut=jt.basePoint,Jt=jt.childIndex,Wt=jt.isRange,Qt=[],tn=Bt.props.key,pn=Bt.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Bt.item.type.defaultProps),Bt.item.props):Bt.item.props,nn=pn.activeDot,hn=pn.dataKey,sn=_objectSpread(_objectSpread({index:Jt,dataKey:hn,cx:Vt.x,cy:Vt.y,r:4,fill:getMainColorOfGraphicItem(Bt.item),strokeWidth:2,stroke:"#fff",payload:Vt.payload,value:Vt.value},filterProps(nn,!1)),adaptEventHandlers(nn));return Qt.push(Ot.renderActiveDot(nn,sn,"".concat(tn,"-activePoint-").concat(Jt))),Ut?Qt.push(Ot.renderActiveDot(nn,_objectSpread(_objectSpread({},sn),{},{cx:Ut.x,cy:Ut.y}),"".concat(tn,"-basePoint-").concat(Jt))):Wt&&Qt.push(null),Qt}),_defineProperty(Ft,"renderGraphicChild",function(jt,Bt,Vt){var Ut=Ft.filterFormatItem(jt,Bt,Vt);if(!Ut)return null;var Jt=Ft.getTooltipEventType(),Wt=Ft.state,Qt=Wt.isTooltipActive,tn=Wt.tooltipAxis,pn=Wt.activeTooltipIndex,nn=Wt.activeLabel,hn=Ft.props.children,sn=findChildByType(hn,Tooltip),un=Ut.props,en=un.points,fn=un.isRange,En=un.baseLine,rn=Ut.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Ut.item.type.defaultProps),Ut.item.props):Ut.item.props,qt=rn.activeDot,Yt=rn.hide,an=rn.activeBar,yn=rn.activeShape,mn=!!(!Yt&&Qt&&sn&&(qt||an||yn)),vn={};Jt!=="axis"&&sn&&sn.props.trigger==="click"?vn={onClick:combineEventHandlers(Ft.handleItemMouseEnter,jt.props.onClick)}:Jt!=="axis"&&(vn={onMouseLeave:combineEventHandlers(Ft.handleItemMouseLeave,jt.props.onMouseLeave),onMouseEnter:combineEventHandlers(Ft.handleItemMouseEnter,jt.props.onMouseEnter)});var _n=reactExports.cloneElement(jt,_objectSpread(_objectSpread({},Ut.props),vn));function kn(Gn){return typeof tn.dataKey=="function"?tn.dataKey(Gn.payload):null}if(mn)if(pn>=0){var Nn,xn;if(tn.dataKey&&!tn.allowDuplicatedCategory){var qn=typeof tn.dataKey=="function"?kn:"payload.".concat(tn.dataKey.toString());Nn=findEntryInArray(en,qn,nn),xn=fn&&En&&findEntryInArray(En,qn,nn)}else Nn=en==null?void 0:en[pn],xn=fn&&En&&En[pn];if(yn||an){var zn=jt.props.activeIndex!==void 0?jt.props.activeIndex:pn;return[reactExports.cloneElement(jt,_objectSpread(_objectSpread(_objectSpread({},Ut.props),vn),{},{activeIndex:zn})),null,null]}if(!isNil$1(Nn))return[_n].concat(_toConsumableArray(Ft.renderActivePoints({item:Ut,activePoint:Nn,basePoint:xn,childIndex:pn,isRange:fn})))}else{var Xn,On=(Xn=Ft.getItemByXY(Ft.state.activeCoordinate))!==null&&Xn!==void 0?Xn:{graphicalItem:_n},Ln=On.graphicalItem,dn=Ln.item,wn=dn===void 0?jt:dn,Mn=Ln.childIndex,Bn=_objectSpread(_objectSpread(_objectSpread({},Ut.props),vn),{},{activeIndex:Mn});return[reactExports.cloneElement(wn,Bn),null,null]}return fn?[_n,null,null]:[_n,null]}),_defineProperty(Ft,"renderCustomized",function(jt,Bt,Vt){return reactExports.cloneElement(jt,_objectSpread(_objectSpread({key:"recharts-customized-".concat(Vt)},Ft.props),Ft.state))}),_defineProperty(Ft,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:Ft.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:Ft.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:Ft.renderBrush,once:!0},Bar:{handler:Ft.renderGraphicChild},Line:{handler:Ft.renderGraphicChild},Area:{handler:Ft.renderGraphicChild},Radar:{handler:Ft.renderGraphicChild},RadialBar:{handler:Ft.renderGraphicChild},Scatter:{handler:Ft.renderGraphicChild},Pie:{handler:Ft.renderGraphicChild},Funnel:{handler:Ft.renderGraphicChild},Tooltip:{handler:Ft.renderCursor,once:!0},PolarGrid:{handler:Ft.renderPolarGrid,once:!0},PolarAngleAxis:{handler:Ft.renderPolarAxis},PolarRadiusAxis:{handler:Ft.renderPolarAxis},Customized:{handler:Ft.renderCustomized}}),Ft.clipPathId="".concat((Nt=Lt.id)!==null&&Nt!==void 0?Nt:uniqueId("recharts"),"-clip"),Ft.throttleTriggeredAfterMouseMove=throttle$1(Ft.triggeredAfterMouseMove,(Ht=Lt.throttleDelay)!==null&&Ht!==void 0?Ht:1e3/60),Ft.state={},Ft}return _inherits(Ot,Dt),_createClass(Ot,[{key:"componentDidMount",value:function(){var Nt,Ht;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(Nt=this.props.margin.left)!==null&&Nt!==void 0?Nt:0,top:(Ht=this.props.margin.top)!==null&&Ht!==void 0?Ht:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var Nt=this.props,Ht=Nt.children,Ft=Nt.data,jt=Nt.height,Bt=Nt.layout,Vt=findChildByType(Ht,Tooltip);if(Vt){var Ut=Vt.props.defaultIndex;if(!(typeof Ut!="number"||Ut<0||Ut>this.state.tooltipTicks.length-1)){var Jt=this.state.tooltipTicks[Ut]&&this.state.tooltipTicks[Ut].value,Wt=getTooltipContent(this.state,Ft,Ut,Jt),Qt=this.state.tooltipTicks[Ut].coordinate,tn=(this.state.offset.top+jt)/2,pn=Bt==="horizontal",nn=pn?{x:Qt,y:tn}:{y:Qt,x:tn},hn=this.state.formattedGraphicalItems.find(function(un){var en=un.item;return en.type.name==="Scatter"});hn&&(nn=_objectSpread(_objectSpread({},nn),hn.props.points[Ut].tooltipPosition),Wt=hn.props.points[Ut].tooltipPayload);var sn={activeTooltipIndex:Ut,isTooltipActive:!0,activeLabel:Jt,activePayload:Wt,activeCoordinate:nn};this.setState(sn),this.renderCursor(Vt),this.accessibilityManager.setIndex(Ut)}}}},{key:"getSnapshotBeforeUpdate",value:function(Nt,Ht){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==Ht.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==Nt.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==Nt.margin){var Ft,jt;this.accessibilityManager.setDetails({offset:{left:(Ft=this.props.margin.left)!==null&&Ft!==void 0?Ft:0,top:(jt=this.props.margin.top)!==null&&jt!==void 0?jt:0}})}return null}},{key:"componentDidUpdate",value:function(Nt){isChildrenEqual([findChildByType(Nt.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var Nt=findChildByType(this.props.children,Tooltip);if(Nt&&typeof Nt.props.shared=="boolean"){var Ht=Nt.props.shared?"axis":"item";return At.indexOf(Ht)>=0?Ht:_t}return _t}},{key:"getMouseInfo",value:function(Nt){if(!this.container)return null;var Ht=this.container,Ft=Ht.getBoundingClientRect(),jt=getOffset(Ft),Bt={chartX:Math.round(Nt.pageX-jt.left),chartY:Math.round(Nt.pageY-jt.top)},Vt=Ft.width/Ht.offsetWidth||1,Ut=this.inRange(Bt.chartX,Bt.chartY,Vt);if(!Ut)return null;var Jt=this.state,Wt=Jt.xAxisMap,Qt=Jt.yAxisMap,tn=this.getTooltipEventType();if(tn!=="axis"&&Wt&&Qt){var pn=getAnyElementOfObject(Wt).scale,nn=getAnyElementOfObject(Qt).scale,hn=pn&&pn.invert?pn.invert(Bt.chartX):null,sn=nn&&nn.invert?nn.invert(Bt.chartY):null;return _objectSpread(_objectSpread({},Bt),{},{xValue:hn,yValue:sn})}var un=getTooltipData(this.state,this.props.data,this.props.layout,Ut);return un?_objectSpread(_objectSpread({},Bt),un):null}},{key:"inRange",value:function(Nt,Ht){var Ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,jt=this.props.layout,Bt=Nt/Ft,Vt=Ht/Ft;if(jt==="horizontal"||jt==="vertical"){var Ut=this.state.offset,Jt=Bt>=Ut.left&&Bt<=Ut.left+Ut.width&&Vt>=Ut.top&&Vt<=Ut.top+Ut.height;return Jt?{x:Bt,y:Vt}:null}var Wt=this.state,Qt=Wt.angleAxisMap,tn=Wt.radiusAxisMap;if(Qt&&tn){var pn=getAnyElementOfObject(Qt);return inRangeOfSector({x:Bt,y:Vt},pn)}return null}},{key:"parseEventsOfWrapper",value:function(){var Nt=this.props.children,Ht=this.getTooltipEventType(),Ft=findChildByType(Nt,Tooltip),jt={};Ft&&Ht==="axis"&&(Ft.props.trigger==="click"?jt={onClick:this.handleClick}:jt={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var Bt=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},Bt),jt)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(Nt,Ht,Ft){for(var jt=this.state.formattedGraphicalItems,Bt=0,Vt=jt.length;Bt<Vt;Bt++){var Ut=jt[Bt];if(Ut.item===Nt||Ut.props.key===Nt.key||Ht===getDisplayName(Ut.item.type)&&Ft===Ut.childIndex)return Ut}return null}},{key:"renderClipPath",value:function(){var Nt=this.clipPathId,Ht=this.state.offset,Ft=Ht.left,jt=Ht.top,Bt=Ht.height,Vt=Ht.width;return React.createElement("defs",null,React.createElement("clipPath",{id:Nt},React.createElement("rect",{x:Ft,y:jt,height:Bt,width:Vt})))}},{key:"getXScales",value:function(){var Nt=this.state.xAxisMap;return Nt?Object.entries(Nt).reduce(function(Ht,Ft){var jt=_slicedToArray(Ft,2),Bt=jt[0],Vt=jt[1];return _objectSpread(_objectSpread({},Ht),{},_defineProperty({},Bt,Vt.scale))},{}):null}},{key:"getYScales",value:function(){var Nt=this.state.yAxisMap;return Nt?Object.entries(Nt).reduce(function(Ht,Ft){var jt=_slicedToArray(Ft,2),Bt=jt[0],Vt=jt[1];return _objectSpread(_objectSpread({},Ht),{},_defineProperty({},Bt,Vt.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(Nt){var Ht;return(Ht=this.state.xAxisMap)===null||Ht===void 0||(Ht=Ht[Nt])===null||Ht===void 0?void 0:Ht.scale}},{key:"getYScaleByAxisId",value:function(Nt){var Ht;return(Ht=this.state.yAxisMap)===null||Ht===void 0||(Ht=Ht[Nt])===null||Ht===void 0?void 0:Ht.scale}},{key:"getItemByXY",value:function(Nt){var Ht=this.state,Ft=Ht.formattedGraphicalItems,jt=Ht.activeItem;if(Ft&&Ft.length)for(var Bt=0,Vt=Ft.length;Bt<Vt;Bt++){var Ut=Ft[Bt],Jt=Ut.props,Wt=Ut.item,Qt=Wt.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Wt.type.defaultProps),Wt.props):Wt.props,tn=getDisplayName(Wt.type);if(tn==="Bar"){var pn=(Jt.data||[]).find(function(un){return isInRectangle(Nt,un)});if(pn)return{graphicalItem:Ut,payload:pn}}else if(tn==="RadialBar"){var nn=(Jt.data||[]).find(function(un){return inRangeOfSector(Nt,un)});if(nn)return{graphicalItem:Ut,payload:nn}}else if(isFunnel(Ut,jt)||isPie(Ut,jt)||isScatter(Ut,jt)){var hn=getActiveShapeIndexForTooltip({graphicalItem:Ut,activeTooltipItem:jt,itemData:Qt.data}),sn=Qt.activeIndex===void 0?hn:Qt.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Ut),{},{childIndex:sn}),payload:isScatter(Ut,jt)?Qt.data[hn]:Ut.props.data[hn]}}}return null}},{key:"render",value:function(){var Nt=this;if(!validateWidthHeight(this))return null;var Ht=this.props,Ft=Ht.children,jt=Ht.className,Bt=Ht.width,Vt=Ht.height,Ut=Ht.style,Jt=Ht.compact,Wt=Ht.title,Qt=Ht.desc,tn=_objectWithoutProperties(Ht,_excluded2),pn=filterProps(tn,!1);if(Jt)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},pn,{width:Bt,height:Vt,title:Wt,desc:Qt}),this.renderClipPath(),renderByOrder(Ft,this.renderMap)));if(this.props.accessibilityLayer){var nn,hn;pn.tabIndex=(nn=this.props.tabIndex)!==null&&nn!==void 0?nn:0,pn.role=(hn=this.props.role)!==null&&hn!==void 0?hn:"application",pn.onKeyDown=function(un){Nt.accessibilityManager.keyboardEvent(un)},pn.onFocus=function(){Nt.accessibilityManager.focus()}}var sn=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",jt),style:_objectSpread({position:"relative",cursor:"default",width:Bt,height:Vt},Ut)},sn,{ref:function(en){Nt.container=en}}),React.createElement(Surface,_extends({},pn,{width:Bt,height:Vt,title:Wt,desc:Qt,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(Ft,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(Rt,"displayName",ht),_defineProperty(Rt,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},Pt)),_defineProperty(Rt,"getDerivedStateFromProps",function(Dt,Ot){var Lt=Dt.dataKey,Nt=Dt.data,Ht=Dt.children,Ft=Dt.width,jt=Dt.height,Bt=Dt.layout,Vt=Dt.stackOffset,Ut=Dt.margin,Jt=Ot.dataStartIndex,Wt=Ot.dataEndIndex;if(Ot.updateId===void 0){var Qt=createDefaultState(Dt);return _objectSpread(_objectSpread(_objectSpread({},Qt),{},{updateId:0},kt(_objectSpread(_objectSpread({props:Dt},Qt),{},{updateId:0}),Ot)),{},{prevDataKey:Lt,prevData:Nt,prevWidth:Ft,prevHeight:jt,prevLayout:Bt,prevStackOffset:Vt,prevMargin:Ut,prevChildren:Ht})}if(Lt!==Ot.prevDataKey||Nt!==Ot.prevData||Ft!==Ot.prevWidth||jt!==Ot.prevHeight||Bt!==Ot.prevLayout||Vt!==Ot.prevStackOffset||!shallowEqual(Ut,Ot.prevMargin)){var tn=createDefaultState(Dt),pn={chartX:Ot.chartX,chartY:Ot.chartY,isTooltipActive:Ot.isTooltipActive},nn=_objectSpread(_objectSpread({},getTooltipData(Ot,Nt,Bt)),{},{updateId:Ot.updateId+1}),hn=_objectSpread(_objectSpread(_objectSpread({},tn),pn),nn);return _objectSpread(_objectSpread(_objectSpread({},hn),kt(_objectSpread({props:Dt},hn),Ot)),{},{prevDataKey:Lt,prevData:Nt,prevWidth:Ft,prevHeight:jt,prevLayout:Bt,prevStackOffset:Vt,prevMargin:Ut,prevChildren:Ht})}if(!isChildrenEqual(Ht,Ot.prevChildren)){var sn,un,en,fn,En=findChildByType(Ht,Brush),rn=En&&(sn=(un=En.props)===null||un===void 0?void 0:un.startIndex)!==null&&sn!==void 0?sn:Jt,qt=En&&(en=(fn=En.props)===null||fn===void 0?void 0:fn.endIndex)!==null&&en!==void 0?en:Wt,Yt=rn!==Jt||qt!==Wt,an=!isNil$1(Nt),yn=an&&!Yt?Ot.updateId:Ot.updateId+1;return _objectSpread(_objectSpread({updateId:yn},kt(_objectSpread(_objectSpread({props:Dt},Ot),{},{updateId:yn,dataStartIndex:rn,dataEndIndex:qt}),Ot)),{},{prevChildren:Ht,dataStartIndex:rn,dataEndIndex:qt})}return null}),_defineProperty(Rt,"renderActiveDot",function(Dt,Ot,Lt){var Nt;return reactExports.isValidElement(Dt)?Nt=reactExports.cloneElement(Dt,Ot):isFunction$3(Dt)?Nt=Dt(Ot):Nt=React.createElement(Dot,Ot),React.createElement(Layer,{className:"recharts-active-dot",key:Lt},Nt)});var Mt=reactExports.forwardRef(function(Ot,Lt){return React.createElement(Rt,_extends({},Ot,{ref:Lt}))});return Mt.displayName=Rt.displayName,Mt},PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});export{Route as $,AnimatePresence as A,Star as B,CircleCheckBig as C,Search as D,Calendar as E,ForwardRef as F,MapPin as G,HeartPulse as H,ExternalLink as I,Check as J,FaFileUpload as K,Loader as L,Moon as M,Pie as N,Cell as O,PieChart as P,Tooltip as Q,ResponsiveContainer as R,Swal as S,Tt as T,User as U,Legend as V,BrowserRouter as W,X,Routes as Y,Zt as Z,__webpack_exports__GlobalWorkerOptions as _,axios as a,client as a0,React as a1,Send as b,ct as c,Stethoscope as d,LoaderCircle as e,ft as f,FileText as g,TriangleAlert as h,LineChart as i,jsxRuntimeExports as j,CircleX as k,lookup as l,motion as m,FaEdit as n,useLocation as o,pdfjs as p,Apple as q,reactExports as r,Clock as s,Sunset as t,useNavigate as u,Coffee as v,Sun as w,MessageCircle as x,CirclePlus as y,CircleUserRound as z};
